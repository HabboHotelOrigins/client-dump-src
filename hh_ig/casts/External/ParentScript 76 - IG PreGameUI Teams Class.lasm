property pTeamIndex, pLoadingElements, pUpdateCounter

on addWindows me
  [  0] getparam 0 .............................. <me>
  [  2] pushcons 0 .............................. <"te">
  [  4] setobjprop 399 .......................... me.pWindowID = "te"
  [  7] getparam 0 .............................. <me>
  [  9] pushcons 1 .............................. <"PreGame">
  [ 11] pusharglist 2 ........................... <me, "PreGame">
  [ 13] objcall 52 .............................. <me.getIGComponent("PreGame")>
  [ 15] setlocal 0 .............................. tService = me.getIGComponent("PreGame")
  [ 17] getlocal 0 .............................. <tService>
  [ 19] pushzero ................................ <0>
  [ 20] eq ...................................... <tService = 0>
  [ 21] jmpifz [ 29] ............................ if tService = 0 then
  [ 24] pushzero ................................ <0>
  [ 25] pusharglistnoret 1 ...................... <0>
  [ 27] extcall 38 .............................. return 0
  [ 29] getlocal 0 .............................. <tService>
  [ 31] pusharglist 1 ........................... <tService>
  [ 33] objcall 349 ............................. <tService.getJoinedGame()>
  [ 36] setlocal 1 .............................. tGameRef = tService.getJoinedGame()
  [ 38] getlocal 1 .............................. <tGameRef>
  [ 40] pushzero ................................ <0>
  [ 41] eq ...................................... <tGameRef = 0>
  [ 42] jmpifz [ 50] ............................ if tGameRef = 0 then
  [ 45] pushzero ................................ <0>
  [ 46] pusharglistnoret 1 ...................... <0>
  [ 48] extcall 38 .............................. return 0
  [ 50] getlocal 1 .............................. <tGameRef>
  [ 52] pusharglist 1 ........................... <tGameRef>
  [ 54] objcall 779 ............................. <tGameRef.getTeamMaxSize()>
  [ 57] setlocal 2 .............................. tTeamMaxSize = tGameRef.getTeamMaxSize()
  [ 59] getlocal 1 .............................. <tGameRef>
  [ 61] pusharglist 1 ........................... <tGameRef>
  [ 63] objcall 590 ............................. <tGameRef.getTeamCount()>
  [ 66] setlocal 3 .............................. tTeamCount = tGameRef.getTeamCount()
  [ 68] getlocal 1 .............................. <tGameRef>
  [ 70] pusharglist 1 ........................... <tGameRef>
  [ 72] objcall 775 ............................. <tGameRef.getAllTeamData()>
  [ 75] setlocal 4 .............................. tTeams = tGameRef.getAllTeamData()
  [ 77] pusharglist 0 ........................... <[:]>
  [ 79] pushproplist ............................ <[:]>
  [ 80] setprop 1001 ............................ pLoadingElements = [:]
  [ 83] getparam 0 .............................. <me>
  [ 85] pusharglist 1 ........................... <me>
  [ 87] objcall 485 ............................. <me.getWindowWrapper()>
  [ 90] setlocal 5 .............................. tWrapObjRef = me.getWindowWrapper()
  [ 92] getlocal 5 .............................. <tWrapObjRef>
  [ 94] pushzero ................................ <0>
  [ 95] eq ...................................... <tWrapObjRef = 0>
  [ 96] jmpifz [104] ............................ if tWrapObjRef = 0 then
  [ 99] pushzero ................................ <0>
  [100] pusharglistnoret 1 ...................... <0>
  [102] extcall 38 .............................. return 0
  [104] pushint8 100 ............................ <100>
  [106] inv ..................................... <-100>
  [107] setlocal 6 .............................. tScrollStartOffset = -100
  [109] pushint8 1 .............................. <1>
  [111] setlocal 7
  [113] getlocal 7
  [115] getlocal 3 .............................. <tTeamCount>
  [117] pushint8 1 .............................. <1>
  [119] sub ..................................... <tTeamCount - 1>
  [120] lteq
  [121] jmpifz [199] ............................ repeat with tTeamPos = 1 to tTeamCount - 1
  [124] getlocal 5 .............................. <tWrapObjRef>
  [126] getparam 0 .............................. <me>
  [128] getlocal 7 .............................. <tTeamPos>
  [130] pusharglist 2 ........................... <me, tTeamPos>
  [132] objcall 541 ............................. <me.getWindowId(tTeamPos)>
  [135] pushcons 2 .............................. <"ig_pg_load_plrs_">
  [137] getlocal 2 .............................. <tTeamMaxSize>
  [139] joinstr ................................. <"ig_pg_load_plrs_" & tTeamMaxSize>
  [140] pushcons 3 .............................. <".window">
  [142] joinstr ................................. <"ig_pg_load_plrs_" & tTeamMaxSize & ".window">
  [143] getparam 0 .............................. <me>
  [145] getobjprop 501 .......................... <me.pWindowSetId>
  [148] pushsymb 1002 ........................... <#scrollFromLocX>
  [151] getlocal 6 .............................. <tScrollStartOffset>
  [153] pushsymb 1003 ........................... <#spaceBottom>
  [156] pushzero ................................ <0>
  [157] pusharglist 4 ........................... <[#scrollFromLocX: tScrollStartOffset, #spaceBottom: 0]>
  [159] pushproplist ............................ <[#scrollFromLocX: tScrollStartOffset, #spaceBottom: 0]>
  [160] pusharglistnoret 5 ...................... <tWrapObjRef, me.getWindowId(tTeamPos), "ig_pg_load_plrs_" & tTeamMaxSize & ".window", me.pWindowSetId, [#scrollFromLocX: tScrollStartOffset, #spaceBottom: 0]>
  [162] objcall 823 ............................. tWrapObjRef.addOneWindow(me.getWindowId(tTeamPos), "ig_pg_load_plrs_" & tTeamMaxSize & ".window", me.pWindowSetId, [#scrollFromLocX: tScrollStartOffset, #spaceBottom: 0])
  [165] getparam 0 .............................. <me>
  [167] getparam 0 .............................. <me>
  [169] getlocal 7 .............................. <tTeamPos>
  [171] pusharglist 2 ........................... <me, tTeamPos>
  [173] objcall 541 ............................. <me.getWindowId(tTeamPos)>
  [176] getlocal 7 .............................. <tTeamPos>
  [178] pusharglistnoret 3 ...................... <me, me.getWindowId(tTeamPos), tTeamPos>
  [180] objcall 964 ............................. me.setTeamColorBackground(me.getWindowId(tTeamPos), tTeamPos)
  [183] getlocal 6 .............................. <tScrollStartOffset>
  [185] pushint8 50 ............................. <50>
  [187] sub ..................................... <tScrollStartOffset - 50>
  [188] setlocal 6 .............................. tScrollStartOffset = tScrollStartOffset - 50
  [190] pushint8 1
  [192] getlocal 7
  [194] add
  [195] setlocal 7
  [197] endrepeat [113]
  [199] getlocal 5 .............................. <tWrapObjRef>
  [201] getparam 0 .............................. <me>
  [203] getlocal 7 .............................. <tTeamPos>
  [205] pusharglist 2 ........................... <me, tTeamPos>
  [207] objcall 541 ............................. <me.getWindowId(tTeamPos)>
  [210] pushcons 2 .............................. <"ig_pg_load_plrs_">
  [212] getlocal 2 .............................. <tTeamMaxSize>
  [214] joinstr ................................. <"ig_pg_load_plrs_" & tTeamMaxSize>
  [215] pushcons 4 .............................. <"_btm.window">
  [217] joinstr ................................. <"ig_pg_load_plrs_" & tTeamMaxSize & "_btm.window">
  [218] getparam 0 .............................. <me>
  [220] getobjprop 501 .......................... <me.pWindowSetId>
  [223] pushsymb 1002 ........................... <#scrollFromLocX>
  [226] getlocal 6 .............................. <tScrollStartOffset>
  [228] pushsymb 1003 ........................... <#spaceBottom>
  [231] pushint8 2 .............................. <2>
  [233] pusharglist 4 ........................... <[#scrollFromLocX: tScrollStartOffset, #spaceBottom: 2]>
  [235] pushproplist ............................ <[#scrollFromLocX: tScrollStartOffset, #spaceBottom: 2]>
  [236] pusharglistnoret 5 ...................... <tWrapObjRef, me.getWindowId(tTeamPos), "ig_pg_load_plrs_" & tTeamMaxSize & "_btm.window", me.pWindowSetId, [#scrollFromLocX: tScrollStartOffset, #spaceBottom: 2]>
  [238] objcall 823 ............................. tWrapObjRef.addOneWindow(me.getWindowId(tTeamPos), "ig_pg_load_plrs_" & tTeamMaxSize & "_btm.window", me.pWindowSetId, [#scrollFromLocX: tScrollStartOffset, #spaceBottom: 2])
  [241] getparam 0 .............................. <me>
  [243] getparam 0 .............................. <me>
  [245] getlocal 7 .............................. <tTeamPos>
  [247] pusharglist 2 ........................... <me, tTeamPos>
  [249] objcall 541 ............................. <me.getWindowId(tTeamPos)>
  [252] getlocal 7 .............................. <tTeamPos>
  [254] pusharglistnoret 3 ...................... <me, me.getWindowId(tTeamPos), tTeamPos>
  [256] objcall 964 ............................. me.setTeamColorBackground(me.getWindowId(tTeamPos), tTeamPos)
  [259] pusharglist 0 ........................... <[:]>
  [261] pushproplist ............................ <[:]>
  [262] setprop 1004 ............................ pTeamIndex = [:]
  [265] getlocal 4 .............................. <tTeams>
  [267] peek 0
  [269] pusharglist 1
  [271] extcall 180
  [273] pushint8 1
  [275] peek 0
  [277] peek 2
  [279] lteq
  [280] jmpifz [353] ............................ repeat with tTeamInfo in tTeams
  [283] peek 2
  [285] peek 1
  [287] pusharglist 2
  [289] extcall 181
  [291] setlocal 8
  [293] getlocal 8 .............................. <tTeamInfo>
  [295] pushsymb 226 ............................ <#players>
  [297] pusharglist 2 ........................... <tTeamInfo, #players>
  [299] objcall 256 ............................. <tTeamInfo.getaProp(#players)>
  [302] setlocal 9 .............................. tPlayers = tTeamInfo.getaProp(#players)
  [304] getlocal 9 .............................. <tPlayers>
  [306] peek 0
  [308] pusharglist 1
  [310] extcall 180
  [312] pushint8 1
  [314] peek 0
  [316] peek 2
  [318] lteq
  [319] jmpifz [346] ............................ repeat with tPlayerInfo in tPlayers
  [322] peek 2
  [324] peek 1
  [326] pusharglist 2
  [328] extcall 181
  [330] setlocal 10
  [332] getparam 0 .............................. <me>
  [334] getlocal 10 ............................. <tPlayerInfo>
  [336] pusharglistnoret 2 ...................... <me, tPlayerInfo>
  [338] objcall 982 ............................. me.displayPlayer(tPlayerInfo)
  [341] pushint8 1
  [343] add
  [344] endrepeat [314]
  [346] pop 3
  [348] pushint8 1
  [350] add
  [351] endrepeat [275]
  [353] pop 3
  [355] pushint8 1 .............................. <1>
  [357] setlocal 11
  [359] getlocal 11
  [361] getlocal 3 .............................. <tTeamCount>
  [363] lteq
  [364] jmpifz [453] ............................ repeat with tTeamId = 1 to tTeamCount
  [367] getprop 1004 ............................ <pTeamIndex>
  [370] getlocal 11 ............................. <tTeamId>
  [372] pusharglist 2 ........................... <pTeamIndex, tTeamId>
  [374] objcall 256 ............................. <pTeamIndex.getaProp(tTeamId)>
  [377] pushzero ................................ <0>
  [378] eq ...................................... <pTeamIndex.getaProp(tTeamId) = 0>
  [379] jmpifz [394] ............................ if pTeamIndex.getaProp(tTeamId) = 0 then
  [382] getprop 1004 ............................ <pTeamIndex>
  [385] getlocal 11 ............................. <tTeamId>
  [387] pusharglist 0 ........................... <[]>
  [389] pushlist ................................ <[]>
  [390] pusharglistnoret 3 ...................... <pTeamIndex, tTeamId, []>
  [392] objcall 220 ............................. pTeamIndex.setaProp(tTeamId, [])
  [394] getprop 1004 ............................ <pTeamIndex>
  [397] getlocal 11 ............................. <tTeamId>
  [399] pusharglist 2 ........................... <pTeamIndex, tTeamId>
  [401] objcall 256 ............................. <pTeamIndex.getaProp(tTeamId)>
  [404] getobjprop 180 .......................... <pTeamIndex.getaProp(tTeamId).count>
  [406] setlocal 12 ............................. tPlayerCount = pTeamIndex.getaProp(tTeamId).count
  [408] getlocal 12 ............................. <tPlayerCount>
  [410] pushint8 1 .............................. <1>
  [412] add ..................................... <tPlayerCount + 1>
  [413] setlocal 13
  [415] getlocal 13
  [417] getlocal 2 .............................. <tTeamMaxSize>
  [419] lteq
  [420] jmpifz [444] ............................ repeat with i = tPlayerCount + 1 to tTeamMaxSize
  [423] getparam 0 .............................. <me>
  [425] pushzero ................................ <0>
  [426] getlocal 11 ............................. <tTeamId>
  [428] getlocal 13 ............................. <i>
  [430] pusharglistnoret 4 ...................... <me, 0, tTeamId, i>
  [432] objcall 982 ............................. me.displayPlayer(0, tTeamId, i)
  [435] pushint8 1
  [437] getlocal 13
  [439] add
  [440] setlocal 13
  [442] endrepeat [415]
  [444] pushint8 1
  [446] getlocal 11
  [448] add
  [449] setlocal 11
  [451] endrepeat [359]
  [453] getlocal 5 .............................. <tWrapObjRef>
  [455] pushint8 10 ............................. <10>
  [457] pushint8 10 ............................. <10>
  [459] pusharglistnoret 3 ...................... <tWrapObjRef, 10, 10>
  [461] objcall 86 .............................. tWrapObjRef.moveTo(10, 10)
  [463] pushint8 1 .............................. <1>
  [465] pusharglistnoret 1 ...................... <1>
  [467] extcall 38 .............................. return 1
  [469] ret
end

on update me
  [  0] getprop 679 ............................. <pUpdateCounter>
  [  3] pushint8 1 .............................. <1>
  [  5] add ..................................... <pUpdateCounter + 1>
  [  6] setprop 679 ............................. pUpdateCounter = pUpdateCounter + 1
  [  9] getprop 679 ............................. <pUpdateCounter>
  [ 12] pushint8 5 .............................. <5>
  [ 14] mod ..................................... <pUpdateCounter mod 5>
  [ 15] pushzero ................................ <0>
  [ 16] gt ...................................... <(pUpdateCounter mod 5) > 0>
  [ 17] jmpifz [ 26] ............................ if (pUpdateCounter mod 5) > 0 then
  [ 20] pushint8 1 .............................. <1>
  [ 22] pusharglistnoret 1 ...................... <1>
  [ 24] extcall 38 .............................. return 1
  [ 26] getprop 679 ............................. <pUpdateCounter>
  [ 29] pushint8 30 ............................. <30>
  [ 31] gteq .................................... <pUpdateCounter >= 30>
  [ 32] jmpifz [ 39] ............................ if pUpdateCounter >= 30 then
  [ 35] pushzero ................................ <0>
  [ 36] setprop 679 ............................. pUpdateCounter = 0
  [ 39] getprop 679 ............................. <pUpdateCounter>
  [ 42] pushint8 5 .............................. <5>
  [ 44] div ..................................... <pUpdateCounter / 5>
  [ 45] setlocal 0 .............................. tPhase = pUpdateCounter / 5
  [ 47] getprop 1001 ............................ <pLoadingElements>
  [ 50] peek 0
  [ 52] pusharglist 1
  [ 54] extcall 180
  [ 56] pushint8 1
  [ 58] peek 0
  [ 60] peek 2
  [ 62] lteq
  [ 63] jmpifz [199] ............................ repeat with tElemInfo in pLoadingElements
  [ 66] peek 2
  [ 68] peek 1
  [ 70] pusharglist 2
  [ 72] extcall 181
  [ 74] setlocal 1
  [ 76] getparam 0 .............................. <me>
  [ 78] getlocal 1 .............................. <tElemInfo>
  [ 80] pushint8 1 .............................. <1>
  [ 82] pusharglist 2 ........................... <tElemInfo, 1>
  [ 84] objcall 181 ............................. <tElemInfo[1]>
  [ 86] pusharglist 2 ........................... <me, tElemInfo[1]>
  [ 88] objcall 541 ............................. <me.getWindowId(tElemInfo[1])>
  [ 91] pusharglist 1 ........................... <me.getWindowId(tElemInfo[1])>
  [ 93] extcall 400 ............................. <getWindow(me.getWindowId(tElemInfo[1]))>
  [ 96] setlocal 2 .............................. tWndObj = getWindow(me.getWindowId(tElemInfo[1]))
  [ 98] getlocal 2 .............................. <tWndObj>
  [100] pushzero ................................ <0>
  [101] eq ...................................... <tWndObj = 0>
  [102] jmpifz [110] ............................ if tWndObj = 0 then
  [105] pushzero ................................ <0>
  [106] pusharglistnoret 1 ...................... <0>
  [108] extcall 38 .............................. return 0
  [110] getlocal 2 .............................. <tWndObj>
  [112] pushcons 5 .............................. <"ig_icon_player_">
  [114] getlocal 1 .............................. <tElemInfo>
  [116] pushint8 2 .............................. <2>
  [118] pusharglist 2 ........................... <tElemInfo, 2>
  [120] objcall 181 ............................. <tElemInfo[2]>
  [122] joinstr ................................. <"ig_icon_player_" & tElemInfo[2]>
  [123] pusharglist 2 ........................... <tWndObj, "ig_icon_player_" & tElemInfo[2]>
  [125] objcall 401 ............................. <tWndObj.getElement("ig_icon_player_" & tElemInfo[2])>
  [128] setlocal 3 .............................. tElem = tWndObj.getElement("ig_icon_player_" & tElemInfo[2])
  [130] getlocal 3 .............................. <tElem>
  [132] pushzero ................................ <0>
  [133] eq ...................................... <tElem = 0>
  [134] jmpifz [142] ............................ if tElem = 0 then
  [137] pushzero ................................ <0>
  [138] pusharglistnoret 1 ...................... <0>
  [140] extcall 38 .............................. return 0
  [142] pushcons 6 .............................. <"ig_icon_loading_">
  [144] getlocal 0 .............................. <tPhase>
  [146] joinstr ................................. <"ig_icon_loading_" & tPhase>
  [147] pusharglist 1 ........................... <"ig_icon_loading_" & tPhase>
  [149] extcall 526 ............................. <getmemnum("ig_icon_loading_" & tPhase)>
  [152] setlocal 4 .............................. tMemNum = getmemnum("ig_icon_loading_" & tPhase)
  [154] getlocal 4 .............................. <tMemNum>
  [156] pushzero ................................ <0>
  [157] eq ...................................... <tMemNum = 0>
  [158] jmpifz [166] ............................ if tMemNum = 0 then
  [161] pushzero ................................ <0>
  [162] pusharglistnoret 1 ...................... <0>
  [164] extcall 38 .............................. return 0
  [166] getlocal 3 .............................. <tElem>
  [168] getparam 0 .............................. <me>
  [170] getlocal 4 .............................. <tMemNum>
  [172] pusharglist 1 ........................... <tMemNum>
  [174] extcall 525 ............................. <member(tMemNum)>
  [177] getobjprop 557 .......................... <member(tMemNum).image>
  [180] pushint8 19 ............................. <19>
  [182] pushint8 18 ............................. <18>
  [184] pusharglist 4 ........................... <me, member(tMemNum).image, 19, 18>
  [186] objcall 539 ............................. <me.alignIconImage(member(tMemNum).image, 19, 18)>
  [189] pusharglistnoret 2 ...................... <tElem, me.alignIconImage(member(tMemNum).image, 19, 18)>
  [191] objcall 589 ............................. tElem.feedImage(me.alignIconImage(member(tMemNum).image, 19, 18))
  [194] pushint8 1
  [196] add
  [197] endrepeat [ 58]
  [199] pop 3
  [201] pushint8 1 .............................. <1>
  [203] pusharglistnoret 1 ...................... <1>
  [205] extcall 38 .............................. return 1
  [207] ret
end

on displayPlayer me, tPlayerInfo, tTeamId, tPlayerPos
  [  0] getparam 1 .............................. <tPlayerInfo>
  [  2] pusharglist 0 ........................... <>
  [  4] extcall 47 .............................. <VOID>
  [  6] nteq .................................... <tPlayerInfo <> VOID>
  [  7] jmpifz [187] ............................ if tPlayerInfo <> VOID then / else
  [ 10] getparam 1 .............................. <tPlayerInfo>
  [ 12] pushsymb 254 ............................ <#team_id>
  [ 14] pusharglist 2 ........................... <tPlayerInfo, #team_id>
  [ 16] objcall 256 ............................. <tPlayerInfo.getaProp(#team_id)>
  [ 19] setparam 2 .............................. tTeamId = tPlayerInfo.getaProp(#team_id)
  [ 21] getparam 1 .............................. <tPlayerInfo>
  [ 23] pushsymb 214 ............................ <#id>
  [ 25] pusharglist 2 ........................... <tPlayerInfo, #id>
  [ 27] objcall 256 ............................. <tPlayerInfo.getaProp(#id)>
  [ 30] setlocal 0 .............................. tPlayerId = tPlayerInfo.getaProp(#id)
  [ 32] getprop 1004 ............................ <pTeamIndex>
  [ 35] getparam 2 .............................. <tTeamId>
  [ 37] pusharglist 2 ........................... <pTeamIndex, tTeamId>
  [ 39] objcall 255 ............................. <pTeamIndex.findPos(tTeamId)>
  [ 41] pushzero ................................ <0>
  [ 42] eq ...................................... <pTeamIndex.findPos(tTeamId) = 0>
  [ 43] jmpifz [ 65] ............................ if pTeamIndex.findPos(tTeamId) = 0 then / else
  [ 46] pusharglist 0 ........................... <[]>
  [ 48] pushlist ................................ <[]>
  [ 49] setlocal 1 .............................. tTeam = []
  [ 51] getprop 1004 ............................ <pTeamIndex>
  [ 54] getparam 2 .............................. <tTeamId>
  [ 56] getlocal 1 .............................. <tTeam>
  [ 58] pusharglistnoret 3 ...................... <pTeamIndex, tTeamId, tTeam>
  [ 60] objcall 220 ............................. pTeamIndex.setaProp(tTeamId, tTeam)
  [ 62] jmp [ 77]
  [ 65] getprop 1004 ............................ <pTeamIndex>
  [ 68] getparam 2 .............................. <tTeamId>
  [ 70] pusharglist 2 ........................... <pTeamIndex, tTeamId>
  [ 72] objcall 256 ............................. <pTeamIndex.getaProp(tTeamId)>
  [ 75] setlocal 1 .............................. tTeam = pTeamIndex.getaProp(tTeamId)
  [ 77] getlocal 1 .............................. <tTeam>
  [ 79] getlocal 0 .............................. <tPlayerId>
  [ 81] pusharglist 2 ........................... <tTeam, tPlayerId>
  [ 83] objcall 255 ............................. <tTeam.findPos(tPlayerId)>
  [ 85] pushzero ................................ <0>
  [ 86] eq ...................................... <tTeam.findPos(tPlayerId) = 0>
  [ 87] jmpifz [163] ............................ if tTeam.findPos(tPlayerId) = 0 then
  [ 90] pushint8 1 .............................. <1>
  [ 92] setparam 3
  [ 94] getparam 3
  [ 96] getlocal 1 .............................. <tTeam>
  [ 98] getobjprop 180 .......................... <tTeam.count>
  [100] lteq
  [101] jmpifz [142] ............................ repeat with tPlayerPos = 1 to tTeam.count
  [104] getlocal 1 .............................. <tTeam>
  [106] getparam 3 .............................. <tPlayerPos>
  [108] pusharglist 2 ........................... <tTeam, tPlayerPos>
  [110] objcall 181 ............................. <tTeam[tPlayerPos]>
  [112] pusharglist 1 ........................... <tTeam[tPlayerPos]>
  [114] extcall 103 ............................. <voidp(tTeam[tPlayerPos])>
  [116] jmpifz [133] ............................ if voidp(tTeam[tPlayerPos]) then
  [119] getlocal 1 .............................. <tTeam>
  [121] getparam 3 .............................. <tPlayerPos>
  [123] getlocal 0 .............................. <tPlayerId>
  [125] pusharglistnoret 3 ...................... <tTeam, tPlayerPos, tPlayerId>
  [127] objcall 1008 ............................ tTeam[tPlayerPos] = tPlayerId
  [130] jmp [142] ............................... exit repeat
  [133] pushint8 1
  [135] getparam 3
  [137] add
  [138] setparam 3
  [140] endrepeat [ 94]
  [142] getlocal 1 .............................. <tTeam>
  [144] getlocal 0 .............................. <tPlayerId>
  [146] pusharglist 2 ........................... <tTeam, tPlayerId>
  [148] objcall 255 ............................. <tTeam.findPos(tPlayerId)>
  [150] pushzero ................................ <0>
  [151] eq ...................................... <tTeam.findPos(tPlayerId) = 0>
  [152] jmpifz [163] ............................ if tTeam.findPos(tPlayerId) = 0 then
  [155] getlocal 1 .............................. <tTeam>
  [157] getlocal 0 .............................. <tPlayerId>
  [159] pusharglistnoret 2 ...................... <tTeam, tPlayerId>
  [161] objcall 224 ............................. tTeam.append(tPlayerId)
  [163] getlocal 1 .............................. <tTeam>
  [165] getlocal 0 .............................. <tPlayerId>
  [167] pusharglist 2 ........................... <tTeam, tPlayerId>
  [169] objcall 255 ............................. <tTeam.findPos(tPlayerId)>
  [171] setparam 3 .............................. tPlayerPos = tTeam.findPos(tPlayerId)
  [173] getparam 1 .............................. <tPlayerInfo>
  [175] pushsymb 221 ............................ <#name>
  [177] pusharglist 2 ........................... <tPlayerInfo, #name>
  [179] objcall 256 ............................. <tPlayerInfo.getaProp(#name)>
  [182] setlocal 2 .............................. tName = tPlayerInfo.getaProp(#name)
  [184] jmp [191]
  [187] pushcons 7 .............................. <"---">
  [189] setlocal 2 .............................. tName = "---"
  [191] getparam 0 .............................. <me>
  [193] getparam 2 .............................. <tTeamId>
  [195] pusharglist 2 ........................... <me, tTeamId>
  [197] objcall 541 ............................. <me.getWindowId(tTeamId)>
  [200] pusharglist 1 ........................... <me.getWindowId(tTeamId)>
  [202] extcall 400 ............................. <getWindow(me.getWindowId(tTeamId))>
  [205] setlocal 3 .............................. tWndObj = getWindow(me.getWindowId(tTeamId))
  [207] getlocal 3 .............................. <tWndObj>
  [209] pushzero ................................ <0>
  [210] eq ...................................... <tWndObj = 0>
  [211] jmpifz [219] ............................ if tWndObj = 0 then
  [214] pushzero ................................ <0>
  [215] pusharglistnoret 1 ...................... <0>
  [217] extcall 38 .............................. return 0
  [219] getlocal 3 .............................. <tWndObj>
  [221] pushcons 5 .............................. <"ig_icon_player_">
  [223] getparam 3 .............................. <tPlayerPos>
  [225] joinstr ................................. <"ig_icon_player_" & tPlayerPos>
  [226] pusharglist 2 ........................... <tWndObj, "ig_icon_player_" & tPlayerPos>
  [228] objcall 401 ............................. <tWndObj.getElement("ig_icon_player_" & tPlayerPos)>
  [231] setlocal 4 .............................. tElem = tWndObj.getElement("ig_icon_player_" & tPlayerPos)
  [233] getlocal 4 .............................. <tElem>
  [235] pushzero ................................ <0>
  [236] eq ...................................... <tElem = 0>
  [237] jmpifz [245] ............................ if tElem = 0 then
  [240] pushzero ................................ <0>
  [241] pusharglistnoret 1 ...................... <0>
  [243] extcall 38 .............................. return 0
  [245] getparam 1 .............................. <tPlayerInfo>
  [247] pushzero ................................ <0>
  [248] eq ...................................... <tPlayerInfo = 0>
  [249] jmpifz [261] ............................ if tPlayerInfo = 0 then / else
  [252] getlocal 4 .............................. <tElem>
  [254] pusharglistnoret 1 ...................... <tElem>
  [256] objcall 56 .............................. tElem.hide()
  [258] jmp [316]
  [261] getlocal 4 .............................. <tElem>
  [263] pusharglistnoret 1 ...................... <tElem>
  [265] objcall 46 .............................. tElem.show()
  [267] getprop 1001 ............................ <pLoadingElements>
  [270] getlocal 0 .............................. <tPlayerId>
  [272] getparam 2 .............................. <tTeamId>
  [274] getparam 3 .............................. <tPlayerPos>
  [276] pusharglist 2 ........................... <[tTeamId, tPlayerPos]>
  [278] pushlist ................................ <[tTeamId, tPlayerPos]>
  [279] pusharglistnoret 3 ...................... <pLoadingElements, tPlayerId, [tTeamId, tPlayerPos]>
  [281] objcall 220 ............................. pLoadingElements.setaProp(tPlayerId, [tTeamId, tPlayerPos])
  [283] pushcons 8 .............................. <"ig_icon_loading_0">
  [285] pusharglist 1 ........................... <"ig_icon_loading_0">
  [287] extcall 526 ............................. <getmemnum("ig_icon_loading_0")>
  [290] setlocal 5 .............................. tMemNum = getmemnum("ig_icon_loading_0")
  [292] getlocal 5 .............................. <tMemNum>
  [294] pushzero ................................ <0>
  [295] nteq .................................... <tMemNum <> 0>
  [296] jmpifz [316] ............................ if tMemNum <> 0 then
  [299] getlocal 4 .............................. <tElem>
  [301] getlocal 5 .............................. <tMemNum>
  [303] pusharglist 1 ........................... <tMemNum>
  [305] extcall 525 ............................. <member(tMemNum)>
  [308] getobjprop 557 .......................... <member(tMemNum).image>
  [311] pusharglistnoret 2 ...................... <tElem, member(tMemNum).image>
  [313] objcall 589 ............................. tElem.feedImage(member(tMemNum).image)
  [316] getlocal 3 .............................. <tWndObj>
  [318] pushcons 9 .............................. <"ig_name_player_">
  [320] getparam 3 .............................. <tPlayerPos>
  [322] joinstr ................................. <"ig_name_player_" & tPlayerPos>
  [323] pusharglist 2 ........................... <tWndObj, "ig_name_player_" & tPlayerPos>
  [325] objcall 401 ............................. <tWndObj.getElement("ig_name_player_" & tPlayerPos)>
  [328] setlocal 4 .............................. tElem = tWndObj.getElement("ig_name_player_" & tPlayerPos)
  [330] getlocal 4 .............................. <tElem>
  [332] pushzero ................................ <0>
  [333] eq ...................................... <tElem = 0>
  [334] jmpifz [342] ............................ if tElem = 0 then
  [337] pushzero ................................ <0>
  [338] pusharglistnoret 1 ...................... <0>
  [340] extcall 38 .............................. return 0
  [342] getlocal 2 .............................. <tName>
  [344] getparam 0 .............................. <me>
  [346] pusharglist 1 ........................... <me>
  [348] objcall 171 ............................. <me.getOwnPlayerName()>
  [350] eq ...................................... <tName = me.getOwnPlayerName()>
  [351] setlocal 6 .............................. tOwnPlayer = tName = me.getOwnPlayerName()
  [353] getlocal 6 .............................. <tOwnPlayer>
  [355] jmpifz [370] ............................ if tOwnPlayer then / else
  [358] pushcons 10 ............................. <"struct.font.bold">
  [360] pusharglist 1 ........................... <"struct.font.bold">
  [362] extcall 551 ............................. <getStructVariable("struct.font.bold")>
  [365] setlocal 7 .............................. tFontStruct = getStructVariable("struct.font.bold")
  [367] jmp [379]
  [370] pushcons 11 ............................. <"struct.font.plain">
  [372] pusharglist 1 ........................... <"struct.font.plain">
  [374] extcall 551 ............................. <getStructVariable("struct.font.plain")>
  [377] setlocal 7 .............................. tFontStruct = getStructVariable("struct.font.plain")
  [379] getlocal 4 .............................. <tElem>
  [381] getlocal 7 .............................. <tFontStruct>
  [383] pusharglistnoret 2 ...................... <tElem, tFontStruct>
  [385] objcall 866 ............................. tElem.setFont(tFontStruct)
  [388] getlocal 4 .............................. <tElem>
  [390] getlocal 2 .............................. <tName>
  [392] pusharglistnoret 2 ...................... <tElem, tName>
  [394] objcall 415 ............................. tElem.setText(tName)
  [397] getparam 0 .............................. <me>
  [399] pusharglist 1 ........................... <me>
  [401] objcall 963 ............................. <me.getBasicFlagId()>
  [404] pushcons 12 ............................. <"_p_">
  [406] joinstr ................................. <me.getBasicFlagId() & "_p_">
  [407] getparam 2 .............................. <tTeamId>
  [409] joinstr ................................. <me.getBasicFlagId() & "_p_" & tTeamId>
  [410] pushcons 13 ............................. <"_">
  [412] joinstr ................................. <me.getBasicFlagId() & "_p_" & tTeamId & "_">
  [413] getparam 3 .............................. <tPlayerPos>
  [415] joinstr ................................. <me.getBasicFlagId() & "_p_" & tTeamId & "_" & tPlayerPos>
  [416] setlocal 8 .............................. tFlagId = me.getBasicFlagId() & "_p_" & tTeamId & "_" & tPlayerPos
  [418] getparam 0 .............................. <me>
  [420] getlocal 8 .............................. <tFlagId>
  [422] pusharglistnoret 2 ...................... <me, tFlagId>
  [424] objcall 962 ............................. me.removeFlagObject(tFlagId)
  [427] pushint8 1 .............................. <1>
  [429] pusharglistnoret 1 ...................... <1>
  [431] extcall 38 .............................. return 1
  [433] ret
end

on displayPlayerDone me, tID, tFigure, tsex
  [  0] getprop 1001 ............................ <pLoadingElements>
  [  3] getparam 1 .............................. <tID>
  [  5] pusharglist 2 ........................... <pLoadingElements, tID>
  [  7] objcall 256 ............................. <pLoadingElements.getaProp(tID)>
  [ 10] setlocal 0 .............................. tElemInfo = pLoadingElements.getaProp(tID)
  [ 12] getlocal 0 .............................. <tElemInfo>
  [ 14] pushzero ................................ <0>
  [ 15] eq ...................................... <tElemInfo = 0>
  [ 16] jmpifz [ 24] ............................ if tElemInfo = 0 then
  [ 19] pushzero ................................ <0>
  [ 20] pusharglistnoret 1 ...................... <0>
  [ 22] extcall 38 .............................. return 0
  [ 24] getparam 0 .............................. <me>
  [ 26] getlocal 0 .............................. <tElemInfo>
  [ 28] pushint8 1 .............................. <1>
  [ 30] pusharglist 2 ........................... <tElemInfo, 1>
  [ 32] objcall 181 ............................. <tElemInfo[1]>
  [ 34] pusharglist 2 ........................... <me, tElemInfo[1]>
  [ 36] objcall 541 ............................. <me.getWindowId(tElemInfo[1])>
  [ 39] pusharglist 1 ........................... <me.getWindowId(tElemInfo[1])>
  [ 41] extcall 400 ............................. <getWindow(me.getWindowId(tElemInfo[1]))>
  [ 44] setlocal 1 .............................. tWndObj = getWindow(me.getWindowId(tElemInfo[1]))
  [ 46] getlocal 1 .............................. <tWndObj>
  [ 48] pushzero ................................ <0>
  [ 49] eq ...................................... <tWndObj = 0>
  [ 50] jmpifz [ 58] ............................ if tWndObj = 0 then
  [ 53] pushzero ................................ <0>
  [ 54] pusharglistnoret 1 ...................... <0>
  [ 56] extcall 38 .............................. return 0
  [ 58] getlocal 1 .............................. <tWndObj>
  [ 60] pushcons 5 .............................. <"ig_icon_player_">
  [ 62] getlocal 0 .............................. <tElemInfo>
  [ 64] pushint8 2 .............................. <2>
  [ 66] pusharglist 2 ........................... <tElemInfo, 2>
  [ 68] objcall 181 ............................. <tElemInfo[2]>
  [ 70] joinstr ................................. <"ig_icon_player_" & tElemInfo[2]>
  [ 71] pusharglist 2 ........................... <tWndObj, "ig_icon_player_" & tElemInfo[2]>
  [ 73] objcall 401 ............................. <tWndObj.getElement("ig_icon_player_" & tElemInfo[2])>
  [ 76] setlocal 2 .............................. tElem = tWndObj.getElement("ig_icon_player_" & tElemInfo[2])
  [ 78] getlocal 2 .............................. <tElem>
  [ 80] pushzero ................................ <0>
  [ 81] eq ...................................... <tElem = 0>
  [ 82] jmpifz [ 90] ............................ if tElem = 0 then
  [ 85] pushzero ................................ <0>
  [ 86] pusharglistnoret 1 ...................... <0>
  [ 88] extcall 38 .............................. return 0
  [ 90] getparam 0 .............................. <me>
  [ 92] getparam 2 .............................. <tFigure>
  [ 94] getparam 3 .............................. <tsex>
  [ 96] pushint8 18 ............................. <18>
  [ 98] pushint8 18 ............................. <18>
  [100] pusharglist 5 ........................... <me, tFigure, tsex, 18, 18>
  [102] objcall 540 ............................. <me.getHeadImage(tFigure, tsex, 18, 18)>
  [105] setlocal 3 .............................. tImage = me.getHeadImage(tFigure, tsex, 18, 18)
  [107] getlocal 3 .............................. <tImage>
  [109] pushzero ................................ <0>
  [110] nteq .................................... <tImage <> 0>
  [111] jmpifz [123] ............................ if tImage <> 0 then
  [114] getlocal 2 .............................. <tElem>
  [116] getlocal 3 .............................. <tImage>
  [118] pusharglistnoret 2 ...................... <tElem, tImage>
  [120] objcall 589 ............................. tElem.feedImage(tImage)
  [123] getprop 1001 ............................ <pLoadingElements>
  [126] getparam 1 .............................. <tID>
  [128] pusharglistnoret 2 ...................... <pLoadingElements, tID>
  [130] objcall 395 ............................. pLoadingElements.deleteProp(tID)
  [133] pushint8 1 .............................. <1>
  [135] pusharglistnoret 1 ...................... <1>
  [137] extcall 38 .............................. return 1
  [139] ret
end

on displayPlayerLeft me, tID
  [  0] pushint8 1 .............................. <1>
  [  2] setlocal 0
  [  4] getlocal 0
  [  6] getprop 1004 ............................ <pTeamIndex>
  [  9] getobjprop 180 .......................... <pTeamIndex.count>
  [ 11] lteq
  [ 12] jmpifz [ 51] ............................ repeat with tTeamPos = 1 to pTeamIndex.count
  [ 15] getprop 1004 ............................ <pTeamIndex>
  [ 18] getlocal 0 .............................. <tTeamPos>
  [ 20] pusharglist 2 ........................... <pTeamIndex, tTeamPos>
  [ 22] objcall 181 ............................. <pTeamIndex[tTeamPos]>
  [ 24] getparam 1 .............................. <tID>
  [ 26] pusharglist 2 ........................... <pTeamIndex[tTeamPos], tID>
  [ 28] objcall 255 ............................. <pTeamIndex[tTeamPos].findPos(tID)>
  [ 30] setlocal 1 .............................. tPlayerPos = pTeamIndex[tTeamPos].findPos(tID)
  [ 32] getlocal 1 .............................. <tPlayerPos>
  [ 34] pushzero ................................ <0>
  [ 35] gt ...................................... <tPlayerPos > 0>
  [ 36] jmpifz [ 42] ............................ if tPlayerPos > 0 then
  [ 39] jmp [ 51] ............................... exit repeat
  [ 42] pushint8 1
  [ 44] getlocal 0
  [ 46] add
  [ 47] setlocal 0
  [ 49] endrepeat [  4]
  [ 51] getlocal 1 .............................. <tPlayerPos>
  [ 53] pushzero ................................ <0>
  [ 54] eq ...................................... <tPlayerPos = 0>
  [ 55] jmpifz [ 73] ............................ if tPlayerPos = 0 then
  [ 58] getparam 0 .............................. <me>
  [ 60] pushcons 14 ............................. <"Player not found.">
  [ 62] pushsymb 976 ............................ <#displayPlayerLeft>
  [ 65] pusharglist 3 ........................... <me, "Player not found.", #displayPlayerLeft>
  [ 67] extcall 210 ............................. <error(me, "Player not found.", #displayPlayerLeft)>
  [ 69] pusharglistnoret 1 ...................... <error(me, "Player not found.", #displayPlayerLeft)>
  [ 71] extcall 38 .............................. return error(me, "Player not found.", #displayPlayerLeft)
  [ 73] getparam 0 .............................. <me>
  [ 75] pushzero ................................ <0>
  [ 76] getlocal 0 .............................. <tTeamPos>
  [ 78] getlocal 1 .............................. <tPlayerPos>
  [ 80] pusharglistnoret 4 ...................... <me, 0, tTeamPos, tPlayerPos>
  [ 82] objcall 982 ............................. me.displayPlayer(0, tTeamPos, tPlayerPos)
  [ 85] getprop 1004 ............................ <pTeamIndex>
  [ 88] getlocal 0 .............................. <tTeamPos>
  [ 90] pusharglist 2 ........................... <pTeamIndex, tTeamPos>
  [ 92] objcall 181 ............................. <pTeamIndex[tTeamPos]>
  [ 94] getlocal 1 .............................. <tPlayerPos>
  [ 96] pusharglist 0 ........................... <>
  [ 98] extcall 47 .............................. <VOID>
  [100] pusharglistnoret 3 ...................... <pTeamIndex[tTeamPos], tPlayerPos, VOID>
  [102] objcall 1008 ............................ pTeamIndex[tTeamPos][tPlayerPos] = VOID
  [105] getparam 0 .............................. <me>
  [107] pusharglist 1 ........................... <me>
  [109] objcall 963 ............................. <me.getBasicFlagId()>
  [112] pushcons 12 ............................. <"_p_">
  [114] joinstr ................................. <me.getBasicFlagId() & "_p_">
  [115] getlocal 0 .............................. <tTeamPos>
  [117] joinstr ................................. <me.getBasicFlagId() & "_p_" & tTeamPos>
  [118] pushcons 13 ............................. <"_">
  [120] joinstr ................................. <me.getBasicFlagId() & "_p_" & tTeamPos & "_">
  [121] getlocal 1 .............................. <tPlayerPos>
  [123] joinstr ................................. <me.getBasicFlagId() & "_p_" & tTeamPos & "_" & tPlayerPos>
  [124] setlocal 2 .............................. tFlagId = me.getBasicFlagId() & "_p_" & tTeamPos & "_" & tPlayerPos
  [126] getparam 0 .............................. <me>
  [128] getlocal 2 .............................. <tFlagId>
  [130] pusharglistnoret 2 ...................... <me, tFlagId>
  [132] objcall 962 ............................. me.removeFlagObject(tFlagId)
  [135] pushcons 5 .............................. <"ig_icon_player_">
  [137] getlocal 1 .............................. <tPlayerPos>
  [139] joinstr ................................. <"ig_icon_player_" & tPlayerPos>
  [140] setlocal 3 .............................. tElemID = "ig_icon_player_" & tPlayerPos
  [142] getparam 0 .............................. <me>
  [144] getlocal 0 .............................. <tTeamPos>
  [146] pusharglist 2 ........................... <me, tTeamPos>
  [148] objcall 965 ............................. <me.getTeamColorDark(tTeamPos)>
  [151] setlocal 4 .............................. tColorDark = me.getTeamColorDark(tTeamPos)
  [153] getparam 0 .............................. <me>
  [155] getlocal 2 .............................. <tFlagId>
  [157] getparam 0 .............................. <me>
  [159] getlocal 0 .............................. <tTeamPos>
  [161] pusharglist 2 ........................... <me, tTeamPos>
  [163] objcall 541 ............................. <me.getWindowId(tTeamPos)>
  [166] getlocal 3 .............................. <tElemID>
  [168] pushcons 15 ............................. <"PreGameUserLeft">
  [170] getlocal 4 .............................. <tColorDark>
  [172] pusharglistnoret 6 ...................... <me, tFlagId, me.getWindowId(tTeamPos), tElemID, "PreGameUserLeft", tColorDark>
  [174] objcall 960 ............................. me.setInfoFlag(tFlagId, me.getWindowId(tTeamPos), tElemID, "PreGameUserLeft", tColorDark)
  [177] pushint8 1 .............................. <1>
  [179] pusharglistnoret 1 ...................... <1>
  [181] extcall 38 .............................. return 1
  [183] ret
end
