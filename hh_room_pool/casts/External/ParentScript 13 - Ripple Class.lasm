property pID, pAvailable, pDrawProps, pColorList, pPointList, pAnimFrame, pMaxFrame, pTargetPoint, pLastPoint, pTargetImg

on construct me
  [  0] pusharglist 0 ........................... <>
  [  2] extcall 198 ............................. <VOID>
  [  4] setprop 498 ............................. pID = VOID
  [  7] pushint8 1 .............................. <1>
  [  9] setprop 596 ............................. pAvailable = 1
  [ 12] pushsymb 598 ............................ <#shapeType>
  [ 15] pushsymb 599 ............................ <#oval>
  [ 18] pushsymb 533 ............................ <#color>
  [ 21] pushcons 0 .............................. <"009C9C">
  [ 23] pusharglist 1 ........................... <"009C9C">
  [ 25] extcall 87 .............................. <rgb("009C9C")>
  [ 27] pusharglist 4 ........................... <[#shapeType: #oval, #color: rgb("009C9C")]>
  [ 29] pushproplist ............................ <[#shapeType: #oval, #color: rgb("009C9C")]>
  [ 30] setprop 597 ............................. pDrawProps = [#shapeType: #oval, #color: rgb("009C9C")]
  [ 33] pushcons 1 .............................. <"008C94">
  [ 35] pusharglist 1 ........................... <"008C94">
  [ 37] extcall 87 .............................. <rgb("008C94")>
  [ 39] pushcons 2 .............................. <"008080">
  [ 41] pusharglist 1 ........................... <"008080">
  [ 43] extcall 87 .............................. <rgb("008080")>
  [ 45] pushcons 3 .............................. <"00637B">
  [ 47] pusharglist 1 ........................... <"00637B">
  [ 49] extcall 87 .............................. <rgb("00637B")>
  [ 51] pushcons 4 .............................. <"00737B">
  [ 53] pusharglist 1 ........................... <"00737B">
  [ 55] extcall 87 .............................. <rgb("00737B")>
  [ 57] pushcons 5 .............................. <"007B84">
  [ 59] pusharglist 1 ........................... <"007B84">
  [ 61] extcall 87 .............................. <rgb("007B84")>
  [ 63] pushcons 6 .............................. <"00848C">
  [ 65] pusharglist 1 ........................... <"00848C">
  [ 67] extcall 87 .............................. <rgb("00848C")>
  [ 69] pushcons 1 .............................. <"008C94">
  [ 71] pusharglist 1 ........................... <"008C94">
  [ 73] extcall 87 .............................. <rgb("008C94")>
  [ 75] pusharglist 7 ........................... <[rgb("008C94"), rgb("008080"), rgb("00637B"), rgb("00737B"), rgb("007B84"), rgb("00848C"), rgb("008C94")]>
  [ 77] pushlist ................................ <[rgb("008C94"), rgb("008080"), rgb("00637B"), rgb("00737B"), rgb("007B84"), rgb("00848C"), rgb("008C94")]>
  [ 78] setprop 600 ............................. pColorList = [rgb("008C94"), rgb("008080"), rgb("00637B"), rgb("00737B"), rgb("007B84"), rgb("00848C"), rgb("008C94")]
  [ 81] pushint8 34 ............................. <34>
  [ 83] pushint8 17 ............................. <17>
  [ 85] pusharglist 2 ........................... <34, 17>
  [ 87] extcall 41 .............................. <point(34, 17)>
  [ 89] pushint8 42 ............................. <42>
  [ 91] pushint8 21 ............................. <21>
  [ 93] pusharglist 2 ........................... <42, 21>
  [ 95] extcall 41 .............................. <point(42, 21)>
  [ 97] pushint8 50 ............................. <50>
  [ 99] pushint8 25 ............................. <25>
  [101] pusharglist 2 ........................... <50, 25>
  [103] extcall 41 .............................. <point(50, 25)>
  [105] pushint8 58 ............................. <58>
  [107] pushint8 29 ............................. <29>
  [109] pusharglist 2 ........................... <58, 29>
  [111] extcall 41 .............................. <point(58, 29)>
  [113] pushint8 66 ............................. <66>
  [115] pushint8 33 ............................. <33>
  [117] pusharglist 2 ........................... <66, 33>
  [119] extcall 41 .............................. <point(66, 33)>
  [121] pushint8 74 ............................. <74>
  [123] pushint8 37 ............................. <37>
  [125] pusharglist 2 ........................... <74, 37>
  [127] extcall 41 .............................. <point(74, 37)>
  [129] pushint8 82 ............................. <82>
  [131] pushint8 41 ............................. <41>
  [133] pusharglist 2 ........................... <82, 41>
  [135] extcall 41 .............................. <point(82, 41)>
  [137] pusharglist 7 ........................... <[point(34, 17), point(42, 21), point(50, 25), point(58, 29), point(66, 33), point(74, 37), point(82, 41)]>
  [139] pushlist ................................ <[point(34, 17), point(42, 21), point(50, 25), point(58, 29), point(66, 33), point(74, 37), point(82, 41)]>
  [140] setprop 601 ............................. pPointList = [point(34, 17), point(42, 21), point(50, 25), point(58, 29), point(66, 33), point(74, 37), point(82, 41)]
  [143] pushint16 999 ........................... <999>
  [146] setprop 493 ............................. pAnimFrame = 999
  [149] getprop 600 ............................. <pColorList>
  [152] getobjprop 82 ........................... <pColorList.count>
  [154] setprop 602 ............................. pMaxFrame = pColorList.count
  [157] pushzero ................................ <0>
  [158] pushzero ................................ <0>
  [159] pusharglist 2 ........................... <0, 0>
  [161] extcall 41 .............................. <point(0, 0)>
  [163] setprop 576 ............................. pTargetPoint = point(0, 0)
  [166] pushzero ................................ <0>
  [167] pushzero ................................ <0>
  [168] pusharglist 2 ........................... <0, 0>
  [170] extcall 41 .............................. <point(0, 0)>
  [172] setprop 603 ............................. pLastPoint = point(0, 0)
  [175] pusharglist 0 ........................... <>
  [177] extcall 198 ............................. <VOID>
  [179] setprop 604 ............................. pTargetImg = VOID
  [182] pushint8 1 .............................. <1>
  [184] pusharglistnoret 1 ...................... <1>
  [186] extcall 15 .............................. return 1
  [188] ret
end

on define me, tProps
  [  0] getparam 1 .............................. <tProps>
  [  2] pushsymb 139 ............................ <#id>
  [  4] pusharglist 2 ........................... <tProps, #id>
  [  6] objcall 83 .............................. <tProps[#id]>
  [  8] setprop 498 ............................. pID = tProps[#id]
  [ 11] getparam 1 .............................. <tProps>
  [ 13] pushsymb 346 ............................ <#buffer>
  [ 16] pusharglist 2 ........................... <tProps, #buffer>
  [ 18] objcall 83 .............................. <tProps[#buffer]>
  [ 20] setprop 604 ............................. pTargetImg = tProps[#buffer]
  [ 23] pushint8 1 .............................. <1>
  [ 25] pusharglistnoret 1 ...................... <1>
  [ 27] extcall 15 .............................. return 1
  [ 29] ret
end

on getAvailableRipple me
  [  0] getprop 596 ............................. <pAvailable>
  [  3] jmpifz [ 13] ............................ if pAvailable then
  [  6] getprop 498 ............................. <pID>
  [  9] pusharglistnoret 1 ...................... <pID>
  [ 11] extcall 15 .............................. return pID
  [ 13] ret
end

on setTargetPoint me, tTargetPoint
  [  0] pushzero ................................ <0>
  [  1] setprop 596 ............................. pAvailable = 0
  [  4] pushint8 1 .............................. <1>
  [  6] setprop 493 ............................. pAnimFrame = 1
  [  9] getparam 1 .............................. <tTargetPoint>
  [ 11] setprop 576 ............................. pTargetPoint = tTargetPoint
  [ 14] ret
end

on update me
  [  0] getprop 493 ............................. <pAnimFrame>
  [  3] getprop 602 ............................. <pMaxFrame>
  [  6] lt ...................................... <pAnimFrame < pMaxFrame>
  [  7] jmpifz [103] ............................ if pAnimFrame < pMaxFrame then / else
  [ 10] getprop 604 ............................. <pTargetImg>
  [ 13] getprop 603 ............................. <pLastPoint>
  [ 16] getprop 603 ............................. <pLastPoint>
  [ 19] getprop 601 ............................. <pPointList>
  [ 22] getprop 493 ............................. <pAnimFrame>
  [ 25] pusharglist 2 ........................... <pPointList, pAnimFrame>
  [ 27] objcall 83 .............................. <pPointList[pAnimFrame]>
  [ 29] add ..................................... <pLastPoint + pPointList[pAnimFrame]>
  [ 30] getprop 597 ............................. <pDrawProps>
  [ 33] pusharglistnoret 4 ...................... <pTargetImg, pLastPoint, pLastPoint + pPointList[pAnimFrame], pDrawProps>
  [ 35] objcall 606 ............................. pTargetImg.draw(pLastPoint, pLastPoint + pPointList[pAnimFrame], pDrawProps)
  [ 38] getprop 493 ............................. <pAnimFrame>
  [ 41] pushint8 1 .............................. <1>
  [ 43] add ..................................... <pAnimFrame + 1>
  [ 44] setprop 493 ............................. pAnimFrame = pAnimFrame + 1
  [ 47] getprop 604 ............................. <pTargetImg>
  [ 50] getprop 576 ............................. <pTargetPoint>
  [ 53] getprop 576 ............................. <pTargetPoint>
  [ 56] getprop 601 ............................. <pPointList>
  [ 59] getprop 493 ............................. <pAnimFrame>
  [ 62] pusharglist 2 ........................... <pPointList, pAnimFrame>
  [ 64] objcall 83 .............................. <pPointList[pAnimFrame]>
  [ 66] add ..................................... <pTargetPoint + pPointList[pAnimFrame]>
  [ 67] pushsymb 598 ............................ <#shapeType>
  [ 70] pushsymb 599 ............................ <#oval>
  [ 73] pushsymb 533 ............................ <#color>
  [ 76] getprop 600 ............................. <pColorList>
  [ 79] getprop 493 ............................. <pAnimFrame>
  [ 82] pusharglist 2 ........................... <pColorList, pAnimFrame>
  [ 84] objcall 83 .............................. <pColorList[pAnimFrame]>
  [ 86] pusharglist 4 ........................... <[#shapeType: #oval, #color: pColorList[pAnimFrame]]>
  [ 88] pushproplist ............................ <[#shapeType: #oval, #color: pColorList[pAnimFrame]]>
  [ 89] pusharglistnoret 4 ...................... <pTargetImg, pTargetPoint, pTargetPoint + pPointList[pAnimFrame], [#shapeType: #oval, #color: pColorList[pAnimFrame]]>
  [ 91] objcall 606 ............................. pTargetImg.draw(pTargetPoint, pTargetPoint + pPointList[pAnimFrame], [#shapeType: #oval, #color: pColorList[pAnimFrame]])
  [ 94] getprop 576 ............................. <pTargetPoint>
  [ 97] setprop 603 ............................. pLastPoint = pTargetPoint
  [100] jmp [146]
  [103] getprop 493 ............................. <pAnimFrame>
  [106] getprop 602 ............................. <pMaxFrame>
  [109] eq ...................................... <pAnimFrame = pMaxFrame>
  [110] jmpifz [146] ............................ if pAnimFrame = pMaxFrame then
  [113] getprop 604 ............................. <pTargetImg>
  [116] getprop 603 ............................. <pLastPoint>
  [119] getprop 603 ............................. <pLastPoint>
  [122] getprop 601 ............................. <pPointList>
  [125] getprop 493 ............................. <pAnimFrame>
  [128] pusharglist 2 ........................... <pPointList, pAnimFrame>
  [130] objcall 83 .............................. <pPointList[pAnimFrame]>
  [132] add ..................................... <pLastPoint + pPointList[pAnimFrame]>
  [133] getprop 597 ............................. <pDrawProps>
  [136] pusharglistnoret 4 ...................... <pTargetImg, pLastPoint, pLastPoint + pPointList[pAnimFrame], pDrawProps>
  [138] objcall 606 ............................. pTargetImg.draw(pLastPoint, pLastPoint + pPointList[pAnimFrame], pDrawProps)
  [141] pushint8 1 .............................. <1>
  [143] setprop 596 ............................. pAvailable = 1
  [146] ret
end
