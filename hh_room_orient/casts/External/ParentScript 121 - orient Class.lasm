property pAnimThisUpdate, pSin, pAnimTimer, pSpriteList, pOrigLocs, pDiscoStyle, pDiscoStyleCount, pLightSwitchTimer, pFountainFrame

on construct me
  [  0] pushfloat32 0.0 ......................... <0.0>
  [  5] setprop 10 .............................. pSin = 0.0
  [  7] pushint8 34 ............................. <34>
  [  9] get 7 ................................... <the timer>
  [ 11] setprop 11 .............................. pAnimTimer = the timer
  [ 13] pusharglist 0 ........................... <[]>
  [ 15] pushlist ................................ <[]>
  [ 16] setprop 12 .............................. pSpriteList = []
  [ 18] pusharglist 0 ........................... <[]>
  [ 20] pushlist ................................ <[]>
  [ 21] setprop 13 .............................. pOrigLocs = []
  [ 23] pushint8 1 .............................. <1>
  [ 25] setprop 14 .............................. pDiscoStyle = 1
  [ 27] pushint8 10 ............................. <10>
  [ 29] setprop 15 .............................. pDiscoStyleCount = 10
  [ 31] pushint8 34 ............................. <34>
  [ 33] get 7 ................................... <the timer>
  [ 35] setprop 16 .............................. pLightSwitchTimer = the timer
  [ 37] pushint8 1 .............................. <1>
  [ 39] setprop 17 .............................. pAnimThisUpdate = 1
  [ 41] pushint8 1 .............................. <1>
  [ 43] setprop 18 .............................. pFountainFrame = 1
  [ 45] pushint8 1 .............................. <1>
  [ 47] pusharglistnoret 1 ...................... <1>
  [ 49] extcall 19 .............................. return 1
  [ 51] ret
end

on deconstruct me
  [  0] getparam 0 .............................. <me>
  [  2] pusharglist 1 ........................... <me>
  [  4] objcall 22 .............................. <me.getID()>
  [  6] pusharglist 1 ........................... <me.getID()>
  [  8] extcall 21 .............................. <removeUpdate(me.getID())>
  [ 10] pusharglistnoret 1 ...................... <removeUpdate(me.getID())>
  [ 12] extcall 19 .............................. return removeUpdate(me.getID())
  [ 14] ret
end

on prepare me
  [  0] getparam 0 .............................. <me>
  [  2] pusharglist 1 ........................... <me>
  [  4] objcall 22 .............................. <me.getID()>
  [  6] pusharglist 1 ........................... <me.getID()>
  [  8] extcall 23 .............................. <receiveUpdate(me.getID())>
  [ 10] pusharglistnoret 1 ...................... <receiveUpdate(me.getID())>
  [ 12] extcall 19 .............................. return receiveUpdate(me.getID())
  [ 14] ret
end

on showprogram me, tMsg
  [  0] getparam 1 .............................. <tMsg>
  [  2] pusharglist 1 ........................... <tMsg>
  [  4] extcall 24 .............................. <voidp(tMsg)>
  [  6] jmpifz [ 14] ............................ if voidp(tMsg) then
  [  9] pushzero ................................ <0>
  [ 10] pusharglistnoret 1 ...................... <0>
  [ 12] extcall 19 .............................. return 0
  [ 14] getparam 1 .............................. <tMsg>
  [ 16] pushsymb 25 ............................. <#show_command>
  [ 18] pusharglist 2 ........................... <tMsg, #show_command>
  [ 20] objcall 26 .............................. <tMsg[#show_command]>
  [ 22] setlocal 0 .............................. tNum = tMsg[#show_command]
  [ 24] getparam 0 .............................. <me>
  [ 26] getlocal 0 .............................. <tNum>
  [ 28] pusharglist 2 ........................... <me, tNum>
  [ 30] objcall 4 ............................... <me.changeDiscoStyle(tNum)>
  [ 32] pusharglistnoret 1 ...................... <me.changeDiscoStyle(tNum)>
  [ 34] extcall 19 .............................. return me.changeDiscoStyle(tNum)
  [ 36] ret
end

on changeDiscoStyle me, tNr
  [  0] getparam 1 .............................. <tNr>
  [  2] pusharglist 0 ........................... <>
  [  4] extcall 29 .............................. <VOID>
  [  6] eq ...................................... <tNr = VOID>
  [  7] jmpifz [ 20] ............................ if tNr = VOID then / else
  [ 10] getprop 14 .............................. <pDiscoStyle>
  [ 12] pushint8 1 .............................. <1>
  [ 14] add ..................................... <pDiscoStyle + 1>
  [ 15] setprop 14 .............................. pDiscoStyle = pDiscoStyle + 1
  [ 17] jmp [ 24]
  [ 20] getparam 1 .............................. <tNr>
  [ 22] setprop 14 .............................. pDiscoStyle = tNr
  [ 24] getprop 14 .............................. <pDiscoStyle>
  [ 26] pushint8 1 .............................. <1>
  [ 28] lt ...................................... <pDiscoStyle < 1>
  [ 29] getprop 14 .............................. <pDiscoStyle>
  [ 31] getprop 15 .............................. <pDiscoStyleCount>
  [ 33] gt ...................................... <pDiscoStyle > pDiscoStyleCount>
  [ 34] or ...................................... <(pDiscoStyle < 1) or (pDiscoStyle > pDiscoStyleCount)>
  [ 35] jmpifz [ 42] ............................ if (pDiscoStyle < 1) or (pDiscoStyle > pDiscoStyleCount) then
  [ 38] pushint8 1 .............................. <1>
  [ 40] setprop 14 .............................. pDiscoStyle = 1
  [ 42] pushint8 1 .............................. <1>
  [ 44] pusharglistnoret 1 ...................... <1>
  [ 46] extcall 19 .............................. return 1
  [ 48] ret
end

on update me
  [  0] getprop 17 .............................. <pAnimThisUpdate>
  [  2] not ..................................... <not pAnimThisUpdate>
  [  3] setprop 17 .............................. pAnimThisUpdate = not pAnimThisUpdate
  [  5] getprop 17 .............................. <pAnimThisUpdate>
  [  7] jmpifz [ 16] ............................ if pAnimThisUpdate then
  [ 10] pushint8 1 .............................. <1>
  [ 12] pusharglistnoret 1 ...................... <1>
  [ 14] extcall 19 .............................. return 1
  [ 16] getparam 0 .............................. <me>
  [ 18] pusharglistnoret 1 ...................... <me>
  [ 20] objcall 9 ............................... me.updateFountain()
  [ 22] getprop 10 .............................. <pSin>
  [ 24] pushcons 0 .............................. <0.10000000000000001>
  [ 26] add ..................................... <pSin + 0.10000000000000001>
  [ 27] setprop 10 .............................. pSin = pSin + 0.10000000000000001
  [ 29] getprop 12 .............................. <pSpriteList>
  [ 31] pusharglist 0 ........................... <[]>
  [ 33] pushlist ................................ <[]>
  [ 34] eq ...................................... <pSpriteList = []>
  [ 35] jmpifz [ 48] ............................ if pSpriteList = [] then
  [ 38] getparam 0 .............................. <me>
  [ 40] pusharglist 1 ........................... <me>
  [ 42] objcall 8 ............................... <me.getSpriteList()>
  [ 44] pusharglistnoret 1 ...................... <me.getSpriteList()>
  [ 46] extcall 19 .............................. return me.getSpriteList()
  [ 48] getprop 14 .............................. <pDiscoStyle>
  [ 50] peek 0 .................................. case pDiscoStyle of
  [ 52] pushint8 1 .............................. <1>
  [ 54] eq
  [ 55] jmpifz [ 87] ............................ (case) 1:
  [ 58] getparam 0 .............................. <me>
  [ 60] pushint8 15 ............................. <15>
  [ 62] pushint8 15 ............................. <15>
  [ 64] pushint8 15 ............................. <15>
  [ 66] pushint8 15 ............................. <15>
  [ 68] pushint8 15 ............................. <15>
  [ 70] pushint8 15 ............................. <15>
  [ 72] pusharglist 0 ........................... <>
  [ 74] extcall 29 .............................. <VOID>
  [ 76] pusharglist 0 ........................... <>
  [ 78] extcall 29 .............................. <VOID>
  [ 80] pusharglistnoret 9 ...................... <me, 15, 15, 15, 15, 15, 15, VOID, VOID>
  [ 82] objcall 6 ............................... me.fullRotation(15, 15, 15, 15, 15, 15, VOID, VOID)
  [ 84] jmp [548]
  [ 87] peek 0
  [ 89] pushint8 2 .............................. <2>
  [ 91] eq
  [ 92] jmpifz [143] ............................ (case) 2:
  [ 95] getparam 0 .............................. <me>
  [ 97] pushint8 15 ............................. <15>
  [ 99] pushint8 15 ............................. <15>
  [101] pushint8 15 ............................. <15>
  [103] pushint8 15 ............................. <15>
  [105] pushint8 15 ............................. <15>
  [107] pushint8 15 ............................. <15>
  [109] pusharglist 0 ........................... <>
  [111] extcall 29 .............................. <VOID>
  [113] pusharglist 0 ........................... <>
  [115] extcall 29 .............................. <VOID>
  [117] pushint8 100 ............................ <100>
  [119] pushint8 15 ............................. <15>
  [121] inv ..................................... <-15>
  [122] pusharglist 2 ........................... <100, -15>
  [124] extcall 31 .............................. <point(100, -15)>
  [126] pusharglistnoret 10 ..................... <me, 15, 15, 15, 15, 15, 15, VOID, VOID, point(100, -15)>
  [128] objcall 6 ............................... me.fullRotation(15, 15, 15, 15, 15, 15, VOID, VOID, point(100, -15))
  [130] getparam 0 .............................. <me>
  [132] pushsymb 32 ............................. <#show1>
  [134] pushint8 1 .............................. <1>
  [136] pusharglistnoret 3 ...................... <me, #show1, 1>
  [138] objcall 7 ............................... me.switchLights(#show1, 1)
  [140] jmp [548]
  [143] peek 0
  [145] pushint8 3 .............................. <3>
  [147] eq
  [148] jmpifz [199] ............................ (case) 3:
  [151] getparam 0 .............................. <me>
  [153] pushint8 15 ............................. <15>
  [155] pushint8 15 ............................. <15>
  [157] pushint8 15 ............................. <15>
  [159] pushint8 15 ............................. <15>
  [161] pushint8 15 ............................. <15>
  [163] pushint8 15 ............................. <15>
  [165] pusharglist 0 ........................... <>
  [167] extcall 29 .............................. <VOID>
  [169] pusharglist 0 ........................... <>
  [171] extcall 29 .............................. <VOID>
  [173] pushint8 100 ............................ <100>
  [175] pushint8 15 ............................. <15>
  [177] inv ..................................... <-15>
  [178] pusharglist 2 ........................... <100, -15>
  [180] extcall 31 .............................. <point(100, -15)>
  [182] pusharglistnoret 10 ..................... <me, 15, 15, 15, 15, 15, 15, VOID, VOID, point(100, -15)>
  [184] objcall 6 ............................... me.fullRotation(15, 15, 15, 15, 15, 15, VOID, VOID, point(100, -15))
  [186] getparam 0 .............................. <me>
  [188] pushsymb 33 ............................. <#showAll>
  [190] pushcons 1 .............................. <0.69999999999999996>
  [192] pusharglistnoret 3 ...................... <me, #showAll, 0.69999999999999996>
  [194] objcall 7 ............................... me.switchLights(#showAll, 0.69999999999999996)
  [196] jmp [548]
  [199] peek 0
  [201] pushint8 4 .............................. <4>
  [203] eq
  [204] jmpifz [252] ............................ (case) 4:
  [207] getparam 0 .............................. <me>
  [209] pushzero ................................ <0>
  [210] pushint8 15 ............................. <15>
  [212] pushint8 15 ............................. <15>
  [214] pushzero ................................ <0>
  [215] pushint8 15 ............................. <15>
  [217] pushzero ................................ <0>
  [218] pushint8 90 ............................. <90>
  [220] pushint8 10 ............................. <10>
  [222] inv ..................................... <-10>
  [223] pusharglist 2 ........................... <90, -10>
  [225] extcall 31 .............................. <point(90, -10)>
  [227] pushint8 80 ............................. <80>
  [229] pushint8 10 ............................. <10>
  [231] inv ..................................... <-10>
  [232] pusharglist 2 ........................... <80, -10>
  [234] extcall 31 .............................. <point(80, -10)>
  [236] pushint8 70 ............................. <70>
  [238] pushint8 10 ............................. <10>
  [240] inv ..................................... <-10>
  [241] pusharglist 2 ........................... <70, -10>
  [243] extcall 31 .............................. <point(70, -10)>
  [245] pusharglistnoret 10 ..................... <me, 0, 15, 15, 0, 15, 0, point(90, -10), point(80, -10), point(70, -10)>
  [247] objcall 6 ............................... me.fullRotation(0, 15, 15, 0, 15, 0, point(90, -10), point(80, -10), point(70, -10))
  [249] jmp [548]
  [252] peek 0
  [254] pushint8 5 .............................. <5>
  [256] eq
  [257] jmpifz [305] ............................ (case) 5:
  [260] getparam 0 .............................. <me>
  [262] pushint8 15 ............................. <15>
  [264] pushzero ................................ <0>
  [265] pushzero ................................ <0>
  [266] pushint8 15 ............................. <15>
  [268] pushzero ................................ <0>
  [269] pushint8 15 ............................. <15>
  [271] pushint8 90 ............................. <90>
  [273] pushint8 10 ............................. <10>
  [275] inv ..................................... <-10>
  [276] pusharglist 2 ........................... <90, -10>
  [278] extcall 31 .............................. <point(90, -10)>
  [280] pushint8 80 ............................. <80>
  [282] pushint8 10 ............................. <10>
  [284] inv ..................................... <-10>
  [285] pusharglist 2 ........................... <80, -10>
  [287] extcall 31 .............................. <point(80, -10)>
  [289] pushint8 70 ............................. <70>
  [291] pushint8 10 ............................. <10>
  [293] inv ..................................... <-10>
  [294] pusharglist 2 ........................... <70, -10>
  [296] extcall 31 .............................. <point(70, -10)>
  [298] pusharglistnoret 10 ..................... <me, 15, 0, 0, 15, 0, 15, point(90, -10), point(80, -10), point(70, -10)>
  [300] objcall 6 ............................... me.fullRotation(15, 0, 0, 15, 0, 15, point(90, -10), point(80, -10), point(70, -10))
  [302] jmp [548]
  [305] peek 0
  [307] pushint8 6 .............................. <6>
  [309] eq
  [310] jmpifz [366] ............................ (case) 6:
  [313] getparam 0 .............................. <me>
  [315] pushint8 15 ............................. <15>
  [317] pushint8 15 ............................. <15>
  [319] pushint8 15 ............................. <15>
  [321] pushint8 15 ............................. <15>
  [323] pushint8 15 ............................. <15>
  [325] pushint8 15 ............................. <15>
  [327] pusharglist 0 ........................... <>
  [329] extcall 29 .............................. <VOID>
  [331] pushint8 60 ............................. <60>
  [333] pushint8 10 ............................. <10>
  [335] inv ..................................... <-10>
  [336] pusharglist 2 ........................... <60, -10>
  [338] extcall 31 .............................. <point(60, -10)>
  [340] pushint8 120 ............................ <120>
  [342] pushint8 10 ............................. <10>
  [344] inv ..................................... <-10>
  [345] pusharglist 2 ........................... <120, -10>
  [347] extcall 31 .............................. <point(120, -10)>
  [349] pusharglistnoret 10 ..................... <me, 15, 15, 15, 15, 15, 15, VOID, point(60, -10), point(120, -10)>
  [351] objcall 6 ............................... me.fullRotation(15, 15, 15, 15, 15, 15, VOID, point(60, -10), point(120, -10))
  [353] getparam 0 .............................. <me>
  [355] pushsymb 32 ............................. <#show1>
  [357] pushint8 2 .............................. <2>
  [359] pusharglistnoret 3 ...................... <me, #show1, 2>
  [361] objcall 7 ............................... me.switchLights(#show1, 2)
  [363] jmp [548]
  [366] peek 0
  [368] pushint8 7 .............................. <7>
  [370] eq
  [371] jmpifz [432] ............................ (case) 7:
  [374] getparam 0 .............................. <me>
  [376] pushint8 25 ............................. <25>
  [378] pushint8 25 ............................. <25>
  [380] pushint8 25 ............................. <25>
  [382] pushint8 25 ............................. <25>
  [384] pushint8 25 ............................. <25>
  [386] pushint8 25 ............................. <25>
  [388] pushint8 100 ............................ <100>
  [390] pushint8 20 ............................. <20>
  [392] inv ..................................... <-20>
  [393] pusharglist 2 ........................... <100, -20>
  [395] extcall 31 .............................. <point(100, -20)>
  [397] pushint8 80 ............................. <80>
  [399] pushint8 20 ............................. <20>
  [401] inv ..................................... <-20>
  [402] pusharglist 2 ........................... <80, -20>
  [404] extcall 31 .............................. <point(80, -20)>
  [406] pushint8 60 ............................. <60>
  [408] pushint8 20 ............................. <20>
  [410] inv ..................................... <-20>
  [411] pusharglist 2 ........................... <60, -20>
  [413] extcall 31 .............................. <point(60, -20)>
  [415] pusharglistnoret 10 ..................... <me, 25, 25, 25, 25, 25, 25, point(100, -20), point(80, -20), point(60, -20)>
  [417] objcall 6 ............................... me.fullRotation(25, 25, 25, 25, 25, 25, point(100, -20), point(80, -20), point(60, -20))
  [419] getparam 0 .............................. <me>
  [421] pushsymb 32 ............................. <#show1>
  [423] pushint8 3 .............................. <3>
  [425] pusharglistnoret 3 ...................... <me, #show1, 3>
  [427] objcall 7 ............................... me.switchLights(#show1, 3)
  [429] jmp [548]
  [432] peek 0
  [434] pushint8 8 .............................. <8>
  [436] eq
  [437] jmpifz [453] ............................ (case) 8:
  [440] getparam 0 .............................. <me>
  [442] pushsymb 32 ............................. <#show1>
  [444] pushint8 3 .............................. <3>
  [446] pusharglistnoret 3 ...................... <me, #show1, 3>
  [448] objcall 7 ............................... me.switchLights(#show1, 3)
  [450] jmp [548]
  [453] peek 0
  [455] pushint8 9 .............................. <9>
  [457] eq
  [458] jmpifz [509] ............................ (case) 9:
  [461] getparam 0 .............................. <me>
  [463] pushint8 15 ............................. <15>
  [465] pushint8 15 ............................. <15>
  [467] pushint8 15 ............................. <15>
  [469] pushint8 15 ............................. <15>
  [471] pushint8 15 ............................. <15>
  [473] pushint8 15 ............................. <15>
  [475] pusharglist 0 ........................... <>
  [477] extcall 29 .............................. <VOID>
  [479] pusharglist 0 ........................... <>
  [481] extcall 29 .............................. <VOID>
  [483] pushint8 100 ............................ <100>
  [485] pushint8 25 ............................. <25>
  [487] inv ..................................... <-25>
  [488] pusharglist 2 ........................... <100, -25>
  [490] extcall 31 .............................. <point(100, -25)>
  [492] pusharglistnoret 10 ..................... <me, 15, 15, 15, 15, 15, 15, VOID, VOID, point(100, -25)>
  [494] objcall 6 ............................... me.fullRotation(15, 15, 15, 15, 15, 15, VOID, VOID, point(100, -25))
  [496] getparam 0 .............................. <me>
  [498] pushsymb 34 ............................. <#blink>
  [500] pushint8 1 .............................. <1>
  [502] pusharglistnoret 3 ...................... <me, #blink, 1>
  [504] objcall 7 ............................... me.switchLights(#blink, 1)
  [506] jmp [548]
  [509] peek 0
  [511] pushint8 10 ............................. <10>
  [513] eq
  [514] jmpifz [530] ............................ (case) 10:
  [517] getparam 0 .............................. <me>
  [519] pushsymb 33 ............................. <#showAll>
  [521] pushcons 1 .............................. <0.69999999999999996>
  [523] pusharglistnoret 3 ...................... <me, #showAll, 0.69999999999999996>
  [525] objcall 7 ............................... me.switchLights(#showAll, 0.69999999999999996)
  [527] jmp [548]
  [530] peek 0
  [532] pushint8 11 ............................. <11>
  [534] eq
  [535] jmpifz [548] ............................ (case) 11:
  [538] getparam 0 .............................. <me>
  [540] pushsymb 32 ............................. <#show1>
  [542] pushint8 2 .............................. <2>
  [544] pusharglistnoret 3 ...................... <me, #show1, 2>
  [546] objcall 7 ............................... me.switchLights(#show1, 2)
  [548] pop 1 ................................... end case
  [550] ret
end

on fullRotation me, tGx, tGy, tYx, tYy, tRx, try, tGoffset, tYoffset, tRoffset
  [  0] getparam 7 .............................. <tGoffset>
  [  2] pusharglist 0 ........................... <>
  [  4] extcall 29 .............................. <VOID>
  [  6] eq ...................................... <tGoffset = VOID>
  [  7] jmpifz [ 18] ............................ if tGoffset = VOID then
  [ 10] pushzero ................................ <0>
  [ 11] pushzero ................................ <0>
  [ 12] pusharglist 2 ........................... <0, 0>
  [ 14] extcall 31 .............................. <point(0, 0)>
  [ 16] setparam 7 .............................. tGoffset = point(0, 0)
  [ 18] getparam 8 .............................. <tYoffset>
  [ 20] pusharglist 0 ........................... <>
  [ 22] extcall 29 .............................. <VOID>
  [ 24] eq ...................................... <tYoffset = VOID>
  [ 25] jmpifz [ 36] ............................ if tYoffset = VOID then
  [ 28] pushzero ................................ <0>
  [ 29] pushzero ................................ <0>
  [ 30] pusharglist 2 ........................... <0, 0>
  [ 32] extcall 31 .............................. <point(0, 0)>
  [ 34] setparam 8 .............................. tYoffset = point(0, 0)
  [ 36] getparam 9 .............................. <tRoffset>
  [ 38] pusharglist 0 ........................... <>
  [ 40] extcall 29 .............................. <VOID>
  [ 42] eq ...................................... <tRoffset = VOID>
  [ 43] jmpifz [ 54] ............................ if tRoffset = VOID then
  [ 46] pushzero ................................ <0>
  [ 47] pushzero ................................ <0>
  [ 48] pusharglist 2 ........................... <0, 0>
  [ 50] extcall 31 .............................. <point(0, 0)>
  [ 52] setparam 9 .............................. tRoffset = point(0, 0)
  [ 54] getprop 12 .............................. <pSpriteList>
  [ 56] pushint8 3 .............................. <3>
  [ 58] pusharglist 2 ........................... <pSpriteList, 3>
  [ 60] objcall 26 .............................. <pSpriteList[3]>
  [ 62] getprop 13 .............................. <pOrigLocs>
  [ 64] pushint8 1 .............................. <1>
  [ 66] pusharglist 2 ........................... <pOrigLocs, 1>
  [ 68] objcall 26 .............................. <pOrigLocs[1]>
  [ 70] getparam 7 .............................. <tGoffset>
  [ 72] add ..................................... <pOrigLocs[1] + tGoffset>
  [ 73] getprop 10 .............................. <pSin>
  [ 75] pusharglist 1 ........................... <pSin>
  [ 77] extcall 35 .............................. <sin(pSin)>
  [ 79] getparam 1 .............................. <tGx>
  [ 81] mul ..................................... <sin(pSin) * tGx>
  [ 82] getprop 10 .............................. <pSin>
  [ 84] pusharglist 1 ........................... <pSin>
  [ 86] extcall 36 .............................. <cos(pSin)>
  [ 88] getparam 2 .............................. <tGy>
  [ 90] mul ..................................... <cos(pSin) * tGy>
  [ 91] pusharglist 2 ........................... <sin(pSin) * tGx, cos(pSin) * tGy>
  [ 93] extcall 31 .............................. <point(sin(pSin) * tGx, cos(pSin) * tGy)>
  [ 95] add ..................................... <pOrigLocs[1] + tGoffset + point(sin(pSin) * tGx, cos(pSin) * tGy)>
  [ 96] setobjprop 37 ........................... pSpriteList[3].loc = pOrigLocs[1] + tGoffset + point(sin(pSin) * tGx, cos(pSin) * tGy)
  [ 98] getprop 12 .............................. <pSpriteList>
  [100] pushint8 6 .............................. <6>
  [102] pusharglist 2 ........................... <pSpriteList, 6>
  [104] objcall 26 .............................. <pSpriteList[6]>
  [106] getprop 13 .............................. <pOrigLocs>
  [108] pushint8 2 .............................. <2>
  [110] pusharglist 2 ........................... <pOrigLocs, 2>
  [112] objcall 26 .............................. <pOrigLocs[2]>
  [114] getparam 8 .............................. <tYoffset>
  [116] add ..................................... <pOrigLocs[2] + tYoffset>
  [117] getprop 10 .............................. <pSin>
  [119] pusharglist 1 ........................... <pSin>
  [121] extcall 36 .............................. <cos(pSin)>
  [123] getparam 3 .............................. <tYx>
  [125] mul ..................................... <cos(pSin) * tYx>
  [126] getprop 10 .............................. <pSin>
  [128] pusharglist 1 ........................... <pSin>
  [130] extcall 35 .............................. <sin(pSin)>
  [132] getparam 4 .............................. <tYy>
  [134] mul ..................................... <sin(pSin) * tYy>
  [135] pusharglist 2 ........................... <cos(pSin) * tYx, sin(pSin) * tYy>
  [137] extcall 31 .............................. <point(cos(pSin) * tYx, sin(pSin) * tYy)>
  [139] add ..................................... <pOrigLocs[2] + tYoffset + point(cos(pSin) * tYx, sin(pSin) * tYy)>
  [140] setobjprop 37 ........................... pSpriteList[6].loc = pOrigLocs[2] + tYoffset + point(cos(pSin) * tYx, sin(pSin) * tYy)
  [142] getprop 12 .............................. <pSpriteList>
  [144] pushint8 9 .............................. <9>
  [146] pusharglist 2 ........................... <pSpriteList, 9>
  [148] objcall 26 .............................. <pSpriteList[9]>
  [150] getprop 13 .............................. <pOrigLocs>
  [152] pushint8 3 .............................. <3>
  [154] pusharglist 2 ........................... <pOrigLocs, 3>
  [156] objcall 26 .............................. <pOrigLocs[3]>
  [158] getparam 9 .............................. <tRoffset>
  [160] add ..................................... <pOrigLocs[3] + tRoffset>
  [161] getprop 10 .............................. <pSin>
  [163] pusharglist 1 ........................... <pSin>
  [165] extcall 35 .............................. <sin(pSin)>
  [167] getparam 5 .............................. <tRx>
  [169] mul ..................................... <sin(pSin) * tRx>
  [170] getprop 10 .............................. <pSin>
  [172] pusharglist 1 ........................... <pSin>
  [174] extcall 36 .............................. <cos(pSin)>
  [176] getparam 6 .............................. <try>
  [178] mul ..................................... <cos(pSin) * try>
  [179] pusharglist 2 ........................... <sin(pSin) * tRx, cos(pSin) * try>
  [181] extcall 31 .............................. <point(sin(pSin) * tRx, cos(pSin) * try)>
  [183] add ..................................... <pOrigLocs[3] + tRoffset + point(sin(pSin) * tRx, cos(pSin) * try)>
  [184] setobjprop 37 ........................... pSpriteList[9].loc = pOrigLocs[3] + tRoffset + point(sin(pSin) * tRx, cos(pSin) * try)
  [186] getprop 12 .............................. <pSpriteList>
  [188] pushint8 3 .............................. <3>
  [190] pusharglist 2 ........................... <pSpriteList, 3>
  [192] objcall 26 .............................. <pSpriteList[3]>
  [194] getobjprop 37 ........................... <pSpriteList[3].loc>
  [196] getprop 12 .............................. <pSpriteList>
  [198] pushint8 3 .............................. <3>
  [200] pusharglist 2 ........................... <pSpriteList, 3>
  [202] objcall 26 .............................. <pSpriteList[3]>
  [204] getobjprop 38 ........................... <pSpriteList[3].width>
  [206] pushint8 2 .............................. <2>
  [208] div ..................................... <pSpriteList[3].width / 2>
  [209] pushzero ................................ <0>
  [210] pusharglist 2 ........................... <pSpriteList[3].width / 2, 0>
  [212] extcall 31 .............................. <point(pSpriteList[3].width / 2, 0)>
  [214] add ..................................... <pSpriteList[3].loc + point(pSpriteList[3].width / 2, 0)>
  [215] getprop 12 .............................. <pSpriteList>
  [217] pushint8 6 .............................. <6>
  [219] pusharglist 2 ........................... <pSpriteList, 6>
  [221] objcall 26 .............................. <pSpriteList[6]>
  [223] getobjprop 37 ........................... <pSpriteList[6].loc>
  [225] getprop 12 .............................. <pSpriteList>
  [227] pushint8 6 .............................. <6>
  [229] pusharglist 2 ........................... <pSpriteList, 6>
  [231] objcall 26 .............................. <pSpriteList[6]>
  [233] getobjprop 38 ........................... <pSpriteList[6].width>
  [235] pushint8 2 .............................. <2>
  [237] div ..................................... <pSpriteList[6].width / 2>
  [238] pushzero ................................ <0>
  [239] pusharglist 2 ........................... <pSpriteList[6].width / 2, 0>
  [241] extcall 31 .............................. <point(pSpriteList[6].width / 2, 0)>
  [243] add ..................................... <pSpriteList[6].loc + point(pSpriteList[6].width / 2, 0)>
  [244] getprop 12 .............................. <pSpriteList>
  [246] pushint8 9 .............................. <9>
  [248] pusharglist 2 ........................... <pSpriteList, 9>
  [250] objcall 26 .............................. <pSpriteList[9]>
  [252] getobjprop 37 ........................... <pSpriteList[9].loc>
  [254] getprop 12 .............................. <pSpriteList>
  [256] pushint8 9 .............................. <9>
  [258] pusharglist 2 ........................... <pSpriteList, 9>
  [260] objcall 26 .............................. <pSpriteList[9]>
  [262] getobjprop 38 ........................... <pSpriteList[9].width>
  [264] pushint8 2 .............................. <2>
  [266] div ..................................... <pSpriteList[9].width / 2>
  [267] pushzero ................................ <0>
  [268] pusharglist 2 ........................... <pSpriteList[9].width / 2, 0>
  [270] extcall 31 .............................. <point(pSpriteList[9].width / 2, 0)>
  [272] add ..................................... <pSpriteList[9].loc + point(pSpriteList[9].width / 2, 0)>
  [273] pusharglist 3 ........................... <[pSpriteList[3].loc + point(pSpriteList[3].width / 2, 0), pSpriteList[6].loc + point(pSpriteList[6].width / 2, 0), pSpriteList[9].loc + point(pSpriteList[9].width / 2, 0)]>
  [275] pushlist ................................ <[pSpriteList[3].loc + point(pSpriteList[3].width / 2, 0), pSpriteList[6].loc + point(pSpriteList[6].width / 2, 0), pSpriteList[9].loc + point(pSpriteList[9].width / 2, 0)]>
  [276] setlocal 0 .............................. tLocs = [pSpriteList[3].loc + point(pSpriteList[3].width / 2, 0), pSpriteList[6].loc + point(pSpriteList[6].width / 2, 0), pSpriteList[9].loc + point(pSpriteList[9].width / 2, 0)]
  [278] getprop 12 .............................. <pSpriteList>
  [280] pushint8 2 .............................. <2>
  [282] pusharglist 2 ........................... <pSpriteList, 2>
  [284] objcall 26 .............................. <pSpriteList[2]>
  [286] getprop 12 .............................. <pSpriteList>
  [288] pushint8 2 .............................. <2>
  [290] pusharglist 2 ........................... <pSpriteList, 2>
  [292] objcall 26 .............................. <pSpriteList[2]>
  [294] pushsymb 39 ............................. <#rect>
  [296] pushint8 1 .............................. <1>
  [298] pusharglist 3 ........................... <pSpriteList[2], #rect, 1>
  [300] objcall 40 .............................. <pSpriteList[2].rect[1]>
  [302] getprop 12 .............................. <pSpriteList>
  [304] pushint8 2 .............................. <2>
  [306] pusharglist 2 ........................... <pSpriteList, 2>
  [308] objcall 26 .............................. <pSpriteList[2]>
  [310] pushsymb 39 ............................. <#rect>
  [312] pushint8 2 .............................. <2>
  [314] pusharglist 3 ........................... <pSpriteList[2], #rect, 2>
  [316] objcall 40 .............................. <pSpriteList[2].rect[2]>
  [318] getlocal 0 .............................. <tLocs>
  [320] pushint8 1 .............................. <1>
  [322] pusharglist 2 ........................... <tLocs, 1>
  [324] objcall 26 .............................. <tLocs[1]>
  [326] pushint8 1 .............................. <1>
  [328] pusharglist 2 ........................... <tLocs[1], 1>
  [330] objcall 26 .............................. <tLocs[1][1]>
  [332] getlocal 0 .............................. <tLocs>
  [334] pushint8 1 .............................. <1>
  [336] pusharglist 2 ........................... <tLocs, 1>
  [338] objcall 26 .............................. <tLocs[1]>
  [340] pushint8 2 .............................. <2>
  [342] pusharglist 2 ........................... <tLocs[1], 2>
  [344] objcall 26 .............................. <tLocs[1][2]>
  [346] pusharglist 4 ........................... <pSpriteList[2].rect[1], pSpriteList[2].rect[2], tLocs[1][1], tLocs[1][2]>
  [348] extcall 39 .............................. <rect(pSpriteList[2].rect[1], pSpriteList[2].rect[2], tLocs[1][1], tLocs[1][2])>
  [350] setobjprop 39 ........................... pSpriteList[2].rect = rect(pSpriteList[2].rect[1], pSpriteList[2].rect[2], tLocs[1][1], tLocs[1][2])
  [352] getprop 12 .............................. <pSpriteList>
  [354] pushint8 5 .............................. <5>
  [356] pusharglist 2 ........................... <pSpriteList, 5>
  [358] objcall 26 .............................. <pSpriteList[5]>
  [360] getprop 12 .............................. <pSpriteList>
  [362] pushint8 5 .............................. <5>
  [364] pusharglist 2 ........................... <pSpriteList, 5>
  [366] objcall 26 .............................. <pSpriteList[5]>
  [368] pushsymb 39 ............................. <#rect>
  [370] pushint8 1 .............................. <1>
  [372] pusharglist 3 ........................... <pSpriteList[5], #rect, 1>
  [374] objcall 40 .............................. <pSpriteList[5].rect[1]>
  [376] getprop 12 .............................. <pSpriteList>
  [378] pushint8 5 .............................. <5>
  [380] pusharglist 2 ........................... <pSpriteList, 5>
  [382] objcall 26 .............................. <pSpriteList[5]>
  [384] pushsymb 39 ............................. <#rect>
  [386] pushint8 2 .............................. <2>
  [388] pusharglist 3 ........................... <pSpriteList[5], #rect, 2>
  [390] objcall 40 .............................. <pSpriteList[5].rect[2]>
  [392] getlocal 0 .............................. <tLocs>
  [394] pushint8 2 .............................. <2>
  [396] pusharglist 2 ........................... <tLocs, 2>
  [398] objcall 26 .............................. <tLocs[2]>
  [400] pushint8 1 .............................. <1>
  [402] pusharglist 2 ........................... <tLocs[2], 1>
  [404] objcall 26 .............................. <tLocs[2][1]>
  [406] getlocal 0 .............................. <tLocs>
  [408] pushint8 2 .............................. <2>
  [410] pusharglist 2 ........................... <tLocs, 2>
  [412] objcall 26 .............................. <tLocs[2]>
  [414] pushint8 2 .............................. <2>
  [416] pusharglist 2 ........................... <tLocs[2], 2>
  [418] objcall 26 .............................. <tLocs[2][2]>
  [420] pusharglist 4 ........................... <pSpriteList[5].rect[1], pSpriteList[5].rect[2], tLocs[2][1], tLocs[2][2]>
  [422] extcall 39 .............................. <rect(pSpriteList[5].rect[1], pSpriteList[5].rect[2], tLocs[2][1], tLocs[2][2])>
  [424] setobjprop 39 ........................... pSpriteList[5].rect = rect(pSpriteList[5].rect[1], pSpriteList[5].rect[2], tLocs[2][1], tLocs[2][2])
  [426] getprop 12 .............................. <pSpriteList>
  [428] pushint8 8 .............................. <8>
  [430] pusharglist 2 ........................... <pSpriteList, 8>
  [432] objcall 26 .............................. <pSpriteList[8]>
  [434] getprop 12 .............................. <pSpriteList>
  [436] pushint8 8 .............................. <8>
  [438] pusharglist 2 ........................... <pSpriteList, 8>
  [440] objcall 26 .............................. <pSpriteList[8]>
  [442] pushsymb 39 ............................. <#rect>
  [444] pushint8 1 .............................. <1>
  [446] pusharglist 3 ........................... <pSpriteList[8], #rect, 1>
  [448] objcall 40 .............................. <pSpriteList[8].rect[1]>
  [450] getprop 12 .............................. <pSpriteList>
  [452] pushint8 8 .............................. <8>
  [454] pusharglist 2 ........................... <pSpriteList, 8>
  [456] objcall 26 .............................. <pSpriteList[8]>
  [458] pushsymb 39 ............................. <#rect>
  [460] pushint8 2 .............................. <2>
  [462] pusharglist 3 ........................... <pSpriteList[8], #rect, 2>
  [464] objcall 40 .............................. <pSpriteList[8].rect[2]>
  [466] getlocal 0 .............................. <tLocs>
  [468] pushint8 3 .............................. <3>
  [470] pusharglist 2 ........................... <tLocs, 3>
  [472] objcall 26 .............................. <tLocs[3]>
  [474] pushint8 1 .............................. <1>
  [476] pusharglist 2 ........................... <tLocs[3], 1>
  [478] objcall 26 .............................. <tLocs[3][1]>
  [480] getlocal 0 .............................. <tLocs>
  [482] pushint8 3 .............................. <3>
  [484] pusharglist 2 ........................... <tLocs, 3>
  [486] objcall 26 .............................. <tLocs[3]>
  [488] pushint8 2 .............................. <2>
  [490] pusharglist 2 ........................... <tLocs[3], 2>
  [492] objcall 26 .............................. <tLocs[3][2]>
  [494] pusharglist 4 ........................... <pSpriteList[8].rect[1], pSpriteList[8].rect[2], tLocs[3][1], tLocs[3][2]>
  [496] extcall 39 .............................. <rect(pSpriteList[8].rect[1], pSpriteList[8].rect[2], tLocs[3][1], tLocs[3][2])>
  [498] setobjprop 39 ........................... pSpriteList[8].rect = rect(pSpriteList[8].rect[1], pSpriteList[8].rect[2], tLocs[3][1], tLocs[3][2])
  [500] ret
end

on switchLights me, tStyle, tTime
  [  0] pushint8 34 ............................. <34>
  [  2] get 7 ................................... <the timer>
  [  4] getprop 16 .............................. <pLightSwitchTimer>
  [  6] getparam 2 .............................. <tTime>
  [  8] pushint8 60 ............................. <60>
  [ 10] mul ..................................... <tTime * 60>
  [ 11] add ..................................... <pLightSwitchTimer + (tTime * 60)>
  [ 12] lt ...................................... <the timer < (pLightSwitchTimer + (tTime * 60))>
  [ 13] jmpifz [ 22] ............................ if the timer < (pLightSwitchTimer + (tTime * 60)) then
  [ 16] pushint8 1 .............................. <1>
  [ 18] pusharglistnoret 1 ...................... <1>
  [ 20] extcall 19 .............................. return 1
  [ 22] pushint8 34 ............................. <34>
  [ 24] get 7 ................................... <the timer>
  [ 26] setprop 16 .............................. pLightSwitchTimer = the timer
  [ 28] getprop 12 .............................. <pSpriteList>
  [ 30] pushint8 1 .............................. <1>
  [ 32] pusharglist 2 ........................... <pSpriteList, 1>
  [ 34] objcall 26 .............................. <pSpriteList[1]>
  [ 36] getobjprop 51 ........................... <pSpriteList[1].visible>
  [ 38] getprop 12 .............................. <pSpriteList>
  [ 40] pushint8 4 .............................. <4>
  [ 42] pusharglist 2 ........................... <pSpriteList, 4>
  [ 44] objcall 26 .............................. <pSpriteList[4]>
  [ 46] getobjprop 51 ........................... <pSpriteList[4].visible>
  [ 48] getprop 12 .............................. <pSpriteList>
  [ 50] pushint8 7 .............................. <7>
  [ 52] pusharglist 2 ........................... <pSpriteList, 7>
  [ 54] objcall 26 .............................. <pSpriteList[7]>
  [ 56] getobjprop 51 ........................... <pSpriteList[7].visible>
  [ 58] pusharglist 3 ........................... <[pSpriteList[1].visible, pSpriteList[4].visible, pSpriteList[7].visible]>
  [ 60] pushlist ................................ <[pSpriteList[1].visible, pSpriteList[4].visible, pSpriteList[7].visible]>
  [ 61] setlocal 0 .............................. tVisibleList = [pSpriteList[1].visible, pSpriteList[4].visible, pSpriteList[7].visible]
  [ 63] getparam 1 .............................. <tStyle>
  [ 65] peek 0 .................................. case tStyle of
  [ 67] pushsymb 32 ............................. <#show1>
  [ 69] eq
  [ 70] jmpifz [208] ............................ (case) #show1:
  [ 73] pushint8 1 .............................. <1>
  [ 75] setlocal 1
  [ 77] getlocal 1
  [ 79] getlocal 0 .............................. <tVisibleList>
  [ 81] getobjprop 52 ........................... <tVisibleList.count>
  [ 83] lteq
  [ 84] jmpifz [205] ............................ repeat with i = 1 to tVisibleList.count
  [ 87] getlocal 0 .............................. <tVisibleList>
  [ 89] getlocal 1 .............................. <i>
  [ 91] pusharglist 2 ........................... <tVisibleList, i>
  [ 93] objcall 26 .............................. <tVisibleList[i]>
  [ 95] jmpifz [196] ............................ if tVisibleList[i] then
  [ 98] getlocal 1 .............................. <i>
  [100] setlocal 2 .............................. tLightStart = i
  [102] getlocal 2 .............................. <tLightStart>
  [104] pushint8 2 .............................. <2>
  [106] gt ...................................... <tLightStart > 2>
  [107] jmpifz [113] ............................ if tLightStart > 2 then
  [110] pushzero ................................ <0>
  [111] setlocal 2 .............................. tLightStart = 0
  [113] getlocal 2 .............................. <tLightStart>
  [115] pushint8 3 .............................. <3>
  [117] mul ..................................... <tLightStart * 3>
  [118] setlocal 2 .............................. tLightStart = tLightStart * 3
  [120] pushint8 1 .............................. <1>
  [122] setlocal 3
  [124] getlocal 3
  [126] pushint8 9 .............................. <9>
  [128] lteq
  [129] jmpifz [196] ............................ repeat with j = 1 to 9
  [132] getlocal 3 .............................. <j>
  [134] getlocal 2 .............................. <tLightStart>
  [136] pushint8 1 .............................. <1>
  [138] add ..................................... <tLightStart + 1>
  [139] eq ...................................... <j = (tLightStart + 1)>
  [140] getlocal 3 .............................. <j>
  [142] getlocal 2 .............................. <tLightStart>
  [144] pushint8 2 .............................. <2>
  [146] add ..................................... <tLightStart + 2>
  [147] eq ...................................... <j = (tLightStart + 2)>
  [148] or ...................................... <(j = (tLightStart + 1)) or (j = (tLightStart + 2))>
  [149] getlocal 3 .............................. <j>
  [151] getlocal 2 .............................. <tLightStart>
  [153] pushint8 3 .............................. <3>
  [155] add ..................................... <tLightStart + 3>
  [156] eq ...................................... <j = (tLightStart + 3)>
  [157] or ...................................... <(j = (tLightStart + 1)) or (j = (tLightStart + 2)) or (j = (tLightStart + 3))>
  [158] jmpifz [176] ............................ if (j = (tLightStart + 1)) or (j = (tLightStart + 2)) or (j = (tLightStart + 3)) then
  [161] getprop 12 .............................. <pSpriteList>
  [163] getlocal 3 .............................. <j>
  [165] pusharglist 2 ........................... <pSpriteList, j>
  [167] objcall 26 .............................. <pSpriteList[j]>
  [169] pushint8 1 .............................. <1>
  [171] setobjprop 51 ........................... pSpriteList[j].visible = 1
  [173] jmp [187] ............................... next repeat
  [176] getprop 12 .............................. <pSpriteList>
  [178] getlocal 3 .............................. <j>
  [180] pusharglist 2 ........................... <pSpriteList, j>
  [182] objcall 26 .............................. <pSpriteList[j]>
  [184] pushzero ................................ <0>
  [185] setobjprop 51 ........................... pSpriteList[j].visible = 0
  [187] pushint8 1
  [189] getlocal 3
  [191] add
  [192] setlocal 3
  [194] endrepeat [124]
  [196] pushint8 1
  [198] getlocal 1
  [200] add
  [201] setlocal 1
  [203] endrepeat [ 77]
  [205] jmp [304]
  [208] peek 0
  [210] pushsymb 34 ............................. <#blink>
  [212] eq
  [213] jmpifz [263] ............................ (case) #blink:
  [216] getlocal 0 .............................. <tVisibleList>
  [218] pushint8 1 .............................. <1>
  [220] pusharglist 2 ........................... <tVisibleList, 1>
  [222] objcall 26 .............................. <tVisibleList[1]>
  [224] not ..................................... <not tVisibleList[1]>
  [225] setlocal 4 .............................. tShow = not tVisibleList[1]
  [227] pushint8 1 .............................. <1>
  [229] setlocal 3
  [231] getlocal 3
  [233] pushint8 9 .............................. <9>
  [235] lteq
  [236] jmpifz [260] ............................ repeat with j = 1 to 9
  [239] getprop 12 .............................. <pSpriteList>
  [241] getlocal 3 .............................. <j>
  [243] pusharglist 2 ........................... <pSpriteList, j>
  [245] objcall 26 .............................. <pSpriteList[j]>
  [247] getlocal 4 .............................. <tShow>
  [249] setobjprop 51 ........................... pSpriteList[j].visible = tShow
  [251] pushint8 1
  [253] getlocal 3
  [255] add
  [256] setlocal 3
  [258] endrepeat [231]
  [260] jmp [304]
  [263] peek 0
  [265] pushsymb 33 ............................. <#showAll>
  [267] eq
  [268] jmpifz [304] ............................ (case) #showAll:
  [271] pushint8 1 .............................. <1>
  [273] setlocal 3
  [275] getlocal 3
  [277] pushint8 9 .............................. <9>
  [279] lteq
  [280] jmpifz [304] ............................ repeat with j = 1 to 9
  [283] getprop 12 .............................. <pSpriteList>
  [285] getlocal 3 .............................. <j>
  [287] pusharglist 2 ........................... <pSpriteList, j>
  [289] objcall 26 .............................. <pSpriteList[j]>
  [291] pushint8 1 .............................. <1>
  [293] setobjprop 51 ........................... pSpriteList[j].visible = 1
  [295] pushint8 1
  [297] getlocal 3
  [299] add
  [300] setlocal 3
  [302] endrepeat [275]
  [304] pop 1 ................................... end case
  [306] ret
end

on getSpriteList me
  [  0] pusharglist 0 ........................... <[]>
  [  2] pushlist ................................ <[]>
  [  3] setprop 12 .............................. pSpriteList = []
  [  5] pushsymb 61 ............................. <#room>
  [  7] pusharglist 1 ........................... <#room>
  [  9] extcall 60 .............................. <getThread(#room)>
  [ 11] pusharglist 1 ........................... <getThread(#room)>
  [ 13] objcall 62 .............................. <getThread(#room).getInterface()>
  [ 15] pusharglist 1 ........................... <getThread(#room).getInterface()>
  [ 17] objcall 63 .............................. <getThread(#room).getInterface().getRoomVisualizer()>
  [ 19] setlocal 0 .............................. tObj = getThread(#room).getInterface().getRoomVisualizer()
  [ 21] getlocal 0 .............................. <tObj>
  [ 23] pushzero ................................ <0>
  [ 24] eq ...................................... <tObj = 0>
  [ 25] jmpifz [ 33] ............................ if tObj = 0 then
  [ 28] pushzero ................................ <0>
  [ 29] pusharglistnoret 1 ...................... <0>
  [ 31] extcall 19 .............................. return 0
  [ 33] pushint8 1 .............................. <1>
  [ 35] setlocal 1
  [ 37] getlocal 1
  [ 39] pushint8 3 .............................. <3>
  [ 41] lteq
  [ 42] jmpifz [142] ............................ repeat with i = 1 to 3
  [ 45] getlocal 0 .............................. <tObj>
  [ 47] pushcons 2 .............................. <"orient_bulb">
  [ 49] getlocal 1 .............................. <i>
  [ 51] joinstr ................................. <"orient_bulb" & i>
  [ 52] pusharglist 2 ........................... <tObj, "orient_bulb" & i>
  [ 54] objcall 64 .............................. <tObj.getSprById("orient_bulb" & i)>
  [ 56] setlocal 2 .............................. tSp1 = tObj.getSprById("orient_bulb" & i)
  [ 58] getlocal 0 .............................. <tObj>
  [ 60] pushcons 3 .............................. <"orient_light">
  [ 62] getlocal 1 .............................. <i>
  [ 64] joinstr ................................. <"orient_light" & i>
  [ 65] pusharglist 2 ........................... <tObj, "orient_light" & i>
  [ 67] objcall 64 .............................. <tObj.getSprById("orient_light" & i)>
  [ 69] setlocal 3 .............................. tSp2 = tObj.getSprById("orient_light" & i)
  [ 71] getlocal 0 .............................. <tObj>
  [ 73] pushcons 4 .............................. <"orient_spot">
  [ 75] getlocal 1 .............................. <i>
  [ 77] joinstr ................................. <"orient_spot" & i>
  [ 78] pusharglist 2 ........................... <tObj, "orient_spot" & i>
  [ 80] objcall 64 .............................. <tObj.getSprById("orient_spot" & i)>
  [ 82] setlocal 4 .............................. tSp3 = tObj.getSprById("orient_spot" & i)
  [ 84] getlocal 2 .............................. <tSp1>
  [ 86] pushint8 1 .............................. <1>
  [ 88] lt ...................................... <tSp1 < 1>
  [ 89] getlocal 3 .............................. <tSp2>
  [ 91] pushint8 1 .............................. <1>
  [ 93] lt ...................................... <tSp2 < 1>
  [ 94] or ...................................... <(tSp1 < 1) or (tSp2 < 1)>
  [ 95] getlocal 4 .............................. <tSp3>
  [ 97] pushint8 1 .............................. <1>
  [ 99] lt ...................................... <tSp3 < 1>
  [100] or ...................................... <(tSp1 < 1) or (tSp2 < 1) or (tSp3 < 1)>
  [101] jmpifz [109] ............................ if (tSp1 < 1) or (tSp2 < 1) or (tSp3 < 1) then
  [104] pushzero ................................ <0>
  [105] pusharglistnoret 1 ...................... <0>
  [107] extcall 19 .............................. return 0
  [109] getprop 12 .............................. <pSpriteList>
  [111] getlocal 2 .............................. <tSp1>
  [113] pusharglistnoret 2 ...................... <pSpriteList, tSp1>
  [115] objcall 65 .............................. pSpriteList.add(tSp1)
  [117] getprop 12 .............................. <pSpriteList>
  [119] getlocal 3 .............................. <tSp2>
  [121] pusharglistnoret 2 ...................... <pSpriteList, tSp2>
  [123] objcall 65 .............................. pSpriteList.add(tSp2)
  [125] getprop 12 .............................. <pSpriteList>
  [127] getlocal 4 .............................. <tSp3>
  [129] pusharglistnoret 2 ...................... <pSpriteList, tSp3>
  [131] objcall 65 .............................. pSpriteList.add(tSp3)
  [133] pushint8 1
  [135] getlocal 1
  [137] add
  [138] setlocal 1
  [140] endrepeat [ 37]
  [142] getlocal 0 .............................. <tObj>
  [144] pushcons 5 .............................. <"orient_shower">
  [146] pusharglist 2 ........................... <tObj, "orient_shower">
  [148] objcall 64 .............................. <tObj.getSprById("orient_shower")>
  [150] setlocal 2 .............................. tSp1 = tObj.getSprById("orient_shower")
  [152] getlocal 0 .............................. <tObj>
  [154] pushcons 6 .............................. <"orient_bubbles1">
  [156] pusharglist 2 ........................... <tObj, "orient_bubbles1">
  [158] objcall 64 .............................. <tObj.getSprById("orient_bubbles1")>
  [160] setlocal 3 .............................. tSp2 = tObj.getSprById("orient_bubbles1")
  [162] getlocal 0 .............................. <tObj>
  [164] pushcons 7 .............................. <"orient_bubbles2">
  [166] pusharglist 2 ........................... <tObj, "orient_bubbles2">
  [168] objcall 64 .............................. <tObj.getSprById("orient_bubbles2")>
  [170] setlocal 4 .............................. tSp3 = tObj.getSprById("orient_bubbles2")
  [172] getlocal 2 .............................. <tSp1>
  [174] pushint8 1 .............................. <1>
  [176] lt ...................................... <tSp1 < 1>
  [177] getlocal 3 .............................. <tSp2>
  [179] pushint8 1 .............................. <1>
  [181] lt ...................................... <tSp2 < 1>
  [182] or ...................................... <(tSp1 < 1) or (tSp2 < 1)>
  [183] getlocal 4 .............................. <tSp3>
  [185] pushint8 1 .............................. <1>
  [187] lt ...................................... <tSp3 < 1>
  [188] or ...................................... <(tSp1 < 1) or (tSp2 < 1) or (tSp3 < 1)>
  [189] jmpifz [197] ............................ if (tSp1 < 1) or (tSp2 < 1) or (tSp3 < 1) then
  [192] pushzero ................................ <0>
  [193] pusharglistnoret 1 ...................... <0>
  [195] extcall 19 .............................. return 0
  [197] getprop 12 .............................. <pSpriteList>
  [199] getlocal 2 .............................. <tSp1>
  [201] pusharglistnoret 2 ...................... <pSpriteList, tSp1>
  [203] objcall 65 .............................. pSpriteList.add(tSp1)
  [205] getprop 12 .............................. <pSpriteList>
  [207] getlocal 3 .............................. <tSp2>
  [209] pusharglistnoret 2 ...................... <pSpriteList, tSp2>
  [211] objcall 65 .............................. pSpriteList.add(tSp2)
  [213] getprop 12 .............................. <pSpriteList>
  [215] getlocal 4 .............................. <tSp3>
  [217] pusharglistnoret 2 ...................... <pSpriteList, tSp3>
  [219] objcall 65 .............................. pSpriteList.add(tSp3)
  [221] getprop 12 .............................. <pSpriteList>
  [223] pushint8 3 .............................. <3>
  [225] pusharglist 2 ........................... <pSpriteList, 3>
  [227] objcall 26 .............................. <pSpriteList[3]>
  [229] getobjprop 37 ........................... <pSpriteList[3].loc>
  [231] getprop 12 .............................. <pSpriteList>
  [233] pushint8 6 .............................. <6>
  [235] pusharglist 2 ........................... <pSpriteList, 6>
  [237] objcall 26 .............................. <pSpriteList[6]>
  [239] getobjprop 37 ........................... <pSpriteList[6].loc>
  [241] getprop 12 .............................. <pSpriteList>
  [243] pushint8 9 .............................. <9>
  [245] pusharglist 2 ........................... <pSpriteList, 9>
  [247] objcall 26 .............................. <pSpriteList[9]>
  [249] getobjprop 37 ........................... <pSpriteList[9].loc>
  [251] pushint8 10 ............................. <10>
  [253] pushzero ................................ <0>
  [254] pusharglist 2 ........................... <10, 0>
  [256] extcall 31 .............................. <point(10, 0)>
  [258] add ..................................... <pSpriteList[9].loc + point(10, 0)>
  [259] getprop 12 .............................. <pSpriteList>
  [261] pushint8 11 ............................. <11>
  [263] pusharglist 2 ........................... <pSpriteList, 11>
  [265] objcall 26 .............................. <pSpriteList[11]>
  [267] getobjprop 37 ........................... <pSpriteList[11].loc>
  [269] getprop 12 .............................. <pSpriteList>
  [271] pushint8 12 ............................. <12>
  [273] pusharglist 2 ........................... <pSpriteList, 12>
  [275] objcall 26 .............................. <pSpriteList[12]>
  [277] getobjprop 37 ........................... <pSpriteList[12].loc>
  [279] pusharglist 5 ........................... <[pSpriteList[3].loc, pSpriteList[6].loc, pSpriteList[9].loc + point(10, 0), pSpriteList[11].loc, pSpriteList[12].loc]>
  [281] pushlist ................................ <[pSpriteList[3].loc, pSpriteList[6].loc, pSpriteList[9].loc + point(10, 0), pSpriteList[11].loc, pSpriteList[12].loc]>
  [282] setprop 13 .............................. pOrigLocs = [pSpriteList[3].loc, pSpriteList[6].loc, pSpriteList[9].loc + point(10, 0), pSpriteList[11].loc, pSpriteList[12].loc]
  [284] pushint8 1 .............................. <1>
  [286] setlocal 1
  [288] getlocal 1
  [290] getprop 12 .............................. <pSpriteList>
  [292] getobjprop 52 ........................... <pSpriteList.count>
  [294] lteq
  [295] jmpifz [321] ............................ repeat with i = 1 to pSpriteList.count
  [298] getprop 12 .............................. <pSpriteList>
  [300] getlocal 1 .............................. <i>
  [302] pusharglist 2 ........................... <pSpriteList, i>
  [304] objcall 26 .............................. <pSpriteList[i]>
  [306] getobjprop 67 ........................... <pSpriteList[i].spriteNum>
  [308] pusharglistnoret 1 ...................... <pSpriteList[i].spriteNum>
  [310] extcall 66 .............................. removeEventBroker(pSpriteList[i].spriteNum)
  [312] pushint8 1
  [314] getlocal 1
  [316] add
  [317] setlocal 1
  [319] endrepeat [288]
  [321] pushint8 1 .............................. <1>
  [323] pusharglistnoret 1 ...................... <1>
  [325] extcall 19 .............................. return 1
  [327] ret
end

on updateFountain me
  [  0] getprop 12 .............................. <pSpriteList>
  [  2] pusharglist 0 ........................... <[]>
  [  4] pushlist ................................ <[]>
  [  5] eq ...................................... <pSpriteList = []>
  [  6] jmpifz [ 14] ............................ if pSpriteList = [] then
  [  9] pushzero ................................ <0>
  [ 10] pusharglistnoret 1 ...................... <0>
  [ 12] extcall 19 .............................. return 0
  [ 14] getprop 12 .............................. <pSpriteList>
  [ 16] pushint8 10 ............................. <10>
  [ 18] pusharglist 2 ........................... <pSpriteList, 10>
  [ 20] objcall 26 .............................. <pSpriteList[10]>
  [ 22] setlocal 0 .............................. tShowerSprite = pSpriteList[10]
  [ 24] getprop 12 .............................. <pSpriteList>
  [ 26] pushint8 11 ............................. <11>
  [ 28] pusharglist 2 ........................... <pSpriteList, 11>
  [ 30] objcall 26 .............................. <pSpriteList[11]>
  [ 32] setlocal 1 .............................. tBubbleSprite1 = pSpriteList[11]
  [ 34] getprop 12 .............................. <pSpriteList>
  [ 36] pushint8 12 ............................. <12>
  [ 38] pusharglist 2 ........................... <pSpriteList, 12>
  [ 40] objcall 26 .............................. <pSpriteList[12]>
  [ 42] setlocal 2 .............................. tBubbleSprite2 = pSpriteList[12]
  [ 44] getprop 18 .............................. <pFountainFrame>
  [ 46] pushint8 1 .............................. <1>
  [ 48] add ..................................... <pFountainFrame + 1>
  [ 49] setprop 18 .............................. pFountainFrame = pFountainFrame + 1
  [ 51] getprop 18 .............................. <pFountainFrame>
  [ 53] pushint8 4 .............................. <4>
  [ 55] gt ...................................... <pFountainFrame > 4>
  [ 56] jmpifz [ 63] ............................ if pFountainFrame > 4 then
  [ 59] pushint8 1 .............................. <1>
  [ 61] setprop 18 .............................. pFountainFrame = 1
  [ 63] pushcons 5 .............................. <"orient_shower">
  [ 65] getprop 18 .............................. <pFountainFrame>
  [ 67] joinstr ................................. <"orient_shower" & pFountainFrame>
  [ 68] pusharglist 1 ........................... <"orient_shower" & pFountainFrame>
  [ 70] extcall 72 .............................. <getMember("orient_shower" & pFountainFrame)>
  [ 72] setlocal 3 .............................. tMem = getMember("orient_shower" & pFountainFrame)
  [ 74] getlocal 0 .............................. <tShowerSprite>
  [ 76] getlocal 3 .............................. <tMem>
  [ 78] setobjprop 73 ........................... tShowerSprite.member = tMem
  [ 80] getlocal 0 .............................. <tShowerSprite>
  [ 82] getlocal 3 .............................. <tMem>
  [ 84] getobjprop 38 ........................... <tMem.width>
  [ 86] setobjprop 38 ........................... tShowerSprite.width = tMem.width
  [ 88] getlocal 0 .............................. <tShowerSprite>
  [ 90] getlocal 3 .............................. <tMem>
  [ 92] getobjprop 74 ........................... <tMem.height>
  [ 94] setobjprop 74 ........................... tShowerSprite.height = tMem.height
  [ 96] getlocal 1 .............................. <tBubbleSprite1>
  [ 98] getprop 13 .............................. <pOrigLocs>
  [100] pushint8 4 .............................. <4>
  [102] pusharglist 2 ........................... <pOrigLocs, 4>
  [104] objcall 26 .............................. <pOrigLocs[4]>
  [106] pushint8 2 .............................. <2>
  [108] pushint8 3 .............................. <3>
  [110] pusharglist 1 ........................... <3>
  [112] extcall 75 .............................. <random(3)>
  [114] sub ..................................... <2 - random(3)>
  [115] pushint8 2 .............................. <2>
  [117] pushint8 3 .............................. <3>
  [119] pusharglist 1 ........................... <3>
  [121] extcall 75 .............................. <random(3)>
  [123] sub ..................................... <2 - random(3)>
  [124] pusharglist 2 ........................... <2 - random(3), 2 - random(3)>
  [126] extcall 31 .............................. <point(2 - random(3), 2 - random(3))>
  [128] add ..................................... <pOrigLocs[4] + point(2 - random(3), 2 - random(3))>
  [129] setobjprop 37 ........................... tBubbleSprite1.loc = pOrigLocs[4] + point(2 - random(3), 2 - random(3))
  [131] getlocal 2 .............................. <tBubbleSprite2>
  [133] getprop 13 .............................. <pOrigLocs>
  [135] pushint8 5 .............................. <5>
  [137] pusharglist 2 ........................... <pOrigLocs, 5>
  [139] objcall 26 .............................. <pOrigLocs[5]>
  [141] pushint8 2 .............................. <2>
  [143] pushint8 3 .............................. <3>
  [145] pusharglist 1 ........................... <3>
  [147] extcall 75 .............................. <random(3)>
  [149] sub ..................................... <2 - random(3)>
  [150] pushint8 2 .............................. <2>
  [152] pushint8 3 .............................. <3>
  [154] pusharglist 1 ........................... <3>
  [156] extcall 75 .............................. <random(3)>
  [158] sub ..................................... <2 - random(3)>
  [159] pusharglist 2 ........................... <2 - random(3), 2 - random(3)>
  [161] extcall 31 .............................. <point(2 - random(3), 2 - random(3))>
  [163] add ..................................... <pOrigLocs[5] + point(2 - random(3), 2 - random(3))>
  [164] setobjprop 37 ........................... tBubbleSprite2.loc = pOrigLocs[5] + point(2 - random(3), 2 - random(3))
  [166] pushint8 1 .............................. <1>
  [168] pusharglistnoret 1 ...................... <1>
  [170] extcall 19 .............................. return 1
  [172] ret
end
