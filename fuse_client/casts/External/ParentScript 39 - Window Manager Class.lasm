property pLockLocZ, pDefLocX, pDefLocY, pClsList, pModalID, pLastEventData

on construct me
  [  0] pusharglist 0 ........................... <[:]>
  [  2] pushproplist ............................ <[:]>
  [  3] setprop 986 ............................. pLastEventData = [:]
  [  6] pushzero ................................ <0>
  [  7] setprop 987 ............................. pLockLocZ = 0
  [ 10] pushcons 0 .............................. <"window.default.locx">
  [ 12] pushint8 100 ............................ <100>
  [ 14] pusharglist 2 ........................... <"window.default.locx", 100>
  [ 16] extcall 373 ............................. <getIntVariable("window.default.locx", 100)>
  [ 19] setprop 988 ............................. pDefLocX = getIntVariable("window.default.locx", 100)
  [ 22] pushcons 1 .............................. <"window.default.locy">
  [ 24] pushint8 100 ............................ <100>
  [ 26] pusharglist 2 ........................... <"window.default.locy", 100>
  [ 28] extcall 373 ............................. <getIntVariable("window.default.locy", 100)>
  [ 31] setprop 989 ............................. pDefLocY = getIntVariable("window.default.locy", 100)
  [ 34] getparam 0 .............................. <me>
  [ 36] pusharglist 0 ........................... <[]>
  [ 38] pushlist ................................ <[]>
  [ 39] setobjprop 641 .......................... me.pItemList = []
  [ 42] getparam 0 .............................. <me>
  [ 44] pusharglist 0 ........................... <[]>
  [ 46] pushlist ................................ <[]>
  [ 47] setobjprop 966 .......................... me.pHideList = []
  [ 50] getparam 0 .............................. <me>
  [ 52] pushsymb 981 ............................ <#defaultLocZ>
  [ 55] pushcons 2 .............................. <"window.default.locz">
  [ 57] pushzero ................................ <0>
  [ 58] pusharglist 2 ........................... <"window.default.locz", 0>
  [ 60] extcall 373 ............................. <getIntVariable("window.default.locz", 0)>
  [ 63] pusharglistnoret 3 ...................... <me, #defaultLocZ, getIntVariable("window.default.locz", 0)>
  [ 65] objcall 711 ............................. me.setProperty(#defaultLocZ, getIntVariable("window.default.locz", 0))
  [ 68] getparam 0 .............................. <me>
  [ 70] pushzero ................................ <0>
  [ 71] pushzero ................................ <0>
  [ 72] getmovieprop 970 ........................ <the stage>
  [ 75] getchainedprop 971 ...................... <(the stage).sourceRect>
  [ 78] getobjprop 42 ........................... <(the stage).sourceRect.width>
  [ 80] getmovieprop 970 ........................ <the stage>
  [ 83] getchainedprop 971 ...................... <(the stage).sourceRect>
  [ 86] getobjprop 43 ........................... <(the stage).sourceRect.height>
  [ 88] pusharglist 4 ........................... <0, 0, (the stage).sourceRect.width, (the stage).sourceRect.height>
  [ 90] extcall 557 ............................. <rect(0, 0, (the stage).sourceRect.width, (the stage).sourceRect.height)>
  [ 93] pushcons 3 .............................. <"window.boundary.limit">
  [ 95] pusharglist 1 ........................... <"window.boundary.limit">
  [ 97] extcall 375 ............................. <getVariableValue("window.boundary.limit")>
  [100] add ..................................... <rect(0, 0, (the stage).sourceRect.width, (the stage).sourceRect.height) + getVariableValue("window.boundary.limit")>
  [101] setobjprop 969 .......................... me.pBoundary = rect(0, 0, (the stage).sourceRect.width, (the stage).sourceRect.height) + getVariableValue("window.boundary.limit")
  [104] getparam 0 .............................. <me>
  [106] pushcons 4 .............................. <"window.instance.class">
  [108] pusharglist 1 ........................... <"window.instance.class">
  [110] extcall 155 ............................. <getClassVariable("window.instance.class")>
  [112] setobjprop 963 .......................... me.pInstanceClass = getClassVariable("window.instance.class")
  [115] pusharglist 0 ........................... <[:]>
  [117] pushproplist ............................ <[:]>
  [118] setprop 990 ............................. pClsList = [:]
  [121] pushsymb 688 ............................ <#modal>
  [124] setprop 991 ............................. pModalID = #modal
  [127] getprop 990 ............................. <pClsList>
  [130] pushsymb 992 ............................ <#wrapper>
  [133] pushcons 5 .............................. <"window.wrapper.class">
  [135] pusharglist 1 ........................... <"window.wrapper.class">
  [137] extcall 155 ............................. <getClassVariable("window.wrapper.class")>
  [139] pusharglistnoret 3 ...................... <pClsList, #wrapper, getClassVariable("window.wrapper.class")>
  [141] objcall 24 .............................. pClsList[#wrapper] = getClassVariable("window.wrapper.class")
  [143] getprop 990 ............................. <pClsList>
  [146] pushsymb 993 ............................ <#unique>
  [149] pushcons 6 .............................. <"window.unique.class">
  [151] pusharglist 1 ........................... <"window.unique.class">
  [153] extcall 155 ............................. <getClassVariable("window.unique.class")>
  [155] pusharglistnoret 3 ...................... <pClsList, #unique, getClassVariable("window.unique.class")>
  [157] objcall 24 .............................. pClsList[#unique] = getClassVariable("window.unique.class")
  [159] getprop 990 ............................. <pClsList>
  [162] pushsymb 994 ............................ <#grouped>
  [165] pushcons 7 .............................. <"window.grouped.class">
  [167] pusharglist 1 ........................... <"window.grouped.class">
  [169] extcall 155 ............................. <getClassVariable("window.grouped.class")>
  [171] pusharglistnoret 3 ...................... <pClsList, #grouped, getClassVariable("window.grouped.class")>
  [173] objcall 24 .............................. pClsList[#grouped] = getClassVariable("window.grouped.class")
  [175] pushcons 8 .............................. <"null">
  [177] pusharglist 1 ........................... <"null">
  [179] extcall 170 ............................. <memberExists("null")>
  [181] not ..................................... <not memberExists("null")>
  [182] jmpifz [236] ............................ if not memberExists("null") then
  [185] pushcons 8 .............................. <"null">
  [187] pushsymb 724 ............................ <#bitmap>
  [190] pusharglist 2 ........................... <"null", #bitmap>
  [192] extcall 164 ............................. <createMember("null", #bitmap)>
  [194] pusharglist 1 ........................... <createMember("null", #bitmap)>
  [196] extcall 41 .............................. <member(createMember("null", #bitmap))>
  [198] setlocal 0 .............................. tNull = member(createMember("null", #bitmap))
  [200] getlocal 0 .............................. <tNull>
  [202] pushint8 1 .............................. <1>
  [204] pushint8 1 .............................. <1>
  [206] pushint8 8 .............................. <8>
  [208] pusharglist 3 ........................... <1, 1, 8>
  [210] extcall 502 ............................. <image(1, 1, 8)>
  [213] setobjprop 502 .......................... tNull.image = image(1, 1, 8)
  [216] getlocal 0 .............................. <tNull>
  [218] getchainedprop 502 ...................... <tNull.image>
  [221] pushzero ................................ <0>
  [222] pushzero ................................ <0>
  [223] pushzero ................................ <0>
  [224] pushzero ................................ <0>
  [225] pushzero ................................ <0>
  [226] pusharglist 3 ........................... <0, 0, 0>
  [228] extcall 578 ............................. <rgb(0, 0, 0)>
  [231] pusharglistnoret 4 ...................... <tNull.image, 0, 0, rgb(0, 0, 0)>
  [233] objcall 579 ............................. tNull.image.setPixel(0, 0, rgb(0, 0, 0))
  [236] pushsymb 459 ............................ <#layout_parser>
  [239] pusharglist 1 ........................... <#layout_parser>
  [241] extcall 67 .............................. <objectExists(#layout_parser)>
  [243] not ..................................... <not objectExists(#layout_parser)>
  [244] jmpifz [260] ............................ if not objectExists(#layout_parser) then
  [247] pushsymb 459 ............................ <#layout_parser>
  [250] pushcons 9 .............................. <"layout.parser.class">
  [252] pusharglist 1 ........................... <"layout.parser.class">
  [254] extcall 155 ............................. <getClassVariable("layout.parser.class")>
  [256] pusharglistnoret 2 ...................... <#layout_parser, getClassVariable("layout.parser.class")>
  [258] extcall 94 .............................. createObject(#layout_parser, getClassVariable("layout.parser.class"))
  [260] pushint8 1 .............................. <1>
  [262] pusharglistnoret 1 ...................... <1>
  [264] extcall 25 .............................. return 1
  [266] ret
end

on create me, tid, tLayout, tLocX, tLocY, tSpecial
  [  0] getparam 5 .............................. <tSpecial>
  [  2] peek 0 .................................. case tSpecial of
  [  4] pushsymb 688 ............................ <#modal>
  [  7] eq
  [  8] jmpifz [ 31] ............................ (case) #modal:
  [ 11] pop 1
  [ 13] getparam 0 .............................. <me>
  [ 15] getparam 1 .............................. <tid>
  [ 17] getparam 2 .............................. <tLayout>
  [ 19] pusharglist 3 ........................... <me, tid, tLayout>
  [ 21] objcall 688 ............................. <me.modal(tid, tLayout)>
  [ 24] pusharglistnoret 1 ...................... <me.modal(tid, tLayout)>
  [ 26] extcall 25 .............................. return me.modal(tid, tLayout)
  [ 28] jmp [ 60]
  [ 31] peek 0
  [ 33] pushsymb 996 ............................ <#modalcorner>
  [ 36] eq
  [ 37] jmpifz [ 60] ............................ (case) #modalcorner:
  [ 40] pop 1
  [ 42] getparam 0 .............................. <me>
  [ 44] getparam 1 .............................. <tid>
  [ 46] getparam 2 .............................. <tLayout>
  [ 48] pushsymb 997 ............................ <#corner>
  [ 51] pusharglist 4 ........................... <me, tid, tLayout, #corner>
  [ 53] objcall 688 ............................. <me.modal(tid, tLayout, #corner)>
  [ 56] pusharglistnoret 1 ...................... <me.modal(tid, tLayout, #corner)>
  [ 58] extcall 25 .............................. return me.modal(tid, tLayout, #corner)
  [ 60] pop 1 ................................... end case
  [ 62] getparam 2 .............................. <tLayout>
  [ 64] pusharglist 1 ........................... <tLayout>
  [ 66] extcall 20 .............................. <voidp(tLayout)>
  [ 68] jmpifz [ 75] ............................ if voidp(tLayout) then
  [ 71] pushcons 10 ............................. <"empty.window">
  [ 73] setparam 2 .............................. tLayout = "empty.window"
  [ 75] getparam 0 .............................. <me>
  [ 77] getparam 1 .............................. <tid>
  [ 79] pusharglist 2 ........................... <me, tid>
  [ 81] objcall 88 .............................. <me.exists(tid)>
  [ 83] jmpifz [148] ............................ if me.exists(tid) then
  [ 86] getparam 3 .............................. <tLocX>
  [ 88] pusharglist 1 ........................... <tLocX>
  [ 90] extcall 20 .............................. <voidp(tLocX)>
  [ 92] jmpifz [113] ............................ if voidp(tLocX) then
  [ 95] getparam 0 .............................. <me>
  [ 97] getparam 1 .............................. <tid>
  [ 99] pusharglist 2 ........................... <me, tid>
  [101] objcall 90 .............................. <me.get(tid)>
  [103] pushsymb 540 ............................ <#locX>
  [106] pusharglist 2 ........................... <me.get(tid), #locX>
  [108] objcall 444 ............................. <me.get(tid).getProperty(#locX)>
  [111] setparam 3 .............................. tLocX = me.get(tid).getProperty(#locX)
  [113] getparam 4 .............................. <tLocY>
  [115] pusharglist 1 ........................... <tLocY>
  [117] extcall 20 .............................. <voidp(tLocY)>
  [119] jmpifz [140] ............................ if voidp(tLocY) then
  [122] getparam 0 .............................. <me>
  [124] getparam 1 .............................. <tid>
  [126] pusharglist 2 ........................... <me, tid>
  [128] objcall 90 .............................. <me.get(tid)>
  [130] pushsymb 541 ............................ <#locY>
  [133] pusharglist 2 ........................... <me.get(tid), #locY>
  [135] objcall 444 ............................. <me.get(tid).getProperty(#locY)>
  [138] setparam 4 .............................. tLocY = me.get(tid).getProperty(#locY)
  [140] getparam 0 .............................. <me>
  [142] getparam 1 .............................. <tid>
  [144] pusharglistnoret 2 ...................... <me, tid>
  [146] objcall 125 ............................. me.Remove(tid)
  [148] getparam 3 .............................. <tLocX>
  [150] pusharglist 1 ........................... <tLocX>
  [152] extcall 683 ............................. <integerp(tLocX)>
  [155] getparam 4 .............................. <tLocY>
  [157] pusharglist 1 ........................... <tLocY>
  [159] extcall 683 ............................. <integerp(tLocY)>
  [162] and ..................................... <integerp(tLocX) and integerp(tLocY)>
  [163] jmpifz [177] ............................ if integerp(tLocX) and integerp(tLocY) then / else
  [166] getparam 3 .............................. <tLocX>
  [168] setlocal 0 .............................. tX = tLocX
  [170] getparam 4 .............................. <tLocY>
  [172] setlocal 1 .............................. tY = tLocY
  [174] jmp [250]
  [177] getparam 0 .............................. <me>
  [179] pushsymb 965 ............................ <#pPosCache>
  [182] getparam 1 .............................. <tid>
  [184] pusharglist 3 ........................... <me, #pPosCache, tid>
  [186] objcall 290 ............................. <me.pPosCache[tid]>
  [189] pusharglist 1 ........................... <me.pPosCache[tid]>
  [191] extcall 20 .............................. <voidp(me.pPosCache[tid])>
  [193] not ..................................... <not voidp(me.pPosCache[tid])>
  [194] jmpifz [240] ............................ if not voidp(me.pPosCache[tid]) then / else
  [197] getparam 0 .............................. <me>
  [199] pushsymb 965 ............................ <#pPosCache>
  [202] getparam 1 .............................. <tid>
  [204] pusharglist 3 ........................... <me, #pPosCache, tid>
  [206] objcall 288 ............................. <me.pPosCache[tid]>
  [209] pushint8 1 .............................. <1>
  [211] pusharglist 2 ........................... <me.pPosCache[tid], 1>
  [213] objcall 54 .............................. <me.pPosCache[tid][1]>
  [215] setlocal 0 .............................. tX = me.pPosCache[tid][1]
  [217] getparam 0 .............................. <me>
  [219] pushsymb 965 ............................ <#pPosCache>
  [222] getparam 1 .............................. <tid>
  [224] pusharglist 3 ........................... <me, #pPosCache, tid>
  [226] objcall 288 ............................. <me.pPosCache[tid]>
  [229] pushint8 2 .............................. <2>
  [231] pusharglist 2 ........................... <me.pPosCache[tid], 2>
  [233] objcall 54 .............................. <me.pPosCache[tid][2]>
  [235] setlocal 1 .............................. tY = me.pPosCache[tid][2]
  [237] jmp [250]
  [240] getprop 988 ............................. <pDefLocX>
  [243] setlocal 0 .............................. tX = pDefLocX
  [245] getprop 989 ............................. <pDefLocY>
  [248] setlocal 1 .............................. tY = pDefLocY
  [250] pusharglist 0 ........................... <>
  [252] extcall 93 .............................. <getObjectManager()>
  [254] getparam 1 .............................. <tid>
  [256] getparam 0 .............................. <me>
  [258] getobjprop 963 .......................... <me.pInstanceClass>
  [261] pusharglist 3 ........................... <getObjectManager(), tid, me.pInstanceClass>
  [263] objcall 81 .............................. <getObjectManager().create(tid, me.pInstanceClass)>
  [265] setlocal 2 .............................. tItem = getObjectManager().create(tid, me.pInstanceClass)
  [267] getlocal 2 .............................. <tItem>
  [269] not ..................................... <not tItem>
  [270] jmpifz [293] ............................ if not tItem then
  [273] getparam 0 .............................. <me>
  [275] pushcons 11 ............................. <"Failed to create window object:">
  [277] getparam 1 .............................. <tid>
  [279] joinpadstr .............................. <"Failed to create window object:" && tid>
  [280] pushsymb 81 ............................. <#create>
  [282] pushsymb 972 ............................ <#major>
  [285] pusharglist 4 ........................... <me, "Failed to create window object:" && tid, #create, #major>
  [287] extcall 39 .............................. <error(me, "Failed to create window object:" && tid, #create, #major)>
  [289] pusharglistnoret 1 ...................... <error(me, "Failed to create window object:" && tid, #create, #major)>
  [291] extcall 25 .............................. return error(me, "Failed to create window object:" && tid, #create, #major)
  [293] pusharglist 0 ........................... <[:]>
  [295] pushproplist ............................ <[:]>
  [296] setlocal 3 .............................. tProps = [:]
  [298] getlocal 3 .............................. <tProps>
  [300] pushsymb 540 ............................ <#locX>
  [303] getlocal 0 .............................. <tX>
  [305] pusharglistnoret 3 ...................... <tProps, #locX, tX>
  [307] objcall 24 .............................. tProps[#locX] = tX
  [309] getlocal 3 .............................. <tProps>
  [311] pushsymb 541 ............................ <#locY>
  [314] getlocal 1 .............................. <tY>
  [316] pusharglistnoret 3 ...................... <tProps, #locY, tY>
  [318] objcall 24 .............................. tProps[#locY] = tY
  [320] getlocal 3 .............................. <tProps>
  [322] pushsymb 883 ............................ <#locZ>
  [325] getparam 0 .............................. <me>
  [327] getobjprop 968 .......................... <me.pAvailableLocZ>
  [330] pusharglistnoret 3 ...................... <tProps, #locZ, me.pAvailableLocZ>
  [332] objcall 24 .............................. tProps[#locZ] = me.pAvailableLocZ
  [334] getlocal 3 .............................. <tProps>
  [336] pushsymb 974 ............................ <#boundary>
  [339] getparam 0 .............................. <me>
  [341] getobjprop 969 .......................... <me.pBoundary>
  [344] pusharglistnoret 3 ...................... <tProps, #boundary, me.pBoundary>
  [346] objcall 24 .............................. tProps[#boundary] = me.pBoundary
  [348] getlocal 3 .............................. <tProps>
  [350] pushsymb 998 ............................ <#elements>
  [353] getprop 990 ............................. <pClsList>
  [356] pusharglistnoret 3 ...................... <tProps, #elements, pClsList>
  [358] objcall 24 .............................. tProps[#elements] = pClsList
  [360] getlocal 3 .............................. <tProps>
  [362] pushsymb 999 ............................ <#manager>
  [365] getparam 0 .............................. <me>
  [367] pusharglistnoret 3 ...................... <tProps, #manager, me>
  [369] objcall 24 .............................. tProps[#manager] = me
  [371] getlocal 2 .............................. <tItem>
  [373] getlocal 3 .............................. <tProps>
  [375] pusharglist 2 ........................... <tItem, tProps>
  [377] objcall 436 ............................. <tItem.define(tProps)>
  [380] not ..................................... <not tItem.define(tProps)>
  [381] jmpifz [399] ............................ if not tItem.define(tProps) then
  [384] pusharglist 0 ........................... <>
  [386] extcall 93 .............................. <getObjectManager()>
  [388] getparam 1 .............................. <tid>
  [390] pusharglistnoret 2 ...................... <getObjectManager(), tid>
  [392] objcall 125 ............................. getObjectManager().Remove(tid)
  [394] pushzero ................................ <0>
  [395] pusharglistnoret 1 ...................... <0>
  [397] extcall 25 .............................. return 0
  [399] getlocal 2 .............................. <tItem>
  [401] getparam 2 .............................. <tLayout>
  [403] pusharglist 2 ........................... <tItem, tLayout>
  [405] objcall 340 ............................. <tItem.merge(tLayout)>
  [408] not ..................................... <not tItem.merge(tLayout)>
  [409] jmpifz [427] ............................ if not tItem.merge(tLayout) then
  [412] pusharglist 0 ........................... <>
  [414] extcall 93 .............................. <getObjectManager()>
  [416] getparam 1 .............................. <tid>
  [418] pusharglistnoret 2 ...................... <getObjectManager(), tid>
  [420] objcall 125 ............................. getObjectManager().Remove(tid)
  [422] pushzero ................................ <0>
  [423] pusharglistnoret 1 ...................... <0>
  [425] extcall 25 .............................. return 0
  [427] getparam 0 .............................. <me>
  [429] getchainedprop 641 ...................... <me.pItemList>
  [432] getparam 1 .............................. <tid>
  [434] pusharglistnoret 2 ...................... <me.pItemList, tid>
  [436] objcall 122 ............................. me.pItemList.add(tid)
  [438] getlocal 4 .............................. <pAvailableLocZ>
  [440] getlocal 2 .............................. <tItem>
  [442] pushsymb 975 ............................ <#sprCount>
  [445] pusharglist 2 ........................... <tItem, #sprCount>
  [447] objcall 444 ............................. <tItem.getProperty(#sprCount)>
  [450] add ..................................... <pAvailableLocZ + tItem.getProperty(#sprCount)>
  [451] setlocal 4 .............................. pAvailableLocZ = pAvailableLocZ + tItem.getProperty(#sprCount)
  [453] getparam 0 .............................. <me>
  [455] pusharglistnoret 1 ...................... <me>
  [457] objcall 341 ............................. me.Activate()
  [460] pushint8 1 .............................. <1>
  [462] pusharglistnoret 1 ...................... <1>
  [464] extcall 25 .............................. return 1
  [466] ret
end

on Remove me, tid
  [  0] getparam 0 .............................. <me>
  [  2] getparam 1 .............................. <tid>
  [  4] pusharglist 2 ........................... <me, tid>
  [  6] objcall 90 .............................. <me.get(tid)>
  [  8] setlocal 0 .............................. tWndObj = me.get(tid)
  [ 10] getlocal 0 .............................. <tWndObj>
  [ 12] pushzero ................................ <0>
  [ 13] eq ...................................... <tWndObj = 0>
  [ 14] jmpifz [ 22] ............................ if tWndObj = 0 then
  [ 17] pushzero ................................ <0>
  [ 18] pusharglistnoret 1 ...................... <0>
  [ 20] extcall 25 .............................. return 0
  [ 22] getparam 0 .............................. <me>
  [ 24] pushsymb 965 ............................ <#pPosCache>
  [ 27] getparam 1 .............................. <tid>
  [ 29] getlocal 0 .............................. <tWndObj>
  [ 31] pushsymb 540 ............................ <#locX>
  [ 34] pusharglist 2 ........................... <tWndObj, #locX>
  [ 36] objcall 444 ............................. <tWndObj.getProperty(#locX)>
  [ 39] getlocal 0 .............................. <tWndObj>
  [ 41] pushsymb 541 ............................ <#locY>
  [ 44] pusharglist 2 ........................... <tWndObj, #locY>
  [ 46] objcall 444 ............................. <tWndObj.getProperty(#locY)>
  [ 49] pusharglist 2 ........................... <[tWndObj.getProperty(#locX), tWndObj.getProperty(#locY)]>
  [ 51] pushlist ................................ <[tWndObj.getProperty(#locX), tWndObj.getProperty(#locY)]>
  [ 52] pusharglistnoret 4 ...................... <me, #pPosCache, tid, [tWndObj.getProperty(#locX), tWndObj.getProperty(#locY)]>
  [ 54] objcall 891 ............................. me.pPosCache[tid] = [tWndObj.getProperty(#locX), tWndObj.getProperty(#locY)]
  [ 57] pusharglist 0 ........................... <>
  [ 59] extcall 93 .............................. <getObjectManager()>
  [ 61] getparam 1 .............................. <tid>
  [ 63] pusharglistnoret 2 ...................... <getObjectManager(), tid>
  [ 65] objcall 125 ............................. getObjectManager().Remove(tid)
  [ 67] getparam 0 .............................. <me>
  [ 69] getchainedprop 641 ...................... <me.pItemList>
  [ 72] getparam 1 .............................. <tid>
  [ 74] pusharglistnoret 2 ...................... <me.pItemList, tid>
  [ 76] objcall 529 ............................. me.pItemList.deleteOne(tid)
  [ 79] getparam 0 .............................. <me>
  [ 81] getobjprop 964 .......................... <me.pActiveItem>
  [ 84] getparam 1 .............................. <tid>
  [ 86] eq ...................................... <me.pActiveItem = tid>
  [ 87] jmpifz [105] ............................ if me.pActiveItem = tid then / else
  [ 90] getparam 0 .............................. <me>
  [ 92] getchainedprop 641 ...................... <me.pItemList>
  [ 95] pusharglist 1 ........................... <me.pItemList>
  [ 97] objcall 665 ............................. <me.pItemList.getLast()>
  [100] setlocal 1 .............................. tNextActive = me.pItemList.getLast()
  [102] jmp [112]
  [105] getparam 0 .............................. <me>
  [107] getobjprop 964 .......................... <me.pActiveItem>
  [110] setlocal 1 .............................. tNextActive = me.pActiveItem
  [112] getparam 0 .............................. <me>
  [114] getprop 991 ............................. <pModalID>
  [117] pusharglist 2 ........................... <me, pModalID>
  [119] objcall 88 .............................. <me.exists(pModalID)>
  [121] jmpifz [214] ............................ if me.exists(pModalID) then
  [124] pushzero ................................ <0>
  [125] setlocal 2 .............................. tModals = 0
  [127] getparam 0 .............................. <me>
  [129] pushsymb 641 ............................ <#pItemList>
  [132] pusharglist 2 ........................... <me, #pItemList>
  [134] objcall 22 .............................. <me.pItemList.count>
  [136] setlocal 3
  [138] getlocal 3
  [140] pushint8 1 .............................. <1>
  [142] gteq
  [143] jmpifz [199] ............................ repeat with i = me.pItemList.count down to 1
  [146] getparam 0 .............................. <me>
  [148] pushsymb 641 ............................ <#pItemList>
  [151] getlocal 3 .............................. <i>
  [153] pusharglist 3 ........................... <me, #pItemList, i>
  [155] objcall 290 ............................. <me.pItemList[i]>
  [158] setparam 1 .............................. tid = me.pItemList[i]
  [160] getparam 0 .............................. <me>
  [162] getparam 1 .............................. <tid>
  [164] pusharglist 2 ........................... <me, tid>
  [166] objcall 90 .............................. <me.get(tid)>
  [168] pushsymb 688 ............................ <#modal>
  [171] pusharglist 2 ........................... <me.get(tid), #modal>
  [173] objcall 444 ............................. <me.get(tid).getProperty(#modal)>
  [176] jmpifz [190] ............................ if me.get(tid).getProperty(#modal) then
  [179] pushint8 1 .............................. <1>
  [181] setlocal 2 .............................. tModals = 1
  [183] getparam 1 .............................. <tid>
  [185] setlocal 1 .............................. tNextActive = tid
  [187] jmp [199] ............................... exit repeat
  [190] pushint8 -1
  [192] getlocal 3
  [194] add
  [195] setlocal 3
  [197] endrepeat [138]
  [199] getlocal 2 .............................. <tModals>
  [201] not ..................................... <not tModals>
  [202] jmpifz [214] ............................ if not tModals then
  [205] getparam 0 .............................. <me>
  [207] getprop 991 ............................. <pModalID>
  [210] pusharglistnoret 2 ...................... <me, pModalID>
  [212] objcall 125 ............................. me.Remove(pModalID)
  [214] getparam 0 .............................. <me>
  [216] getlocal 1 .............................. <tNextActive>
  [218] pusharglistnoret 2 ...................... <me, tNextActive>
  [220] objcall 341 ............................. me.Activate(tNextActive)
  [223] pushint8 1 .............................. <1>
  [225] pusharglistnoret 1 ...................... <1>
  [227] extcall 25 .............................. return 1
  [229] ret
end

on Activate me, tid
  [  0] getprop 987 ............................. <pLockLocZ>
  [  3] jmpifz [ 11] ............................ if pLockLocZ then
  [  6] pushzero ................................ <0>
  [  7] pusharglistnoret 1 ...................... <0>
  [  9] extcall 25 .............................. return 0
  [ 11] getparam 0 .............................. <me>
  [ 13] pushsymb 641 ............................ <#pItemList>
  [ 16] pusharglist 2 ........................... <me, #pItemList>
  [ 18] objcall 22 .............................. <me.pItemList.count>
  [ 20] pushzero ................................ <0>
  [ 21] eq ...................................... <me.pItemList.count = 0>
  [ 22] jmpifz [ 30] ............................ if me.pItemList.count = 0 then
  [ 25] pushzero ................................ <0>
  [ 26] pusharglistnoret 1 ...................... <0>
  [ 28] extcall 25 .............................. return 0
  [ 30] getparam 0 .............................. <me>
  [ 32] getparam 0 .............................. <me>
  [ 34] getobjprop 964 .......................... <me.pActiveItem>
  [ 37] pusharglist 2 ........................... <me, me.pActiveItem>
  [ 39] objcall 88 .............................. <me.exists(me.pActiveItem)>
  [ 41] jmpifz [111] ............................ if me.exists(me.pActiveItem) then
  [ 44] getparam 0 .............................. <me>
  [ 46] getparam 0 .............................. <me>
  [ 48] getobjprop 964 .......................... <me.pActiveItem>
  [ 51] pusharglist 2 ........................... <me, me.pActiveItem>
  [ 53] objcall 90 .............................. <me.get(me.pActiveItem)>
  [ 55] pushsymb 688 ............................ <#modal>
  [ 58] pusharglist 2 ........................... <me.get(me.pActiveItem), #modal>
  [ 60] objcall 444 ............................. <me.get(me.pActiveItem).getProperty(#modal)>
  [ 63] jmpifz [111] ............................ if me.get(me.pActiveItem).getProperty(#modal) then
  [ 66] getparam 0 .............................. <me>
  [ 68] getobjprop 964 .......................... <me.pActiveItem>
  [ 71] setparam 1 .............................. tid = me.pActiveItem
  [ 73] getparam 0 .............................. <me>
  [ 75] getprop 991 ............................. <pModalID>
  [ 78] pusharglist 2 ........................... <me, pModalID>
  [ 80] objcall 88 .............................. <me.exists(pModalID)>
  [ 82] jmpifz [111] ............................ if me.exists(pModalID) then
  [ 85] getparam 0 .............................. <me>
  [ 87] getchainedprop 641 ...................... <me.pItemList>
  [ 90] getprop 991 ............................. <pModalID>
  [ 93] pusharglistnoret 2 ...................... <me.pItemList, pModalID>
  [ 95] objcall 529 ............................. me.pItemList.deleteOne(pModalID)
  [ 98] getparam 0 .............................. <me>
  [100] getchainedprop 641 ...................... <me.pItemList>
  [103] getprop 991 ............................. <pModalID>
  [106] pusharglistnoret 2 ...................... <me.pItemList, pModalID>
  [108] objcall 666 ............................. me.pItemList.append(pModalID)
  [111] getparam 1 .............................. <tid>
  [113] pusharglist 1 ........................... <tid>
  [115] extcall 20 .............................. <voidp(tid)>
  [117] jmpifz [135] ............................ if voidp(tid) then / else
  [120] getparam 0 .............................. <me>
  [122] getchainedprop 641 ...................... <me.pItemList>
  [125] pusharglist 1 ........................... <me.pItemList>
  [127] objcall 665 ............................. <me.pItemList.getLast()>
  [130] setparam 1 .............................. tid = me.pItemList.getLast()
  [132] jmp [152]
  [135] getparam 0 .............................. <me>
  [137] getparam 1 .............................. <tid>
  [139] pusharglist 2 ........................... <me, tid>
  [141] objcall 88 .............................. <me.exists(tid)>
  [143] not ..................................... <not me.exists(tid)>
  [144] jmpifz [152] ............................ if not me.exists(tid) then
  [147] pushzero ................................ <0>
  [148] pusharglistnoret 1 ...................... <0>
  [150] extcall 25 .............................. return 0
  [152] getparam 0 .............................. <me>
  [154] getchainedprop 641 ...................... <me.pItemList>
  [157] getparam 1 .............................. <tid>
  [159] pusharglistnoret 2 ...................... <me.pItemList, tid>
  [161] objcall 529 ............................. me.pItemList.deleteOne(tid)
  [164] getparam 0 .............................. <me>
  [166] getchainedprop 641 ...................... <me.pItemList>
  [169] getparam 1 .............................. <tid>
  [171] pusharglistnoret 2 ...................... <me.pItemList, tid>
  [173] objcall 666 ............................. me.pItemList.append(tid)
  [176] getparam 0 .............................. <me>
  [178] getparam 0 .............................. <me>
  [180] getobjprop 967 .......................... <me.pDefaultLocZ>
  [183] setobjprop 968 .......................... me.pAvailableLocZ = me.pDefaultLocZ
  [186] getparam 0 .............................. <me>
  [188] getobjprop 641 .......................... <me.pItemList>
  [191] peek 0
  [193] pusharglist 1
  [195] extcall 22
  [197] pushint8 1
  [199] peek 0
  [201] peek 2
  [203] lteq
  [204] jmpifz [305] ............................ repeat with tCurrID in me.pItemList
  [207] peek 2
  [209] peek 1
  [211] pusharglist 2
  [213] extcall 54
  [215] setlocal 0
  [217] getparam 0 .............................. <me>
  [219] getlocal 0 .............................. <tCurrID>
  [221] pusharglist 2 ........................... <me, tCurrID>
  [223] objcall 90 .............................. <me.get(tCurrID)>
  [225] setlocal 1 .............................. tWndObj = me.get(tCurrID)
  [227] getlocal 1 .............................. <tWndObj>
  [229] pusharglistnoret 1 ...................... <tWndObj>
  [231] objcall 978 ............................. tWndObj.setDeactive()
  [234] getlocal 1 .............................. <tWndObj>
  [236] pushsymb 1005 ........................... <#spriteList>
  [239] pusharglist 2 ........................... <tWndObj, #spriteList>
  [241] objcall 444 ............................. <tWndObj.getProperty(#spriteList)>
  [244] peek 0
  [246] pusharglist 1
  [248] extcall 22
  [250] pushint8 1
  [252] peek 0
  [254] peek 2
  [256] lteq
  [257] jmpifz [298] ............................ repeat with tSpr in tWndObj.getProperty(#spriteList)
  [260] peek 2
  [262] peek 1
  [264] pusharglist 2
  [266] extcall 54
  [268] setlocal 2
  [270] getlocal 2 .............................. <tSpr>
  [272] getparam 0 .............................. <me>
  [274] getobjprop 968 .......................... <me.pAvailableLocZ>
  [277] setobjprop 883 .......................... tSpr.locZ = me.pAvailableLocZ
  [280] getparam 0 .............................. <me>
  [282] getparam 0 .............................. <me>
  [284] getobjprop 968 .......................... <me.pAvailableLocZ>
  [287] pushint8 1 .............................. <1>
  [289] add ..................................... <me.pAvailableLocZ + 1>
  [290] setobjprop 968 .......................... me.pAvailableLocZ = me.pAvailableLocZ + 1
  [293] pushint8 1
  [295] add
  [296] endrepeat [252]
  [298] pop 3
  [300] pushint8 1
  [302] add
  [303] endrepeat [199]
  [305] pop 3
  [307] getparam 0 .............................. <me>
  [309] getparam 1 .............................. <tid>
  [311] setobjprop 964 .......................... me.pActiveItem = tid
  [314] getparam 0 .............................. <me>
  [316] getparam 1 .............................. <tid>
  [318] pusharglist 2 ........................... <me, tid>
  [320] objcall 90 .............................. <me.get(tid)>
  [322] pusharglist 1 ........................... <me.get(tid)>
  [324] objcall 977 ............................. <me.get(tid).setActive()>
  [327] pusharglistnoret 1 ...................... <me.get(tid).setActive()>
  [329] extcall 25 .............................. return me.get(tid).setActive()
  [331] ret
end

on reOrder me, tNewOrder
  [  0] getparam 1 .............................. <tNewOrder>
  [  2] getparam 0 .............................. <me>
  [  4] getobjprop 641 .......................... <me.pItemList>
  [  7] eq ...................................... <tNewOrder = me.pItemList>
  [  8] jmpifz [ 17] ............................ if tNewOrder = me.pItemList then
  [ 11] pushint8 1 .............................. <1>
  [ 13] pusharglistnoret 1 ...................... <1>
  [ 15] extcall 25 .............................. return 1
  [ 17] getparam 0 .............................. <me>
  [ 19] getparam 1 .............................. <tNewOrder>
  [ 21] setobjprop 641 .......................... me.pItemList = tNewOrder
  [ 24] getparam 0 .............................. <me>
  [ 26] getparam 0 .............................. <me>
  [ 28] getobjprop 967 .......................... <me.pDefaultLocZ>
  [ 31] setobjprop 968 .......................... me.pAvailableLocZ = me.pDefaultLocZ
  [ 34] getparam 0 .............................. <me>
  [ 36] getobjprop 641 .......................... <me.pItemList>
  [ 39] peek 0
  [ 41] pusharglist 1
  [ 43] extcall 22
  [ 45] pushint8 1
  [ 47] peek 0
  [ 49] peek 2
  [ 51] lteq
  [ 52] jmpifz [146] ............................ repeat with tCurrID in me.pItemList
  [ 55] peek 2
  [ 57] peek 1
  [ 59] pusharglist 2
  [ 61] extcall 54
  [ 63] setlocal 0
  [ 65] getparam 0 .............................. <me>
  [ 67] getlocal 0 .............................. <tCurrID>
  [ 69] pusharglist 2 ........................... <me, tCurrID>
  [ 71] objcall 90 .............................. <me.get(tCurrID)>
  [ 73] setlocal 1 .............................. tWndObj = me.get(tCurrID)
  [ 75] getlocal 1 .............................. <tWndObj>
  [ 77] pushsymb 1005 ........................... <#spriteList>
  [ 80] pusharglist 2 ........................... <tWndObj, #spriteList>
  [ 82] objcall 444 ............................. <tWndObj.getProperty(#spriteList)>
  [ 85] peek 0
  [ 87] pusharglist 1
  [ 89] extcall 22
  [ 91] pushint8 1
  [ 93] peek 0
  [ 95] peek 2
  [ 97] lteq
  [ 98] jmpifz [139] ............................ repeat with tSpr in tWndObj.getProperty(#spriteList)
  [101] peek 2
  [103] peek 1
  [105] pusharglist 2
  [107] extcall 54
  [109] setlocal 2
  [111] getlocal 2 .............................. <tSpr>
  [113] getparam 0 .............................. <me>
  [115] getobjprop 968 .......................... <me.pAvailableLocZ>
  [118] setobjprop 883 .......................... tSpr.locZ = me.pAvailableLocZ
  [121] getparam 0 .............................. <me>
  [123] getparam 0 .............................. <me>
  [125] getobjprop 968 .......................... <me.pAvailableLocZ>
  [128] pushint8 1 .............................. <1>
  [130] add ..................................... <me.pAvailableLocZ + 1>
  [131] setobjprop 968 .......................... me.pAvailableLocZ = me.pAvailableLocZ + 1
  [134] pushint8 1
  [136] add
  [137] endrepeat [ 93]
  [139] pop 3
  [141] pushint8 1
  [143] add
  [144] endrepeat [ 47]
  [146] pop 3
  [148] ret
end

on deactivate me, tid
  [  0] getparam 0 .............................. <me>
  [  2] getparam 1 .............................. <tid>
  [  4] pusharglist 2 ........................... <me, tid>
  [  6] objcall 88 .............................. <me.exists(tid)>
  [  8] jmpifz [ 70] ............................ if me.exists(tid) then
  [ 11] getparam 0 .............................. <me>
  [ 13] getparam 1 .............................. <tid>
  [ 15] pusharglist 2 ........................... <me, tid>
  [ 17] objcall 90 .............................. <me.get(tid)>
  [ 19] pushsymb 688 ............................ <#modal>
  [ 22] pusharglist 2 ........................... <me.get(tid), #modal>
  [ 24] objcall 444 ............................. <me.get(tid).getProperty(#modal)>
  [ 27] not ..................................... <not me.get(tid).getProperty(#modal)>
  [ 28] jmpifz [ 70] ............................ if not me.get(tid).getProperty(#modal) then
  [ 31] getparam 0 .............................. <me>
  [ 33] getchainedprop 641 ...................... <me.pItemList>
  [ 36] getparam 1 .............................. <tid>
  [ 38] pusharglistnoret 2 ...................... <me.pItemList, tid>
  [ 40] objcall 529 ............................. me.pItemList.deleteOne(tid)
  [ 43] getparam 0 .............................. <me>
  [ 45] getchainedprop 641 ...................... <me.pItemList>
  [ 48] pushint8 1 .............................. <1>
  [ 50] getparam 1 .............................. <tid>
  [ 52] pusharglistnoret 3 ...................... <me.pItemList, 1, tid>
  [ 54] objcall 659 ............................. me.pItemList.addAt(1, tid)
  [ 57] getparam 0 .............................. <me>
  [ 59] pusharglistnoret 1 ...................... <me>
  [ 61] objcall 341 ............................. me.Activate()
  [ 64] pushint8 1 .............................. <1>
  [ 66] pusharglistnoret 1 ...................... <1>
  [ 68] extcall 25 .............................. return 1
  [ 70] pushzero ................................ <0>
  [ 71] pusharglistnoret 1 ...................... <0>
  [ 73] extcall 25 .............................. return 0
  [ 75] ret
end

on lock me
  [  0] pushint8 1 .............................. <1>
  [  2] setprop 987 ............................. pLockLocZ = 1
  [  5] pushint8 1 .............................. <1>
  [  7] pusharglistnoret 1 ...................... <1>
  [  9] extcall 25 .............................. return 1
  [ 11] ret
end

on unlock me
  [  0] pushzero ................................ <0>
  [  1] setprop 987 ............................. pLockLocZ = 0
  [  4] pushint8 1 .............................. <1>
  [  6] pusharglistnoret 1 ...................... <1>
  [  8] extcall 25 .............................. return 1
  [ 10] ret
end

on modal me, tid, tLayout, tPosition
  [  0] getparam 3 .............................. <tPosition>
  [  2] pusharglist 1 ........................... <tPosition>
  [  4] extcall 20 .............................. <voidp(tPosition)>
  [  6] jmpifz [ 14] ............................ if voidp(tPosition) then
  [  9] pushsymb 508 ............................ <#center>
  [ 12] setparam 3 .............................. tPosition = #center
  [ 14] getparam 0 .............................. <me>
  [ 16] getparam 1 .............................. <tid>
  [ 18] getparam 2 .............................. <tLayout>
  [ 20] pusharglist 3 ........................... <me, tid, tLayout>
  [ 22] objcall 81 .............................. <me.create(tid, tLayout)>
  [ 24] not ..................................... <not me.create(tid, tLayout)>
  [ 25] jmpifz [ 33] ............................ if not me.create(tid, tLayout) then
  [ 28] pushzero ................................ <0>
  [ 29] pusharglistnoret 1 ...................... <0>
  [ 31] extcall 25 .............................. return 0
  [ 33] getparam 0 .............................. <me>
  [ 35] getparam 1 .............................. <tid>
  [ 37] pusharglist 2 ........................... <me, tid>
  [ 39] objcall 90 .............................. <me.get(tid)>
  [ 41] setlocal 0 .............................. tWndObj = me.get(tid)
  [ 43] getparam 3 .............................. <tPosition>
  [ 45] peek 0 .................................. case tPosition of
  [ 47] pushsymb 508 ............................ <#center>
  [ 50] eq
  [ 51] jmpifz [ 64] ............................ (case) #center:
  [ 54] getlocal 0 .............................. <tWndObj>
  [ 56] pusharglistnoret 1 ...................... <tWndObj>
  [ 58] objcall 508 ............................. tWndObj.center()
  [ 61] jmp [ 82]
  [ 64] peek 0
  [ 66] pushsymb 997 ............................ <#corner>
  [ 69] eq
  [ 70] jmpifz [ 82] ............................ (case) #corner:
  [ 73] getlocal 0 .............................. <tWndObj>
  [ 75] pushzero ................................ <0>
  [ 76] pushzero ................................ <0>
  [ 77] pusharglistnoret 3 ...................... <tWndObj, 0, 0>
  [ 79] objcall 1009 ............................ tWndObj.moveTo(0, 0)
  [ 82] pop 1 ................................... end case
  [ 84] getlocal 0 .............................. <tWndObj>
  [ 86] pusharglistnoret 1 ...................... <tWndObj>
  [ 88] objcall 345 ............................. tWndObj.lock()
  [ 91] getlocal 0 .............................. <tWndObj>
  [ 93] pushsymb 688 ............................ <#modal>
  [ 96] pushint8 1 .............................. <1>
  [ 98] pusharglistnoret 3 ...................... <tWndObj, #modal, 1>
  [100] objcall 711 ............................. tWndObj.setProperty(#modal, 1)
  [103] getparam 0 .............................. <me>
  [105] getprop 991 ............................. <pModalID>
  [108] pusharglist 2 ........................... <me, pModalID>
  [110] objcall 88 .............................. <me.exists(pModalID)>
  [112] not ..................................... <not me.exists(pModalID)>
  [113] jmpifz [216] ............................ if not me.exists(pModalID) then
  [116] getparam 0 .............................. <me>
  [118] getprop 991 ............................. <pModalID>
  [121] pushcons 12 ............................. <"modal.window">
  [123] pusharglist 3 ........................... <me, pModalID, "modal.window">
  [125] objcall 81 .............................. <me.create(pModalID, "modal.window")>
  [127] jmpifz [202] ............................ if me.create(pModalID, "modal.window") then / else
  [130] getparam 0 .............................. <me>
  [132] getprop 991 ............................. <pModalID>
  [135] pusharglist 2 ........................... <me, pModalID>
  [137] objcall 90 .............................. <me.get(pModalID)>
  [139] setlocal 1 .............................. tModal = me.get(pModalID)
  [141] getlocal 1 .............................. <tModal>
  [143] pushzero ................................ <0>
  [144] pushzero ................................ <0>
  [145] pusharglistnoret 3 ...................... <tModal, 0, 0>
  [147] objcall 1009 ............................ tModal.moveTo(0, 0)
  [150] getlocal 1 .............................. <tModal>
  [152] getmovieprop 970 ........................ <the stage>
  [155] getchainedprop 971 ...................... <(the stage).sourceRect>
  [158] getobjprop 42 ........................... <(the stage).sourceRect.width>
  [160] getmovieprop 970 ........................ <the stage>
  [163] getchainedprop 971 ...................... <(the stage).sourceRect>
  [166] getobjprop 43 ........................... <(the stage).sourceRect.height>
  [168] pusharglistnoret 3 ...................... <tModal, (the stage).sourceRect.width, (the stage).sourceRect.height>
  [170] objcall 1010 ............................ tModal.resizeTo((the stage).sourceRect.width, (the stage).sourceRect.height)
  [173] getlocal 1 .............................. <tModal>
  [175] pusharglistnoret 1 ...................... <tModal>
  [177] objcall 345 ............................. tModal.lock()
  [180] getlocal 1 .............................. <tModal>
  [182] pushcons 13 ............................. <"modal">
  [184] pusharglist 2 ........................... <tModal, "modal">
  [186] objcall 1011 ............................ <tModal.getElement("modal")>
  [189] pushsymb 503 ............................ <#blend>
  [192] pushint8 40 ............................. <40>
  [194] pusharglistnoret 3 ...................... <tModal.getElement("modal"), #blend, 40>
  [196] objcall 711 ............................. tModal.getElement("modal").setProperty(#blend, 40)
  [199] jmp [216]
  [202] getparam 0 .............................. <me>
  [204] pushcons 14 ............................. <"Failed to create modal window layer!">
  [206] pushsymb 688 ............................ <#modal>
  [209] pushsymb 972 ............................ <#major>
  [212] pusharglistnoret 4 ...................... <me, "Failed to create modal window layer!", #modal, #major>
  [214] extcall 39 .............................. error(me, "Failed to create modal window layer!", #modal, #major)
  [216] pushzero ................................ <0>
  [217] setmovieprop 65 ......................... the keyboardFocusSprite = 0
  [219] getparam 0 .............................. <me>
  [221] getparam 1 .............................. <tid>
  [223] setobjprop 964 .......................... me.pActiveItem = tid
  [226] getparam 0 .............................. <me>
  [228] getparam 1 .............................. <tid>
  [230] pusharglistnoret 2 ...................... <me, tid>
  [232] objcall 341 ............................. me.Activate(tid)
  [235] pushint8 1 .............................. <1>
  [237] pusharglistnoret 1 ...................... <1>
  [239] extcall 25 .............................. return 1
  [241] ret
end

on registerWindowEvent me, tTitle, tSprID, tEvent
  [  0] getprop 986 ............................. <pLastEventData>
  [  3] pushsymb 1013 ........................... <#title>
  [  6] getparam 1 .............................. <tTitle>
  [  8] pusharglistnoret 3 ...................... <pLastEventData, #title, tTitle>
  [ 10] objcall 24 .............................. pLastEventData[#title] = tTitle
  [ 12] getprop 986 ............................. <pLastEventData>
  [ 15] pushsymb 36 ............................. <#sprite>
  [ 17] getparam 2 .............................. <tSprID>
  [ 19] pusharglistnoret 3 ...................... <pLastEventData, #sprite, tSprID>
  [ 21] objcall 24 .............................. pLastEventData[#sprite] = tSprID
  [ 23] getprop 986 ............................. <pLastEventData>
  [ 26] pushsymb 1014 ........................... <#event>
  [ 29] getparam 3 .............................. <tEvent>
  [ 31] pusharglistnoret 3 ...................... <pLastEventData, #event, tEvent>
  [ 33] objcall 24 .............................. pLastEventData[#event] = tEvent
  [ 35] ret
end

on getLastEvent me
  [  0] getprop 986 ............................. <pLastEventData>
  [  3] pushsymb 1013 ........................... <#title>
  [  6] pusharglist 2 ........................... <pLastEventData, #title>
  [  8] objcall 54 .............................. <pLastEventData[#title]>
  [ 10] pushcons 15 ............................. <"-">
  [ 12] joinstr ................................. <pLastEventData[#title] & "-">
  [ 13] getprop 986 ............................. <pLastEventData>
  [ 16] pushsymb 36 ............................. <#sprite>
  [ 18] pusharglist 2 ........................... <pLastEventData, #sprite>
  [ 20] objcall 54 .............................. <pLastEventData[#sprite]>
  [ 22] joinstr ................................. <pLastEventData[#title] & "-" & pLastEventData[#sprite]>
  [ 23] pushcons 15 ............................. <"-">
  [ 25] joinstr ................................. <pLastEventData[#title] & "-" & pLastEventData[#sprite] & "-">
  [ 26] getprop 986 ............................. <pLastEventData>
  [ 29] pushsymb 1014 ........................... <#event>
  [ 32] pusharglist 2 ........................... <pLastEventData, #event>
  [ 34] objcall 54 .............................. <pLastEventData[#event]>
  [ 36] joinstr ................................. <pLastEventData[#title] & "-" & pLastEventData[#sprite] & "-" & pLastEventData[#event]>
  [ 37] pusharglistnoret 1 ...................... <pLastEventData[#title] & "-" & pLastEventData[#sprite] & "-" & pLastEventData[#event]>
  [ 39] extcall 25 .............................. return pLastEventData[#title] & "-" & pLastEventData[#sprite] & "-" & pLastEventData[#event]
  [ 41] ret
end
