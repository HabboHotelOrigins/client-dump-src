property pCache

on construct me
  [  0] pusharglist 0 ........................... <[:]>
  [  2] pushproplist ............................ <[:]>
  [  3] setprop 1294 ............................ pCache = [:]
  [  6] pushint8 1 .............................. <1>
  [  8] pusharglistnoret 1 ...................... <1>
  [ 10] extcall 25 .............................. return 1
  [ 12] ret
end

on parse me, tFieldName
  [  0] getparam 1 .............................. <tFieldName>
  [  2] pusharglist 1 ........................... <tFieldName>
  [  4] extcall 170 ............................. <memberExists(tFieldName)>
  [  6] jmpifz [160] ............................ if memberExists(tFieldName) then / else
  [  9] getprop 1294 ............................ <pCache>
  [ 12] getparam 1 .............................. <tFieldName>
  [ 14] pusharglist 2 ........................... <pCache, tFieldName>
  [ 16] objcall 54 .............................. <pCache[tFieldName]>
  [ 18] pusharglist 1 ........................... <pCache[tFieldName]>
  [ 20] extcall 53 .............................. <listp(pCache[tFieldName])>
  [ 22] jmpifz [ 39] ............................ if listp(pCache[tFieldName]) then / else
  [ 25] getprop 1294 ............................ <pCache>
  [ 28] getparam 1 .............................. <tFieldName>
  [ 30] pusharglist 2 ........................... <pCache, tFieldName>
  [ 32] objcall 54 .............................. <pCache[tFieldName]>
  [ 34] setlocal 0 .............................. tdata = pCache[tFieldName]
  [ 36] jmp [157]
  [ 39] getparam 1 .............................. <tFieldName>
  [ 41] pushcons 0 .............................. <".window">
  [ 43] containsstr ............................. <tFieldName contains ".window">
  [ 44] jmpifz [ 72] ............................ if tFieldName contains ".window" then / else
  [ 47] getparam 0 .............................. <me>
  [ 49] getparam 1 .............................. <tFieldName>
  [ 51] pusharglist 2 ........................... <me, tFieldName>
  [ 53] objcall 1291 ............................ <me.parse_window(tFieldName)>
  [ 56] setlocal 0 .............................. tdata = me.parse_window(tFieldName)
  [ 58] getprop 1294 ............................ <pCache>
  [ 61] getparam 1 .............................. <tFieldName>
  [ 63] getlocal 0 .............................. <tdata>
  [ 65] pusharglistnoret 3 ...................... <pCache, tFieldName, tdata>
  [ 67] objcall 24 .............................. pCache[tFieldName] = tdata
  [ 69] jmp [157]
  [ 72] getparam 1 .............................. <tFieldName>
  [ 74] pushcons 1 .............................. <".element">
  [ 76] containsstr ............................. <tFieldName contains ".element">
  [ 77] jmpifz [105] ............................ if tFieldName contains ".element" then / else
  [ 80] getparam 0 .............................. <me>
  [ 82] getparam 1 .............................. <tFieldName>
  [ 84] pusharglist 2 ........................... <me, tFieldName>
  [ 86] objcall 1292 ............................ <me.parse_element(tFieldName)>
  [ 89] setlocal 0 .............................. tdata = me.parse_element(tFieldName)
  [ 91] getprop 1294 ............................ <pCache>
  [ 94] getparam 1 .............................. <tFieldName>
  [ 96] getlocal 0 .............................. <tdata>
  [ 98] pusharglistnoret 3 ...................... <pCache, tFieldName, tdata>
  [100] objcall 24 .............................. pCache[tFieldName] = tdata
  [102] jmp [157]
  [105] getparam 1 .............................. <tFieldName>
  [107] pushcons 2 .............................. <".room">
  [109] containsstr ............................. <tFieldName contains ".room">
  [110] jmpifz [127] ............................ if tFieldName contains ".room" then / else
  [113] getparam 0 .............................. <me>
  [115] getparam 1 .............................. <tFieldName>
  [117] pusharglist 2 ........................... <me, tFieldName>
  [119] objcall 1293 ............................ <me.parse_visual(tFieldName)>
  [122] setlocal 0 .............................. tdata = me.parse_visual(tFieldName)
  [124] jmp [157]
  [127] getparam 1 .............................. <tFieldName>
  [129] pushcons 3 .............................. <".visual">
  [131] containsstr ............................. <tFieldName contains ".visual">
  [132] jmpifz [157] ............................ if tFieldName contains ".visual" then
  [135] getparam 0 .............................. <me>
  [137] getparam 1 .............................. <tFieldName>
  [139] pusharglist 2 ........................... <me, tFieldName>
  [141] objcall 1293 ............................ <me.parse_visual(tFieldName)>
  [144] setlocal 0 .............................. tdata = me.parse_visual(tFieldName)
  [146] getprop 1294 ............................ <pCache>
  [149] getparam 1 .............................. <tFieldName>
  [151] getlocal 0 .............................. <tdata>
  [153] pusharglistnoret 3 ...................... <pCache, tFieldName, tdata>
  [155] objcall 24 .............................. pCache[tFieldName] = tdata
  [157] jmp [178]
  [160] getparam 0 .............................. <me>
  [162] pushcons 4 .............................. <"Member not found:">
  [164] getparam 1 .............................. <tFieldName>
  [166] joinpadstr .............................. <"Member not found:" && tFieldName>
  [167] pushsymb 460 ............................ <#parse>
  [170] pusharglist 3 ........................... <me, "Member not found:" && tFieldName, #parse>
  [172] extcall 39 .............................. <error(me, "Member not found:" && tFieldName, #parse)>
  [174] pusharglistnoret 1 ...................... <error(me, "Member not found:" && tFieldName, #parse)>
  [176] extcall 25 .............................. return error(me, "Member not found:" && tFieldName, #parse)
  [178] getlocal 0 .............................. <tdata>
  [180] pusharglist 1 ........................... <tdata>
  [182] objcall 554 ............................. <tdata.duplicate()>
  [185] pusharglistnoret 1 ...................... <tdata.duplicate()>
  [187] extcall 25 .............................. return tdata.duplicate()
  [189] ret
end

on parse_window me, tFieldName
  [  0] pusharglist 0 ........................... <>
  [  2] extcall 76 .............................. <getResourceManager()>
  [  4] getparam 1 .............................. <tFieldName>
  [  6] pusharglist 2 ........................... <getResourceManager(), tFieldName>
  [  8] objcall 52 .............................. <getResourceManager().getmemnum(tFieldName)>
  [ 10] pusharglist 1 ........................... <getResourceManager().getmemnum(tFieldName)>
  [ 12] extcall 41 .............................. <member(getResourceManager().getmemnum(tFieldName))>
  [ 14] getobjprop 516 .......................... <member(getResourceManager().getmemnum(tFieldName)).text>
  [ 17] setlocal 0 .............................. tdata = member(getResourceManager().getmemnum(tFieldName)).text
  [ 19] pushsymb 998 ............................ <#elements>
  [ 22] pushsymb 539 ............................ <#open>
  [ 25] pushcons 5 .............................. <"<elements>">
  [ 27] pushsymb 462 ............................ <#close>
  [ 30] pushcons 6 .............................. <"</elements>">
  [ 32] pusharglist 4 ........................... <[#open: "<elements>", #close: "</elements>"]>
  [ 34] pushproplist ............................ <[#open: "<elements>", #close: "</elements>"]>
  [ 35] pushsymb 557 ............................ <#rect>
  [ 38] pushsymb 539 ............................ <#open>
  [ 41] pushcons 7 .............................. <"<rect>">
  [ 43] pushsymb 462 ............................ <#close>
  [ 46] pushcons 8 .............................. <"</rect>">
  [ 48] pusharglist 4 ........................... <[#open: "<rect>", #close: "</rect>"]>
  [ 50] pushproplist ............................ <[#open: "<rect>", #close: "</rect>"]>
  [ 51] pushsymb 1123 ........................... <#border>
  [ 54] pushsymb 539 ............................ <#open>
  [ 57] pushcons 9 .............................. <"<border>">
  [ 59] pushsymb 462 ............................ <#close>
  [ 62] pushcons 10 ............................. <"</border>">
  [ 64] pusharglist 4 ........................... <[#open: "<border>", #close: "</border>"]>
  [ 66] pushproplist ............................ <[#open: "<border>", #close: "</border>"]>
  [ 67] pushsymb 1295 ........................... <#clientrect>
  [ 70] pushsymb 539 ............................ <#open>
  [ 73] pushcons 11 ............................. <"<clientrect>">
  [ 75] pushsymb 462 ............................ <#close>
  [ 78] pushcons 12 ............................. <"</clientrect>">
  [ 80] pusharglist 4 ........................... <[#open: "<clientrect>", #close: "</clientrect>"]>
  [ 82] pushproplist ............................ <[#open: "<clientrect>", #close: "</clientrect>"]>
  [ 83] pusharglist 8 ........................... <[#elements: [#open: "<elements>", #close: "</elements>"], #rect: [#open: "<rect>", #close: "</rect>"], #border: [#open: "<border>", #close: "</border>"], #clientrect: [#open: "<clientrect>", #close: "</clientrect>"]]>
  [ 85] pushproplist ............................ <[#elements: [#open: "<elements>", #close: "</elements>"], #rect: [#open: "<rect>", #close: "</rect>"], #border: [#open: "<border>", #close: "</border>"], #clientrect: [#open: "<clientrect>", #close: "</clientrect>"]]>
  [ 86] setlocal 1 .............................. tSupportedTags = [#elements: [#open: "<elements>", #close: "</elements>"], #rect: [#open: "<rect>", #close: "</rect>"], #border: [#open: "<border>", #close: "</border>"], #clientrect: [#open: "<clientrect>", #close: "</clientrect>"]]
  [ 88] pusharglist 0 ........................... <[:]>
  [ 90] pushproplist ............................ <[:]>
  [ 91] setlocal 2 .............................. tLayDefinition = [:]
  [ 93] pushzero ................................ <0>
  [ 94] setlocal 3 .............................. tOpenTagFlag = 0
  [ 96] pushcons 13 ............................. <EMPTY>
  [ 98] setlocal 4 .............................. tTag = EMPTY
  [100] pushint8 1 .............................. <1>
  [102] setlocal 5
  [104] getlocal 5
  [106] getlocal 1 .............................. <tSupportedTags>
  [108] getobjprop 22 ........................... <tSupportedTags.count>
  [110] lteq
  [111] jmpifz [308] ............................ repeat with x = 1 to tSupportedTags.count
  [114] getlocal 1 .............................. <tSupportedTags>
  [116] getlocal 5 .............................. <x>
  [118] pusharglist 2 ........................... <tSupportedTags, x>
  [120] objcall 54 .............................. <tSupportedTags[x]>
  [122] getobjprop 539 .......................... <tSupportedTags[x].open>
  [125] setlocal 6 .............................. tOpen = tSupportedTags[x].open
  [127] getlocal 1 .............................. <tSupportedTags>
  [129] getlocal 5 .............................. <x>
  [131] pusharglist 2 ........................... <tSupportedTags, x>
  [133] objcall 54 .............................. <tSupportedTags[x]>
  [135] getobjprop 462 .......................... <tSupportedTags[x].close>
  [138] setlocal 7 .............................. tClose = tSupportedTags[x].close
  [140] getlocal 1 .............................. <tSupportedTags>
  [142] getlocal 5 .............................. <x>
  [144] pusharglist 2 ........................... <tSupportedTags, x>
  [146] objcall 23 .............................. <tSupportedTags.getPropAt(x)>
  [148] setlocal 4 .............................. tTag = tSupportedTags.getPropAt(x)
  [150] pusharglist 0 ........................... <[]>
  [152] pushlist ................................ <[]>
  [153] setlocal 8 .............................. tList = []
  [155] pushint8 1 .............................. <1>
  [157] setlocal 9
  [159] getlocal 9
  [161] getlocal 0 .............................. <tdata>
  [163] pushsymb 600 ............................ <#line>
  [166] pusharglist 2 ........................... <tdata, #line>
  [168] objcall 22 .............................. <tdata.line.count>
  [170] lteq
  [171] jmpifz [289] ............................ repeat with i = 1 to tdata.line.count
  [174] getlocal 0 .............................. <tdata>
  [176] pushsymb 600 ............................ <#line>
  [179] getlocal 9 .............................. <i>
  [181] pusharglist 3 ........................... <tdata, #line, i>
  [183] objcall 288 ............................. <tdata.line[i]>
  [186] pushsymb 289 ............................ <#word>
  [189] pushint8 1 .............................. <1>
  [191] pusharglist 3 ........................... <tdata.line[i], #word, 1>
  [193] objcall 290 ............................. <tdata.line[i].word[1]>
  [196] getlocal 6 .............................. <tOpen>
  [198] eq ...................................... <tdata.line[i].word[1] = tOpen>
  [199] jmpifz [280] ............................ if tdata.line[i].word[1] = tOpen then
  [202] getlocal 9 .............................. <i>
  [204] pushint8 1 .............................. <1>
  [206] add ..................................... <i + 1>
  [207] setlocal 9
  [209] getlocal 9
  [211] getlocal 0 .............................. <tdata>
  [213] pushsymb 600 ............................ <#line>
  [216] pusharglist 2 ........................... <tdata, #line>
  [218] objcall 22 .............................. <tdata.line.count>
  [220] lteq
  [221] jmpifz [280] ............................ repeat with i = i + 1 to tdata.line.count
  [224] getlocal 0 .............................. <tdata>
  [226] pushsymb 600 ............................ <#line>
  [229] getlocal 9 .............................. <i>
  [231] pusharglist 3 ........................... <tdata, #line, i>
  [233] objcall 290 ............................. <tdata.line[i]>
  [236] setlocal 10 ............................. tLine = tdata.line[i]
  [238] getlocal 10 ............................. <tLine>
  [240] pushsymb 289 ............................ <#word>
  [243] pushint8 1 .............................. <1>
  [245] pusharglist 3 ........................... <tLine, #word, 1>
  [247] objcall 290 ............................. <tLine.word[1]>
  [250] getlocal 7 .............................. <tClose>
  [252] eq ...................................... <tLine.word[1] = tClose>
  [253] jmpifz [259] ............................ if tLine.word[1] = tClose then
  [256] jmp [280] ............................... exit repeat
  [259] getlocal 8 .............................. <tList>
  [261] getlocal 10 ............................. <tLine>
  [263] pusharglist 1 ........................... <tLine>
  [265] extcall 113 ............................. <value(tLine)>
  [267] pusharglistnoret 2 ...................... <tList, value(tLine)>
  [269] objcall 122 ............................. tList.add(value(tLine))
  [271] pushint8 1
  [273] getlocal 9
  [275] add
  [276] setlocal 9
  [278] endrepeat [209]
  [280] pushint8 1
  [282] getlocal 9
  [284] add
  [285] setlocal 9
  [287] endrepeat [159]
  [289] getlocal 2 .............................. <tLayDefinition>
  [291] getlocal 4 .............................. <tTag>
  [293] getlocal 8 .............................. <tList>
  [295] pusharglistnoret 3 ...................... <tLayDefinition, tTag, tList>
  [297] objcall 24 .............................. tLayDefinition[tTag] = tList
  [299] pushint8 1
  [301] getlocal 5
  [303] add
  [304] setlocal 5
  [306] endrepeat [104]
  [308] pusharglist 0 ........................... <[:]>
  [310] pushproplist ............................ <[:]>
  [311] setlocal 11 ............................. tElements = [:]
  [313] getlocal 2 .............................. <tLayDefinition>
  [315] pushsymb 998 ............................ <#elements>
  [318] pusharglist 2 ........................... <tLayDefinition, #elements>
  [320] objcall 54 .............................. <tLayDefinition[#elements]>
  [322] peek 0
  [324] pusharglist 1
  [326] extcall 22
  [328] pushint8 1
  [330] peek 0
  [332] peek 2
  [334] lteq
  [335] jmpifz [421] ............................ repeat with tElem in tLayDefinition[#elements]
  [338] peek 2
  [340] peek 1
  [342] pusharglist 2
  [344] extcall 54
  [346] setlocal 12
  [348] getlocal 12 ............................. <tElem>
  [350] pushsymb 34 ............................. <#id>
  [352] pusharglist 2 ........................... <tElem, #id>
  [354] objcall 54 .............................. <tElem[#id]>
  [356] pusharglist 1 ........................... <tElem[#id]>
  [358] extcall 20 .............................. <voidp(tElem[#id])>
  [360] jmpifz [370] ............................ if voidp(tElem[#id]) then / else
  [363] pushcons 14 ............................. <"null">
  [365] setlocal 13 ............................. tSymbol = "null"
  [367] jmp [376]
  [370] getlocal 12 ............................. <tElem>
  [372] getobjprop 34 ........................... <tElem.id>
  [374] setlocal 13 ............................. tSymbol = tElem.id
  [376] getlocal 11 ............................. <tElements>
  [378] getlocal 13 ............................. <tSymbol>
  [380] pusharglist 2 ........................... <tElements, tSymbol>
  [382] objcall 54 .............................. <tElements[tSymbol]>
  [384] pusharglist 1 ........................... <tElements[tSymbol]>
  [386] extcall 20 .............................. <voidp(tElements[tSymbol])>
  [388] jmpifz [402] ............................ if voidp(tElements[tSymbol]) then
  [391] getlocal 11 ............................. <tElements>
  [393] getlocal 13 ............................. <tSymbol>
  [395] pusharglist 0 ........................... <[]>
  [397] pushlist ................................ <[]>
  [398] pusharglistnoret 3 ...................... <tElements, tSymbol, []>
  [400] objcall 24 .............................. tElements[tSymbol] = []
  [402] getlocal 11 ............................. <tElements>
  [404] getlocal 13 ............................. <tSymbol>
  [406] pusharglist 2 ........................... <tElements, tSymbol>
  [408] objcall 54 .............................. <tElements[tSymbol]>
  [410] getlocal 12 ............................. <tElem>
  [412] pusharglistnoret 2 ...................... <tElements[tSymbol], tElem>
  [414] objcall 122 ............................. tElements[tSymbol].add(tElem)
  [416] pushint8 1
  [418] add
  [419] endrepeat [330]
  [421] pop 3
  [423] pusharglist 0 ........................... <>
  [425] extcall 76 .............................. <getResourceManager()>
  [427] setlocal 14 ............................. tResMngr = getResourceManager()
  [429] getlocal 2 .............................. <tLayDefinition>
  [431] pushsymb 998 ............................ <#elements>
  [434] pusharglist 2 ........................... <tLayDefinition, #elements>
  [436] objcall 54 .............................. <tLayDefinition[#elements]>
  [438] peek 0
  [440] pusharglist 1
  [442] extcall 22
  [444] pushint8 1
  [446] peek 0
  [448] peek 2
  [450] lteq
  [451] jmpifz [1513] ........................... repeat with tElem in tLayDefinition[#elements]
  [454] peek 2
  [456] peek 1
  [458] pusharglist 2
  [460] extcall 54
  [462] setlocal 12
  [464] getlocal 12 ............................. <tElem>
  [466] pushsymb 1296 ........................... <#txtColor>
  [469] pusharglist 2 ........................... <tElem, #txtColor>
  [471] objcall 54 .............................. <tElem[#txtColor]>
  [473] pusharglist 1 ........................... <tElem[#txtColor]>
  [475] extcall 38 .............................. <stringp(tElem[#txtColor])>
  [477] jmpifz [503] ............................ if stringp(tElem[#txtColor]) then
  [480] getlocal 12 ............................. <tElem>
  [482] pushsymb 1296 ........................... <#txtColor>
  [485] getlocal 12 ............................. <tElem>
  [487] pushsymb 1296 ........................... <#txtColor>
  [490] pusharglist 2 ........................... <tElem, #txtColor>
  [492] objcall 54 .............................. <tElem[#txtColor]>
  [494] pusharglist 1 ........................... <tElem[#txtColor]>
  [496] extcall 578 ............................. <rgb(tElem[#txtColor])>
  [499] pusharglistnoret 3 ...................... <tElem, #txtColor, rgb(tElem[#txtColor])>
  [501] objcall 24 .............................. tElem[#txtColor] = rgb(tElem[#txtColor])
  [503] getlocal 12 ............................. <tElem>
  [505] pushsymb 1297 ........................... <#txtBgColor>
  [508] pusharglist 2 ........................... <tElem, #txtBgColor>
  [510] objcall 54 .............................. <tElem[#txtBgColor]>
  [512] pusharglist 1 ........................... <tElem[#txtBgColor]>
  [514] extcall 38 .............................. <stringp(tElem[#txtBgColor])>
  [516] jmpifz [542] ............................ if stringp(tElem[#txtBgColor]) then
  [519] getlocal 12 ............................. <tElem>
  [521] pushsymb 1297 ........................... <#txtBgColor>
  [524] getlocal 12 ............................. <tElem>
  [526] pushsymb 1297 ........................... <#txtBgColor>
  [529] pusharglist 2 ........................... <tElem, #txtBgColor>
  [531] objcall 54 .............................. <tElem[#txtBgColor]>
  [533] pusharglist 1 ........................... <tElem[#txtBgColor]>
  [535] extcall 578 ............................. <rgb(tElem[#txtBgColor])>
  [538] pusharglistnoret 3 ...................... <tElem, #txtBgColor, rgb(tElem[#txtBgColor])>
  [540] objcall 24 .............................. tElem[#txtBgColor] = rgb(tElem[#txtBgColor])
  [542] getlocal 12 ............................. <tElem>
  [544] pushsymb 599 ............................ <#color>
  [547] pusharglist 2 ........................... <tElem, #color>
  [549] objcall 54 .............................. <tElem[#color]>
  [551] pusharglist 1 ........................... <tElem[#color]>
  [553] extcall 20 .............................. <voidp(tElem[#color])>
  [555] jmpifz [569] ............................ if voidp(tElem[#color]) then
  [558] getlocal 12 ............................. <tElem>
  [560] pushsymb 599 ............................ <#color>
  [563] pushcons 15 ............................. <"#000000">
  [565] pusharglistnoret 3 ...................... <tElem, #color, "#000000">
  [567] objcall 24 .............................. tElem[#color] = "#000000"
  [569] getlocal 12 ............................. <tElem>
  [571] pushsymb 1298 ........................... <#bgColor>
  [574] pusharglist 2 ........................... <tElem, #bgColor>
  [576] objcall 54 .............................. <tElem[#bgColor]>
  [578] pusharglist 1 ........................... <tElem[#bgColor]>
  [580] extcall 20 .............................. <voidp(tElem[#bgColor])>
  [582] jmpifz [596] ............................ if voidp(tElem[#bgColor]) then
  [585] getlocal 12 ............................. <tElem>
  [587] pushsymb 1298 ........................... <#bgColor>
  [590] pushcons 16 ............................. <"#FFFFFF">
  [592] pusharglistnoret 3 ...................... <tElem, #bgColor, "#FFFFFF">
  [594] objcall 24 .............................. tElem[#bgColor] = "#FFFFFF"
  [596] getlocal 12 ............................. <tElem>
  [598] pushsymb 599 ............................ <#color>
  [601] getlocal 12 ............................. <tElem>
  [603] pushsymb 599 ............................ <#color>
  [606] pusharglist 2 ........................... <tElem, #color>
  [608] objcall 54 .............................. <tElem[#color]>
  [610] pusharglist 1 ........................... <tElem[#color]>
  [612] extcall 578 ............................. <rgb(tElem[#color])>
  [615] pusharglistnoret 3 ...................... <tElem, #color, rgb(tElem[#color])>
  [617] objcall 24 .............................. tElem[#color] = rgb(tElem[#color])
  [619] getlocal 12 ............................. <tElem>
  [621] pushsymb 1298 ........................... <#bgColor>
  [624] getlocal 12 ............................. <tElem>
  [626] pushsymb 1298 ........................... <#bgColor>
  [629] pusharglist 2 ........................... <tElem, #bgColor>
  [631] objcall 54 .............................. <tElem[#bgColor]>
  [633] pusharglist 1 ........................... <tElem[#bgColor]>
  [635] extcall 578 ............................. <rgb(tElem[#bgColor])>
  [638] pusharglistnoret 3 ...................... <tElem, #bgColor, rgb(tElem[#bgColor])>
  [640] objcall 24 .............................. tElem[#bgColor] = rgb(tElem[#bgColor])
  [642] getlocal 12 ............................. <tElem>
  [644] pushsymb 1299 ........................... <#palette>
  [647] pusharglist 2 ........................... <tElem, #palette>
  [649] objcall 54 .............................. <tElem[#palette]>
  [651] setlocal 15 ............................. tPalette = tElem[#palette]
  [653] getlocal 15 ............................. <tPalette>
  [655] pusharglist 1 ........................... <tPalette>
  [657] extcall 38 .............................. <stringp(tPalette)>
  [659] jmpifz [764] ............................ if stringp(tPalette) then
  [662] getlocal 14 ............................. <tResMngr>
  [664] getlocal 15 ............................. <tPalette>
  [666] pushcons 17 ............................. <"Duplicate">
  [668] joinpadstr .............................. <tPalette && "Duplicate">
  [669] pusharglist 2 ........................... <tResMngr, tPalette && "Duplicate">
  [671] objcall 88 .............................. <tResMngr.exists(tPalette && "Duplicate")>
  [673] not ..................................... <not tResMngr.exists(tPalette && "Duplicate")>
  [674] jmpifz [750] ............................ if not tResMngr.exists(tPalette && "Duplicate") then
  [677] getlocal 14 ............................. <tResMngr>
  [679] getlocal 15 ............................. <tPalette>
  [681] pusharglist 2 ........................... <tResMngr, tPalette>
  [683] objcall 52 .............................. <tResMngr.getmemnum(tPalette)>
  [685] setlocal 16 ............................. tPalMemNum = tResMngr.getmemnum(tPalette)
  [687] getlocal 16 ............................. <tPalMemNum>
  [689] pushzero ................................ <0>
  [690] gt ...................................... <tPalMemNum > 0>
  [691] jmpifz [722] ............................ if tPalMemNum > 0 then / else
  [694] getlocal 16 ............................. <tPalMemNum>
  [696] pusharglist 1 ........................... <tPalMemNum>
  [698] extcall 41 .............................. <member(tPalMemNum)>
  [700] getlocal 14 ............................. <tResMngr>
  [702] getlocal 15 ............................. <tPalette>
  [704] pushcons 17 ............................. <"Duplicate">
  [706] joinpadstr .............................. <tPalette && "Duplicate">
  [707] pushsymb 1299 ........................... <#palette>
  [710] pusharglist 3 ........................... <tResMngr, tPalette && "Duplicate", #palette>
  [712] objcall 164 ............................. <tResMngr.createMember(tPalette && "Duplicate", #palette)>
  [714] pusharglistnoret 2 ...................... <member(tPalMemNum), tResMngr.createMember(tPalette && "Duplicate", #palette)>
  [716] objcall 554 ............................. member(tPalMemNum).duplicate(tResMngr.createMember(tPalette && "Duplicate", #palette))
  [719] jmp [750]
  [722] getlocal 14 ............................. <tResMngr>
  [724] getlocal 15 ............................. <tPalette>
  [726] pushcons 17 ............................. <"Duplicate">
  [728] joinpadstr .............................. <tPalette && "Duplicate">
  [729] pushsymb 1299 ........................... <#palette>
  [732] pusharglistnoret 3 ...................... <tResMngr, tPalette && "Duplicate", #palette>
  [734] objcall 164 ............................. tResMngr.createMember(tPalette && "Duplicate", #palette)
  [736] getparam 0 .............................. <me>
  [738] pushcons 18 ............................. <"Palette member missing:">
  [740] getlocal 15 ............................. <tPalette>
  [742] joinpadstr .............................. <"Palette member missing:" && tPalette>
  [743] pushsymb 1291 ........................... <#parse_window>
  [746] pusharglistnoret 3 ...................... <me, "Palette member missing:" && tPalette, #parse_window>
  [748] extcall 39 .............................. error(me, "Palette member missing:" && tPalette, #parse_window)
  [750] getlocal 12 ............................. <tElem>
  [752] pushsymb 1299 ........................... <#palette>
  [755] getlocal 15 ............................. <tPalette>
  [757] pushcons 17 ............................. <"Duplicate">
  [759] joinpadstr .............................. <tPalette && "Duplicate">
  [760] pusharglistnoret 3 ...................... <tElem, #palette, tPalette && "Duplicate">
  [762] objcall 24 .............................. tElem[#palette] = tPalette && "Duplicate"
  [764] getlocal 12 ............................. <tElem>
  [766] pushsymb 456 ............................ <#type>
  [769] pusharglist 2 ........................... <tElem, #type>
  [771] objcall 54 .............................. <tElem[#type]>
  [773] pushcons 19 ............................. <"text">
  [775] eq ...................................... <tElem[#type] = "text">
  [776] jmpifz [1052] ........................... if tElem[#type] = "text" then
  [779] pushcons 20 ............................. <"struct.font.plain">
  [781] pusharglist 1 ........................... <"struct.font.plain">
  [783] extcall 374 ............................. <getStructVariable("struct.font.plain")>
  [786] setlocal 17 ............................. tFontStruct = getStructVariable("struct.font.plain")
  [788] getlocal 12 ............................. <tElem>
  [790] pushsymb 594 ............................ <#wordWrap>
  [793] pusharglist 2 ........................... <tElem, #wordWrap>
  [795] objcall 54 .............................. <tElem[#wordWrap]>
  [797] pusharglist 1 ........................... <tElem[#wordWrap]>
  [799] extcall 20 .............................. <voidp(tElem[#wordWrap])>
  [801] jmpifz [815] ............................ if voidp(tElem[#wordWrap]) then
  [804] getlocal 12 ............................. <tElem>
  [806] pushsymb 594 ............................ <#wordWrap>
  [809] pushint8 1 .............................. <1>
  [811] pusharglistnoret 3 ...................... <tElem, #wordWrap, 1>
  [813] objcall 24 .............................. tElem[#wordWrap] = 1
  [815] getlocal 12 ............................. <tElem>
  [817] pushsymb 472 ............................ <#alignment>
  [820] pusharglist 2 ........................... <tElem, #alignment>
  [822] objcall 54 .............................. <tElem[#alignment]>
  [824] pusharglist 1 ........................... <tElem[#alignment]>
  [826] extcall 20 .............................. <voidp(tElem[#alignment])>
  [828] jmpifz [843] ............................ if voidp(tElem[#alignment]) then
  [831] getlocal 12 ............................. <tElem>
  [833] pushsymb 472 ............................ <#alignment>
  [836] pushsymb 466 ............................ <#left>
  [839] pusharglistnoret 3 ...................... <tElem, #alignment, #left>
  [841] objcall 24 .............................. tElem[#alignment] = #left
  [843] getlocal 12 ............................. <tElem>
  [845] pushsymb 596 ............................ <#font>
  [848] pusharglist 2 ........................... <tElem, #font>
  [850] objcall 54 .............................. <tElem[#font]>
  [852] pusharglist 1 ........................... <tElem[#font]>
  [854] extcall 20 .............................. <voidp(tElem[#font])>
  [856] jmpifz [877] ............................ if voidp(tElem[#font]) then
  [859] getlocal 12 ............................. <tElem>
  [861] pushsymb 596 ............................ <#font>
  [864] getlocal 17 ............................. <tFontStruct>
  [866] pushsymb 596 ............................ <#font>
  [869] pusharglist 2 ........................... <tFontStruct, #font>
  [871] objcall 31 .............................. <tFontStruct.getaProp(#font)>
  [873] pusharglistnoret 3 ...................... <tElem, #font, tFontStruct.getaProp(#font)>
  [875] objcall 24 .............................. tElem[#font] = tFontStruct.getaProp(#font)
  [877] getlocal 12 ............................. <tElem>
  [879] pushsymb 598 ............................ <#fontSize>
  [882] pusharglist 2 ........................... <tElem, #fontSize>
  [884] objcall 54 .............................. <tElem[#fontSize]>
  [886] pusharglist 1 ........................... <tElem[#fontSize]>
  [888] extcall 20 .............................. <voidp(tElem[#fontSize])>
  [890] jmpifz [911] ............................ if voidp(tElem[#fontSize]) then
  [893] getlocal 12 ............................. <tElem>
  [895] pushsymb 598 ............................ <#fontSize>
  [898] getlocal 17 ............................. <tFontStruct>
  [900] pushsymb 598 ............................ <#fontSize>
  [903] pusharglist 2 ........................... <tFontStruct, #fontSize>
  [905] objcall 31 .............................. <tFontStruct.getaProp(#fontSize)>
  [907] pusharglistnoret 3 ...................... <tElem, #fontSize, tFontStruct.getaProp(#fontSize)>
  [909] objcall 24 .............................. tElem[#fontSize] = tFontStruct.getaProp(#fontSize)
  [911] getlocal 12 ............................. <tElem>
  [913] pushsymb 597 ............................ <#fontStyle>
  [916] pusharglist 2 ........................... <tElem, #fontStyle>
  [918] objcall 54 .............................. <tElem[#fontStyle]>
  [920] pusharglist 1 ........................... <tElem[#fontStyle]>
  [922] extcall 20 .............................. <voidp(tElem[#fontStyle])>
  [924] jmpifz [945] ............................ if voidp(tElem[#fontStyle]) then
  [927] getlocal 12 ............................. <tElem>
  [929] pushsymb 597 ............................ <#fontStyle>
  [932] getlocal 17 ............................. <tFontStruct>
  [934] pushsymb 597 ............................ <#fontStyle>
  [937] pusharglist 2 ........................... <tFontStruct, #fontStyle>
  [939] objcall 31 .............................. <tFontStruct.getaProp(#fontStyle)>
  [941] pusharglistnoret 3 ...................... <tElem, #fontStyle, tFontStruct.getaProp(#fontStyle)>
  [943] objcall 24 .............................. tElem[#fontStyle] = tFontStruct.getaProp(#fontStyle)
  [945] getlocal 12 ............................. <tElem>
  [947] pushsymb 1296 ........................... <#txtColor>
  [950] pusharglist 2 ........................... <tElem, #txtColor>
  [952] objcall 54 .............................. <tElem[#txtColor]>
  [954] pusharglist 1 ........................... <tElem[#txtColor]>
  [956] extcall 20 .............................. <voidp(tElem[#txtColor])>
  [958] jmpifz [979] ............................ if voidp(tElem[#txtColor]) then
  [961] getlocal 12 ............................. <tElem>
  [963] pushsymb 1296 ........................... <#txtColor>
  [966] getlocal 17 ............................. <tFontStruct>
  [968] pushsymb 599 ............................ <#color>
  [971] pusharglist 2 ........................... <tFontStruct, #color>
  [973] objcall 31 .............................. <tFontStruct.getaProp(#color)>
  [975] pusharglistnoret 3 ...................... <tElem, #txtColor, tFontStruct.getaProp(#color)>
  [977] objcall 24 .............................. tElem[#txtColor] = tFontStruct.getaProp(#color)
  [979] getlocal 12 ............................. <tElem>
  [981] pushsymb 1297 ........................... <#txtBgColor>
  [984] pusharglist 2 ........................... <tElem, #txtBgColor>
  [986] objcall 54 .............................. <tElem[#txtBgColor]>
  [988] pusharglist 1 ........................... <tElem[#txtBgColor]>
  [990] extcall 20 .............................. <voidp(tElem[#txtBgColor])>
  [992] jmpifz [1018] ........................... if voidp(tElem[#txtBgColor]) then
  [995] getlocal 12 ............................. <tElem>
  [997] pushsymb 1297 ........................... <#txtBgColor>
  [1000] pushint16 255 .......................... <255>
  [1003] pushint16 255 .......................... <255>
  [1006] pushint16 255 .......................... <255>
  [1009] pusharglist 3 .......................... <255, 255, 255>
  [1011] extcall 578 ............................ <rgb(255, 255, 255)>
  [1014] pusharglistnoret 3 ..................... <tElem, #txtBgColor, rgb(255, 255, 255)>
  [1016] objcall 24 ............................. tElem[#txtBgColor] = rgb(255, 255, 255)
  [1018] getlocal 12 ............................ <tElem>
  [1020] pushsymb 477 ........................... <#fixedLineSpace>
  [1023] pusharglist 2 .......................... <tElem, #fixedLineSpace>
  [1025] objcall 54 ............................. <tElem[#fixedLineSpace]>
  [1027] pusharglist 1 .......................... <tElem[#fixedLineSpace]>
  [1029] extcall 20 ............................. <voidp(tElem[#fixedLineSpace])>
  [1031] jmpifz [1052] .......................... if voidp(tElem[#fixedLineSpace]) then
  [1034] getlocal 12 ............................ <tElem>
  [1036] pushsymb 477 ........................... <#fixedLineSpace>
  [1039] getlocal 12 ............................ <tElem>
  [1041] pushsymb 598 ........................... <#fontSize>
  [1044] pusharglist 2 .......................... <tElem, #fontSize>
  [1046] objcall 54 ............................. <tElem[#fontSize]>
  [1048] pusharglistnoret 3 ..................... <tElem, #fixedLineSpace, tElem[#fontSize]>
  [1050] objcall 24 ............................. tElem[#fixedLineSpace] = tElem[#fontSize]
  [1052] getlocal 12 ............................ <tElem>
  [1054] pushsymb 1300 .......................... <#strech>
  [1057] pusharglist 2 .......................... <tElem, #strech>
  [1059] objcall 54 ............................. <tElem[#strech]>
  [1061] pusharglist 1 .......................... <tElem[#strech]>
  [1063] extcall 20 ............................. <voidp(tElem[#strech])>
  [1065] not .................................... <not voidp(tElem[#strech])>
  [1066] jmpifz [1507] .......................... if not voidp(tElem[#strech]) then
  [1069] getlocal 12 ............................ <tElem>
  [1071] pushsymb 1301 .......................... <#scaleH>
  [1074] pushsymb 1302 .......................... <#fixed>
  [1077] pusharglistnoret 3 ..................... <tElem, #scaleH, #fixed>
  [1079] objcall 24 ............................. tElem[#scaleH] = #fixed
  [1081] getlocal 12 ............................ <tElem>
  [1083] pushsymb 1303 .......................... <#scaleV>
  [1086] pushsymb 1302 .......................... <#fixed>
  [1089] pusharglistnoret 3 ..................... <tElem, #scaleV, #fixed>
  [1091] objcall 24 ............................. tElem[#scaleV] = #fixed
  [1093] getlocal 12 ............................ <tElem>
  [1095] pushsymb 1300 .......................... <#strech>
  [1098] pusharglist 2 .......................... <tElem, #strech>
  [1100] objcall 54 ............................. <tElem[#strech]>
  [1102] peek 0 ................................. case tElem[#strech] of
  [1104] pushsymb 1304 .......................... <#moveH>
  [1107] eq
  [1108] jmpifz [1126] .......................... (case) #moveH:
  [1111] getlocal 12 ............................ <tElem>
  [1113] pushsymb 1301 .......................... <#scaleH>
  [1116] pushsymb 1305 .......................... <#move>
  [1119] pusharglistnoret 3 ..................... <tElem, #scaleH, #move>
  [1121] objcall 24 ............................. tElem[#scaleH] = #move
  [1123] jmp [1495]
  [1126] peek 0
  [1128] pushsymb 1306 .......................... <#moveV>
  [1131] eq
  [1132] jmpifz [1150] .......................... (case) #moveV:
  [1135] getlocal 12 ............................ <tElem>
  [1137] pushsymb 1303 .......................... <#scaleV>
  [1140] pushsymb 1305 .......................... <#move>
  [1143] pusharglistnoret 3 ..................... <tElem, #scaleV, #move>
  [1145] objcall 24 ............................. tElem[#scaleV] = #move
  [1147] jmp [1495]
  [1150] peek 0
  [1152] pushsymb 1307 .......................... <#strechH>
  [1155] eq
  [1156] jmpifz [1174] .......................... (case) #strechH:
  [1159] getlocal 12 ............................ <tElem>
  [1161] pushsymb 1301 .......................... <#scaleH>
  [1164] pushsymb 1308 .......................... <#scale>
  [1167] pusharglistnoret 3 ..................... <tElem, #scaleH, #scale>
  [1169] objcall 24 ............................. tElem[#scaleH] = #scale
  [1171] jmp [1495]
  [1174] peek 0
  [1176] pushsymb 1309 .......................... <#strechV>
  [1179] eq
  [1180] jmpifz [1198] .......................... (case) #strechV:
  [1183] getlocal 12 ............................ <tElem>
  [1185] pushsymb 1303 .......................... <#scaleV>
  [1188] pushsymb 1308 .......................... <#scale>
  [1191] pusharglistnoret 3 ..................... <tElem, #scaleV, #scale>
  [1193] objcall 24 ............................. tElem[#scaleV] = #scale
  [1195] jmp [1495]
  [1198] peek 0
  [1200] pushsymb 1310 .......................... <#centerH>
  [1203] eq
  [1204] jmpifz [1222] .......................... (case) #centerH:
  [1207] getlocal 12 ............................ <tElem>
  [1209] pushsymb 1301 .......................... <#scaleH>
  [1212] pushsymb 508 ........................... <#center>
  [1215] pusharglistnoret 3 ..................... <tElem, #scaleH, #center>
  [1217] objcall 24 ............................. tElem[#scaleH] = #center
  [1219] jmp [1495]
  [1222] peek 0
  [1224] pushsymb 1311 .......................... <#centerV>
  [1227] eq
  [1228] jmpifz [1246] .......................... (case) #centerV:
  [1231] getlocal 12 ............................ <tElem>
  [1233] pushsymb 1303 .......................... <#scaleV>
  [1236] pushsymb 508 ........................... <#center>
  [1239] pusharglistnoret 3 ..................... <tElem, #scaleV, #center>
  [1241] objcall 24 ............................. tElem[#scaleV] = #center
  [1243] jmp [1495]
  [1246] peek 0
  [1248] pushsymb 1312 .......................... <#moveHV>
  [1251] eq
  [1252] jmpifz [1282] .......................... (case) #moveHV:
  [1255] getlocal 12 ............................ <tElem>
  [1257] pushsymb 1301 .......................... <#scaleH>
  [1260] pushsymb 1305 .......................... <#move>
  [1263] pusharglistnoret 3 ..................... <tElem, #scaleH, #move>
  [1265] objcall 24 ............................. tElem[#scaleH] = #move
  [1267] getlocal 12 ............................ <tElem>
  [1269] pushsymb 1303 .......................... <#scaleV>
  [1272] pushsymb 1305 .......................... <#move>
  [1275] pusharglistnoret 3 ..................... <tElem, #scaleV, #move>
  [1277] objcall 24 ............................. tElem[#scaleV] = #move
  [1279] jmp [1495]
  [1282] peek 0
  [1284] pushsymb 1313 .......................... <#strechHV>
  [1287] eq
  [1288] jmpifz [1318] .......................... (case) #strechHV:
  [1291] getlocal 12 ............................ <tElem>
  [1293] pushsymb 1301 .......................... <#scaleH>
  [1296] pushsymb 1308 .......................... <#scale>
  [1299] pusharglistnoret 3 ..................... <tElem, #scaleH, #scale>
  [1301] objcall 24 ............................. tElem[#scaleH] = #scale
  [1303] getlocal 12 ............................ <tElem>
  [1305] pushsymb 1303 .......................... <#scaleV>
  [1308] pushsymb 1308 .......................... <#scale>
  [1311] pusharglistnoret 3 ..................... <tElem, #scaleV, #scale>
  [1313] objcall 24 ............................. tElem[#scaleV] = #scale
  [1315] jmp [1495]
  [1318] peek 0
  [1320] pushsymb 1314 .......................... <#centerHV>
  [1323] eq
  [1324] jmpifz [1354] .......................... (case) #centerHV:
  [1327] getlocal 12 ............................ <tElem>
  [1329] pushsymb 1301 .......................... <#scaleH>
  [1332] pushsymb 508 ........................... <#center>
  [1335] pusharglistnoret 3 ..................... <tElem, #scaleH, #center>
  [1337] objcall 24 ............................. tElem[#scaleH] = #center
  [1339] getlocal 12 ............................ <tElem>
  [1341] pushsymb 1303 .......................... <#scaleV>
  [1344] pushsymb 508 ........................... <#center>
  [1347] pusharglistnoret 3 ..................... <tElem, #scaleV, #center>
  [1349] objcall 24 ............................. tElem[#scaleV] = #center
  [1351] jmp [1495]
  [1354] peek 0
  [1356] pushsymb 1315 .......................... <#moveHstrechV>
  [1359] eq
  [1360] jmpifz [1390] .......................... (case) #moveHstrechV:
  [1363] getlocal 12 ............................ <tElem>
  [1365] pushsymb 1301 .......................... <#scaleH>
  [1368] pushsymb 1305 .......................... <#move>
  [1371] pusharglistnoret 3 ..................... <tElem, #scaleH, #move>
  [1373] objcall 24 ............................. tElem[#scaleH] = #move
  [1375] getlocal 12 ............................ <tElem>
  [1377] pushsymb 1303 .......................... <#scaleV>
  [1380] pushsymb 1308 .......................... <#scale>
  [1383] pusharglistnoret 3 ..................... <tElem, #scaleV, #scale>
  [1385] objcall 24 ............................. tElem[#scaleV] = #scale
  [1387] jmp [1495]
  [1390] peek 0
  [1392] pushsymb 1316 .......................... <#moveVstrechH>
  [1395] eq
  [1396] jmpifz [1426] .......................... (case) #moveVstrechH:
  [1399] getlocal 12 ............................ <tElem>
  [1401] pushsymb 1301 .......................... <#scaleH>
  [1404] pushsymb 1308 .......................... <#scale>
  [1407] pusharglistnoret 3 ..................... <tElem, #scaleH, #scale>
  [1409] objcall 24 ............................. tElem[#scaleH] = #scale
  [1411] getlocal 12 ............................ <tElem>
  [1413] pushsymb 1303 .......................... <#scaleV>
  [1416] pushsymb 1305 .......................... <#move>
  [1419] pusharglistnoret 3 ..................... <tElem, #scaleV, #move>
  [1421] objcall 24 ............................. tElem[#scaleV] = #move
  [1423] jmp [1495]
  [1426] peek 0
  [1428] pushsymb 1317 .......................... <#moveHcenterV>
  [1431] eq
  [1432] jmpifz [1462] .......................... (case) #moveHcenterV:
  [1435] getlocal 12 ............................ <tElem>
  [1437] pushsymb 1301 .......................... <#scaleH>
  [1440] pushsymb 1305 .......................... <#move>
  [1443] pusharglistnoret 3 ..................... <tElem, #scaleH, #move>
  [1445] objcall 24 ............................. tElem[#scaleH] = #move
  [1447] getlocal 12 ............................ <tElem>
  [1449] pushsymb 1303 .......................... <#scaleV>
  [1452] pushsymb 508 ........................... <#center>
  [1455] pusharglistnoret 3 ..................... <tElem, #scaleV, #center>
  [1457] objcall 24 ............................. tElem[#scaleV] = #center
  [1459] jmp [1495]
  [1462] peek 0
  [1464] pushsymb 1318 .......................... <#moveVcenterH>
  [1467] eq
  [1468] jmpifz [1495] .......................... (case) #moveVcenterH:
  [1471] getlocal 12 ............................ <tElem>
  [1473] pushsymb 1301 .......................... <#scaleH>
  [1476] pushsymb 508 ........................... <#center>
  [1479] pusharglistnoret 3 ..................... <tElem, #scaleH, #center>
  [1481] objcall 24 ............................. tElem[#scaleH] = #center
  [1483] getlocal 12 ............................ <tElem>
  [1485] pushsymb 1303 .......................... <#scaleV>
  [1488] pushsymb 1305 .......................... <#move>
  [1491] pusharglistnoret 3 ..................... <tElem, #scaleV, #move>
  [1493] objcall 24 ............................. tElem[#scaleV] = #move
  [1495] pop 1 .................................. end case
  [1497] getlocal 12 ............................ <tElem>
  [1499] pushsymb 1300 .......................... <#strech>
  [1502] pusharglistnoret 2 ..................... <tElem, #strech>
  [1504] objcall 661 ............................ tElem.deleteProp(#strech)
  [1507] pushint8 1
  [1509] add
  [1510] endrepeat [446]
  [1513] pop 3
  [1515] getlocal 2 ............................. <tLayDefinition>
  [1517] pushsymb 557 ........................... <#rect>
  [1520] pusharglist 2 .......................... <tLayDefinition, #rect>
  [1522] objcall 54 ............................. <tLayDefinition[#rect]>
  [1524] getobjprop 22 .......................... <tLayDefinition[#rect].count>
  [1526] pushzero ............................... <0>
  [1527] eq ..................................... <tLayDefinition[#rect].count = 0>
  [1528] jmpifz [1888] .......................... if tLayDefinition[#rect].count = 0 then / else
  [1531] pushint16 10000 ........................ <10000>
  [1534] pushint16 10000 ........................ <10000>
  [1537] pushint16 10000 ........................ <10000>
  [1540] inv .................................... <-10000>
  [1541] pushint16 10000 ........................ <10000>
  [1544] inv .................................... <-10000>
  [1545] pusharglist 4 .......................... <10000, 10000, -10000, -10000>
  [1547] extcall 557 ............................ <rect(10000, 10000, -10000, -10000)>
  [1550] setlocal 18 ............................ tRect = rect(10000, 10000, -10000, -10000)
  [1552] getlocal 11 ............................ <tElements>
  [1554] peek 0
  [1556] pusharglist 1
  [1558] extcall 22
  [1560] pushint8 1
  [1562] peek 0
  [1564] peek 2
  [1566] lteq
  [1567] jmpifz [1760] .......................... repeat with tElement in tElements
  [1570] peek 2
  [1572] peek 1
  [1574] pusharglist 2
  [1576] extcall 54
  [1578] setlocal 19
  [1580] getlocal 19 ............................ <tElement>
  [1582] peek 0
  [1584] pusharglist 1
  [1586] extcall 22
  [1588] pushint8 1
  [1590] peek 0
  [1592] peek 2
  [1594] lteq
  [1595] jmpifz [1753] .......................... repeat with tItem in tElement
  [1598] peek 2
  [1600] peek 1
  [1602] pusharglist 2
  [1604] extcall 54
  [1606] setlocal 20
  [1608] getlocal 20 ............................ <tItem>
  [1610] getobjprop 506 ......................... <tItem.locH>
  [1613] getlocal 18 ............................ <tRect>
  [1615] pushint8 1 ............................. <1>
  [1617] pusharglist 2 .......................... <tRect, 1>
  [1619] objcall 54 ............................. <tRect[1]>
  [1621] lt ..................................... <tItem.locH < tRect[1]>
  [1622] jmpifz [1638] .......................... if tItem.locH < tRect[1] then
  [1625] getlocal 18 ............................ <tRect>
  [1627] pushint8 1 ............................. <1>
  [1629] getlocal 20 ............................ <tItem>
  [1631] getobjprop 506 ......................... <tItem.locH>
  [1634] pusharglistnoret 3 ..................... <tRect, 1, tItem.locH>
  [1636] objcall 24 ............................. tRect[1] = tItem.locH
  [1638] getlocal 20 ............................ <tItem>
  [1640] getobjprop 507 ......................... <tItem.locV>
  [1643] getlocal 18 ............................ <tRect>
  [1645] pushint8 2 ............................. <2>
  [1647] pusharglist 2 .......................... <tRect, 2>
  [1649] objcall 54 ............................. <tRect[2]>
  [1651] lt ..................................... <tItem.locV < tRect[2]>
  [1652] jmpifz [1668] .......................... if tItem.locV < tRect[2] then
  [1655] getlocal 18 ............................ <tRect>
  [1657] pushint8 2 ............................. <2>
  [1659] getlocal 20 ............................ <tItem>
  [1661] getobjprop 507 ......................... <tItem.locV>
  [1664] pusharglistnoret 3 ..................... <tRect, 2, tItem.locV>
  [1666] objcall 24 ............................. tRect[2] = tItem.locV
  [1668] getlocal 20 ............................ <tItem>
  [1670] getobjprop 506 ......................... <tItem.locH>
  [1673] getlocal 20 ............................ <tItem>
  [1675] getobjprop 42 .......................... <tItem.width>
  [1677] add .................................... <tItem.locH + tItem.width>
  [1678] getlocal 18 ............................ <tRect>
  [1680] pushint8 3 ............................. <3>
  [1682] pusharglist 2 .......................... <tRect, 3>
  [1684] objcall 54 ............................. <tRect[3]>
  [1686] gt ..................................... <(tItem.locH + tItem.width) > tRect[3]>
  [1687] jmpifz [1708] .......................... if (tItem.locH + tItem.width) > tRect[3] then
  [1690] getlocal 18 ............................ <tRect>
  [1692] pushint8 3 ............................. <3>
  [1694] getlocal 20 ............................ <tItem>
  [1696] getobjprop 506 ......................... <tItem.locH>
  [1699] getlocal 20 ............................ <tItem>
  [1701] getobjprop 42 .......................... <tItem.width>
  [1703] add .................................... <tItem.locH + tItem.width>
  [1704] pusharglistnoret 3 ..................... <tRect, 3, tItem.locH + tItem.width>
  [1706] objcall 24 ............................. tRect[3] = tItem.locH + tItem.width
  [1708] getlocal 20 ............................ <tItem>
  [1710] getobjprop 507 ......................... <tItem.locV>
  [1713] getlocal 20 ............................ <tItem>
  [1715] getobjprop 43 .......................... <tItem.height>
  [1717] add .................................... <tItem.locV + tItem.height>
  [1718] getlocal 18 ............................ <tRect>
  [1720] pushint8 4 ............................. <4>
  [1722] pusharglist 2 .......................... <tRect, 4>
  [1724] objcall 54 ............................. <tRect[4]>
  [1726] gt ..................................... <(tItem.locV + tItem.height) > tRect[4]>
  [1727] jmpifz [1748] .......................... if (tItem.locV + tItem.height) > tRect[4] then
  [1730] getlocal 18 ............................ <tRect>
  [1732] pushint8 4 ............................. <4>
  [1734] getlocal 20 ............................ <tItem>
  [1736] getobjprop 507 ......................... <tItem.locV>
  [1739] getlocal 20 ............................ <tItem>
  [1741] getobjprop 43 .......................... <tItem.height>
  [1743] add .................................... <tItem.locV + tItem.height>
  [1744] pusharglistnoret 3 ..................... <tRect, 4, tItem.locV + tItem.height>
  [1746] objcall 24 ............................. tRect[4] = tItem.locV + tItem.height
  [1748] pushint8 1
  [1750] add
  [1751] endrepeat [1590]
  [1753] pop 3
  [1755] pushint8 1
  [1757] add
  [1758] endrepeat [1562]
  [1760] pop 3
  [1762] getlocal 2 ............................. <tLayDefinition>
  [1764] pushsymb 557 ........................... <#rect>
  [1767] pusharglist 2 .......................... <tLayDefinition, #rect>
  [1769] objcall 54 ............................. <tLayDefinition[#rect]>
  [1771] getlocal 18 ............................ <tRect>
  [1773] pusharglistnoret 2 ..................... <tLayDefinition[#rect], tRect>
  [1775] objcall 122 ............................ tLayDefinition[#rect].add(tRect)
  [1777] getlocal 11 ............................ <tElements>
  [1779] peek 0
  [1781] pusharglist 1
  [1783] extcall 22
  [1785] pushint8 1
  [1787] peek 0
  [1789] peek 2
  [1791] lteq
  [1792] jmpifz [1883] .......................... repeat with tElement in tElements
  [1795] peek 2
  [1797] peek 1
  [1799] pusharglist 2
  [1801] extcall 54
  [1803] setlocal 19
  [1805] getlocal 19 ............................ <tElement>
  [1807] peek 0
  [1809] pusharglist 1
  [1811] extcall 22
  [1813] pushint8 1
  [1815] peek 0
  [1817] peek 2
  [1819] lteq
  [1820] jmpifz [1876] .......................... repeat with tItem in tElement
  [1823] peek 2
  [1825] peek 1
  [1827] pusharglist 2
  [1829] extcall 54
  [1831] setlocal 20
  [1833] getlocal 20 ............................ <tItem>
  [1835] getlocal 20 ............................ <tItem>
  [1837] getobjprop 506 ......................... <tItem.locH>
  [1840] getlocal 18 ............................ <tRect>
  [1842] pushint8 1 ............................. <1>
  [1844] pusharglist 2 .......................... <tRect, 1>
  [1846] objcall 54 ............................. <tRect[1]>
  [1848] sub .................................... <tItem.locH - tRect[1]>
  [1849] setobjprop 506 ......................... tItem.locH = tItem.locH - tRect[1]
  [1852] getlocal 20 ............................ <tItem>
  [1854] getlocal 20 ............................ <tItem>
  [1856] getobjprop 507 ......................... <tItem.locV>
  [1859] getlocal 18 ............................ <tRect>
  [1861] pushint8 2 ............................. <2>
  [1863] pusharglist 2 .......................... <tRect, 2>
  [1865] objcall 54 ............................. <tRect[2]>
  [1867] sub .................................... <tItem.locV - tRect[2]>
  [1868] setobjprop 507 ......................... tItem.locV = tItem.locV - tRect[2]
  [1871] pushint8 1
  [1873] add
  [1874] endrepeat [1815]
  [1876] pop 3
  [1878] pushint8 1
  [1880] add
  [1881] endrepeat [1787]
  [1883] pop 3
  [1885] jmp [1957]
  [1888] getlocal 2 ............................. <tLayDefinition>
  [1890] pushsymb 557 ........................... <#rect>
  [1893] pusharglist 2 .......................... <tLayDefinition, #rect>
  [1895] objcall 54 ............................. <tLayDefinition[#rect]>
  [1897] pushint8 1 ............................. <1>
  [1899] pusharglist 2 .......................... <tLayDefinition[#rect], 1>
  [1901] objcall 54 ............................. <tLayDefinition[#rect][1]>
  [1903] setlocal 8 ............................. tList = tLayDefinition[#rect][1]
  [1905] getlocal 2 ............................. <tLayDefinition>
  [1907] pushsymb 557 ........................... <#rect>
  [1910] pusharglist 2 .......................... <tLayDefinition, #rect>
  [1912] objcall 54 ............................. <tLayDefinition[#rect]>
  [1914] pushint8 1 ............................. <1>
  [1916] getlocal 8 ............................. <tList>
  [1918] pushint8 1 ............................. <1>
  [1920] pusharglist 2 .......................... <tList, 1>
  [1922] objcall 54 ............................. <tList[1]>
  [1924] getlocal 8 ............................. <tList>
  [1926] pushint8 2 ............................. <2>
  [1928] pusharglist 2 .......................... <tList, 2>
  [1930] objcall 54 ............................. <tList[2]>
  [1932] getlocal 8 ............................. <tList>
  [1934] pushint8 3 ............................. <3>
  [1936] pusharglist 2 .......................... <tList, 3>
  [1938] objcall 54 ............................. <tList[3]>
  [1940] getlocal 8 ............................. <tList>
  [1942] pushint8 4 ............................. <4>
  [1944] pusharglist 2 .......................... <tList, 4>
  [1946] objcall 54 ............................. <tList[4]>
  [1948] pusharglist 4 .......................... <tList[1], tList[2], tList[3], tList[4]>
  [1950] extcall 557 ............................ <rect(tList[1], tList[2], tList[3], tList[4])>
  [1953] pusharglistnoret 3 ..................... <tLayDefinition[#rect], 1, rect(tList[1], tList[2], tList[3], tList[4])>
  [1955] objcall 24 ............................. tLayDefinition[#rect][1] = rect(tList[1], tList[2], tList[3], tList[4])
  [1957] getlocal 2 ............................. <tLayDefinition>
  [1959] pushsymb 557 ........................... <#rect>
  [1962] pusharglist 2 .......................... <tLayDefinition, #rect>
  [1964] objcall 54 ............................. <tLayDefinition[#rect]>
  [1966] pushint8 1 ............................. <1>
  [1968] pusharglist 2 .......................... <tLayDefinition[#rect], 1>
  [1970] objcall 54 ............................. <tLayDefinition[#rect][1]>
  [1972] pushint8 1 ............................. <1>
  [1974] pusharglist 2 .......................... <tLayDefinition[#rect][1], 1>
  [1976] objcall 54 ............................. <tLayDefinition[#rect][1][1]>
  [1978] setlocal 21 ............................ tOffX = tLayDefinition[#rect][1][1]
  [1980] getlocal 2 ............................. <tLayDefinition>
  [1982] pushsymb 557 ........................... <#rect>
  [1985] pusharglist 2 .......................... <tLayDefinition, #rect>
  [1987] objcall 54 ............................. <tLayDefinition[#rect]>
  [1989] pushint8 1 ............................. <1>
  [1991] pusharglist 2 .......................... <tLayDefinition[#rect], 1>
  [1993] objcall 54 ............................. <tLayDefinition[#rect][1]>
  [1995] pushint8 2 ............................. <2>
  [1997] pusharglist 2 .......................... <tLayDefinition[#rect][1], 2>
  [1999] objcall 54 ............................. <tLayDefinition[#rect][1][2]>
  [2001] setlocal 22 ............................ tOffY = tLayDefinition[#rect][1][2]
  [2003] getlocal 2 ............................. <tLayDefinition>
  [2005] pushsymb 557 ........................... <#rect>
  [2008] pusharglist 2 .......................... <tLayDefinition, #rect>
  [2010] objcall 54 ............................. <tLayDefinition[#rect]>
  [2012] pushint8 1 ............................. <1>
  [2014] getlocal 2 ............................. <tLayDefinition>
  [2016] pushsymb 557 ........................... <#rect>
  [2019] pusharglist 2 .......................... <tLayDefinition, #rect>
  [2021] objcall 54 ............................. <tLayDefinition[#rect]>
  [2023] pushint8 1 ............................. <1>
  [2025] pusharglist 2 .......................... <tLayDefinition[#rect], 1>
  [2027] objcall 54 ............................. <tLayDefinition[#rect][1]>
  [2029] getlocal 21 ............................ <tOffX>
  [2031] getlocal 22 ............................ <tOffY>
  [2033] getlocal 21 ............................ <tOffX>
  [2035] getlocal 22 ............................ <tOffY>
  [2037] pusharglist 4 .......................... <[tOffX, tOffY, tOffX, tOffY]>
  [2039] pushlist ............................... <[tOffX, tOffY, tOffX, tOffY]>
  [2040] sub .................................... <tLayDefinition[#rect][1] - [tOffX, tOffY, tOffX, tOffY]>
  [2041] pusharglistnoret 3 ..................... <tLayDefinition[#rect], 1, tLayDefinition[#rect][1] - [tOffX, tOffY, tOffX, tOffY]>
  [2043] objcall 24 ............................. tLayDefinition[#rect][1] = tLayDefinition[#rect][1] - [tOffX, tOffY, tOffX, tOffY]
  [2045] getlocal 2 ............................. <tLayDefinition>
  [2047] pushsymb 1123 .......................... <#border>
  [2050] pusharglist 2 .......................... <tLayDefinition, #border>
  [2052] objcall 54 ............................. <tLayDefinition[#border]>
  [2054] getobjprop 22 .......................... <tLayDefinition[#border].count>
  [2056] pushzero ............................... <0>
  [2057] eq ..................................... <tLayDefinition[#border].count = 0>
  [2058] jmpifz [2221] .......................... if tLayDefinition[#border].count = 0 then
  [2061] getlocal 2 ............................. <tLayDefinition>
  [2063] pushsymb 1295 .......................... <#clientrect>
  [2066] pusharglist 2 .......................... <tLayDefinition, #clientrect>
  [2068] objcall 54 ............................. <tLayDefinition[#clientrect]>
  [2070] getobjprop 22 .......................... <tLayDefinition[#clientrect].count>
  [2072] pushzero ............................... <0>
  [2073] gt ..................................... <tLayDefinition[#clientrect].count > 0>
  [2074] jmpifz [2201] .......................... if tLayDefinition[#clientrect].count > 0 then / else
  [2077] getlocal 2 ............................. <tLayDefinition>
  [2079] pushsymb 1295 .......................... <#clientrect>
  [2082] pusharglist 2 .......................... <tLayDefinition, #clientrect>
  [2084] objcall 54 ............................. <tLayDefinition[#clientrect]>
  [2086] pushint8 1 ............................. <1>
  [2088] pusharglist 2 .......................... <tLayDefinition[#clientrect], 1>
  [2090] objcall 54 ............................. <tLayDefinition[#clientrect][1]>
  [2092] setlocal 23 ............................ tClientRect = tLayDefinition[#clientrect][1]
  [2094] getlocal 2 ............................. <tLayDefinition>
  [2096] pushsymb 557 ........................... <#rect>
  [2099] pusharglist 2 .......................... <tLayDefinition, #rect>
  [2101] objcall 54 ............................. <tLayDefinition[#rect]>
  [2103] pushint8 1 ............................. <1>
  [2105] pusharglist 2 .......................... <tLayDefinition[#rect], 1>
  [2107] objcall 54 ............................. <tLayDefinition[#rect][1]>
  [2109] pushint8 3 ............................. <3>
  [2111] pusharglist 2 .......................... <tLayDefinition[#rect][1], 3>
  [2113] objcall 54 ............................. <tLayDefinition[#rect][1][3]>
  [2115] setlocal 24 ............................ tWinWidth = tLayDefinition[#rect][1][3]
  [2117] getlocal 2 ............................. <tLayDefinition>
  [2119] pushsymb 557 ........................... <#rect>
  [2122] pusharglist 2 .......................... <tLayDefinition, #rect>
  [2124] objcall 54 ............................. <tLayDefinition[#rect]>
  [2126] pushint8 1 ............................. <1>
  [2128] pusharglist 2 .......................... <tLayDefinition[#rect], 1>
  [2130] objcall 54 ............................. <tLayDefinition[#rect][1]>
  [2132] pushint8 4 ............................. <4>
  [2134] pusharglist 2 .......................... <tLayDefinition[#rect][1], 4>
  [2136] objcall 54 ............................. <tLayDefinition[#rect][1][4]>
  [2138] setlocal 25 ............................ tWinHeight = tLayDefinition[#rect][1][4]
  [2140] getlocal 23 ............................ <tClientRect>
  [2142] pushint8 1 ............................. <1>
  [2144] pusharglist 2 .......................... <tClientRect, 1>
  [2146] objcall 54 ............................. <tClientRect[1]>
  [2148] getlocal 23 ............................ <tClientRect>
  [2150] pushint8 2 ............................. <2>
  [2152] pusharglist 2 .......................... <tClientRect, 2>
  [2154] objcall 54 ............................. <tClientRect[2]>
  [2156] getlocal 24 ............................ <tWinWidth>
  [2158] getlocal 23 ............................ <tClientRect>
  [2160] pushint8 3 ............................. <3>
  [2162] pusharglist 2 .......................... <tClientRect, 3>
  [2164] objcall 54 ............................. <tClientRect[3]>
  [2166] sub .................................... <tWinWidth - tClientRect[3]>
  [2167] getlocal 25 ............................ <tWinHeight>
  [2169] getlocal 23 ............................ <tClientRect>
  [2171] pushint8 4 ............................. <4>
  [2173] pusharglist 2 .......................... <tClientRect, 4>
  [2175] objcall 54 ............................. <tClientRect[4]>
  [2177] sub .................................... <tWinHeight - tClientRect[4]>
  [2178] pusharglist 4 .......................... <[tClientRect[1], tClientRect[2], tWinWidth - tClientRect[3], tWinHeight - tClientRect[4]]>
  [2180] pushlist ............................... <[tClientRect[1], tClientRect[2], tWinWidth - tClientRect[3], tWinHeight - tClientRect[4]]>
  [2181] setlocal 26 ............................ tBorder = [tClientRect[1], tClientRect[2], tWinWidth - tClientRect[3], tWinHeight - tClientRect[4]]
  [2183] getlocal 2 ............................. <tLayDefinition>
  [2185] pushsymb 1123 .......................... <#border>
  [2188] pusharglist 2 .......................... <tLayDefinition, #border>
  [2190] objcall 54 ............................. <tLayDefinition[#border]>
  [2192] getlocal 26 ............................ <tBorder>
  [2194] pusharglistnoret 2 ..................... <tLayDefinition[#border], tBorder>
  [2196] objcall 122 ............................ tLayDefinition[#border].add(tBorder)
  [2198] jmp [2221]
  [2201] getlocal 2 ............................. <tLayDefinition>
  [2203] pushsymb 1123 .......................... <#border>
  [2206] pusharglist 2 .......................... <tLayDefinition, #border>
  [2208] objcall 54 ............................. <tLayDefinition[#border]>
  [2210] pushzero ............................... <0>
  [2211] pushzero ............................... <0>
  [2212] pushzero ............................... <0>
  [2213] pushzero ............................... <0>
  [2214] pusharglist 4 .......................... <[0, 0, 0, 0]>
  [2216] pushlist ............................... <[0, 0, 0, 0]>
  [2217] pusharglistnoret 2 ..................... <tLayDefinition[#border], [0, 0, 0, 0]>
  [2219] objcall 122 ............................ tLayDefinition[#border].add([0, 0, 0, 0])
  [2221] getlocal 2 ............................. <tLayDefinition>
  [2223] pushsymb 998 ........................... <#elements>
  [2226] getlocal 11 ............................ <tElements>
  [2228] pusharglistnoret 3 ..................... <tLayDefinition, #elements, tElements>
  [2230] objcall 24 ............................. tLayDefinition[#elements] = tElements
  [2232] getlocal 2 ............................. <tLayDefinition>
  [2234] pusharglistnoret 1 ..................... <tLayDefinition>
  [2236] extcall 25 ............................. return tLayDefinition
  [2238] ret
end

on parse_element me, tFieldName
  [  0] pusharglist 0 ........................... <[:]>
  [  2] pushproplist ............................ <[:]>
  [  3] setlocal 0 .............................. tProps = [:]
  [  5] pusharglist 0 ........................... <>
  [  7] extcall 76 .............................. <getResourceManager()>
  [  9] getparam 1 .............................. <tFieldName>
  [ 11] pusharglist 2 ........................... <getResourceManager(), tFieldName>
  [ 13] objcall 52 .............................. <getResourceManager().getmemnum(tFieldName)>
  [ 15] pusharglist 1 ........................... <getResourceManager().getmemnum(tFieldName)>
  [ 17] extcall 41 .............................. <member(getResourceManager().getmemnum(tFieldName))>
  [ 19] getobjprop 516 .......................... <member(getResourceManager().getmemnum(tFieldName)).text>
  [ 22] setlocal 1 .............................. tdata = member(getResourceManager().getmemnum(tFieldName)).text
  [ 24] pushint8 1 .............................. <1>
  [ 26] setlocal 2
  [ 28] getlocal 2
  [ 30] getlocal 1 .............................. <tdata>
  [ 32] pushsymb 600 ............................ <#line>
  [ 35] pusharglist 2 ........................... <tdata, #line>
  [ 37] objcall 22 .............................. <tdata.line.count>
  [ 39] lteq
  [ 40] jmpifz [123] ............................ repeat with f = 1 to tdata.line.count
  [ 43] getlocal 1 .............................. <tdata>
  [ 45] pushsymb 600 ............................ <#line>
  [ 48] getlocal 2 .............................. <f>
  [ 50] pusharglist 3 ........................... <tdata, #line, f>
  [ 52] objcall 290 ............................. <tdata.line[f]>
  [ 55] setlocal 3 .............................. tLine = tdata.line[f]
  [ 57] getlocal 3 .............................. <tLine>
  [ 59] pushsymb 291 ............................ <#char>
  [ 62] pushint8 1 .............................. <1>
  [ 64] pusharglist 3 ........................... <tLine, #char, 1>
  [ 66] objcall 290 ............................. <tLine.char[1]>
  [ 69] pushcons 21 ............................. <"#">
  [ 71] nteq .................................... <tLine.char[1] <> "#">
  [ 72] jmpifz [114] ............................ if tLine.char[1] <> "#" then
  [ 75] getlocal 3 .............................. <tLine>
  [ 77] pusharglist 1 ........................... <tLine>
  [ 79] extcall 293 ............................. <length(tLine)>
  [ 82] pushint8 1 .............................. <1>
  [ 84] gt ...................................... <length(tLine) > 1>
  [ 85] jmpifz [114] ............................ if length(tLine) > 1 then
  [ 88] getlocal 3 .............................. <tLine>
  [ 90] pusharglist 1 ........................... <tLine>
  [ 92] extcall 113 ............................. <value(tLine)>
  [ 94] setlocal 4 .............................. tValue = value(tLine)
  [ 96] getlocal 0 .............................. <tProps>
  [ 98] getlocal 4 .............................. <tValue>
  [100] pushsymb 1338 ........................... <#state>
  [103] pusharglist 2 ........................... <tValue, #state>
  [105] objcall 54 .............................. <tValue[#state]>
  [107] getlocal 4 .............................. <tValue>
  [109] pusharglistnoret 3 ...................... <tProps, tValue[#state], tValue>
  [111] objcall 575 ............................. tProps.addProp(tValue[#state], tValue)
  [114] pushint8 1
  [116] getlocal 2
  [118] add
  [119] setlocal 2
  [121] endrepeat [ 28]
  [123] getlocal 0 .............................. <tProps>
  [125] pusharglistnoret 1 ...................... <tProps>
  [127] extcall 25 .............................. return tProps
  [129] ret
end

on parse_visual me, tFieldName
  [  0] pusharglist 0 ........................... <>
  [  2] extcall 76 .............................. <getResourceManager()>
  [  4] getparam 1 .............................. <tFieldName>
  [  6] pusharglist 2 ........................... <getResourceManager(), tFieldName>
  [  8] objcall 52 .............................. <getResourceManager().getmemnum(tFieldName)>
  [ 10] pusharglist 1 ........................... <getResourceManager().getmemnum(tFieldName)>
  [ 12] extcall 41 .............................. <member(getResourceManager().getmemnum(tFieldName))>
  [ 14] getobjprop 516 .......................... <member(getResourceManager().getmemnum(tFieldName)).text>
  [ 17] setlocal 0 .............................. tdata = member(getResourceManager().getmemnum(tFieldName)).text
  [ 19] pushsymb 1339 ........................... <#roomdata>
  [ 22] pushsymb 539 ............................ <#open>
  [ 25] pushcons 22 ............................. <"<roomdata>">
  [ 27] pushsymb 462 ............................ <#close>
  [ 30] pushcons 23 ............................. <"</roomdata>">
  [ 32] pusharglist 4 ........................... <[#open: "<roomdata>", #close: "</roomdata>"]>
  [ 34] pushproplist ............................ <[#open: "<roomdata>", #close: "</roomdata>"]>
  [ 35] pushsymb 557 ............................ <#rect>
  [ 38] pushsymb 539 ............................ <#open>
  [ 41] pushcons 7 .............................. <"<rect>">
  [ 43] pushsymb 462 ............................ <#close>
  [ 46] pushcons 8 .............................. <"</rect>">
  [ 48] pusharglist 4 ........................... <[#open: "<rect>", #close: "</rect>"]>
  [ 50] pushproplist ............................ <[#open: "<rect>", #close: "</rect>"]>
  [ 51] pushsymb 1340 ........................... <#version>
  [ 54] pushsymb 539 ............................ <#open>
  [ 57] pushcons 24 ............................. <"<version>">
  [ 59] pushsymb 462 ............................ <#close>
  [ 62] pushcons 25 ............................. <"</version>">
  [ 64] pusharglist 4 ........................... <[#open: "<version>", #close: "</version>"]>
  [ 66] pushproplist ............................ <[#open: "<version>", #close: "</version>"]>
  [ 67] pushsymb 998 ............................ <#elements>
  [ 70] pushsymb 539 ............................ <#open>
  [ 73] pushcons 5 .............................. <"<elements>">
  [ 75] pushsymb 462 ............................ <#close>
  [ 78] pushcons 6 .............................. <"</elements>">
  [ 80] pusharglist 4 ........................... <[#open: "<elements>", #close: "</elements>"]>
  [ 82] pushproplist ............................ <[#open: "<elements>", #close: "</elements>"]>
  [ 83] pusharglist 8 ........................... <[#roomdata: [#open: "<roomdata>", #close: "</roomdata>"], #rect: [#open: "<rect>", #close: "</rect>"], #version: [#open: "<version>", #close: "</version>"], #elements: [#open: "<elements>", #close: "</elements>"]]>
  [ 85] pushproplist ............................ <[#roomdata: [#open: "<roomdata>", #close: "</roomdata>"], #rect: [#open: "<rect>", #close: "</rect>"], #version: [#open: "<version>", #close: "</version>"], #elements: [#open: "<elements>", #close: "</elements>"]]>
  [ 86] setlocal 1 .............................. tSupportedTags = [#roomdata: [#open: "<roomdata>", #close: "</roomdata>"], #rect: [#open: "<rect>", #close: "</rect>"], #version: [#open: "<version>", #close: "</version>"], #elements: [#open: "<elements>", #close: "</elements>"]]
  [ 88] pusharglist 0 ........................... <[:]>
  [ 90] pushproplist ............................ <[:]>
  [ 91] setlocal 2 .............................. tLayDefinition = [:]
  [ 93] pushzero ................................ <0>
  [ 94] setlocal 3 .............................. tOpenTagFlag = 0
  [ 96] pushcons 13 ............................. <EMPTY>
  [ 98] setlocal 4 .............................. tTag = EMPTY
  [100] pushint8 1 .............................. <1>
  [102] setlocal 5
  [104] getlocal 5
  [106] getlocal 1 .............................. <tSupportedTags>
  [108] getobjprop 22 ........................... <tSupportedTags.count>
  [110] lteq
  [111] jmpifz [347] ............................ repeat with x = 1 to tSupportedTags.count
  [114] getlocal 1 .............................. <tSupportedTags>
  [116] getlocal 5 .............................. <x>
  [118] pusharglist 2 ........................... <tSupportedTags, x>
  [120] objcall 54 .............................. <tSupportedTags[x]>
  [122] getobjprop 539 .......................... <tSupportedTags[x].open>
  [125] setlocal 6 .............................. tOpen = tSupportedTags[x].open
  [127] getlocal 1 .............................. <tSupportedTags>
  [129] getlocal 5 .............................. <x>
  [131] pusharglist 2 ........................... <tSupportedTags, x>
  [133] objcall 54 .............................. <tSupportedTags[x]>
  [135] getobjprop 462 .......................... <tSupportedTags[x].close>
  [138] setlocal 7 .............................. tClose = tSupportedTags[x].close
  [140] getlocal 1 .............................. <tSupportedTags>
  [142] getlocal 5 .............................. <x>
  [144] pusharglist 2 ........................... <tSupportedTags, x>
  [146] objcall 23 .............................. <tSupportedTags.getPropAt(x)>
  [148] setlocal 4 .............................. tTag = tSupportedTags.getPropAt(x)
  [150] pusharglist 0 ........................... <[]>
  [152] pushlist ................................ <[]>
  [153] setlocal 8 .............................. tList = []
  [155] pushint8 1 .............................. <1>
  [157] setlocal 9
  [159] getlocal 9
  [161] getlocal 0 .............................. <tdata>
  [163] pushsymb 600 ............................ <#line>
  [166] pusharglist 2 ........................... <tdata, #line>
  [168] objcall 22 .............................. <tdata.line.count>
  [170] lteq
  [171] jmpifz [319] ............................ repeat with i = 1 to tdata.line.count
  [174] getlocal 0 .............................. <tdata>
  [176] pushsymb 600 ............................ <#line>
  [179] getlocal 9 .............................. <i>
  [181] pusharglist 3 ........................... <tdata, #line, i>
  [183] objcall 288 ............................. <tdata.line[i]>
  [186] pushsymb 289 ............................ <#word>
  [189] pushint8 1 .............................. <1>
  [191] pusharglist 3 ........................... <tdata.line[i], #word, 1>
  [193] objcall 290 ............................. <tdata.line[i].word[1]>
  [196] getlocal 6 .............................. <tOpen>
  [198] eq ...................................... <tdata.line[i].word[1] = tOpen>
  [199] jmpifz [310] ............................ if tdata.line[i].word[1] = tOpen then
  [202] getlocal 9 .............................. <i>
  [204] pushint8 1 .............................. <1>
  [206] add ..................................... <i + 1>
  [207] setlocal 9
  [209] getlocal 9
  [211] getlocal 0 .............................. <tdata>
  [213] pushsymb 600 ............................ <#line>
  [216] pusharglist 2 ........................... <tdata, #line>
  [218] objcall 22 .............................. <tdata.line.count>
  [220] lteq
  [221] jmpifz [310] ............................ repeat with i = i + 1 to tdata.line.count
  [224] getlocal 0 .............................. <tdata>
  [226] pushsymb 600 ............................ <#line>
  [229] getlocal 9 .............................. <i>
  [231] pusharglist 3 ........................... <tdata, #line, i>
  [233] objcall 288 ............................. <tdata.line[i]>
  [236] pushsymb 289 ............................ <#word>
  [239] pushint8 1 .............................. <1>
  [241] pusharglist 3 ........................... <tdata.line[i], #word, 1>
  [243] objcall 290 ............................. <tdata.line[i].word[1]>
  [246] getlocal 7 .............................. <tClose>
  [248] eq ...................................... <tdata.line[i].word[1] = tClose>
  [249] jmpifz [255] ............................ if tdata.line[i].word[1] = tClose then
  [252] jmp [310] ............................... exit repeat
  [255] getlocal 0 .............................. <tdata>
  [257] pushsymb 600 ............................ <#line>
  [260] getlocal 9 .............................. <i>
  [262] pusharglist 3 ........................... <tdata, #line, i>
  [264] objcall 290 ............................. <tdata.line[i]>
  [267] pusharglist 1 ........................... <tdata.line[i]>
  [269] extcall 113 ............................. <value(tdata.line[i])>
  [271] pusharglist 1 ........................... <value(tdata.line[i])>
  [273] extcall 20 .............................. <voidp(value(tdata.line[i]))>
  [275] not ..................................... <not voidp(value(tdata.line[i]))>
  [276] jmpifz [301] ............................ if not voidp(value(tdata.line[i])) then
  [279] getlocal 8 .............................. <tList>
  [281] getlocal 0 .............................. <tdata>
  [283] pushsymb 600 ............................ <#line>
  [286] getlocal 9 .............................. <i>
  [288] pusharglist 3 ........................... <tdata, #line, i>
  [290] objcall 290 ............................. <tdata.line[i]>
  [293] pusharglist 1 ........................... <tdata.line[i]>
  [295] extcall 113 ............................. <value(tdata.line[i])>
  [297] pusharglistnoret 2 ...................... <tList, value(tdata.line[i])>
  [299] objcall 122 ............................. tList.add(value(tdata.line[i]))
  [301] pushint8 1
  [303] getlocal 9
  [305] add
  [306] setlocal 9
  [308] endrepeat [209]
  [310] pushint8 1
  [312] getlocal 9
  [314] add
  [315] setlocal 9
  [317] endrepeat [159]
  [319] getlocal 8 .............................. <tList>
  [321] getobjprop 22 ........................... <tList.count>
  [323] pushzero ................................ <0>
  [324] gt ...................................... <tList.count > 0>
  [325] jmpifz [338] ............................ if tList.count > 0 then
  [328] getlocal 2 .............................. <tLayDefinition>
  [330] getlocal 4 .............................. <tTag>
  [332] getlocal 8 .............................. <tList>
  [334] pusharglistnoret 3 ...................... <tLayDefinition, tTag, tList>
  [336] objcall 24 .............................. tLayDefinition[tTag] = tList
  [338] pushint8 1
  [340] getlocal 5
  [342] add
  [343] setlocal 5
  [345] endrepeat [104]
  [347] getlocal 2 .............................. <tLayDefinition>
  [349] pushsymb 1340 ........................... <#version>
  [352] pusharglist 2 ........................... <tLayDefinition, #version>
  [354] objcall 54 .............................. <tLayDefinition[#version]>
  [356] pusharglist 1 ........................... <tLayDefinition[#version]>
  [358] extcall 20 .............................. <voidp(tLayDefinition[#version])>
  [360] jmpifz [527] ............................ if voidp(tLayDefinition[#version]) then
  [363] getparam 0 .............................. <me>
  [365] pushcons 26 ............................. <"Old visualizer definition:">
  [367] getparam 1 .............................. <tFieldName>
  [369] joinpadstr .............................. <"Old visualizer definition:" && tFieldName>
  [370] pushsymb 1341 ........................... <#parse_room>
  [373] pusharglistnoret 3 ...................... <me, "Old visualizer definition:" && tFieldName, #parse_room>
  [375] extcall 39 .............................. error(me, "Old visualizer definition:" && tFieldName, #parse_room)
  [377] getlocal 2 .............................. <tLayDefinition>
  [379] pushsymb 998 ............................ <#elements>
  [382] pusharglist 2 ........................... <tLayDefinition, #elements>
  [384] objcall 54 .............................. <tLayDefinition[#elements]>
  [386] peek 0
  [388] pusharglist 1
  [390] extcall 22
  [392] pushint8 1
  [394] peek 0
  [396] peek 2
  [398] lteq
  [399] jmpifz [525] ............................ repeat with tElem in tLayDefinition[#elements]
  [402] peek 2
  [404] peek 1
  [406] pusharglist 2
  [408] extcall 54
  [410] setlocal 10
  [412] getlocal 10 ............................. <tElem>
  [414] pushsymb 1342 ........................... <#media>
  [417] pusharglist 2 ........................... <tElem, #media>
  [419] objcall 54 .............................. <tElem[#media]>
  [421] pushsymb 786 ............................ <#field>
  [424] eq ...................................... <tElem[#media] = #field>
  [425] getlocal 10 ............................. <tElem>
  [427] pushsymb 1342 ........................... <#media>
  [430] pusharglist 2 ........................... <tElem, #media>
  [432] objcall 54 .............................. <tElem[#media]>
  [434] pushsymb 516 ............................ <#text>
  [437] eq ...................................... <tElem[#media] = #text>
  [438] or ...................................... <(tElem[#media] = #field) or (tElem[#media] = #text)>
  [439] jmpifz [500] ............................ if (tElem[#media] = #field) or (tElem[#media] = #text) then
  [442] getlocal 10 ............................. <tElem>
  [444] pushsymb 1296 ........................... <#txtColor>
  [447] getlocal 10 ............................. <tElem>
  [449] pushsymb 599 ............................ <#color>
  [452] pusharglist 2 ........................... <tElem, #color>
  [454] objcall 54 .............................. <tElem[#color]>
  [456] pusharglistnoret 3 ...................... <tElem, #txtColor, tElem[#color]>
  [458] objcall 24 .............................. tElem[#txtColor] = tElem[#color]
  [460] getlocal 10 ............................. <tElem>
  [462] pushsymb 1297 ........................... <#txtBgColor>
  [465] getlocal 10 ............................. <tElem>
  [467] pushsymb 1298 ........................... <#bgColor>
  [470] pusharglist 2 ........................... <tElem, #bgColor>
  [472] objcall 54 .............................. <tElem[#bgColor]>
  [474] pusharglistnoret 3 ...................... <tElem, #txtBgColor, tElem[#bgColor]>
  [476] objcall 24 .............................. tElem[#txtBgColor] = tElem[#bgColor]
  [478] getlocal 10 ............................. <tElem>
  [480] pushsymb 599 ............................ <#color>
  [483] pushcons 15 ............................. <"#000000">
  [485] pusharglistnoret 3 ...................... <tElem, #color, "#000000">
  [487] objcall 24 .............................. tElem[#color] = "#000000"
  [489] getlocal 10 ............................. <tElem>
  [491] pushsymb 1298 ........................... <#bgColor>
  [494] pushcons 16 ............................. <"#FFFFFF">
  [496] pusharglistnoret 3 ...................... <tElem, #bgColor, "#FFFFFF">
  [498] objcall 24 .............................. tElem[#bgColor] = "#FFFFFF"
  [500] getlocal 10 ............................. <tElem>
  [502] pushsymb 1343 ........................... <#foreColor>
  [505] pusharglistnoret 2 ...................... <tElem, #foreColor>
  [507] objcall 661 ............................. tElem.deleteProp(#foreColor)
  [510] getlocal 10 ............................. <tElem>
  [512] pushsymb 1344 ........................... <#backColor>
  [515] pusharglistnoret 2 ...................... <tElem, #backColor>
  [517] objcall 661 ............................. tElem.deleteProp(#backColor)
  [520] pushint8 1
  [522] add
  [523] endrepeat [394]
  [525] pop 3
  [527] getlocal 2 .............................. <tLayDefinition>
  [529] pushsymb 998 ............................ <#elements>
  [532] pusharglist 2 ........................... <tLayDefinition, #elements>
  [534] objcall 54 .............................. <tLayDefinition[#elements]>
  [536] peek 0
  [538] pusharglist 1
  [540] extcall 22
  [542] pushint8 1
  [544] peek 0
  [546] peek 2
  [548] lteq
  [549] jmpifz [647] ............................ repeat with tElem in tLayDefinition[#elements]
  [552] peek 2
  [554] peek 1
  [556] pusharglist 2
  [558] extcall 54
  [560] setlocal 10
  [562] getlocal 10 ............................. <tElem>
  [564] pushsymb 599 ............................ <#color>
  [567] pusharglist 2 ........................... <tElem, #color>
  [569] objcall 54 .............................. <tElem[#color]>
  [571] pusharglist 1 ........................... <tElem[#color]>
  [573] extcall 20 .............................. <voidp(tElem[#color])>
  [575] jmpifz [589] ............................ if voidp(tElem[#color]) then
  [578] getlocal 10 ............................. <tElem>
  [580] pushsymb 599 ............................ <#color>
  [583] pushcons 15 ............................. <"#000000">
  [585] pusharglistnoret 3 ...................... <tElem, #color, "#000000">
  [587] objcall 24 .............................. tElem[#color] = "#000000"
  [589] getlocal 10 ............................. <tElem>
  [591] pushsymb 1298 ........................... <#bgColor>
  [594] pusharglist 2 ........................... <tElem, #bgColor>
  [596] objcall 54 .............................. <tElem[#bgColor]>
  [598] pusharglist 1 ........................... <tElem[#bgColor]>
  [600] extcall 20 .............................. <voidp(tElem[#bgColor])>
  [602] jmpifz [616] ............................ if voidp(tElem[#bgColor]) then
  [605] getlocal 10 ............................. <tElem>
  [607] pushsymb 1298 ........................... <#bgColor>
  [610] pushcons 16 ............................. <"#FFFFFF">
  [612] pusharglistnoret 3 ...................... <tElem, #bgColor, "#FFFFFF">
  [614] objcall 24 .............................. tElem[#bgColor] = "#FFFFFF"
  [616] getlocal 10 ............................. <tElem>
  [618] pushsymb 456 ............................ <#type>
  [621] pusharglist 2 ........................... <tElem, #type>
  [623] objcall 54 .............................. <tElem[#type]>
  [625] pushcons 27 ............................. <"button">
  [627] eq ...................................... <tElem[#type] = "button">
  [628] jmpifz [642] ............................ if tElem[#type] = "button" then
  [631] getlocal 10 ............................. <tElem>
  [633] pushsymb 772 ............................ <#Active>
  [636] pushint8 1 .............................. <1>
  [638] pusharglistnoret 3 ...................... <tElem, #Active, 1>
  [640] objcall 24 .............................. tElem[#Active] = 1
  [642] pushint8 1
  [644] add
  [645] endrepeat [544]
  [647] pop 3
  [649] pushsymb 727 ............................ <#name>
  [652] getlocal 2 .............................. <tLayDefinition>
  [654] pushsymb 727 ............................ <#name>
  [657] pusharglist 2 ........................... <tLayDefinition, #name>
  [659] objcall 54 .............................. <tLayDefinition[#name]>
  [661] pushsymb 1339 ........................... <#roomdata>
  [664] getlocal 2 .............................. <tLayDefinition>
  [666] pushsymb 1339 ........................... <#roomdata>
  [669] pusharglist 2 ........................... <tLayDefinition, #roomdata>
  [671] objcall 54 .............................. <tLayDefinition[#roomdata]>
  [673] pushsymb 557 ............................ <#rect>
  [676] getlocal 2 .............................. <tLayDefinition>
  [678] pushsymb 557 ............................ <#rect>
  [681] pusharglist 2 ........................... <tLayDefinition, #rect>
  [683] objcall 54 .............................. <tLayDefinition[#rect]>
  [685] pushsymb 998 ............................ <#elements>
  [688] getlocal 2 .............................. <tLayDefinition>
  [690] pushsymb 998 ............................ <#elements>
  [693] pusharglist 2 ........................... <tLayDefinition, #elements>
  [695] objcall 54 .............................. <tLayDefinition[#elements]>
  [697] pusharglist 8 ........................... <[#name: tLayDefinition[#name], #roomdata: tLayDefinition[#roomdata], #rect: tLayDefinition[#rect], #elements: tLayDefinition[#elements]]>
  [699] pushproplist ............................ <[#name: tLayDefinition[#name], #roomdata: tLayDefinition[#roomdata], #rect: tLayDefinition[#rect], #elements: tLayDefinition[#elements]]>
  [700] pusharglistnoret 1 ...................... <[#name: tLayDefinition[#name], #roomdata: tLayDefinition[#roomdata], #rect: tLayDefinition[#rect], #elements: tLayDefinition[#elements]]>
  [702] extcall 25 .............................. return [#name: tLayDefinition[#name], #roomdata: tLayDefinition[#roomdata], #rect: tLayDefinition[#rect], #elements: tLayDefinition[#elements]]
  [704] ret
end
