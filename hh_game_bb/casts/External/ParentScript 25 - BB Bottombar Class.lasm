property pBottomBarId, pCarriedPowerupId, pCarriedPowerupType, pCarriedPowerupTimeToLive, pUpdateCounter

on construct me
  [  0] pushzero ................................ <0>
  [  1] setprop 1096 ............................ pUpdateCounter = 0
  [  4] pushzero ................................ <0>
  [  5] setprop 1084 ............................ pCarriedPowerupId = 0
  [  8] pushzero ................................ <0>
  [  9] setprop 1085 ............................ pCarriedPowerupType = 0
  [ 12] pushzero ................................ <0>
  [ 13] setprop 1086 ............................ pCarriedPowerupTimeToLive = 0
  [ 16] pushsymb 156 ............................ <#room_interface>
  [ 18] pusharglist 1 ........................... <#room_interface>
  [ 20] extcall 153 ............................. <getObject(#room_interface)>
  [ 22] setlocal 0 .............................. tRoomInt = getObject(#room_interface)
  [ 24] getlocal 0 .............................. <tRoomInt>
  [ 26] pushzero ................................ <0>
  [ 27] eq ...................................... <tRoomInt = 0>
  [ 28] jmpifz [ 36] ............................ if tRoomInt = 0 then
  [ 31] pushzero ................................ <0>
  [ 32] pusharglistnoret 1 ...................... <0>
  [ 34] extcall 13 .............................. return 0
  [ 36] getlocal 0 .............................. <tRoomInt>
  [ 38] getobjprop 1046 ......................... <tRoomInt.pBottomBarId>
  [ 41] setprop 1046 ............................ pBottomBarId = tRoomInt.pBottomBarId
  [ 44] pushsymb 1047 ........................... <#roomReady>
  [ 47] getparam 0 .............................. <me>
  [ 49] pusharglist 1 ........................... <me>
  [ 51] objcall 25 .............................. <me.getID()>
  [ 53] pushsymb 1042 ........................... <#replaceRoomBar>
  [ 56] pusharglistnoret 3 ...................... <#roomReady, me.getID(), #replaceRoomBar>
  [ 58] extcall 140 ............................. registerMessage(#roomReady, me.getID(), #replaceRoomBar)
  [ 60] pushint8 1 .............................. <1>
  [ 62] pusharglistnoret 1 ...................... <1>
  [ 64] extcall 13 .............................. return 1
  [ 66] ret
end

on deconstruct me
  [  0] pushsymb 1047 ........................... <#roomReady>
  [  3] getparam 0 .............................. <me>
  [  5] pusharglist 1 ........................... <me>
  [  7] objcall 25 .............................. <me.getID()>
  [  9] pusharglistnoret 2 ...................... <#roomReady, me.getID()>
  [ 11] extcall 142 ............................. unregisterMessage(#roomReady, me.getID())
  [ 13] getprop 1046 ............................ <pBottomBarId>
  [ 16] pusharglistnoret 1 ...................... <pBottomBarId>
  [ 18] extcall 435 ............................. removeWindow(pBottomBarId)
  [ 21] pushint8 1 .............................. <1>
  [ 23] pusharglistnoret 1 ...................... <1>
  [ 25] extcall 13 .............................. return 1
  [ 27] ret
end

on Refresh me, tTopic, tdata
  [  0] getparam 1 .............................. <tTopic>
  [  2] peek 0 .................................. case tTopic of
  [  4] pushsymb 121 ............................ <#bb_event_1>
  [  6] eq
  [  7] jmpifz [ 57] ............................ (case) #bb_event_1:
  [ 10] getprop 1085 ............................ <pCarriedPowerupType>
  [ 13] pushzero ................................ <0>
  [ 14] eq ...................................... <pCarriedPowerupType = 0>
  [ 15] jmpifz [ 26] ............................ if pCarriedPowerupType = 0 then
  [ 18] pop 1
  [ 20] pushint8 1 .............................. <1>
  [ 22] pusharglistnoret 1 ...................... <1>
  [ 24] extcall 13 .............................. return 1
  [ 26] getparam 2 .............................. <tdata>
  [ 28] pushsymb 88 ............................. <#id>
  [ 30] pusharglist 2 ........................... <tdata, #id>
  [ 32] objcall 18 .............................. <tdata[#id]>
  [ 34] getprop 1084 ............................ <pCarriedPowerupId>
  [ 37] eq ...................................... <tdata[#id] = pCarriedPowerupId>
  [ 38] jmpifz [ 54] ............................ if tdata[#id] = pCarriedPowerupId then
  [ 41] pop 1
  [ 43] getparam 0 .............................. <me>
  [ 45] pusharglist 1 ........................... <me>
  [ 47] objcall 1227 ............................ <me.clearBottomBarPowerup()>
  [ 50] pusharglistnoret 1 ...................... <me.clearBottomBarPowerup()>
  [ 52] extcall 13 .............................. return me.clearBottomBarPowerup()
  [ 54] jmp [363]
  [ 57] peek 0
  [ 59] pushsymb 123 ............................ <#bb_event_3>
  [ 61] eq
  [ 62] jmpifz [192] ............................ (case) #bb_event_3:
  [ 65] getparam 0 .............................. <me>
  [ 67] pusharglist 1 ........................... <me>
  [ 69] objcall 24 .............................. <me.getGameSystem()>
  [ 71] setlocal 0 .............................. tGameSystem = me.getGameSystem()
  [ 73] getlocal 0 .............................. <tGameSystem>
  [ 75] pushzero ................................ <0>
  [ 76] eq ...................................... <tGameSystem = 0>
  [ 77] jmpifz [ 87] ............................ if tGameSystem = 0 then
  [ 80] pop 1
  [ 82] pushzero ................................ <0>
  [ 83] pusharglistnoret 1 ...................... <0>
  [ 85] extcall 13 .............................. return 0
  [ 87] getlocal 0 .............................. <tGameSystem>
  [ 89] pusharglist 1 ........................... <tGameSystem>
  [ 91] objcall 152 ............................. <tGameSystem.getSpectatorModeFlag()>
  [ 93] jmpifz [104] ............................ if tGameSystem.getSpectatorModeFlag() then
  [ 96] pop 1
  [ 98] pushint8 1 .............................. <1>
  [100] pusharglistnoret 1 ...................... <1>
  [102] extcall 13 .............................. return 1
  [104] getparam 2 .............................. <tdata>
  [106] pushsymb 125 ............................ <#playerId>
  [108] pusharglist 2 ........................... <tdata, #playerId>
  [110] objcall 18 .............................. <tdata[#playerId]>
  [112] getparam 0 .............................. <me>
  [114] pusharglist 1 ........................... <me>
  [116] objcall 1336 ............................ <me.getOwnGameIndex()>
  [119] nteq .................................... <tdata[#playerId] <> me.getOwnGameIndex()>
  [120] jmpifz [131] ............................ if tdata[#playerId] <> me.getOwnGameIndex() then
  [123] pop 1
  [125] pushint8 1 .............................. <1>
  [127] pusharglistnoret 1 ...................... <1>
  [129] extcall 13 .............................. return 1
  [131] getparam 2 .............................. <tdata>
  [133] pushsymb 124 ............................ <#powerupid>
  [135] pusharglist 2 ........................... <tdata, #powerupid>
  [137] objcall 18 .............................. <tdata[#powerupid]>
  [139] setprop 1084 ............................ pCarriedPowerupId = tdata[#powerupid]
  [142] getparam 2 .............................. <tdata>
  [144] pushsymb 17 ............................. <#powerupType>
  [146] pusharglist 2 ........................... <tdata, #powerupType>
  [148] objcall 18 .............................. <tdata[#powerupType]>
  [150] setprop 1085 ............................ pCarriedPowerupType = tdata[#powerupType]
  [153] getlocal 0 .............................. <tGameSystem>
  [155] getprop 1084 ............................ <pCarriedPowerupId>
  [158] pushsymb 656 ............................ <#timetolive>
  [161] pusharglist 3 ........................... <tGameSystem, pCarriedPowerupId, #timetolive>
  [163] objcall 932 ............................. <tGameSystem.getGameObjectProperty(pCarriedPowerupId, #timetolive)>
  [166] setprop 1086 ............................ pCarriedPowerupTimeToLive = tGameSystem.getGameObjectProperty(pCarriedPowerupId, #timetolive)
  [169] getparam 0 .............................. <me>
  [171] pusharglist 1 ........................... <me>
  [173] objcall 25 .............................. <me.getID()>
  [175] pusharglistnoret 1 ...................... <me.getID()>
  [177] extcall 185 ............................. receiveUpdate(me.getID())
  [179] getparam 0 .............................. <me>
  [181] getprop 1085 ............................ <pCarriedPowerupType>
  [184] pusharglistnoret 2 ...................... <me, pCarriedPowerupType>
  [186] objcall 1071 ............................ me.setActivateButton(pCarriedPowerupType)
  [189] jmp [363]
  [192] peek 0
  [194] pushsymb 1076 ........................... <#bb_event_5>
  [197] eq
  [198] jmpifz [287] ............................ (case) #bb_event_5:
  [201] getparam 0 .............................. <me>
  [203] pusharglist 1 ........................... <me>
  [205] objcall 24 .............................. <me.getGameSystem()>
  [207] setlocal 0 .............................. tGameSystem = me.getGameSystem()
  [209] getlocal 0 .............................. <tGameSystem>
  [211] pushzero ................................ <0>
  [212] eq ...................................... <tGameSystem = 0>
  [213] jmpifz [223] ............................ if tGameSystem = 0 then
  [216] pop 1
  [218] pushzero ................................ <0>
  [219] pusharglistnoret 1 ...................... <0>
  [221] extcall 13 .............................. return 0
  [223] getparam 0 .............................. <me>
  [225] pusharglist 1 ........................... <me>
  [227] objcall 24 .............................. <me.getGameSystem()>
  [229] pusharglist 1 ........................... <me.getGameSystem()>
  [231] objcall 152 ............................. <me.getGameSystem().getSpectatorModeFlag()>
  [233] jmpifz [244] ............................ if me.getGameSystem().getSpectatorModeFlag() then
  [236] pop 1
  [238] pushint8 1 .............................. <1>
  [240] pusharglistnoret 1 ...................... <1>
  [242] extcall 13 .............................. return 1
  [244] getparam 2 .............................. <tdata>
  [246] pushsymb 125 ............................ <#playerId>
  [248] pusharglist 2 ........................... <tdata, #playerId>
  [250] objcall 18 .............................. <tdata[#playerId]>
  [252] getparam 0 .............................. <me>
  [254] pusharglist 1 ........................... <me>
  [256] objcall 1336 ............................ <me.getOwnGameIndex()>
  [259] nteq .................................... <tdata[#playerId] <> me.getOwnGameIndex()>
  [260] jmpifz [271] ............................ if tdata[#playerId] <> me.getOwnGameIndex() then
  [263] pop 1
  [265] pushint8 1 .............................. <1>
  [267] pusharglistnoret 1 ...................... <1>
  [269] extcall 13 .............................. return 1
  [271] pop 1
  [273] getparam 0 .............................. <me>
  [275] pusharglist 1 ........................... <me>
  [277] objcall 1227 ............................ <me.clearBottomBarPowerup()>
  [280] pusharglistnoret 1 ...................... <me.clearBottomBarPowerup()>
  [282] extcall 13 .............................. return me.clearBottomBarPowerup()
  [284] jmp [363]
  [287] peek 0
  [289] pushsymb 449 ............................ <#gameend>
  [292] eq
  [293] jmpifz [312] ............................ (case) #gameend:
  [296] pop 1
  [298] getparam 0 .............................. <me>
  [300] pusharglist 1 ........................... <me>
  [302] objcall 1227 ............................ <me.clearBottomBarPowerup()>
  [305] pusharglistnoret 1 ...................... <me.clearBottomBarPowerup()>
  [307] extcall 13 .............................. return me.clearBottomBarPowerup()
  [309] jmp [363]
  [312] peek 0
  [314] pushsymb 1318 ........................... <#setfxicon>
  [317] eq
  [318] jmpifz [339] ............................ (case) #setfxicon:
  [321] pop 1
  [323] getparam 0 .............................. <me>
  [325] getparam 2 .............................. <tdata>
  [327] pusharglist 2 ........................... <me, tdata>
  [329] objcall 1318 ............................ <me.setfxicon(tdata)>
  [332] pusharglistnoret 1 ...................... <me.setfxicon(tdata)>
  [334] extcall 13 .............................. return me.setfxicon(tdata)
  [336] jmp [363]
  [339] peek 0
  [341] pushsymb 1319 ........................... <#setmusicicon>
  [344] eq
  [345] jmpifz [363] ............................ (case) #setmusicicon:
  [348] pop 1
  [350] getparam 0 .............................. <me>
  [352] getparam 2 .............................. <tdata>
  [354] pusharglist 2 ........................... <me, tdata>
  [356] objcall 1319 ............................ <me.setmusicicon(tdata)>
  [359] pusharglistnoret 1 ...................... <me.setmusicicon(tdata)>
  [361] extcall 13 .............................. return me.setmusicicon(tdata)
  [363] pop 1 ................................... end case
  [365] pushint8 1 .............................. <1>
  [367] pusharglistnoret 1 ...................... <1>
  [369] extcall 13 .............................. return 1
  [371] ret
end

on update me
  [  0] getprop 1096 ............................ <pUpdateCounter>
  [  3] pushint8 1 .............................. <1>
  [  5] add ..................................... <pUpdateCounter + 1>
  [  6] setprop 1096 ............................ pUpdateCounter = pUpdateCounter + 1
  [  9] getprop 1096 ............................ <pUpdateCounter>
  [ 12] pushint8 2 .............................. <2>
  [ 14] lt ...................................... <pUpdateCounter < 2>
  [ 15] jmpifz [ 24] ............................ if pUpdateCounter < 2 then
  [ 18] pushint8 1 .............................. <1>
  [ 20] pusharglistnoret 1 ...................... <1>
  [ 22] extcall 13 .............................. return 1
  [ 24] pushzero ................................ <0>
  [ 25] setprop 1096 ............................ pUpdateCounter = 0
  [ 28] getprop 1086 ............................ <pCarriedPowerupTimeToLive>
  [ 31] pushzero ................................ <0>
  [ 32] gt ...................................... <pCarriedPowerupTimeToLive > 0>
  [ 33] jmpifz [ 43] ............................ if pCarriedPowerupTimeToLive > 0 then
  [ 36] getparam 0 .............................. <me>
  [ 38] pusharglistnoret 1 ...................... <me>
  [ 40] objcall 1070 ............................ me.animatePowerupTimer()
  [ 43] ret
end

on animatePowerupTimer me
  [  0] getparam 0 .............................. <me>
  [  2] pusharglist 1 ........................... <me>
  [  4] objcall 24 .............................. <me.getGameSystem()>
  [  6] getprop 1084 ............................ <pCarriedPowerupId>
  [  9] pushsymb 656 ............................ <#timetolive>
  [ 12] pusharglist 3 ........................... <me.getGameSystem(), pCarriedPowerupId, #timetolive>
  [ 14] objcall 932 ............................. <me.getGameSystem().getGameObjectProperty(pCarriedPowerupId, #timetolive)>
  [ 17] setlocal 0 .............................. tObjectTimeToLive = me.getGameSystem().getGameObjectProperty(pCarriedPowerupId, #timetolive)
  [ 19] getlocal 0 .............................. <tObjectTimeToLive>
  [ 21] getprop 1086 ............................ <pCarriedPowerupTimeToLive>
  [ 24] eq ...................................... <tObjectTimeToLive = pCarriedPowerupTimeToLive>
  [ 25] jmpifz [ 34] ............................ if tObjectTimeToLive = pCarriedPowerupTimeToLive then
  [ 28] pushint8 1 .............................. <1>
  [ 30] pusharglistnoret 1 ...................... <1>
  [ 32] extcall 13 .............................. return 1
  [ 34] getlocal 0 .............................. <tObjectTimeToLive>
  [ 36] setprop 1086 ............................ pCarriedPowerupTimeToLive = tObjectTimeToLive
  [ 39] getparam 0 .............................. <me>
  [ 41] getprop 1086 ............................ <pCarriedPowerupTimeToLive>
  [ 44] pusharglistnoret 2 ...................... <me, pCarriedPowerupTimeToLive>
  [ 46] objcall 1074 ............................ me.updatePowerupTimer(pCarriedPowerupTimeToLive)
  [ 49] ret
end

on clearBottomBarPowerup me
  [  0] getparam 0 .............................. <me>
  [  2] pusharglist 1 ........................... <me>
  [  4] objcall 25 .............................. <me.getID()>
  [  6] pusharglistnoret 1 ...................... <me.getID()>
  [  8] extcall 183 ............................. removeUpdate(me.getID())
  [ 10] pushzero ................................ <0>
  [ 11] setprop 1085 ............................ pCarriedPowerupType = 0
  [ 14] pushzero ................................ <0>
  [ 15] setprop 1086 ............................ pCarriedPowerupTimeToLive = 0
  [ 18] getparam 0 .............................. <me>
  [ 20] pushzero ................................ <0>
  [ 21] pusharglistnoret 2 ...................... <me, 0>
  [ 23] objcall 1071 ............................ me.setActivateButton(0)
  [ 26] getparam 0 .............................. <me>
  [ 28] pushint8 1 .............................. <1>
  [ 30] inv ..................................... <-1>
  [ 31] pusharglistnoret 2 ...................... <me, -1>
  [ 33] objcall 1074 ............................ me.updatePowerupTimer(-1)
  [ 36] pushint8 1 .............................. <1>
  [ 38] pusharglistnoret 1 ...................... <1>
  [ 40] extcall 13 .............................. return 1
  [ 42] ret
end

on activateButtonPressed me
  [  0] getprop 1085 ............................ <pCarriedPowerupType>
  [  3] pushzero ................................ <0>
  [  4] eq ...................................... <pCarriedPowerupType = 0>
  [  5] jmpifz [ 14] ............................ if pCarriedPowerupType = 0 then
  [  8] pushint8 1 .............................. <1>
  [ 10] pusharglistnoret 1 ...................... <1>
  [ 12] extcall 13 .............................. return 1
  [ 14] getparam 0 .............................. <me>
  [ 16] pusharglist 1 ........................... <me>
  [ 18] objcall 24 .............................. <me.getGameSystem()>
  [ 20] setlocal 0 .............................. tGameSystem = me.getGameSystem()
  [ 22] getlocal 0 .............................. <tGameSystem>
  [ 24] pushzero ................................ <0>
  [ 25] eq ...................................... <tGameSystem = 0>
  [ 26] jmpifz [ 34] ............................ if tGameSystem = 0 then
  [ 29] pushzero ................................ <0>
  [ 30] pusharglistnoret 1 ...................... <0>
  [ 32] extcall 13 .............................. return 0
  [ 34] getlocal 0 .............................. <tGameSystem>
  [ 36] pushsymb 95 ............................. <#integer>
  [ 38] pushint8 4 .............................. <4>
  [ 40] pushsymb 95 ............................. <#integer>
  [ 42] getprop 1084 ............................ <pCarriedPowerupId>
  [ 45] pusharglist 4 ........................... <[#integer: 4, #integer: pCarriedPowerupId]>
  [ 47] pushproplist ............................ <[#integer: 4, #integer: pCarriedPowerupId]>
  [ 48] pusharglistnoret 2 ...................... <tGameSystem, [#integer: 4, #integer: pCarriedPowerupId]>
  [ 50] objcall 1080 ............................ tGameSystem.sendGameEventMessage([#integer: 4, #integer: pCarriedPowerupId])
  [ 53] getparam 0 .............................. <me>
  [ 55] pusharglist 1 ........................... <me>
  [ 57] objcall 1227 ............................ <me.clearBottomBarPowerup()>
  [ 60] pusharglistnoret 1 ...................... <me.clearBottomBarPowerup()>
  [ 62] extcall 13 .............................. return me.clearBottomBarPowerup()
  [ 64] ret
end

on setActivateButton me, tstate
  [  0] getparam 0 .............................. <me>
  [  2] pusharglist 1 ........................... <me>
  [  4] objcall 24 .............................. <me.getGameSystem()>
  [  6] pusharglist 1 ........................... <me.getGameSystem()>
  [  8] objcall 152 ............................. <me.getGameSystem().getSpectatorModeFlag()>
  [ 10] jmpifz [ 19] ............................ if me.getGameSystem().getSpectatorModeFlag() then
  [ 13] pushint8 1 .............................. <1>
  [ 15] pusharglistnoret 1 ...................... <1>
  [ 17] extcall 13 .............................. return 1
  [ 19] getprop 1046 ............................ <pBottomBarId>
  [ 22] pusharglist 1 ........................... <pBottomBarId>
  [ 24] extcall 403 ............................. <getWindow(pBottomBarId)>
  [ 27] setlocal 0 .............................. tWndObj = getWindow(pBottomBarId)
  [ 29] getlocal 0 .............................. <tWndObj>
  [ 31] pushzero ................................ <0>
  [ 32] eq ...................................... <tWndObj = 0>
  [ 33] jmpifz [ 41] ............................ if tWndObj = 0 then
  [ 36] pushzero ................................ <0>
  [ 37] pusharglistnoret 1 ...................... <0>
  [ 39] extcall 13 .............................. return 0
  [ 41] getlocal 0 .............................. <tWndObj>
  [ 43] pushcons 0 .............................. <"bb2_button_powerup">
  [ 45] pusharglist 2 ........................... <tWndObj, "bb2_button_powerup">
  [ 47] objcall 404 ............................. <tWndObj.getElement("bb2_button_powerup")>
  [ 50] setlocal 1 .............................. tElem = tWndObj.getElement("bb2_button_powerup")
  [ 52] getlocal 1 .............................. <tElem>
  [ 54] pushzero ................................ <0>
  [ 55] eq ...................................... <tElem = 0>
  [ 56] jmpifz [ 64] ............................ if tElem = 0 then
  [ 59] pushzero ................................ <0>
  [ 60] pusharglistnoret 1 ...................... <0>
  [ 62] extcall 13 .............................. return 0
  [ 64] getlocal 1 .............................. <tElem>
  [ 66] pushsymb 424 ............................ <#sprite>
  [ 69] pusharglist 2 ........................... <tElem, #sprite>
  [ 71] objcall 423 ............................. <tElem.getProperty(#sprite)>
  [ 74] setlocal 2 .............................. tsprite = tElem.getProperty(#sprite)
  [ 76] getparam 1 .............................. <tstate>
  [ 78] pushint8 6 .............................. <6>
  [ 80] eq ...................................... <tstate = 6>
  [ 81] jmpifz [129] ............................ if tstate = 6 then / else
  [ 84] getparam 0 .............................. <me>
  [ 86] pusharglist 1 ........................... <me>
  [ 88] objcall 24 .............................. <me.getGameSystem()>
  [ 90] getparam 0 .............................. <me>
  [ 92] pusharglist 1 ........................... <me>
  [ 94] objcall 1336 ............................ <me.getOwnGameIndex()>
  [ 97] pushsymb 195 ............................ <#teamId>
  [ 99] pusharglist 3 ........................... <me.getGameSystem(), me.getOwnGameIndex(), #teamId>
  [101] objcall 932 ............................. <me.getGameSystem().getGameObjectProperty(me.getOwnGameIndex(), #teamId)>
  [104] setlocal 3 .............................. tTeamId = me.getGameSystem().getGameObjectProperty(me.getOwnGameIndex(), #teamId)
  [106] pushcons 1 .............................. <"bb2_button_pwrup_">
  [108] getparam 1 .............................. <tstate>
  [110] joinstr ................................. <"bb2_button_pwrup_" & tstate>
  [111] pushcons 2 .............................. <"_">
  [113] joinstr ................................. <"bb2_button_pwrup_" & tstate & "_">
  [114] getlocal 3 .............................. <tTeamId>
  [116] pushint8 1 .............................. <1>
  [118] add ..................................... <tTeamId + 1>
  [119] joinstr ................................. <"bb2_button_pwrup_" & tstate & "_" & tTeamId + 1>
  [120] pusharglist 1 ........................... <"bb2_button_pwrup_" & tstate & "_" & tTeamId + 1>
  [122] extcall 175 ............................. <getmemnum("bb2_button_pwrup_" & tstate & "_" & tTeamId + 1)>
  [124] setlocal 4 .............................. tMemNum = getmemnum("bb2_button_pwrup_" & tstate & "_" & tTeamId + 1)
  [126] jmp [140]
  [129] pushcons 1 .............................. <"bb2_button_pwrup_">
  [131] getparam 1 .............................. <tstate>
  [133] joinstr ................................. <"bb2_button_pwrup_" & tstate>
  [134] pusharglist 1 ........................... <"bb2_button_pwrup_" & tstate>
  [136] extcall 175 ............................. <getmemnum("bb2_button_pwrup_" & tstate)>
  [138] setlocal 4 .............................. tMemNum = getmemnum("bb2_button_pwrup_" & tstate)
  [140] getlocal 4 .............................. <tMemNum>
  [142] pushzero ................................ <0>
  [143] lteq .................................... <tMemNum <= 0>
  [144] jmpifz [165] ............................ if tMemNum <= 0 then
  [147] getparam 0 .............................. <me>
  [149] pushcons 3 .............................. <"Unable to locate image for powerup button:">
  [151] getparam 1 .............................. <tstate>
  [153] joinpadstr .............................. <"Unable to locate image for powerup button:" && tstate>
  [154] pushsymb 1071 ........................... <#setActivateButton>
  [157] pusharglist 3 ........................... <me, "Unable to locate image for powerup button:" && tstate, #setActivateButton>
  [159] extcall 19 .............................. <error(me, "Unable to locate image for powerup button:" && tstate, #setActivateButton)>
  [161] pusharglistnoret 1 ...................... <error(me, "Unable to locate image for powerup button:" && tstate, #setActivateButton)>
  [163] extcall 13 .............................. return error(me, "Unable to locate image for powerup button:" && tstate, #setActivateButton)
  [165] getlocal 2 .............................. <tsprite>
  [167] getobjprop 85 ........................... <tsprite.ilk>
  [169] pushsymb 424 ............................ <#sprite>
  [172] nteq .................................... <tsprite.ilk <> #sprite>
  [173] jmpifz [191] ............................ if tsprite.ilk <> #sprite then
  [176] getparam 0 .............................. <me>
  [178] pushcons 4 .............................. <"Unable to locate sprite for powerup button">
  [180] pushsymb 1071 ........................... <#setActivateButton>
  [183] pusharglist 3 ........................... <me, "Unable to locate sprite for powerup button", #setActivateButton>
  [185] extcall 19 .............................. <error(me, "Unable to locate sprite for powerup button", #setActivateButton)>
  [187] pusharglistnoret 1 ...................... <error(me, "Unable to locate sprite for powerup button", #setActivateButton)>
  [189] extcall 13 .............................. return error(me, "Unable to locate sprite for powerup button", #setActivateButton)
  [191] getlocal 1 .............................. <tElem>
  [193] getlocal 4 .............................. <tMemNum>
  [195] pusharglist 1 ........................... <tMemNum>
  [197] extcall 171 ............................. <member(tMemNum)>
  [199] getobjprop 172 .......................... <member(tMemNum).image>
  [201] pusharglistnoret 2 ...................... <tElem, member(tMemNum).image>
  [203] objcall 507 ............................. tElem.feedImage(member(tMemNum).image)
  [206] getparam 1 .............................. <tstate>
  [208] pushzero ................................ <0>
  [209] gt ...................................... <tstate > 0>
  [210] jmpifz [225] ............................ if tstate > 0 then / else
  [213] getlocal 2 .............................. <tsprite>
  [215] pushcons 5 .............................. <"cursor.finger">
  [217] pusharglistnoret 2 ...................... <tsprite, "cursor.finger">
  [219] objcall 1067 ............................ tsprite.setcursor("cursor.finger")
  [222] jmp [233]
  [225] getlocal 2 .............................. <tsprite>
  [227] pushzero ................................ <0>
  [228] pusharglistnoret 2 ...................... <tsprite, 0>
  [230] objcall 1067 ............................ tsprite.setcursor(0)
  [233] pushint8 1 .............................. <1>
  [235] pusharglistnoret 1 ...................... <1>
  [237] extcall 13 .............................. return 1
  [239] ret
end

on updatePowerupTimer me, tstate
  [  0] getprop 1046 ............................ <pBottomBarId>
  [  3] pusharglist 1 ........................... <pBottomBarId>
  [  5] extcall 403 ............................. <getWindow(pBottomBarId)>
  [  8] setlocal 0 .............................. tWndObj = getWindow(pBottomBarId)
  [ 10] getlocal 0 .............................. <tWndObj>
  [ 12] pushzero ................................ <0>
  [ 13] eq ...................................... <tWndObj = 0>
  [ 14] jmpifz [ 22] ............................ if tWndObj = 0 then
  [ 17] pushzero ................................ <0>
  [ 18] pusharglistnoret 1 ...................... <0>
  [ 20] extcall 13 .............................. return 0
  [ 22] getlocal 0 .............................. <tWndObj>
  [ 24] pushcons 6 .............................. <"bb2_image_powerup_timer">
  [ 26] pusharglist 2 ........................... <tWndObj, "bb2_image_powerup_timer">
  [ 28] objcall 404 ............................. <tWndObj.getElement("bb2_image_powerup_timer")>
  [ 31] setlocal 1 .............................. tElem = tWndObj.getElement("bb2_image_powerup_timer")
  [ 33] getlocal 1 .............................. <tElem>
  [ 35] pushzero ................................ <0>
  [ 36] eq ...................................... <tElem = 0>
  [ 37] jmpifz [ 45] ............................ if tElem = 0 then
  [ 40] pushzero ................................ <0>
  [ 41] pusharglistnoret 1 ...................... <0>
  [ 43] extcall 13 .............................. return 0
  [ 45] getlocal 1 .............................. <tElem>
  [ 47] pushsymb 424 ............................ <#sprite>
  [ 50] pusharglist 2 ........................... <tElem, #sprite>
  [ 52] objcall 423 ............................. <tElem.getProperty(#sprite)>
  [ 55] setlocal 2 .............................. tsprite = tElem.getProperty(#sprite)
  [ 57] getlocal 2 .............................. <tsprite>
  [ 59] getobjprop 85 ........................... <tsprite.ilk>
  [ 61] pushsymb 424 ............................ <#sprite>
  [ 64] nteq .................................... <tsprite.ilk <> #sprite>
  [ 65] jmpifz [ 83] ............................ if tsprite.ilk <> #sprite then
  [ 68] getparam 0 .............................. <me>
  [ 70] pushcons 7 .............................. <"Unable to locate sprite for powerup timer">
  [ 72] pushsymb 1074 ........................... <#updatePowerupTimer>
  [ 75] pusharglist 3 ........................... <me, "Unable to locate sprite for powerup timer", #updatePowerupTimer>
  [ 77] extcall 19 .............................. <error(me, "Unable to locate sprite for powerup timer", #updatePowerupTimer)>
  [ 79] pusharglistnoret 1 ...................... <error(me, "Unable to locate sprite for powerup timer", #updatePowerupTimer)>
  [ 81] extcall 13 .............................. return error(me, "Unable to locate sprite for powerup timer", #updatePowerupTimer)
  [ 83] getparam 1 .............................. <tstate>
  [ 85] pushint8 11 ............................. <11>
  [ 87] gt ...................................... <tstate > 11>
  [ 88] jmpifz [ 95] ............................ if tstate > 11 then
  [ 91] pushint8 11 ............................. <11>
  [ 93] setparam 1 .............................. tstate = 11
  [ 95] getparam 1 .............................. <tstate>
  [ 97] pushint8 5 .............................. <5>
  [ 99] eq ...................................... <tstate = 5>
  [100] jmpifz [115] ............................ if tstate = 5 then
  [103] getparam 0 .............................. <me>
  [105] pushsymb 1329 ........................... <#soundeffect>
  [108] pushcons 8 .............................. <"5sec-powerup-activation-v1">
  [110] pusharglistnoret 3 ...................... <me, #soundeffect, "5sec-powerup-activation-v1">
  [112] objcall 600 ............................. me.sendGameSystemEvent(#soundeffect, "5sec-powerup-activation-v1")
  [115] pushcons 9 .............................. <"bb2_timer_pwrup_">
  [117] getparam 1 .............................. <tstate>
  [119] joinstr ................................. <"bb2_timer_pwrup_" & tstate>
  [120] pusharglist 1 ........................... <"bb2_timer_pwrup_" & tstate>
  [122] extcall 175 ............................. <getmemnum("bb2_timer_pwrup_" & tstate)>
  [124] setlocal 3 .............................. tMemNum = getmemnum("bb2_timer_pwrup_" & tstate)
  [126] getlocal 2 .............................. <tsprite>
  [128] getlocal 3 .............................. <tMemNum>
  [130] pusharglist 1 ........................... <tMemNum>
  [132] extcall 171 ............................. <member(tMemNum)>
  [134] pusharglist 2 ........................... <tsprite, member(tMemNum)>
  [136] objcall 220 ............................. <tsprite.setMember(member(tMemNum))>
  [138] pusharglistnoret 1 ...................... <tsprite.setMember(member(tMemNum))>
  [140] extcall 13 .............................. return tsprite.setMember(member(tMemNum))
  [142] ret
end

on setfxicon me, tstate
  [  0] getprop 1046 ............................ <pBottomBarId>
  [  3] pusharglist 1 ........................... <pBottomBarId>
  [  5] extcall 403 ............................. <getWindow(pBottomBarId)>
  [  8] setlocal 0 .............................. tWndObj = getWindow(pBottomBarId)
  [ 10] getlocal 0 .............................. <tWndObj>
  [ 12] pushzero ................................ <0>
  [ 13] eq ...................................... <tWndObj = 0>
  [ 14] jmpifz [ 22] ............................ if tWndObj = 0 then
  [ 17] pushzero ................................ <0>
  [ 18] pusharglistnoret 1 ...................... <0>
  [ 20] extcall 13 .............................. return 0
  [ 22] getlocal 0 .............................. <tWndObj>
  [ 24] pushcons 10 ............................. <"gs_int_fx_image">
  [ 26] pusharglist 2 ........................... <tWndObj, "gs_int_fx_image">
  [ 28] objcall 404 ............................. <tWndObj.getElement("gs_int_fx_image")>
  [ 31] setlocal 1 .............................. tElem = tWndObj.getElement("gs_int_fx_image")
  [ 33] getlocal 1 .............................. <tElem>
  [ 35] pushzero ................................ <0>
  [ 36] eq ...................................... <tElem = 0>
  [ 37] jmpifz [ 45] ............................ if tElem = 0 then
  [ 40] pushzero ................................ <0>
  [ 41] pusharglistnoret 1 ...................... <0>
  [ 43] extcall 13 .............................. return 0
  [ 45] getparam 1 .............................. <tstate>
  [ 47] jmpifz [ 57] ............................ if tstate then / else
  [ 50] pushcons 11 ............................. <"bb2_soundon">
  [ 52] setlocal 2 .............................. tMemName = "bb2_soundon"
  [ 54] jmp [ 61]
  [ 57] pushcons 12 ............................. <"bb2_soundoff">
  [ 59] setlocal 2 .............................. tMemName = "bb2_soundoff"
  [ 61] getlocal 2 .............................. <tMemName>
  [ 63] pusharglist 1 ........................... <tMemName>
  [ 65] extcall 175 ............................. <getmemnum(tMemName)>
  [ 67] pusharglist 1 ........................... <getmemnum(tMemName)>
  [ 69] extcall 171 ............................. <member(getmemnum(tMemName))>
  [ 71] setlocal 3 .............................. tmember = member(getmemnum(tMemName))
  [ 73] getlocal 3 .............................. <tmember>
  [ 75] getobjprop 632 .......................... <tmember.type>
  [ 78] pushsymb 215 ............................ <#bitmap>
  [ 80] eq ...................................... <tmember.type = #bitmap>
  [ 81] jmpifz [ 97] ............................ if tmember.type = #bitmap then
  [ 84] getlocal 1 .............................. <tElem>
  [ 86] pushsymb 172 ............................ <#image>
  [ 88] getlocal 3 .............................. <tmember>
  [ 90] getobjprop 172 .......................... <tmember.image>
  [ 92] pusharglistnoret 3 ...................... <tElem, #image, tmember.image>
  [ 94] objcall 408 ............................. tElem.setProperty(#image, tmember.image)
  [ 97] pushint8 1 .............................. <1>
  [ 99] pusharglistnoret 1 ...................... <1>
  [101] extcall 13 .............................. return 1
  [103] ret
end

on setmusicicon me, tstate
  [  0] getprop 1046 ............................ <pBottomBarId>
  [  3] pusharglist 1 ........................... <pBottomBarId>
  [  5] extcall 403 ............................. <getWindow(pBottomBarId)>
  [  8] setlocal 0 .............................. tWndObj = getWindow(pBottomBarId)
  [ 10] getlocal 0 .............................. <tWndObj>
  [ 12] pushzero ................................ <0>
  [ 13] eq ...................................... <tWndObj = 0>
  [ 14] jmpifz [ 22] ............................ if tWndObj = 0 then
  [ 17] pushzero ................................ <0>
  [ 18] pusharglistnoret 1 ...................... <0>
  [ 20] extcall 13 .............................. return 0
  [ 22] getlocal 0 .............................. <tWndObj>
  [ 24] pushcons 13 ............................. <"gs_int_music_image">
  [ 26] pusharglist 2 ........................... <tWndObj, "gs_int_music_image">
  [ 28] objcall 404 ............................. <tWndObj.getElement("gs_int_music_image")>
  [ 31] setlocal 1 .............................. tElem = tWndObj.getElement("gs_int_music_image")
  [ 33] getlocal 1 .............................. <tElem>
  [ 35] pushzero ................................ <0>
  [ 36] eq ...................................... <tElem = 0>
  [ 37] jmpifz [ 45] ............................ if tElem = 0 then
  [ 40] pushzero ................................ <0>
  [ 41] pusharglistnoret 1 ...................... <0>
  [ 43] extcall 13 .............................. return 0
  [ 45] getparam 1 .............................. <tstate>
  [ 47] jmpifz [ 57] ............................ if tstate then / else
  [ 50] pushcons 14 ............................. <"bb2_musicon">
  [ 52] setlocal 2 .............................. tMemName = "bb2_musicon"
  [ 54] jmp [ 61]
  [ 57] pushcons 15 ............................. <"bb2_musicoff">
  [ 59] setlocal 2 .............................. tMemName = "bb2_musicoff"
  [ 61] getlocal 2 .............................. <tMemName>
  [ 63] pusharglist 1 ........................... <tMemName>
  [ 65] extcall 175 ............................. <getmemnum(tMemName)>
  [ 67] pusharglist 1 ........................... <getmemnum(tMemName)>
  [ 69] extcall 171 ............................. <member(getmemnum(tMemName))>
  [ 71] setlocal 3 .............................. tmember = member(getmemnum(tMemName))
  [ 73] getlocal 3 .............................. <tmember>
  [ 75] getobjprop 632 .......................... <tmember.type>
  [ 78] pushsymb 215 ............................ <#bitmap>
  [ 80] eq ...................................... <tmember.type = #bitmap>
  [ 81] jmpifz [ 97] ............................ if tmember.type = #bitmap then
  [ 84] getlocal 1 .............................. <tElem>
  [ 86] pushsymb 172 ............................ <#image>
  [ 88] getlocal 3 .............................. <tmember>
  [ 90] getobjprop 172 .......................... <tmember.image>
  [ 92] pusharglistnoret 3 ...................... <tElem, #image, tmember.image>
  [ 94] objcall 408 ............................. tElem.setProperty(#image, tmember.image)
  [ 97] pushint8 1 .............................. <1>
  [ 99] pusharglistnoret 1 ...................... <1>
  [101] extcall 13 .............................. return 1
  [103] ret
end

on replaceRoomBar me
  [  0] getparam 0 .............................. <me>
  [  2] pusharglist 1 ........................... <me>
  [  4] objcall 24 .............................. <me.getGameSystem()>
  [  6] pusharglist 1 ........................... <me.getGameSystem()>
  [  8] objcall 152 ............................. <me.getGameSystem().getSpectatorModeFlag()>
  [ 10] jmpifz [ 19] ............................ if me.getGameSystem().getSpectatorModeFlag() then
  [ 13] pushint8 1 .............................. <1>
  [ 15] pusharglistnoret 1 ...................... <1>
  [ 17] extcall 13 .............................. return 1
  [ 19] getprop 1046 ............................ <pBottomBarId>
  [ 22] pusharglistnoret 1 ...................... <pBottomBarId>
  [ 24] extcall 435 ............................. removeWindow(pBottomBarId)
  [ 27] getprop 1046 ............................ <pBottomBarId>
  [ 30] pushcons 16 ............................. <"empty.window">
  [ 32] pushzero ................................ <0>
  [ 33] pushint16 483 ........................... <483>
  [ 36] pusharglistnoret 4 ...................... <pBottomBarId, "empty.window", 0, 483>
  [ 38] extcall 402 ............................. createWindow(pBottomBarId, "empty.window", 0, 483)
  [ 41] getprop 1046 ............................ <pBottomBarId>
  [ 44] pusharglist 1 ........................... <pBottomBarId>
  [ 46] extcall 403 ............................. <getWindow(pBottomBarId)>
  [ 49] setlocal 0 .............................. tWndObj = getWindow(pBottomBarId)
  [ 51] getlocal 0 .............................. <tWndObj>
  [ 53] pushzero ................................ <0>
  [ 54] eq ...................................... <tWndObj = 0>
  [ 55] jmpifz [ 63] ............................ if tWndObj = 0 then
  [ 58] pushzero ................................ <0>
  [ 59] pusharglistnoret 1 ...................... <0>
  [ 61] extcall 13 .............................. return 0
  [ 63] getlocal 0 .............................. <tWndObj>
  [ 65] pushint8 1 .............................. <1>
  [ 67] pusharglistnoret 2 ...................... <tWndObj, 1>
  [ 69] objcall 410 ............................. tWndObj.lock(1)
  [ 72] getlocal 0 .............................. <tWndObj>
  [ 74] pusharglistnoret 1 ...................... <tWndObj>
  [ 76] objcall 784 ............................. tWndObj.unmerge()
  [ 79] pushcons 17 ............................. <"bb2_ui.window">
  [ 81] setlocal 1 .............................. tLayout = "bb2_ui.window"
  [ 83] getlocal 0 .............................. <tWndObj>
  [ 85] getlocal 1 .............................. <tLayout>
  [ 87] pusharglist 2 ........................... <tWndObj, tLayout>
  [ 89] objcall 785 ............................. <tWndObj.merge(tLayout)>
  [ 92] not ..................................... <not tWndObj.merge(tLayout)>
  [ 93] jmpifz [101] ............................ if not tWndObj.merge(tLayout) then
  [ 96] pushzero ................................ <0>
  [ 97] pusharglistnoret 1 ...................... <0>
  [ 99] extcall 13 .............................. return 0
  [101] pushcons 18 ............................. <"Figure_Preview">
  [103] pusharglist 1 ........................... <"Figure_Preview">
  [105] extcall 159 ............................. <objectExists("Figure_Preview")>
  [107] jmpifz [137] ............................ if objectExists("Figure_Preview") then
  [110] pushcons 18 ............................. <"Figure_Preview">
  [112] pusharglist 1 ........................... <"Figure_Preview">
  [114] extcall 153 ............................. <getObject("Figure_Preview")>
  [116] getprop 1046 ............................ <pBottomBarId>
  [119] pushcons 19 ............................. <"bb2_avatar_face">
  [121] pushcons 20 ............................. <"hd">
  [123] pushcons 21 ............................. <"fc">
  [125] pushcons 22 ............................. <"ey">
  [127] pushcons 23 ............................. <"hr">
  [129] pusharglist 4 ........................... <["hd", "fc", "ey", "hr"]>
  [131] pushlist ................................ <["hd", "fc", "ey", "hr"]>
  [132] pusharglistnoret 4 ...................... <getObject("Figure_Preview"), pBottomBarId, "bb2_avatar_face", ["hd", "fc", "ey", "hr"]>
  [134] objcall 1056 ............................ getObject("Figure_Preview").createHumanPartPreview(pBottomBarId, "bb2_avatar_face", ["hd", "fc", "ey", "hr"])
  [137] getlocal 0 .............................. <tWndObj>
  [139] getparam 0 .............................. <me>
  [141] pusharglist 1 ........................... <me>
  [143] objcall 25 .............................. <me.getID()>
  [145] pusharglistnoret 2 ...................... <tWndObj, me.getID()>
  [147] objcall 1057 ............................ tWndObj.registerClient(me.getID())
  [150] getlocal 0 .............................. <tWndObj>
  [152] pushsymb 1043 ........................... <#eventProcRoomBar>
  [155] getparam 0 .............................. <me>
  [157] pusharglist 1 ........................... <me>
  [159] objcall 25 .............................. <me.getID()>
  [161] pushsymb 411 ............................ <#mouseUp>
  [164] pusharglistnoret 4 ...................... <tWndObj, #eventProcRoomBar, me.getID(), #mouseUp>
  [166] objcall 412 ............................. tWndObj.registerProcedure(#eventProcRoomBar, me.getID(), #mouseUp)
  [169] getlocal 0 .............................. <tWndObj>
  [171] pushsymb 1043 ........................... <#eventProcRoomBar>
  [174] getparam 0 .............................. <me>
  [176] pusharglist 1 ........................... <me>
  [178] objcall 25 .............................. <me.getID()>
  [180] pushsymb 1058 ........................... <#keyDown>
  [183] pusharglistnoret 4 ...................... <tWndObj, #eventProcRoomBar, me.getID(), #keyDown>
  [185] objcall 412 ............................. tWndObj.registerProcedure(#eventProcRoomBar, me.getID(), #keyDown)
  [188] getlocal 0 .............................. <tWndObj>
  [190] pushsymb 1043 ........................... <#eventProcRoomBar>
  [193] getparam 0 .............................. <me>
  [195] pusharglist 1 ........................... <me>
  [197] objcall 25 .............................. <me.getID()>
  [199] pushsymb 1059 ........................... <#mouseEnter>
  [202] pusharglistnoret 4 ...................... <tWndObj, #eventProcRoomBar, me.getID(), #mouseEnter>
  [204] objcall 412 ............................. tWndObj.registerProcedure(#eventProcRoomBar, me.getID(), #mouseEnter)
  [207] getlocal 0 .............................. <tWndObj>
  [209] pushsymb 1043 ........................... <#eventProcRoomBar>
  [212] getparam 0 .............................. <me>
  [214] pusharglist 1 ........................... <me>
  [216] objcall 25 .............................. <me.getID()>
  [218] pushsymb 1060 ........................... <#mouseLeave>
  [221] pusharglistnoret 4 ...................... <tWndObj, #eventProcRoomBar, me.getID(), #mouseLeave>
  [223] objcall 412 ............................. tWndObj.registerProcedure(#eventProcRoomBar, me.getID(), #mouseLeave)
  [226] getparam 0 .............................. <me>
  [228] pushzero ................................ <0>
  [229] pusharglistnoret 2 ...................... <me, 0>
  [231] objcall 1071 ............................ me.setActivateButton(0)
  [234] getparam 0 .............................. <me>
  [236] pusharglist 0 ........................... <>
  [238] extcall 1054 ............................ <getSoundState()>
  [241] pusharglistnoret 2 ...................... <me, getSoundState()>
  [243] objcall 1318 ............................ me.setfxicon(getSoundState())
  [246] getparam 0 .............................. <me>
  [248] pusharglist 0 ........................... <>
  [250] extcall 1054 ............................ <getSoundState()>
  [253] pusharglistnoret 2 ...................... <me, getSoundState()>
  [255] objcall 1319 ............................ me.setmusicicon(getSoundState())
  [258] getlocal 0 .............................. <tWndObj>
  [260] pushcons 24 ............................. <"chat_field">
  [262] pusharglist 2 ........................... <tWndObj, "chat_field">
  [264] objcall 404 ............................. <tWndObj.getElement("chat_field")>
  [267] setlocal 2 .............................. tElem = tWndObj.getElement("chat_field")
  [269] getlocal 2 .............................. <tElem>
  [271] pushzero ................................ <0>
  [272] eq ...................................... <tElem = 0>
  [273] jmpifz [281] ............................ if tElem = 0 then
  [276] pushzero ................................ <0>
  [277] pusharglistnoret 1 ...................... <0>
  [279] extcall 13 .............................. return 0
  [281] pusharglistnoret 0 ...................... <>
  [283] extcall 781 ............................. updateStage()
  [286] getlocal 2 .............................. <tElem>
  [288] pushint8 1 .............................. <1>
  [290] pusharglistnoret 2 ...................... <tElem, 1>
  [292] objcall 782 ............................. tElem.setEdit(1)
  [295] getlocal 2 .............................. <tElem>
  [297] pushint8 1 .............................. <1>
  [299] pusharglist 2 ........................... <tElem, 1>
  [301] objcall 783 ............................. <tElem.setFocus(1)>
  [304] pusharglistnoret 1 ...................... <tElem.setFocus(1)>
  [306] extcall 13 .............................. return tElem.setFocus(1)
  [308] pushint8 1 .............................. <1>
  [310] pusharglistnoret 1 ...................... <1>
  [312] extcall 13 .............................. return 1
  [314] ret
end

on eventProcRoomBar me, tEvent, tSprID, tParam
  [  0] getparam 1 .............................. <tEvent>
  [  2] pushsymb 411 ............................ <#mouseUp>
  [  5] eq ...................................... <tEvent = #mouseUp>
  [  6] jmpifz [ 88] ............................ if tEvent = #mouseUp then
  [  9] getparam 2 .............................. <tSprID>
  [ 11] peek 0 .................................. case tSprID of
  [ 13] pushcons 0 .............................. <"bb2_button_powerup">
  [ 15] eq
  [ 16] jmpifz [ 35] ............................ (case) "bb2_button_powerup":
  [ 19] pop 1
  [ 21] getparam 0 .............................. <me>
  [ 23] pusharglist 1 ........................... <me>
  [ 25] objcall 1079 ............................ <me.activateButtonPressed()>
  [ 28] pusharglistnoret 1 ...................... <me.activateButtonPressed()>
  [ 30] extcall 13 .............................. return me.activateButtonPressed()
  [ 32] jmp [ 86]
  [ 35] peek 0
  [ 37] pushcons 10 ............................. <"gs_int_fx_image">
  [ 39] eq
  [ 40] jmpifz [ 62] ............................ (case) "gs_int_fx_image":
  [ 43] pop 1
  [ 45] getparam 0 .............................. <me>
  [ 47] pushsymb 1316 ........................... <#setfx>
  [ 50] pusharglist 2 ........................... <me, #setfx>
  [ 52] objcall 600 ............................. <me.sendGameSystemEvent(#setfx)>
  [ 55] pusharglistnoret 1 ...................... <me.sendGameSystemEvent(#setfx)>
  [ 57] extcall 13 .............................. return me.sendGameSystemEvent(#setfx)
  [ 59] jmp [ 86]
  [ 62] peek 0
  [ 64] pushcons 13 ............................. <"gs_int_music_image">
  [ 66] eq
  [ 67] jmpifz [ 86] ............................ (case) "gs_int_music_image":
  [ 70] pop 1
  [ 72] getparam 0 .............................. <me>
  [ 74] pushsymb 1317 ........................... <#setmusic>
  [ 77] pusharglist 2 ........................... <me, #setmusic>
  [ 79] objcall 600 ............................. <me.sendGameSystemEvent(#setmusic)>
  [ 82] pusharglistnoret 1 ...................... <me.sendGameSystemEvent(#setmusic)>
  [ 84] extcall 13 .............................. return me.sendGameSystemEvent(#setmusic)
  [ 86] pop 1 ................................... end case
  [ 88] getparam 1 .............................. <tEvent>
  [ 90] pushsymb 1058 ........................... <#keyDown>
  [ 93] eq ...................................... <tEvent = #keyDown>
  [ 94] jmpifz [128] ............................ if tEvent = #keyDown then
  [ 97] pusharglist 0 ........................... <>
  [ 99] thebuiltin 692 .......................... <the key>
  [102] pushcons 25 ............................. <TAB>
  [104] eq ...................................... <the key = TAB>
  [105] pusharglist 0 ........................... <>
  [107] thebuiltin 1224 ......................... <the keyCode>
  [110] pushint8 125 ............................ <125>
  [112] eq ...................................... <the keyCode = 125>
  [113] or ...................................... <(the key = TAB) or (the keyCode = 125)>
  [114] jmpifz [128] ............................ if (the key = TAB) or (the keyCode = 125) then
  [117] getparam 0 .............................. <me>
  [119] pusharglist 1 ........................... <me>
  [121] objcall 1079 ............................ <me.activateButtonPressed()>
  [124] pusharglistnoret 1 ...................... <me.activateButtonPressed()>
  [126] extcall 13 .............................. return me.activateButtonPressed()
  [128] pushsymb 156 ............................ <#room_interface>
  [130] pusharglist 1 ........................... <#room_interface>
  [132] extcall 153 ............................. <getObject(#room_interface)>
  [134] setlocal 0 .............................. tRoomInt = getObject(#room_interface)
  [136] getlocal 0 .............................. <tRoomInt>
  [138] pushzero ................................ <0>
  [139] eq ...................................... <tRoomInt = 0>
  [140] jmpifz [148] ............................ if tRoomInt = 0 then
  [143] pushzero ................................ <0>
  [144] pusharglistnoret 1 ...................... <0>
  [146] extcall 13 .............................. return 0
  [148] getlocal 0 .............................. <tRoomInt>
  [150] getparam 1 .............................. <tEvent>
  [152] getparam 2 .............................. <tSprID>
  [154] getparam 3 .............................. <tParam>
  [156] pusharglist 4 ........................... <tRoomInt, tEvent, tSprID, tParam>
  [158] objcall 1043 ............................ <tRoomInt.eventProcRoomBar(tEvent, tSprID, tParam)>
  [161] pusharglistnoret 1 ...................... <tRoomInt.eventProcRoomBar(tEvent, tSprID, tParam)>
  [163] extcall 13 .............................. return tRoomInt.eventProcRoomBar(tEvent, tSprID, tParam)
  [165] ret
end

on getOwnGameIndex me
  [  0] pushsymb 154 ............................ <#session>
  [  2] pusharglist 1 ........................... <#session>
  [  4] extcall 153 ............................. <getObject(#session)>
  [  6] setlocal 0 .............................. tSession = getObject(#session)
  [  8] getlocal 0 .............................. <tSession>
  [ 10] pushcons 26 ............................. <"user_game_index">
  [ 12] pusharglist 2 ........................... <tSession, "user_game_index">
  [ 14] objcall 256 ............................. <tSession.exists("user_game_index")>
  [ 17] not ..................................... <not tSession.exists("user_game_index")>
  [ 18] jmpifz [ 26] ............................ if not tSession.exists("user_game_index") then
  [ 21] pushzero ................................ <0>
  [ 22] pusharglistnoret 1 ...................... <0>
  [ 24] extcall 13 .............................. return 0
  [ 26] getlocal 0 .............................. <tSession>
  [ 28] pushcons 26 ............................. <"user_game_index">
  [ 30] pusharglist 2 ........................... <tSession, "user_game_index">
  [ 32] objcall 155 ............................. <tSession.get("user_game_index")>
  [ 34] pusharglistnoret 1 ...................... <tSession.get("user_game_index")>
  [ 36] extcall 13 .............................. return tSession.get("user_game_index")
  [ 38] ret
end
