property pWindowID, pTimeOutID, pOpenWindow, pScoreData, pBestPlayer, pPlayerData, pCountdownEndTime, pJoinedPlayers, pWriterPlainNormLeft, pWriterPlainBoldLeft, pWriterLinkRight

on construct me
  [  0] pusharglist 0 ........................... <[:]>
  [  2] pushproplist ............................ <[:]>
  [  3] setprop 479 ............................. pJoinedPlayers = [:]
  [  6] pushcons 0 .............................. <"gs_title_finalscores">
  [  8] pusharglist 1 ........................... <"gs_title_finalscores">
  [ 10] extcall 392 ............................. <getText("gs_title_finalscores")>
  [ 13] setprop 391 ............................. pWindowID = getText("gs_title_finalscores")
  [ 16] pushcons 1 .............................. <"bb_endgame_resetGameTimeout">
  [ 18] setprop 393 ............................. pTimeOutID = "bb_endgame_resetGameTimeout"
  [ 21] pushcons 2 .............................. <"bb_plain_norm_left">
  [ 23] pushcons 3 .............................. <"struct.font.plain">
  [ 25] pusharglist 1 ........................... <"struct.font.plain">
  [ 27] extcall 481 ............................. <getStructVariable("struct.font.plain")>
  [ 30] pusharglistnoret 2 ...................... <"bb_plain_norm_left", getStructVariable("struct.font.plain")>
  [ 32] extcall 480 ............................. createWriter("bb_plain_norm_left", getStructVariable("struct.font.plain"))
  [ 35] pushcons 2 .............................. <"bb_plain_norm_left">
  [ 37] pusharglist 1 ........................... <"bb_plain_norm_left">
  [ 39] extcall 483 ............................. <getWriter("bb_plain_norm_left")>
  [ 42] setprop 482 ............................. pWriterPlainNormLeft = getWriter("bb_plain_norm_left")
  [ 45] getprop 482 ............................. <pWriterPlainNormLeft>
  [ 48] pushsymb 484 ............................ <#wordWrap>
  [ 51] pushzero ................................ <0>
  [ 52] pushsymb 485 ............................ <#fixedLineSpace>
  [ 55] pushint8 16 ............................. <16>
  [ 57] pusharglist 4 ........................... <[#wordWrap: 0, #fixedLineSpace: 16]>
  [ 59] pushproplist ............................ <[#wordWrap: 0, #fixedLineSpace: 16]>
  [ 60] pusharglistnoret 2 ...................... <pWriterPlainNormLeft, [#wordWrap: 0, #fixedLineSpace: 16]>
  [ 62] objcall 2 ............................... pWriterPlainNormLeft.define([#wordWrap: 0, #fixedLineSpace: 16])
  [ 64] pushcons 4 .............................. <"bb_plain_bold_left">
  [ 66] pushcons 5 .............................. <"struct.font.bold">
  [ 68] pusharglist 1 ........................... <"struct.font.bold">
  [ 70] extcall 481 ............................. <getStructVariable("struct.font.bold")>
  [ 73] pusharglistnoret 2 ...................... <"bb_plain_bold_left", getStructVariable("struct.font.bold")>
  [ 75] extcall 480 ............................. createWriter("bb_plain_bold_left", getStructVariable("struct.font.bold"))
  [ 78] pushcons 4 .............................. <"bb_plain_bold_left">
  [ 80] pusharglist 1 ........................... <"bb_plain_bold_left">
  [ 82] extcall 483 ............................. <getWriter("bb_plain_bold_left")>
  [ 85] setprop 486 ............................. pWriterPlainBoldLeft = getWriter("bb_plain_bold_left")
  [ 88] pushcons 6 .............................. <"bb_link_right">
  [ 90] pushcons 7 .............................. <"struct.font.link">
  [ 92] pusharglist 1 ........................... <"struct.font.link">
  [ 94] extcall 481 ............................. <getStructVariable("struct.font.link")>
  [ 97] pusharglistnoret 2 ...................... <"bb_link_right", getStructVariable("struct.font.link")>
  [ 99] extcall 480 ............................. createWriter("bb_link_right", getStructVariable("struct.font.link"))
  [102] pushcons 6 .............................. <"bb_link_right">
  [104] pusharglist 1 ........................... <"bb_link_right">
  [106] extcall 483 ............................. <getWriter("bb_link_right")>
  [109] setprop 487 ............................. pWriterLinkRight = getWriter("bb_link_right")
  [112] getprop 487 ............................. <pWriterLinkRight>
  [115] pushsymb 488 ............................ <#alignment>
  [118] pushsymb 489 ............................ <#right>
  [121] pusharglistnoret 3 ...................... <pWriterLinkRight, #alignment, #right>
  [123] objcall 408 ............................. pWriterLinkRight.setProperty(#alignment, #right)
  [126] pushsymb 490 ............................ <#remove_user>
  [129] getparam 0 .............................. <me>
  [131] pusharglist 1 ........................... <me>
  [133] objcall 25 .............................. <me.getID()>
  [135] pushsymb 474 ............................ <#showRemovedPlayer>
  [138] pusharglistnoret 3 ...................... <#remove_user, me.getID(), #showRemovedPlayer>
  [140] extcall 140 ............................. registerMessage(#remove_user, me.getID(), #showRemovedPlayer)
  [142] pushint8 1 .............................. <1>
  [144] pusharglistnoret 1 ...................... <1>
  [146] extcall 13 .............................. return 1
  [148] ret
end

on deconstruct me
  [  0] getparam 0 .............................. <me>
  [  2] pusharglistnoret 1 ...................... <me>
  [  4] objcall 468 ............................. me.removeFinalScores()
  [  7] pushcons 2 .............................. <"bb_plain_norm_left">
  [  9] pusharglistnoret 1 ...................... <"bb_plain_norm_left">
  [ 11] extcall 491 ............................. removeWriter("bb_plain_norm_left")
  [ 14] pusharglist 0 ........................... <>
  [ 16] extcall 43 .............................. <VOID>
  [ 18] setprop 482 ............................. pWriterPlainNormLeft = VOID
  [ 21] pushcons 4 .............................. <"bb_plain_bold_left">
  [ 23] pusharglistnoret 1 ...................... <"bb_plain_bold_left">
  [ 25] extcall 491 ............................. removeWriter("bb_plain_bold_left")
  [ 28] pusharglist 0 ........................... <>
  [ 30] extcall 43 .............................. <VOID>
  [ 32] setprop 486 ............................. pWriterPlainBoldLeft = VOID
  [ 35] pushcons 6 .............................. <"bb_link_right">
  [ 37] pusharglistnoret 1 ...................... <"bb_link_right">
  [ 39] extcall 491 ............................. removeWriter("bb_link_right")
  [ 42] pusharglist 0 ........................... <>
  [ 44] extcall 43 .............................. <VOID>
  [ 46] setprop 487 ............................. pWriterLinkRight = VOID
  [ 49] pushsymb 490 ............................ <#remove_user>
  [ 52] getparam 0 .............................. <me>
  [ 54] pusharglist 1 ........................... <me>
  [ 56] objcall 25 .............................. <me.getID()>
  [ 58] pusharglistnoret 2 ...................... <#remove_user, me.getID()>
  [ 60] extcall 142 ............................. unregisterMessage(#remove_user, me.getID())
  [ 62] pushint8 1 .............................. <1>
  [ 64] pusharglistnoret 1 ...................... <1>
  [ 66] extcall 13 .............................. return 1
  [ 68] ret
end

on Refresh me, tTopic, tdata
  [  0] getparam 1 .............................. <tTopic>
  [  2] peek 0 .................................. case tTopic of
  [  4] pushsymb 449 ............................ <#gameend>
  [  7] eq
  [  8] jmpifz [ 52] ............................ (case) #gameend:
  [ 11] pusharglist 0 ........................... <[:]>
  [ 13] pushproplist ............................ <[:]>
  [ 14] setprop 479 ............................. pJoinedPlayers = [:]
  [ 17] getparam 0 .............................. <me>
  [ 19] getparam 2 .............................. <tdata>
  [ 21] pusharglistnoret 2 ...................... <me, tdata>
  [ 23] objcall 470 ............................. me.saveSortedScores(tdata)
  [ 26] getparam 0 .............................. <me>
  [ 28] getparam 2 .............................. <tdata>
  [ 30] pushsymb 492 ............................ <#time_until_game_reset>
  [ 33] pusharglist 2 ........................... <tdata, #time_until_game_reset>
  [ 35] objcall 18 .............................. <tdata[#time_until_game_reset]>
  [ 37] pusharglistnoret 2 ...................... <me, tdata[#time_until_game_reset]>
  [ 39] objcall 477 ............................. me.startResetCountdown(tdata[#time_until_game_reset])
  [ 42] getparam 0 .............................. <me>
  [ 44] pusharglistnoret 1 ...................... <me>
  [ 46] objcall 467 ............................. me.toggleWindowMode()
  [ 49] jmp [107]
  [ 52] peek 0
  [ 54] pushsymb 145 ............................ <#gamereset>
  [ 56] eq
  [ 57] jmpifz [ 70] ............................ (case) #gamereset:
  [ 60] getparam 0 .............................. <me>
  [ 62] pusharglistnoret 1 ...................... <me>
  [ 64] objcall 468 ............................. me.removeFinalScores()
  [ 67] jmp [107]
  [ 70] peek 0
  [ 72] pushsymb 493 ............................ <#playerrejoined>
  [ 75] eq
  [ 76] jmpifz [ 91] ............................ (case) #playerrejoined:
  [ 79] getparam 0 .............................. <me>
  [ 81] getparam 2 .............................. <tdata>
  [ 83] pusharglistnoret 2 ...................... <me, tdata>
  [ 85] objcall 473 ............................. me.showJoinedPlayer(tdata)
  [ 88] jmp [107]
  [ 91] peek 0
  [ 93] pushsymb 494 ............................ <#numtickets>
  [ 96] eq
  [ 97] jmpifz [107] ............................ (case) #numtickets:
  [100] getparam 0 .............................. <me>
  [102] pusharglistnoret 1 ...................... <me>
  [104] objcall 469 ............................. me.renderNumTickets()
  [107] pop 1 ................................... end case
  [109] pushint8 1 .............................. <1>
  [111] pusharglistnoret 1 ...................... <1>
  [113] extcall 13 .............................. return 1
  [115] ret
end

on toggleWindowMode me
  [  0] getprop 495 ............................. <pOpenWindow>
  [  3] pusharglist 0 ........................... <>
  [  5] extcall 43 .............................. <VOID>
  [  7] eq ...................................... <pOpenWindow = VOID>
  [  8] getprop 495 ............................. <pOpenWindow>
  [ 11] pushcons 8 .............................. <"bb_score_tiny.window">
  [ 13] eq ...................................... <pOpenWindow = "bb_score_tiny.window">
  [ 14] or ...................................... <(pOpenWindow = VOID) or (pOpenWindow = "bb_score_tiny.window")>
  [ 15] jmpifz [147] ............................ if (pOpenWindow = VOID) or (pOpenWindow = "bb_score_tiny.window") then / else
  [ 18] getprop 496 ............................. <pScoreData>
  [ 21] pusharglist 1 ........................... <pScoreData>
  [ 23] extcall 150 ............................. <listp(pScoreData)>
  [ 25] not ..................................... <not listp(pScoreData)>
  [ 26] jmpifz [ 34] ............................ if not listp(pScoreData) then
  [ 29] pushzero ................................ <0>
  [ 30] pusharglistnoret 1 ...................... <0>
  [ 32] extcall 13 .............................. return 0
  [ 34] getprop 496 ............................. <pScoreData>
  [ 37] getobjprop 20 ........................... <pScoreData.count>
  [ 39] setlocal 0 .............................. tTeamNum = pScoreData.count
  [ 41] pushcons 9 .............................. <"bb_score_big_">
  [ 43] getlocal 0 .............................. <tTeamNum>
  [ 45] joinstr ................................. <"bb_score_big_" & tTeamNum>
  [ 46] pushcons 10 ............................. <"t.window">
  [ 48] joinstr ................................. <"bb_score_big_" & tTeamNum & "t.window">
  [ 49] setprop 495 ............................. pOpenWindow = "bb_score_big_" & tTeamNum & "t.window"
  [ 52] getprop 391 ............................. <pWindowID>
  [ 55] getprop 495 ............................. <pOpenWindow>
  [ 58] pusharglist 2 ........................... <pWindowID, pOpenWindow>
  [ 60] extcall 402 ............................. <createWindow(pWindowID, pOpenWindow)>
  [ 63] not ..................................... <not createWindow(pWindowID, pOpenWindow)>
  [ 64] jmpifz [ 82] ............................ if not createWindow(pWindowID, pOpenWindow) then
  [ 67] getparam 0 .............................. <me>
  [ 69] pushcons 11 ............................. <"Cannot open score window.">
  [ 71] pushsymb 467 ............................ <#toggleWindowMode>
  [ 74] pusharglist 3 ........................... <me, "Cannot open score window.", #toggleWindowMode>
  [ 76] extcall 19 .............................. <error(me, "Cannot open score window.", #toggleWindowMode)>
  [ 78] pusharglistnoret 1 ...................... <error(me, "Cannot open score window.", #toggleWindowMode)>
  [ 80] extcall 13 .............................. return error(me, "Cannot open score window.", #toggleWindowMode)
  [ 82] getparam 0 .............................. <me>
  [ 84] pusharglistnoret 1 ...................... <me>
  [ 86] objcall 471 ............................. me.renderFinalScoresText()
  [ 89] getparam 0 .............................. <me>
  [ 91] pusharglistnoret 1 ...................... <me>
  [ 93] objcall 1306 ............................ me.showJoinedPlayers()
  [ 96] getprop 391 ............................. <pWindowID>
  [ 99] pusharglist 1 ........................... <pWindowID>
  [101] extcall 403 ............................. <getWindow(pWindowID)>
  [104] setlocal 1 .............................. tWndObj = getWindow(pWindowID)
  [106] getparam 0 .............................. <me>
  [108] pusharglist 1 ........................... <me>
  [110] objcall 24 .............................. <me.getGameSystem()>
  [112] pusharglist 1 ........................... <me.getGameSystem()>
  [114] objcall 152 ............................. <me.getGameSystem().getSpectatorModeFlag()>
  [116] jmpifz [133] ............................ if me.getGameSystem().getSpectatorModeFlag() then / else
  [119] getlocal 1 .............................. <tWndObj>
  [121] pushint8 124 ............................ <124>
  [123] pushint8 74 ............................. <74>
  [125] pusharglistnoret 3 ...................... <tWndObj, 124, 74>
  [127] objcall 466 ............................. tWndObj.moveTo(124, 74)
  [130] jmp [144]
  [133] getlocal 1 .............................. <tWndObj>
  [135] pushint8 124 ............................ <124>
  [137] pushint8 50 ............................. <50>
  [139] pusharglistnoret 3 ...................... <tWndObj, 124, 50>
  [141] objcall 466 ............................. tWndObj.moveTo(124, 50)
  [144] jmp [230]
  [147] pushcons 8 .............................. <"bb_score_tiny.window">
  [149] setprop 495 ............................. pOpenWindow = "bb_score_tiny.window"
  [152] getprop 391 ............................. <pWindowID>
  [155] getprop 495 ............................. <pOpenWindow>
  [158] pusharglist 2 ........................... <pWindowID, pOpenWindow>
  [160] extcall 402 ............................. <createWindow(pWindowID, pOpenWindow)>
  [163] not ..................................... <not createWindow(pWindowID, pOpenWindow)>
  [164] jmpifz [182] ............................ if not createWindow(pWindowID, pOpenWindow) then
  [167] getparam 0 .............................. <me>
  [169] pushcons 11 ............................. <"Cannot open score window.">
  [171] pushsymb 467 ............................ <#toggleWindowMode>
  [174] pusharglist 3 ........................... <me, "Cannot open score window.", #toggleWindowMode>
  [176] extcall 19 .............................. <error(me, "Cannot open score window.", #toggleWindowMode)>
  [178] pusharglistnoret 1 ...................... <error(me, "Cannot open score window.", #toggleWindowMode)>
  [180] extcall 13 .............................. return error(me, "Cannot open score window.", #toggleWindowMode)
  [182] getprop 391 ............................. <pWindowID>
  [185] pusharglist 1 ........................... <pWindowID>
  [187] extcall 403 ............................. <getWindow(pWindowID)>
  [190] setlocal 1 .............................. tWndObj = getWindow(pWindowID)
  [192] getparam 0 .............................. <me>
  [194] pusharglist 1 ........................... <me>
  [196] objcall 24 .............................. <me.getGameSystem()>
  [198] pusharglist 1 ........................... <me.getGameSystem()>
  [200] objcall 152 ............................. <me.getGameSystem().getSpectatorModeFlag()>
  [202] jmpifz [219] ............................ if me.getGameSystem().getSpectatorModeFlag() then / else
  [205] getlocal 1 .............................. <tWndObj>
  [207] pushint8 41 ............................. <41>
  [209] pushint8 50 ............................. <50>
  [211] pusharglistnoret 3 ...................... <tWndObj, 41, 50>
  [213] objcall 466 ............................. tWndObj.moveTo(41, 50)
  [216] jmp [230]
  [219] getlocal 1 .............................. <tWndObj>
  [221] pushint8 25 ............................. <25>
  [223] pushint8 26 ............................. <26>
  [225] pusharglistnoret 3 ...................... <tWndObj, 25, 26>
  [227] objcall 466 ............................. tWndObj.moveTo(25, 26)
  [230] getlocal 1 .............................. <tWndObj>
  [232] pusharglistnoret 1 ...................... <tWndObj>
  [234] objcall 410 ............................. tWndObj.lock()
  [237] getlocal 1 .............................. <tWndObj>
  [239] pushsymb 390 ............................ <#eventProc>
  [242] getparam 0 .............................. <me>
  [244] pusharglist 1 ........................... <me>
  [246] objcall 25 .............................. <me.getID()>
  [248] pushsymb 411 ............................ <#mouseUp>
  [251] pusharglistnoret 4 ...................... <tWndObj, #eventProc, me.getID(), #mouseUp>
  [253] objcall 412 ............................. tWndObj.registerProcedure(#eventProc, me.getID(), #mouseUp)
  [256] getparam 0 .............................. <me>
  [258] pusharglistnoret 1 ...................... <me>
  [260] objcall 476 ............................. me.showJoinedPlayersNum()
  [263] getparam 0 .............................. <me>
  [265] pusharglistnoret 1 ...................... <me>
  [267] objcall 478 ............................. me.renderCountdownTimer()
  [270] getparam 0 .............................. <me>
  [272] pusharglistnoret 1 ...................... <me>
  [274] objcall 469 ............................. me.renderNumTickets()
  [277] pushint8 1 .............................. <1>
  [279] pusharglistnoret 1 ...................... <1>
  [281] extcall 13 .............................. return 1
  [283] ret
end

on removeFinalScores me
  [  0] pusharglist 0 ........................... <>
  [  2] extcall 43 .............................. <VOID>
  [  4] setprop 498 ............................. pCountdownEndTime = VOID
  [  7] pusharglist 0 ........................... <>
  [  9] extcall 43 .............................. <VOID>
  [ 11] setprop 495 ............................. pOpenWindow = VOID
  [ 14] getprop 391 ............................. <pWindowID>
  [ 17] pusharglist 1 ........................... <pWindowID>
  [ 19] extcall 434 ............................. <windowExists(pWindowID)>
  [ 22] jmpifz [ 33] ............................ if windowExists(pWindowID) then
  [ 25] getprop 391 ............................. <pWindowID>
  [ 28] pusharglistnoret 1 ...................... <pWindowID>
  [ 30] extcall 435 ............................. removeWindow(pWindowID)
  [ 33] getprop 393 ............................. <pTimeOutID>
  [ 36] pusharglist 1 ........................... <pTimeOutID>
  [ 38] extcall 432 ............................. <timeoutExists(pTimeOutID)>
  [ 41] jmpifz [ 52] ............................ if timeoutExists(pTimeOutID) then
  [ 44] getprop 393 ............................. <pTimeOutID>
  [ 47] pusharglistnoret 1 ...................... <pTimeOutID>
  [ 49] extcall 433 ............................. removeTimeout(pTimeOutID)
  [ 52] pushint8 1 .............................. <1>
  [ 54] pusharglistnoret 1 ...................... <1>
  [ 56] extcall 13 .............................. return 1
  [ 58] ret
end

on renderNumTickets me
  [  0] getprop 391 ............................. <pWindowID>
  [  3] pusharglist 1 ........................... <pWindowID>
  [  5] extcall 403 ............................. <getWindow(pWindowID)>
  [  8] setlocal 0 .............................. tWndObj = getWindow(pWindowID)
  [ 10] getlocal 0 .............................. <tWndObj>
  [ 12] pushzero ................................ <0>
  [ 13] eq ...................................... <tWndObj = 0>
  [ 14] jmpifz [ 22] ............................ if tWndObj = 0 then
  [ 17] pushzero ................................ <0>
  [ 18] pusharglistnoret 1 ...................... <0>
  [ 20] extcall 13 .............................. return 0
  [ 22] getlocal 0 .............................. <tWndObj>
  [ 24] pushcons 12 ............................. <"bb_ticketAmount_text">
  [ 26] pusharglist 2 ........................... <tWndObj, "bb_ticketAmount_text">
  [ 28] objcall 404 ............................. <tWndObj.getElement("bb_ticketAmount_text")>
  [ 31] setlocal 1 .............................. tElem = tWndObj.getElement("bb_ticketAmount_text")
  [ 33] getlocal 1 .............................. <tElem>
  [ 35] pushzero ................................ <0>
  [ 36] eq ...................................... <tElem = 0>
  [ 37] jmpifz [ 45] ............................ if tElem = 0 then
  [ 40] pushzero ................................ <0>
  [ 41] pusharglistnoret 1 ...................... <0>
  [ 43] extcall 13 .............................. return 0
  [ 45] getparam 0 .............................. <me>
  [ 47] pusharglist 1 ........................... <me>
  [ 49] objcall 24 .............................. <me.getGameSystem()>
  [ 51] pushzero ................................ <0>
  [ 52] eq ...................................... <me.getGameSystem() = 0>
  [ 53] jmpifz [ 61] ............................ if me.getGameSystem() = 0 then
  [ 56] pushzero ................................ <0>
  [ 57] pusharglistnoret 1 ...................... <0>
  [ 59] extcall 13 .............................. return 0
  [ 61] getparam 0 .............................. <me>
  [ 63] pusharglist 1 ........................... <me>
  [ 65] objcall 24 .............................. <me.getGameSystem()>
  [ 67] pusharglist 1 ........................... <me.getGameSystem()>
  [ 69] objcall 413 ............................. <me.getGameSystem().getNumTickets()>
  [ 72] pusharglist 1 ........................... <me.getGameSystem().getNumTickets()>
  [ 74] extcall 87 .............................. <string(me.getGameSystem().getNumTickets())>
  [ 76] setlocal 2 .............................. tNumTickets = string(me.getGameSystem().getNumTickets())
  [ 78] getlocal 2 .............................. <tNumTickets>
  [ 80] getobjprop 247 .......................... <tNumTickets.length>
  [ 82] pushint8 1 .............................. <1>
  [ 84] eq ...................................... <tNumTickets.length = 1>
  [ 85] jmpifz [ 95] ............................ if tNumTickets.length = 1 then
  [ 88] pushcons 13 ............................. <"00">
  [ 90] getlocal 2 .............................. <tNumTickets>
  [ 92] joinstr ................................. <"00" & tNumTickets>
  [ 93] setlocal 2 .............................. tNumTickets = "00" & tNumTickets
  [ 95] getlocal 2 .............................. <tNumTickets>
  [ 97] getobjprop 247 .......................... <tNumTickets.length>
  [ 99] pushint8 2 .............................. <2>
  [101] eq ...................................... <tNumTickets.length = 2>
  [102] jmpifz [112] ............................ if tNumTickets.length = 2 then
  [105] pushcons 14 ............................. <"0">
  [107] getlocal 2 .............................. <tNumTickets>
  [109] joinstr ................................. <"0" & tNumTickets>
  [110] setlocal 2 .............................. tNumTickets = "0" & tNumTickets
  [112] getlocal 1 .............................. <tElem>
  [114] getlocal 2 .............................. <tNumTickets>
  [116] pusharglistnoret 2 ...................... <tElem, tNumTickets>
  [118] objcall 414 ............................. tElem.setText(tNumTickets)
  [121] ret
end

on saveSortedScores me, tdata
  [  0] getparam 1 .............................. <tdata>
  [  2] pushsymb 499 ............................ <#gameend_scores>
  [  5] pusharglist 2 ........................... <tdata, #gameend_scores>
  [  7] objcall 18 .............................. <tdata[#gameend_scores]>
  [  9] setprop 496 ............................. pScoreData = tdata[#gameend_scores]
  [ 12] pusharglist 0 ........................... <[]>
  [ 14] pushlist ................................ <[]>
  [ 15] setlocal 0 .............................. tSortedTeams = []
  [ 17] getprop 496 ............................. <pScoreData>
  [ 20] getobjprop 20 ........................... <pScoreData.count>
  [ 22] setlocal 1 .............................. tTeamNum = pScoreData.count
  [ 24] pushint8 1 .............................. <1>
  [ 26] setlocal 2
  [ 28] getlocal 2
  [ 30] getlocal 1 .............................. <tTeamNum>
  [ 32] lteq
  [ 33] jmpifz [336] ............................ repeat with tTeamId = 1 to tTeamNum
  [ 36] getprop 496 ............................. <pScoreData>
  [ 39] getlocal 2 .............................. <tTeamId>
  [ 41] pusharglist 2 ........................... <pScoreData, tTeamId>
  [ 43] objcall 18 .............................. <pScoreData[tTeamId]>
  [ 45] setparam 1 .............................. tdata = pScoreData[tTeamId]
  [ 47] pusharglist 0 ........................... <[]>
  [ 49] pushlist ................................ <[]>
  [ 50] setlocal 3 .............................. tSortedPlayers = []
  [ 52] pushint8 1 .............................. <1>
  [ 54] setlocal 4
  [ 56] getlocal 4
  [ 58] getparam 1 .............................. <tdata>
  [ 60] pushsymb 146 ............................ <#players>
  [ 62] pusharglist 2 ........................... <tdata, #players>
  [ 64] objcall 18 .............................. <tdata[#players]>
  [ 66] getobjprop 20 ........................... <tdata[#players].count>
  [ 68] lteq
  [ 69] jmpifz [231] ............................ repeat with tPlayerNum = 1 to tdata[#players].count
  [ 72] pushint8 1 .............................. <1>
  [ 74] setlocal 5 .............................. tPos = 1
  [ 76] getlocal 3 .............................. <tSortedPlayers>
  [ 78] getobjprop 20 ........................... <tSortedPlayers.count>
  [ 80] pushzero ................................ <0>
  [ 81] gt ...................................... <tSortedPlayers.count > 0>
  [ 82] jmpifz [147] ............................ if tSortedPlayers.count > 0 then
  [ 85] getlocal 3 .............................. <tSortedPlayers>
  [ 87] getlocal 5 .............................. <tPos>
  [ 89] pusharglist 2 ........................... <tSortedPlayers, tPos>
  [ 91] objcall 18 .............................. <tSortedPlayers[tPos]>
  [ 93] pushsymb 501 ............................ <#score>
  [ 96] pusharglist 2 ........................... <tSortedPlayers[tPos], #score>
  [ 98] objcall 18 .............................. <tSortedPlayers[tPos][#score]>
  [100] getparam 1 .............................. <tdata>
  [102] pushsymb 146 ............................ <#players>
  [104] pusharglist 2 ........................... <tdata, #players>
  [106] objcall 18 .............................. <tdata[#players]>
  [108] getlocal 4 .............................. <tPlayerNum>
  [110] pusharglist 2 ........................... <tdata[#players], tPlayerNum>
  [112] objcall 18 .............................. <tdata[#players][tPlayerNum]>
  [114] pushsymb 501 ............................ <#score>
  [117] pusharglist 2 ........................... <tdata[#players][tPlayerNum], #score>
  [119] objcall 18 .............................. <tdata[#players][tPlayerNum][#score]>
  [121] gt ...................................... <tSortedPlayers[tPos][#score] > tdata[#players][tPlayerNum][#score]>
  [122] jmpifz [147] ............................ repeat while tSortedPlayers[tPos][#score] > tdata[#players][tPlayerNum][#score]
  [125] getlocal 5 .............................. <tPos>
  [127] pushint8 1 .............................. <1>
  [129] add ..................................... <tPos + 1>
  [130] setlocal 5 .............................. tPos = tPos + 1
  [132] getlocal 5 .............................. <tPos>
  [134] getlocal 3 .............................. <tSortedPlayers>
  [136] getobjprop 20 ........................... <tSortedPlayers.count>
  [138] gt ...................................... <tPos > tSortedPlayers.count>
  [139] jmpifz [145] ............................ if tPos > tSortedPlayers.count then
  [142] jmp [147] ............................... exit repeat
  [145] endrepeat [ 85]
  [147] getlocal 3 .............................. <tSortedPlayers>
  [149] getlocal 5 .............................. <tPos>
  [151] pushsymb 88 ............................. <#id>
  [153] getparam 1 .............................. <tdata>
  [155] pushsymb 146 ............................ <#players>
  [157] pusharglist 2 ........................... <tdata, #players>
  [159] objcall 18 .............................. <tdata[#players]>
  [161] getlocal 4 .............................. <tPlayerNum>
  [163] pusharglist 2 ........................... <tdata[#players], tPlayerNum>
  [165] objcall 500 ............................. <tdata[#players].getPropAt(tPlayerNum)>
  [168] pushsymb 224 ............................ <#name>
  [170] getparam 1 .............................. <tdata>
  [172] pushsymb 146 ............................ <#players>
  [174] pusharglist 2 ........................... <tdata, #players>
  [176] objcall 18 .............................. <tdata[#players]>
  [178] getlocal 4 .............................. <tPlayerNum>
  [180] pusharglist 2 ........................... <tdata[#players], tPlayerNum>
  [182] objcall 18 .............................. <tdata[#players][tPlayerNum]>
  [184] pushsymb 224 ............................ <#name>
  [186] pusharglist 2 ........................... <tdata[#players][tPlayerNum], #name>
  [188] objcall 18 .............................. <tdata[#players][tPlayerNum][#name]>
  [190] pushsymb 501 ............................ <#score>
  [193] getparam 1 .............................. <tdata>
  [195] pushsymb 146 ............................ <#players>
  [197] pusharglist 2 ........................... <tdata, #players>
  [199] objcall 18 .............................. <tdata[#players]>
  [201] getlocal 4 .............................. <tPlayerNum>
  [203] pusharglist 2 ........................... <tdata[#players], tPlayerNum>
  [205] objcall 18 .............................. <tdata[#players][tPlayerNum]>
  [207] pushsymb 501 ............................ <#score>
  [210] pusharglist 2 ........................... <tdata[#players][tPlayerNum], #score>
  [212] objcall 18 .............................. <tdata[#players][tPlayerNum][#score]>
  [214] pusharglist 6 ........................... <[#id: tdata[#players].getPropAt(tPlayerNum), #name: tdata[#players][tPlayerNum][#name], #score: tdata[#players][tPlayerNum][#score]]>
  [216] pushproplist ............................ <[#id: tdata[#players].getPropAt(tPlayerNum), #name: tdata[#players][tPlayerNum][#name], #score: tdata[#players][tPlayerNum][#score]]>
  [217] pusharglistnoret 3 ...................... <tSortedPlayers, tPos, [#id: tdata[#players].getPropAt(tPlayerNum), #name: tdata[#players][tPlayerNum][#name], #score: tdata[#players][tPlayerNum][#score]]>
  [219] objcall 502 ............................. tSortedPlayers.addAt(tPos, [#id: tdata[#players].getPropAt(tPlayerNum), #name: tdata[#players][tPlayerNum][#name], #score: tdata[#players][tPlayerNum][#score]])
  [222] pushint8 1
  [224] getlocal 4
  [226] add
  [227] setlocal 4
  [229] endrepeat [ 56]
  [231] pushint8 1 .............................. <1>
  [233] setlocal 5 .............................. tPos = 1
  [235] getlocal 0 .............................. <tSortedTeams>
  [237] getobjprop 20 ........................... <tSortedTeams.count>
  [239] pushzero ................................ <0>
  [240] gt ...................................... <tSortedTeams.count > 0>
  [241] jmpifz [294] ............................ if tSortedTeams.count > 0 then
  [244] getlocal 0 .............................. <tSortedTeams>
  [246] getlocal 5 .............................. <tPos>
  [248] pusharglist 2 ........................... <tSortedTeams, tPos>
  [250] objcall 18 .............................. <tSortedTeams[tPos]>
  [252] pushsymb 501 ............................ <#score>
  [255] pusharglist 2 ........................... <tSortedTeams[tPos], #score>
  [257] objcall 18 .............................. <tSortedTeams[tPos][#score]>
  [259] getparam 1 .............................. <tdata>
  [261] pushsymb 501 ............................ <#score>
  [264] pusharglist 2 ........................... <tdata, #score>
  [266] objcall 18 .............................. <tdata[#score]>
  [268] gt ...................................... <tSortedTeams[tPos][#score] > tdata[#score]>
  [269] jmpifz [294] ............................ repeat while tSortedTeams[tPos][#score] > tdata[#score]
  [272] getlocal 5 .............................. <tPos>
  [274] pushint8 1 .............................. <1>
  [276] add ..................................... <tPos + 1>
  [277] setlocal 5 .............................. tPos = tPos + 1
  [279] getlocal 5 .............................. <tPos>
  [281] getlocal 0 .............................. <tSortedTeams>
  [283] getobjprop 20 ........................... <tSortedTeams.count>
  [285] gt ...................................... <tPos > tSortedTeams.count>
  [286] jmpifz [292] ............................ if tPos > tSortedTeams.count then
  [289] jmp [294] ............................... exit repeat
  [292] endrepeat [244]
  [294] getlocal 0 .............................. <tSortedTeams>
  [296] getlocal 5 .............................. <tPos>
  [298] pushsymb 501 ............................ <#score>
  [301] getparam 1 .............................. <tdata>
  [303] pushsymb 501 ............................ <#score>
  [306] pusharglist 2 ........................... <tdata, #score>
  [308] objcall 18 .............................. <tdata[#score]>
  [310] pushsymb 88 ............................. <#id>
  [312] getlocal 2 .............................. <tTeamId>
  [314] pushsymb 146 ............................ <#players>
  [316] getlocal 3 .............................. <tSortedPlayers>
  [318] pusharglist 6 ........................... <[#score: tdata[#score], #id: tTeamId, #players: tSortedPlayers]>
  [320] pushproplist ............................ <[#score: tdata[#score], #id: tTeamId, #players: tSortedPlayers]>
  [321] pusharglistnoret 3 ...................... <tSortedTeams, tPos, [#score: tdata[#score], #id: tTeamId, #players: tSortedPlayers]>
  [323] objcall 502 ............................. tSortedTeams.addAt(tPos, [#score: tdata[#score], #id: tTeamId, #players: tSortedPlayers])
  [326] pushint8 1
  [328] getlocal 2
  [330] add
  [331] setlocal 2
  [333] endrepeat [ 28]
  [336] getlocal 0 .............................. <tSortedTeams>
  [338] setprop 496 ............................. pScoreData = tSortedTeams
  [341] pushsymb 154 ............................ <#session>
  [343] pusharglist 1 ........................... <#session>
  [345] extcall 153 ............................. <getObject(#session)>
  [347] pushcons 15 ............................. <"user_game_index">
  [349] pusharglist 2 ........................... <getObject(#session), "user_game_index">
  [351] objcall 256 ............................. <getObject(#session).exists("user_game_index")>
  [354] jmpifz [371] ............................ if getObject(#session).exists("user_game_index") then
  [357] pushsymb 154 ............................ <#session>
  [359] pusharglist 1 ........................... <#session>
  [361] extcall 153 ............................. <getObject(#session)>
  [363] pushcons 15 ............................. <"user_game_index">
  [365] pusharglist 2 ........................... <getObject(#session), "user_game_index">
  [367] objcall 155 ............................. <getObject(#session).get("user_game_index")>
  [369] setlocal 6 .............................. tOwnId = getObject(#session).get("user_game_index")
  [371] pushzero ................................ <0>
  [372] setlocal 7 .............................. tOwnPlayerWins = 0
  [374] pusharglist 0 ........................... <[:]>
  [376] pushproplist ............................ <[:]>
  [377] setprop 1239 ............................ pPlayerData = [:]
  [380] pusharglist 0 ........................... <[:]>
  [382] pushproplist ............................ <[:]>
  [383] setprop 1244 ............................ pBestPlayer = [:]
  [386] pushint8 1 .............................. <1>
  [388] setlocal 8
  [390] getlocal 8
  [392] getlocal 1 .............................. <tTeamNum>
  [394] lteq
  [395] jmpifz [674] ............................ repeat with tTeamInfoCount = 1 to tTeamNum
  [398] getprop 496 ............................. <pScoreData>
  [401] getlocal 8 .............................. <tTeamInfoCount>
  [403] pusharglist 2 ........................... <pScoreData, tTeamInfoCount>
  [405] objcall 18 .............................. <pScoreData[tTeamInfoCount]>
  [407] setparam 1 .............................. tdata = pScoreData[tTeamInfoCount]
  [409] pushint8 1 .............................. <1>
  [411] setlocal 4
  [413] getlocal 4
  [415] getparam 1 .............................. <tdata>
  [417] pushsymb 146 ............................ <#players>
  [419] pusharglist 2 ........................... <tdata, #players>
  [421] objcall 18 .............................. <tdata[#players]>
  [423] getobjprop 20 ........................... <tdata[#players].count>
  [425] lteq
  [426] jmpifz [664] ............................ repeat with tPlayerNum = 1 to tdata[#players].count
  [429] getparam 1 .............................. <tdata>
  [431] pushsymb 146 ............................ <#players>
  [433] pusharglist 2 ........................... <tdata, #players>
  [435] objcall 18 .............................. <tdata[#players]>
  [437] getlocal 4 .............................. <tPlayerNum>
  [439] pusharglist 2 ........................... <tdata[#players], tPlayerNum>
  [441] objcall 18 .............................. <tdata[#players][tPlayerNum]>
  [443] pushsymb 88 ............................. <#id>
  [445] pusharglist 2 ........................... <tdata[#players][tPlayerNum], #id>
  [447] objcall 18 .............................. <tdata[#players][tPlayerNum][#id]>
  [449] pusharglist 1 ........................... <tdata[#players][tPlayerNum][#id]>
  [451] extcall 87 .............................. <string(tdata[#players][tPlayerNum][#id])>
  [453] setlocal 9 .............................. tPlayerId = string(tdata[#players][tPlayerNum][#id])
  [455] getparam 1 .............................. <tdata>
  [457] pushsymb 146 ............................ <#players>
  [459] pusharglist 2 ........................... <tdata, #players>
  [461] objcall 18 .............................. <tdata[#players]>
  [463] getlocal 4 .............................. <tPlayerNum>
  [465] pusharglist 2 ........................... <tdata[#players], tPlayerNum>
  [467] objcall 18 .............................. <tdata[#players][tPlayerNum]>
  [469] pushsymb 224 ............................ <#name>
  [471] pusharglist 2 ........................... <tdata[#players][tPlayerNum], #name>
  [473] objcall 18 .............................. <tdata[#players][tPlayerNum][#name]>
  [475] setlocal 10 ............................. tPlayerName = tdata[#players][tPlayerNum][#name]
  [477] getprop 1239 ............................ <pPlayerData>
  [480] getlocal 9 .............................. <tPlayerId>
  [482] getlocal 10 ............................. <tPlayerName>
  [484] pusharglistnoret 3 ...................... <pPlayerData, tPlayerId, tPlayerName>
  [486] objcall 23 .............................. pPlayerData.addProp(tPlayerId, tPlayerName)
  [488] getlocal 9 .............................. <tPlayerId>
  [490] getlocal 6 .............................. <tOwnId>
  [492] eq ...................................... <tPlayerId = tOwnId>
  [493] getlocal 8 .............................. <tTeamInfoCount>
  [495] pushint8 1 .............................. <1>
  [497] eq ...................................... <tTeamInfoCount = 1>
  [498] and ..................................... <(tPlayerId = tOwnId) and (tTeamInfoCount = 1)>
  [499] jmpifz [506] ............................ if (tPlayerId = tOwnId) and (tTeamInfoCount = 1) then
  [502] pushint8 1 .............................. <1>
  [504] setlocal 7 .............................. tOwnPlayerWins = 1
  [506] getparam 1 .............................. <tdata>
  [508] pushsymb 146 ............................ <#players>
  [510] pusharglist 2 ........................... <tdata, #players>
  [512] objcall 18 .............................. <tdata[#players]>
  [514] getlocal 4 .............................. <tPlayerNum>
  [516] pusharglist 2 ........................... <tdata[#players], tPlayerNum>
  [518] objcall 18 .............................. <tdata[#players][tPlayerNum]>
  [520] pushsymb 501 ............................ <#score>
  [523] pusharglist 2 ........................... <tdata[#players][tPlayerNum], #score>
  [525] objcall 18 .............................. <tdata[#players][tPlayerNum][#score]>
  [527] getprop 1244 ............................ <pBestPlayer>
  [530] pushsymb 501 ............................ <#score>
  [533] pusharglist 2 ........................... <pBestPlayer, #score>
  [535] objcall 18 .............................. <pBestPlayer[#score]>
  [537] gt ...................................... <tdata[#players][tPlayerNum][#score] > pBestPlayer[#score]>
  [538] jmpifz [608] ............................ if tdata[#players][tPlayerNum][#score] > pBestPlayer[#score] then
  [541] getprop 1244 ............................ <pBestPlayer>
  [544] pushsymb 1237 ........................... <#tie>
  [547] pushzero ................................ <0>
  [548] pusharglistnoret 3 ...................... <pBestPlayer, #tie, 0>
  [550] objcall 21 .............................. pBestPlayer[#tie] = 0
  [552] getprop 1244 ............................ <pBestPlayer>
  [555] pushsymb 88 ............................. <#id>
  [557] getlocal 9 .............................. <tPlayerId>
  [559] pusharglistnoret 3 ...................... <pBestPlayer, #id, tPlayerId>
  [561] objcall 21 .............................. pBestPlayer[#id] = tPlayerId
  [563] getprop 1244 ............................ <pBestPlayer>
  [566] pushsymb 224 ............................ <#name>
  [568] getlocal 10 ............................. <tPlayerName>
  [570] pusharglistnoret 3 ...................... <pBestPlayer, #name, tPlayerName>
  [572] objcall 21 .............................. pBestPlayer[#name] = tPlayerName
  [574] getprop 1244 ............................ <pBestPlayer>
  [577] pushsymb 501 ............................ <#score>
  [580] getparam 1 .............................. <tdata>
  [582] pushsymb 146 ............................ <#players>
  [584] pusharglist 2 ........................... <tdata, #players>
  [586] objcall 18 .............................. <tdata[#players]>
  [588] getlocal 4 .............................. <tPlayerNum>
  [590] pusharglist 2 ........................... <tdata[#players], tPlayerNum>
  [592] objcall 18 .............................. <tdata[#players][tPlayerNum]>
  [594] pushsymb 501 ............................ <#score>
  [597] pusharglist 2 ........................... <tdata[#players][tPlayerNum], #score>
  [599] objcall 18 .............................. <tdata[#players][tPlayerNum][#score]>
  [601] pusharglistnoret 3 ...................... <pBestPlayer, #score, tdata[#players][tPlayerNum][#score]>
  [603] objcall 21 .............................. pBestPlayer[#score] = tdata[#players][tPlayerNum][#score]
  [605] jmp [655] ............................... next repeat
  [608] getparam 1 .............................. <tdata>
  [610] pushsymb 146 ............................ <#players>
  [612] pusharglist 2 ........................... <tdata, #players>
  [614] objcall 18 .............................. <tdata[#players]>
  [616] getlocal 4 .............................. <tPlayerNum>
  [618] pusharglist 2 ........................... <tdata[#players], tPlayerNum>
  [620] objcall 18 .............................. <tdata[#players][tPlayerNum]>
  [622] pushsymb 501 ............................ <#score>
  [625] pusharglist 2 ........................... <tdata[#players][tPlayerNum], #score>
  [627] objcall 18 .............................. <tdata[#players][tPlayerNum][#score]>
  [629] getprop 1244 ............................ <pBestPlayer>
  [632] pushsymb 501 ............................ <#score>
  [635] pusharglist 2 ........................... <pBestPlayer, #score>
  [637] objcall 18 .............................. <pBestPlayer[#score]>
  [639] eq ...................................... <tdata[#players][tPlayerNum][#score] = pBestPlayer[#score]>
  [640] jmpifz [655] ............................ if tdata[#players][tPlayerNum][#score] = pBestPlayer[#score] then
  [643] getprop 1244 ............................ <pBestPlayer>
  [646] pushsymb 1237 ........................... <#tie>
  [649] pushint8 1 .............................. <1>
  [651] pusharglistnoret 3 ...................... <pBestPlayer, #tie, 1>
  [653] objcall 21 .............................. pBestPlayer[#tie] = 1
  [655] pushint8 1
  [657] getlocal 4
  [659] add
  [660] setlocal 4
  [662] endrepeat [413]
  [664] pushint8 1
  [666] getlocal 8
  [668] add
  [669] setlocal 8
  [671] endrepeat [390]
  [674] getprop 1244 ............................ <pBestPlayer>
  [677] pushsymb 1237 ........................... <#tie>
  [680] pusharglist 2 ........................... <pBestPlayer, #tie>
  [682] objcall 18 .............................. <pBestPlayer[#tie]>
  [684] jmpifz [702] ............................ if pBestPlayer[#tie] then / else
  [687] getparam 0 .............................. <me>
  [689] pushsymb 1329 ........................... <#soundeffect>
  [692] pushcons 16 ............................. <"LS-C64-win-1">
  [694] pusharglistnoret 3 ...................... <me, #soundeffect, "LS-C64-win-1">
  [696] objcall 600 ............................. me.sendGameSystemEvent(#soundeffect, "LS-C64-win-1")
  [699] jmp [759]
  [702] getprop 1244 ............................ <pBestPlayer>
  [705] pushsymb 172 ............................ <#image>
  [707] getparam 0 .............................. <me>
  [709] getprop 1244 ............................ <pBestPlayer>
  [712] pushsymb 88 ............................. <#id>
  [714] pusharglist 2 ........................... <pBestPlayer, #id>
  [716] objcall 18 .............................. <pBestPlayer[#id]>
  [718] pusharglist 2 ........................... <me, pBestPlayer[#id]>
  [720] objcall 1238 ............................ <me.getBestPlayerImage(pBestPlayer[#id])>
  [723] pusharglistnoret 3 ...................... <pBestPlayer, #image, me.getBestPlayerImage(pBestPlayer[#id])>
  [725] objcall 21 .............................. pBestPlayer[#image] = me.getBestPlayerImage(pBestPlayer[#id])
  [727] getlocal 7 .............................. <tOwnPlayerWins>
  [729] jmpifz [747] ............................ if tOwnPlayerWins then / else
  [732] getparam 0 .............................. <me>
  [734] pushsymb 1329 ........................... <#soundeffect>
  [737] pushcons 16 ............................. <"LS-C64-win-1">
  [739] pusharglistnoret 3 ...................... <me, #soundeffect, "LS-C64-win-1">
  [741] objcall 600 ............................. me.sendGameSystemEvent(#soundeffect, "LS-C64-win-1")
  [744] jmp [759]
  [747] getparam 0 .............................. <me>
  [749] pushsymb 1329 ........................... <#soundeffect>
  [752] pushcons 17 ............................. <"LS-C64-loose-1">
  [754] pusharglistnoret 3 ...................... <me, #soundeffect, "LS-C64-loose-1">
  [756] objcall 600 ............................. me.sendGameSystemEvent(#soundeffect, "LS-C64-loose-1")
  [759] pushint8 1 .............................. <1>
  [761] pusharglistnoret 1 ...................... <1>
  [763] extcall 13 .............................. return 1
  [765] ret
end

on renderFinalScoresText me
  [  0] getprop 391 ............................. <pWindowID>
  [  3] pusharglist 1 ........................... <pWindowID>
  [  5] extcall 403 ............................. <getWindow(pWindowID)>
  [  8] setlocal 0 .............................. tWndObj = getWindow(pWindowID)
  [ 10] getlocal 0 .............................. <tWndObj>
  [ 12] pushzero ................................ <0>
  [ 13] eq ...................................... <tWndObj = 0>
  [ 14] jmpifz [ 22] ............................ if tWndObj = 0 then
  [ 17] pushzero ................................ <0>
  [ 18] pusharglistnoret 1 ...................... <0>
  [ 20] extcall 13 .............................. return 0
  [ 22] getparam 0 .............................. <me>
  [ 24] pusharglist 1 ........................... <me>
  [ 26] objcall 24 .............................. <me.getGameSystem()>
  [ 28] pusharglist 1 ........................... <me.getGameSystem()>
  [ 30] objcall 152 ............................. <me.getGameSystem().getSpectatorModeFlag()>
  [ 32] jmpifz [ 91] ............................ if me.getGameSystem().getSpectatorModeFlag() then
  [ 35] pushcons 18 ............................. <"bb_button_playAgn">
  [ 37] pushcons 19 ............................. <"bb_button_leaveGam2">
  [ 39] pushcons 20 ............................. <"gs_button_buytickets">
  [ 41] pusharglist 3 ........................... <["bb_button_playAgn", "bb_button_leaveGam2", "gs_button_buytickets"]>
  [ 43] pushlist ................................ <["bb_button_playAgn", "bb_button_leaveGam2", "gs_button_buytickets"]>
  [ 44] peek 0
  [ 46] pusharglist 1
  [ 48] extcall 20
  [ 50] pushint8 1
  [ 52] peek 0
  [ 54] peek 2
  [ 56] lteq
  [ 57] jmpifz [ 89] ............................ repeat with tButtonID in ["bb_button_playAgn", "bb_button_leaveGam2", "gs_button_buytickets"]
  [ 60] peek 2
  [ 62] peek 1
  [ 64] pusharglist 2
  [ 66] extcall 18
  [ 68] setlocal 1
  [ 70] getlocal 0 .............................. <tWndObj>
  [ 72] getlocal 1 .............................. <tButtonID>
  [ 74] pusharglist 2 ........................... <tWndObj, tButtonID>
  [ 76] objcall 404 ............................. <tWndObj.getElement(tButtonID)>
  [ 79] pusharglistnoret 1 ...................... <tWndObj.getElement(tButtonID)>
  [ 81] objcall 405 ............................. tWndObj.getElement(tButtonID).hide()
  [ 84] pushint8 1
  [ 86] add
  [ 87] endrepeat [ 52]
  [ 89] pop 3
  [ 91] getprop 496 ............................. <pScoreData>
  [ 94] getobjprop 20 ........................... <pScoreData.count>
  [ 96] setlocal 2 .............................. tTeamNum = pScoreData.count
  [ 98] pushint8 1 .............................. <1>
  [100] setlocal 3
  [102] getlocal 3
  [104] getlocal 2 .............................. <tTeamNum>
  [106] lteq
  [107] jmpifz [273] ............................ repeat with tTeamInfoCount = 1 to tTeamNum
  [110] getprop 496 ............................. <pScoreData>
  [113] getlocal 3 .............................. <tTeamInfoCount>
  [115] pusharglist 2 ........................... <pScoreData, tTeamInfoCount>
  [117] objcall 18 .............................. <pScoreData[tTeamInfoCount]>
  [119] setlocal 4 .............................. tdata = pScoreData[tTeamInfoCount]
  [121] getlocal 4 .............................. <tdata>
  [123] pushsymb 88 ............................. <#id>
  [125] pusharglist 2 ........................... <tdata, #id>
  [127] objcall 18 .............................. <tdata[#id]>
  [129] setlocal 5 .............................. tTeamId = tdata[#id]
  [131] getlocal 0 .............................. <tWndObj>
  [133] pushcons 21 ............................. <"bb_win_bigScores_ball">
  [135] getlocal 3 .............................. <tTeamInfoCount>
  [137] joinstr ................................. <"bb_win_bigScores_ball" & tTeamInfoCount>
  [138] pusharglist 2 ........................... <tWndObj, "bb_win_bigScores_ball" & tTeamInfoCount>
  [140] objcall 404 ............................. <tWndObj.getElement("bb_win_bigScores_ball" & tTeamInfoCount)>
  [143] setlocal 6 .............................. tElem = tWndObj.getElement("bb_win_bigScores_ball" & tTeamInfoCount)
  [145] pushcons 22 ............................. <"bb_ico_ball">
  [147] getlocal 5 .............................. <tTeamId>
  [149] joinstr ................................. <"bb_ico_ball" & tTeamId>
  [150] pusharglist 1 ........................... <"bb_ico_ball" & tTeamId>
  [152] extcall 175 ............................. <getmemnum("bb_ico_ball" & tTeamId)>
  [154] pusharglist 1 ........................... <getmemnum("bb_ico_ball" & tTeamId)>
  [156] extcall 171 ............................. <member(getmemnum("bb_ico_ball" & tTeamId))>
  [158] getobjprop 172 .......................... <member(getmemnum("bb_ico_ball" & tTeamId)).image>
  [160] setlocal 7 .............................. tImage = member(getmemnum("bb_ico_ball" & tTeamId)).image
  [162] getlocal 6 .............................. <tElem>
  [164] pushzero ................................ <0>
  [165] nteq .................................... <tElem <> 0>
  [166] getlocal 7 .............................. <tImage>
  [168] pusharglist 0 ........................... <>
  [170] extcall 43 .............................. <VOID>
  [172] nteq .................................... <tImage <> VOID>
  [173] and ..................................... <(tElem <> 0) and (tImage <> VOID)>
  [174] jmpifz [186] ............................ if (tElem <> 0) and (tImage <> VOID) then
  [177] getlocal 6 .............................. <tElem>
  [179] getlocal 7 .............................. <tImage>
  [181] pusharglistnoret 2 ...................... <tElem, tImage>
  [183] objcall 507 ............................. tElem.feedImage(tImage)
  [186] getlocal 0 .............................. <tWndObj>
  [188] pushcons 23 ............................. <"bb_score_team">
  [190] getlocal 3 .............................. <tTeamInfoCount>
  [192] joinstr ................................. <"bb_score_team" & tTeamInfoCount>
  [193] pusharglist 2 ........................... <tWndObj, "bb_score_team" & tTeamInfoCount>
  [195] objcall 404 ............................. <tWndObj.getElement("bb_score_team" & tTeamInfoCount)>
  [198] setlocal 6 .............................. tElem = tWndObj.getElement("bb_score_team" & tTeamInfoCount)
  [200] getlocal 6 .............................. <tElem>
  [202] pushzero ................................ <0>
  [203] nteq .................................... <tElem <> 0>
  [204] jmpifz [223] ............................ if tElem <> 0 then
  [207] getlocal 6 .............................. <tElem>
  [209] getlocal 4 .............................. <tdata>
  [211] pushsymb 501 ............................ <#score>
  [214] pusharglist 2 ........................... <tdata, #score>
  [216] objcall 18 .............................. <tdata[#score]>
  [218] pusharglistnoret 2 ...................... <tElem, tdata[#score]>
  [220] objcall 414 ............................. tElem.setText(tdata[#score])
  [223] getparam 0 .............................. <me>
  [225] getlocal 4 .............................. <tdata>
  [227] pusharglist 2 ........................... <me, tdata>
  [229] objcall 472 ............................. <me.renderFinalScoreItem(tdata)>
  [232] setlocal 7 .............................. tImage = me.renderFinalScoreItem(tdata)
  [234] getlocal 0 .............................. <tWndObj>
  [236] pushcons 24 ............................. <"bb_area_scores">
  [238] getlocal 3 .............................. <tTeamInfoCount>
  [240] joinstr ................................. <"bb_area_scores" & tTeamInfoCount>
  [241] pusharglist 2 ........................... <tWndObj, "bb_area_scores" & tTeamInfoCount>
  [243] objcall 404 ............................. <tWndObj.getElement("bb_area_scores" & tTeamInfoCount)>
  [246] setlocal 6 .............................. tElem = tWndObj.getElement("bb_area_scores" & tTeamInfoCount)
  [248] getlocal 7 .............................. <tImage>
  [250] pushzero ................................ <0>
  [251] nteq .................................... <tImage <> 0>
  [252] jmpifz [264] ............................ if tImage <> 0 then
  [255] getlocal 6 .............................. <tElem>
  [257] getlocal 7 .............................. <tImage>
  [259] pusharglistnoret 2 ...................... <tElem, tImage>
  [261] objcall 507 ............................. tElem.feedImage(tImage)
  [264] pushint8 1
  [266] getlocal 3
  [268] add
  [269] setlocal 3
  [271] endrepeat [102]
  [273] getprop 1244 ............................ <pBestPlayer>
  [276] pushsymb 1237 ........................... <#tie>
  [279] pusharglist 2 ........................... <pBestPlayer, #tie>
  [281] objcall 18 .............................. <pBestPlayer[#tie]>
  [283] not ..................................... <not pBestPlayer[#tie]>
  [284] jmpifz [445] ............................ if not pBestPlayer[#tie] then / else
  [287] getprop 1244 ............................ <pBestPlayer>
  [290] pushsymb 172 ............................ <#image>
  [292] pusharglist 2 ........................... <pBestPlayer, #image>
  [294] objcall 18 .............................. <pBestPlayer[#image]>
  [296] pusharglist 0 ........................... <>
  [298] extcall 43 .............................. <VOID>
  [300] eq ...................................... <pBestPlayer[#image] = VOID>
  [301] jmpifz [336] ............................ if pBestPlayer[#image] = VOID then
  [304] getparam 0 .............................. <me>
  [306] pushcons 25 ............................. <"Best player image not found.">
  [308] pushsymb 471 ............................ <#renderFinalScoresText>
  [311] pusharglistnoret 3 ...................... <me, "Best player image not found.", #renderFinalScoresText>
  [313] extcall 19 .............................. error(me, "Best player image not found.", #renderFinalScoresText)
  [315] getprop 1244 ............................ <pBestPlayer>
  [318] pushsymb 172 ............................ <#image>
  [320] pushcons 26 ............................. <"guide_tie">
  [322] pusharglist 1 ........................... <"guide_tie">
  [324] extcall 175 ............................. <getmemnum("guide_tie")>
  [326] pusharglist 1 ........................... <getmemnum("guide_tie")>
  [328] extcall 171 ............................. <member(getmemnum("guide_tie"))>
  [330] getobjprop 172 .......................... <member(getmemnum("guide_tie")).image>
  [332] pusharglistnoret 3 ...................... <pBestPlayer, #image, member(getmemnum("guide_tie")).image>
  [334] objcall 21 .............................. pBestPlayer[#image] = member(getmemnum("guide_tie")).image
  [336] getlocal 0 .............................. <tWndObj>
  [338] pushcons 27 ............................. <"gs_bestplayer_name">
  [340] pusharglist 2 ........................... <tWndObj, "gs_bestplayer_name">
  [342] objcall 404 ............................. <tWndObj.getElement("gs_bestplayer_name")>
  [345] setlocal 6 .............................. tElem = tWndObj.getElement("gs_bestplayer_name")
  [347] getlocal 6 .............................. <tElem>
  [349] getprop 1244 ............................ <pBestPlayer>
  [352] pushsymb 224 ............................ <#name>
  [354] pusharglist 2 ........................... <pBestPlayer, #name>
  [356] objcall 18 .............................. <pBestPlayer[#name]>
  [358] pusharglistnoret 2 ...................... <tElem, pBestPlayer[#name]>
  [360] objcall 414 ............................. tElem.setText(pBestPlayer[#name])
  [363] getlocal 0 .............................. <tWndObj>
  [365] pushcons 28 ............................. <"gs_bestplayer_score">
  [367] pusharglist 2 ........................... <tWndObj, "gs_bestplayer_score">
  [369] objcall 404 ............................. <tWndObj.getElement("gs_bestplayer_score")>
  [372] setlocal 6 .............................. tElem = tWndObj.getElement("gs_bestplayer_score")
  [374] getlocal 6 .............................. <tElem>
  [376] getprop 1244 ............................ <pBestPlayer>
  [379] pushsymb 501 ............................ <#score>
  [382] pusharglist 2 ........................... <pBestPlayer, #score>
  [384] objcall 18 .............................. <pBestPlayer[#score]>
  [386] pusharglistnoret 2 ...................... <tElem, pBestPlayer[#score]>
  [388] objcall 414 ............................. tElem.setText(pBestPlayer[#score])
  [391] getlocal 0 .............................. <tWndObj>
  [393] pushcons 29 ............................. <"bb_icon_winner">
  [395] pusharglist 2 ........................... <tWndObj, "bb_icon_winner">
  [397] objcall 404 ............................. <tWndObj.getElement("bb_icon_winner")>
  [400] setlocal 6 .............................. tElem = tWndObj.getElement("bb_icon_winner")
  [402] getlocal 6 .............................. <tElem>
  [404] pushzero ................................ <0>
  [405] nteq .................................... <tElem <> 0>
  [406] getprop 1244 ............................ <pBestPlayer>
  [409] pushsymb 172 ............................ <#image>
  [411] pusharglist 2 ........................... <pBestPlayer, #image>
  [413] objcall 18 .............................. <pBestPlayer[#image]>
  [415] pusharglist 1 ........................... <pBestPlayer[#image]>
  [417] extcall 85 .............................. <ilk(pBestPlayer[#image])>
  [419] pushsymb 172 ............................ <#image>
  [421] eq ...................................... <ilk(pBestPlayer[#image]) = #image>
  [422] and ..................................... <(tElem <> 0) and (ilk(pBestPlayer[#image]) = #image)>
  [423] jmpifz [442] ............................ if (tElem <> 0) and (ilk(pBestPlayer[#image]) = #image) then
  [426] getlocal 6 .............................. <tElem>
  [428] getprop 1244 ............................ <pBestPlayer>
  [431] pushsymb 172 ............................ <#image>
  [433] pusharglist 2 ........................... <pBestPlayer, #image>
  [435] objcall 18 .............................. <pBestPlayer[#image]>
  [437] pusharglistnoret 2 ...................... <tElem, pBestPlayer[#image]>
  [439] objcall 507 ............................. tElem.feedImage(pBestPlayer[#image])
  [442] jmp [538]
  [445] pushcons 26 ............................. <"guide_tie">
  [447] pusharglist 1 ........................... <"guide_tie">
  [449] extcall 175 ............................. <getmemnum("guide_tie")>
  [451] pusharglist 1 ........................... <getmemnum("guide_tie")>
  [453] extcall 171 ............................. <member(getmemnum("guide_tie"))>
  [455] getobjprop 172 .......................... <member(getmemnum("guide_tie")).image>
  [457] setlocal 8 .............................. tPlayerImage = member(getmemnum("guide_tie")).image
  [459] getlocal 0 .............................. <tWndObj>
  [461] pushcons 29 ............................. <"bb_icon_winner">
  [463] pusharglist 2 ........................... <tWndObj, "bb_icon_winner">
  [465] objcall 404 ............................. <tWndObj.getElement("bb_icon_winner")>
  [468] setlocal 6 .............................. tElem = tWndObj.getElement("bb_icon_winner")
  [470] getlocal 6 .............................. <tElem>
  [472] pushzero ................................ <0>
  [473] nteq .................................... <tElem <> 0>
  [474] getlocal 8 .............................. <tPlayerImage>
  [476] pusharglist 1 ........................... <tPlayerImage>
  [478] extcall 85 .............................. <ilk(tPlayerImage)>
  [480] pushsymb 172 ............................ <#image>
  [482] eq ...................................... <ilk(tPlayerImage) = #image>
  [483] and ..................................... <(tElem <> 0) and (ilk(tPlayerImage) = #image)>
  [484] jmpifz [506] ............................ if (tElem <> 0) and (ilk(tPlayerImage) = #image) then
  [487] getlocal 6 .............................. <tElem>
  [489] pushzero ................................ <0>
  [490] pushint8 6 .............................. <6>
  [492] pusharglistnoret 3 ...................... <tElem, 0, 6>
  [494] objcall 509 ............................. tElem.moveBy(0, 6)
  [497] getlocal 6 .............................. <tElem>
  [499] getlocal 8 .............................. <tPlayerImage>
  [501] pusharglistnoret 2 ...................... <tElem, tPlayerImage>
  [503] objcall 507 ............................. tElem.feedImage(tPlayerImage)
  [506] getlocal 0 .............................. <tWndObj>
  [508] pushcons 30 ............................. <"gs_bestplayer_title">
  [510] pusharglist 2 ........................... <tWndObj, "gs_bestplayer_title">
  [512] objcall 404 ............................. <tWndObj.getElement("gs_bestplayer_title")>
  [515] setlocal 6 .............................. tElem = tWndObj.getElement("gs_bestplayer_title")
  [517] getlocal 6 .............................. <tElem>
  [519] pushzero ................................ <0>
  [520] nteq .................................... <tElem <> 0>
  [521] jmpifz [538] ............................ if tElem <> 0 then
  [524] getlocal 6 .............................. <tElem>
  [526] pushcons 31 ............................. <"gs_score_tie">
  [528] pusharglist 1 ........................... <"gs_score_tie">
  [530] extcall 392 ............................. <getText("gs_score_tie")>
  [533] pusharglistnoret 2 ...................... <tElem, getText("gs_score_tie")>
  [535] objcall 414 ............................. tElem.setText(getText("gs_score_tie"))
  [538] pushint8 1 .............................. <1>
  [540] pusharglistnoret 1 ...................... <1>
  [542] extcall 13 .............................. return 1
  [544] ret
end

on getBestPlayerImage me, tUserID
  [  0] getparam 0 .............................. <me>
  [  2] pusharglist 1 ........................... <me>
  [  4] objcall 24 .............................. <me.getGameSystem()>
  [  6] getparam 1 .............................. <tUserID>
  [  8] pusharglist 1 ........................... <tUserID>
  [ 10] extcall 87 .............................. <string(tUserID)>
  [ 12] pusharglist 2 ........................... <me.getGameSystem(), string(tUserID)>
  [ 14] objcall 130 ............................. <me.getGameSystem().getGameObject(string(tUserID))>
  [ 16] setlocal 0 .............................. tUserGameObj = me.getGameSystem().getGameObject(string(tUserID))
  [ 18] getlocal 0 .............................. <tUserGameObj>
  [ 20] pushzero ................................ <0>
  [ 21] eq ...................................... <tUserGameObj = 0>
  [ 22] jmpifz [ 43] ............................ if tUserGameObj = 0 then
  [ 25] getparam 0 .............................. <me>
  [ 27] pushcons 32 ............................. <"Winning player's userobject not found in room, id:">
  [ 29] getparam 1 .............................. <tUserID>
  [ 31] joinpadstr .............................. <"Winning player's userobject not found in room, id:" && tUserID>
  [ 32] pushsymb 1238 ........................... <#getBestPlayerImage>
  [ 35] pusharglist 3 ........................... <me, "Winning player's userobject not found in room, id:" && tUserID, #getBestPlayerImage>
  [ 37] extcall 19 .............................. <error(me, "Winning player's userobject not found in room, id:" && tUserID, #getBestPlayerImage)>
  [ 39] pusharglistnoret 1 ...................... <error(me, "Winning player's userobject not found in room, id:" && tUserID, #getBestPlayerImage)>
  [ 41] extcall 13 .............................. return error(me, "Winning player's userobject not found in room, id:" && tUserID, #getBestPlayerImage)
  [ 43] getlocal 0 .............................. <tUserGameObj>
  [ 45] pusharglist 1 ........................... <tUserGameObj>
  [ 47] objcall 54 .............................. <tUserGameObj.getRoomObjectImage()>
  [ 49] setlocal 1 .............................. tTempImage = tUserGameObj.getRoomObjectImage()
  [ 51] getlocal 1 .............................. <tTempImage>
  [ 53] getobjprop 85 ........................... <tTempImage.ilk>
  [ 55] pushsymb 172 ............................ <#image>
  [ 57] nteq .................................... <tTempImage.ilk <> #image>
  [ 58] jmpifz [ 76] ............................ if tTempImage.ilk <> #image then
  [ 61] getparam 0 .............................. <me>
  [ 63] pushcons 33 ............................. <"Cannot render winning player's image!">
  [ 65] pushsymb 1238 ........................... <#getBestPlayerImage>
  [ 68] pusharglist 3 ........................... <me, "Cannot render winning player's image!", #getBestPlayerImage>
  [ 70] extcall 19 .............................. <error(me, "Cannot render winning player's image!", #getBestPlayerImage)>
  [ 72] pusharglistnoret 1 ...................... <error(me, "Cannot render winning player's image!", #getBestPlayerImage)>
  [ 74] extcall 13 .............................. return error(me, "Cannot render winning player's image!", #getBestPlayerImage)
  [ 76] pushsymb 215 ............................ <#bitmap>
  [ 78] pushcons 34 ............................. <"bin">
  [ 80] pusharglist 1 ........................... <"bin">
  [ 82] extcall 1006 ............................ <castLib("bin")>
  [ 85] pusharglist 2 ........................... <#bitmap, castLib("bin")>
  [ 87] extcall 801 ............................. <new(#bitmap, castLib("bin"))>
  [ 90] setlocal 2 .............................. n = new(#bitmap, castLib("bin"))
  [ 92] getlocal 2 .............................. <n>
  [ 94] getlocal 1 .............................. <tTempImage>
  [ 96] pusharglist 1 ........................... <tTempImage>
  [ 98] objcall 15 .............................. <tTempImage.duplicate()>
  [100] setobjprop 172 .......................... n.image = tTempImage.duplicate()
  [102] getlocal 1 .............................. <tTempImage>
  [104] getobjprop 218 .......................... <tTempImage.width>
  [106] getlocal 1 .............................. <tTempImage>
  [108] getobjprop 205 .......................... <tTempImage.height>
  [110] pushint8 32 ............................. <32>
  [112] pusharglist 3 ........................... <tTempImage.width, tTempImage.height, 32>
  [114] extcall 172 ............................. <image(tTempImage.width, tTempImage.height, 32)>
  [116] setlocal 3 .............................. tPlayerImage = image(tTempImage.width, tTempImage.height, 32)
  [118] getlocal 3 .............................. <tPlayerImage>
  [120] getlocal 1 .............................. <tTempImage>
  [122] getlocal 1 .............................. <tTempImage>
  [124] getobjprop 177 .......................... <tTempImage.rect>
  [126] pushint8 7 .............................. <7>
  [128] pushint8 7 .............................. <7>
  [130] inv ..................................... <-7>
  [131] pushint8 7 .............................. <7>
  [133] pushint8 7 .............................. <7>
  [135] inv ..................................... <-7>
  [136] pusharglist 4 ........................... <7, -7, 7, -7>
  [138] extcall 177 ............................. <rect(7, -7, 7, -7)>
  [140] add ..................................... <tTempImage.rect + rect(7, -7, 7, -7)>
  [141] getlocal 1 .............................. <tTempImage>
  [143] getobjprop 177 .......................... <tTempImage.rect>
  [145] pusharglistnoret 4 ...................... <tPlayerImage, tTempImage, tTempImage.rect + rect(7, -7, 7, -7), tTempImage.rect>
  [147] objcall 198 ............................. tPlayerImage.copyPixels(tTempImage, tTempImage.rect + rect(7, -7, 7, -7), tTempImage.rect)
  [149] getlocal 3 .............................. <tPlayerImage>
  [151] pusharglistnoret 1 ...................... <tPlayerImage>
  [153] extcall 13 .............................. return tPlayerImage
  [155] ret
end

on renderFinalScoreItem me, tTeam
  [  0] getparam 0 .............................. <me>
  [  2] pusharglist 1 ........................... <me>
  [  4] objcall 24 .............................. <me.getGameSystem()>
  [  6] setlocal 0 .............................. tGameSystem = me.getGameSystem()
  [  8] getlocal 0 .............................. <tGameSystem>
  [ 10] pushzero ................................ <0>
  [ 11] eq ...................................... <tGameSystem = 0>
  [ 12] jmpifz [ 20] ............................ if tGameSystem = 0 then
  [ 15] pushzero ................................ <0>
  [ 16] pusharglistnoret 1 ...................... <0>
  [ 18] extcall 13 .............................. return 0
  [ 20] pushcons 35 ............................. <EMPTY>
  [ 22] setlocal 1 .............................. tNameTxt = EMPTY
  [ 24] pushcons 35 ............................. <EMPTY>
  [ 26] setlocal 2 .............................. tScoreTxt = EMPTY
  [ 28] pushint16 165 ........................... <165>
  [ 31] getparam 1 .............................. <tTeam>
  [ 33] pushsymb 146 ............................ <#players>
  [ 35] pusharglist 2 ........................... <tTeam, #players>
  [ 37] objcall 18 .............................. <tTeam[#players]>
  [ 39] getobjprop 20 ........................... <tTeam[#players].count>
  [ 41] pushint8 16 ............................. <16>
  [ 43] mul ..................................... <tTeam[#players].count * 16>
  [ 44] pushint8 32 ............................. <32>
  [ 46] pusharglist 3 ........................... <165, tTeam[#players].count * 16, 32>
  [ 48] extcall 172 ............................. <image(165, tTeam[#players].count * 16, 32)>
  [ 50] setlocal 3 .............................. tImage = image(165, tTeam[#players].count * 16, 32)
  [ 52] pushint8 1 .............................. <1>
  [ 54] setlocal 4
  [ 56] getlocal 4
  [ 58] getparam 1 .............................. <tTeam>
  [ 60] pushsymb 146 ............................ <#players>
  [ 62] pusharglist 2 ........................... <tTeam, #players>
  [ 64] objcall 18 .............................. <tTeam[#players]>
  [ 66] getobjprop 20 ........................... <tTeam[#players].count>
  [ 68] lteq
  [ 69] jmpifz [151] ............................ repeat with tPlayerNum = 1 to tTeam[#players].count
  [ 72] getlocal 2 .............................. <tScoreTxt>
  [ 74] getparam 1 .............................. <tTeam>
  [ 76] pushsymb 146 ............................ <#players>
  [ 78] pusharglist 2 ........................... <tTeam, #players>
  [ 80] objcall 18 .............................. <tTeam[#players]>
  [ 82] getlocal 4 .............................. <tPlayerNum>
  [ 84] pusharglist 2 ........................... <tTeam[#players], tPlayerNum>
  [ 86] objcall 18 .............................. <tTeam[#players][tPlayerNum]>
  [ 88] pushsymb 501 ............................ <#score>
  [ 91] pusharglist 2 ........................... <tTeam[#players][tPlayerNum], #score>
  [ 93] objcall 18 .............................. <tTeam[#players][tPlayerNum][#score]>
  [ 95] joinstr ................................. <tScoreTxt & tTeam[#players][tPlayerNum][#score]>
  [ 96] pushcons 36 ............................. <RETURN>
  [ 98] joinstr ................................. <tScoreTxt & tTeam[#players][tPlayerNum][#score] & RETURN>
  [ 99] setlocal 2 .............................. tScoreTxt = tScoreTxt & tTeam[#players][tPlayerNum][#score] & RETURN
  [101] getlocal 1 .............................. <tNameTxt>
  [103] getlocal 0 .............................. <tGameSystem>
  [105] getparam 1 .............................. <tTeam>
  [107] pushsymb 146 ............................ <#players>
  [109] pusharglist 2 ........................... <tTeam, #players>
  [111] objcall 18 .............................. <tTeam[#players]>
  [113] getlocal 4 .............................. <tPlayerNum>
  [115] pusharglist 2 ........................... <tTeam[#players], tPlayerNum>
  [117] objcall 18 .............................. <tTeam[#players][tPlayerNum]>
  [119] pushsymb 88 ............................. <#id>
  [121] pusharglist 2 ........................... <tTeam[#players][tPlayerNum], #id>
  [123] objcall 18 .............................. <tTeam[#players][tPlayerNum][#id]>
  [125] pusharglist 1 ........................... <tTeam[#players][tPlayerNum][#id]>
  [127] extcall 87 .............................. <string(tTeam[#players][tPlayerNum][#id])>
  [129] pushsymb 224 ............................ <#name>
  [131] pusharglist 3 ........................... <tGameSystem, string(tTeam[#players][tPlayerNum][#id]), #name>
  [133] objcall 932 ............................. <tGameSystem.getGameObjectProperty(string(tTeam[#players][tPlayerNum][#id]), #name)>
  [136] joinstr ................................. <tNameTxt & tGameSystem.getGameObjectProperty(string(tTeam[#players][tPlayerNum][#id]), #name)>
  [137] pushcons 36 ............................. <RETURN>
  [139] joinstr ................................. <tNameTxt & tGameSystem.getGameObjectProperty(string(tTeam[#players][tPlayerNum][#id]), #name) & RETURN>
  [140] setlocal 1 .............................. tNameTxt = tNameTxt & tGameSystem.getGameObjectProperty(string(tTeam[#players][tPlayerNum][#id]), #name) & RETURN
  [142] pushint8 1
  [144] getlocal 4
  [146] add
  [147] setlocal 4
  [149] endrepeat [ 56]
  [151] pushzero ................................ <0>
  [152] setlocal 5 .............................. tOffset = 0
  [154] pushcons 37 ............................. <"bb_menu_nameandscore_voffset">
  [156] pusharglist 1 ........................... <"bb_menu_nameandscore_voffset">
  [158] extcall 516 ............................. <variableExists("bb_menu_nameandscore_voffset")>
  [161] jmpifz [173] ............................ if variableExists("bb_menu_nameandscore_voffset") then
  [164] pushcons 37 ............................. <"bb_menu_nameandscore_voffset">
  [166] pusharglist 1 ........................... <"bb_menu_nameandscore_voffset">
  [168] extcall 274 ............................. <getVariable("bb_menu_nameandscore_voffset")>
  [171] setlocal 5 .............................. tOffset = getVariable("bb_menu_nameandscore_voffset")
  [173] getprop 482 ............................. <pWriterPlainNormLeft>
  [176] getlocal 1 .............................. <tNameTxt>
  [178] pusharglist 2 ........................... <pWriterPlainNormLeft, tNameTxt>
  [180] objcall 161 ............................. <pWriterPlainNormLeft.render(tNameTxt)>
  [182] setlocal 6 .............................. tNameImage = pWriterPlainNormLeft.render(tNameTxt)
  [184] getlocal 3 .............................. <tImage>
  [186] getlocal 6 .............................. <tNameImage>
  [188] getlocal 6 .............................. <tNameImage>
  [190] getobjprop 177 .......................... <tNameImage.rect>
  [192] pushint8 6 .............................. <6>
  [194] pushint8 5 .............................. <5>
  [196] inv ..................................... <-5>
  [197] getlocal 5 .............................. <tOffset>
  [199] add ..................................... <-5 + tOffset>
  [200] pushint8 6 .............................. <6>
  [202] pushint8 5 .............................. <5>
  [204] inv ..................................... <-5>
  [205] getlocal 5 .............................. <tOffset>
  [207] add ..................................... <-5 + tOffset>
  [208] pusharglist 4 ........................... <6, -5 + tOffset, 6, -5 + tOffset>
  [210] extcall 177 ............................. <rect(6, -5 + tOffset, 6, -5 + tOffset)>
  [212] add ..................................... <tNameImage.rect + rect(6, -5 + tOffset, 6, -5 + tOffset)>
  [213] getlocal 6 .............................. <tNameImage>
  [215] getobjprop 177 .......................... <tNameImage.rect>
  [217] pusharglistnoret 4 ...................... <tImage, tNameImage, tNameImage.rect + rect(6, -5 + tOffset, 6, -5 + tOffset), tNameImage.rect>
  [219] objcall 198 ............................. tImage.copyPixels(tNameImage, tNameImage.rect + rect(6, -5 + tOffset, 6, -5 + tOffset), tNameImage.rect)
  [221] getprop 482 ............................. <pWriterPlainNormLeft>
  [224] getlocal 2 .............................. <tScoreTxt>
  [226] pusharglist 2 ........................... <pWriterPlainNormLeft, tScoreTxt>
  [228] objcall 161 ............................. <pWriterPlainNormLeft.render(tScoreTxt)>
  [230] setlocal 7 .............................. tScoreImage = pWriterPlainNormLeft.render(tScoreTxt)
  [232] getlocal 3 .............................. <tImage>
  [234] getlocal 7 .............................. <tScoreImage>
  [236] getlocal 7 .............................. <tScoreImage>
  [238] getobjprop 177 .......................... <tScoreImage.rect>
  [240] pushint16 130 ........................... <130>
  [243] pushint8 5 .............................. <5>
  [245] inv ..................................... <-5>
  [246] getlocal 5 .............................. <tOffset>
  [248] add ..................................... <-5 + tOffset>
  [249] pushint16 130 ........................... <130>
  [252] pushint8 5 .............................. <5>
  [254] inv ..................................... <-5>
  [255] getlocal 5 .............................. <tOffset>
  [257] add ..................................... <-5 + tOffset>
  [258] pusharglist 4 ........................... <130, -5 + tOffset, 130, -5 + tOffset>
  [260] extcall 177 ............................. <rect(130, -5 + tOffset, 130, -5 + tOffset)>
  [262] add ..................................... <tScoreImage.rect + rect(130, -5 + tOffset, 130, -5 + tOffset)>
  [263] getlocal 7 .............................. <tScoreImage>
  [265] getobjprop 177 .......................... <tScoreImage.rect>
  [267] pusharglistnoret 4 ...................... <tImage, tScoreImage, tScoreImage.rect + rect(130, -5 + tOffset, 130, -5 + tOffset), tScoreImage.rect>
  [269] objcall 198 ............................. tImage.copyPixels(tScoreImage, tScoreImage.rect + rect(130, -5 + tOffset, 130, -5 + tOffset), tScoreImage.rect)
  [271] getlocal 3 .............................. <tImage>
  [273] pusharglistnoret 1 ...................... <tImage>
  [275] extcall 13 .............................. return tImage
  [277] ret
end

on showJoinedPlayer me, tdata
  [  0] getparam 1 .............................. <tdata>
  [  2] pushsymb 88 ............................. <#id>
  [  4] pusharglist 2 ........................... <tdata, #id>
  [  6] objcall 18 .............................. <tdata[#id]>
  [  8] pusharglist 1 ........................... <tdata[#id]>
  [ 10] extcall 87 .............................. <string(tdata[#id])>
  [ 12] setlocal 0 .............................. tStrId = string(tdata[#id])
  [ 14] getlocal 0 .............................. <tStrId>
  [ 16] setlocal 1 .............................. tHumanId = tStrId
  [ 18] getparam 0 .............................. <me>
  [ 20] pusharglist 1 ........................... <me>
  [ 22] objcall 24 .............................. <me.getGameSystem()>
  [ 24] getlocal 0 .............................. <tStrId>
  [ 26] pushsymb 655 ............................ <#roomindex>
  [ 29] pusharglist 3 ........................... <me.getGameSystem(), tStrId, #roomindex>
  [ 31] objcall 932 ............................. <me.getGameSystem().getGameObjectProperty(tStrId, #roomindex)>
  [ 34] pusharglist 1 ........................... <me.getGameSystem().getGameObjectProperty(tStrId, #roomindex)>
  [ 36] extcall 87 .............................. <string(me.getGameSystem().getGameObjectProperty(tStrId, #roomindex))>
  [ 38] setlocal 2 .............................. tRoomIndex = string(me.getGameSystem().getGameObjectProperty(tStrId, #roomindex))
  [ 40] getprop 479 ............................. <pJoinedPlayers>
  [ 43] getlocal 2 .............................. <tRoomIndex>
  [ 45] pusharglist 2 ........................... <pJoinedPlayers, tRoomIndex>
  [ 47] objcall 524 ............................. <pJoinedPlayers.findPos(tRoomIndex)>
  [ 50] pushzero ................................ <0>
  [ 51] eq ...................................... <pJoinedPlayers.findPos(tRoomIndex) = 0>
  [ 52] jmpifz [ 71] ............................ if pJoinedPlayers.findPos(tRoomIndex) = 0 then
  [ 55] getprop 479 ............................. <pJoinedPlayers>
  [ 58] getlocal 2 .............................. <tRoomIndex>
  [ 60] pushcons 38 ............................. <"human_id">
  [ 62] getlocal 1 .............................. <tHumanId>
  [ 64] pusharglist 2 ........................... <["human_id": tHumanId]>
  [ 66] pushproplist ............................ <["human_id": tHumanId]>
  [ 67] pusharglistnoret 3 ...................... <pJoinedPlayers, tRoomIndex, ["human_id": tHumanId]>
  [ 69] objcall 23 .............................. pJoinedPlayers.addProp(tRoomIndex, ["human_id": tHumanId])
  [ 71] getparam 0 .............................. <me>
  [ 73] pushsymb 525 ............................ <#joined>
  [ 76] pushsymb 88 ............................. <#id>
  [ 78] getlocal 1 .............................. <tHumanId>
  [ 80] pusharglist 2 ........................... <[#id: tHumanId]>
  [ 82] pushproplist ............................ <[#id: tHumanId]>
  [ 83] pusharglistnoret 3 ...................... <me, #joined, [#id: tHumanId]>
  [ 85] objcall 475 ............................. me.showPlayerIcon(#joined, [#id: tHumanId])
  [ 88] getparam 0 .............................. <me>
  [ 90] pusharglistnoret 1 ...................... <me>
  [ 92] objcall 476 ............................. me.showJoinedPlayersNum()
  [ 95] pushint8 1 .............................. <1>
  [ 97] pusharglistnoret 1 ...................... <1>
  [ 99] extcall 13 .............................. return 1
  [101] ret
end

on showRemovedPlayer me, tRoomIndex
  [  0] getprop 479 ............................. <pJoinedPlayers>
  [  3] getparam 1 .............................. <tRoomIndex>
  [  5] pusharglist 2 ........................... <pJoinedPlayers, tRoomIndex>
  [  7] objcall 524 ............................. <pJoinedPlayers.findPos(tRoomIndex)>
  [ 10] pushzero ................................ <0>
  [ 11] eq ...................................... <pJoinedPlayers.findPos(tRoomIndex) = 0>
  [ 12] jmpifz [ 20] ............................ if pJoinedPlayers.findPos(tRoomIndex) = 0 then
  [ 15] pushzero ................................ <0>
  [ 16] pusharglistnoret 1 ...................... <0>
  [ 18] extcall 13 .............................. return 0
  [ 20] getprop 479 ............................. <pJoinedPlayers>
  [ 23] getparam 1 .............................. <tRoomIndex>
  [ 25] pusharglist 2 ........................... <pJoinedPlayers, tRoomIndex>
  [ 27] objcall 18 .............................. <pJoinedPlayers[tRoomIndex]>
  [ 29] pushcons 38 ............................. <"human_id">
  [ 31] pusharglist 2 ........................... <pJoinedPlayers[tRoomIndex], "human_id">
  [ 33] objcall 18 .............................. <pJoinedPlayers[tRoomIndex]["human_id"]>
  [ 35] setlocal 0 .............................. tHumanId = pJoinedPlayers[tRoomIndex]["human_id"]
  [ 37] getprop 479 ............................. <pJoinedPlayers>
  [ 40] getparam 1 .............................. <tRoomIndex>
  [ 42] pusharglistnoret 2 ...................... <pJoinedPlayers, tRoomIndex>
  [ 44] objcall 1170 ............................ pJoinedPlayers.deleteProp(tRoomIndex)
  [ 47] getparam 0 .............................. <me>
  [ 49] pushzero ................................ <0>
  [ 50] pushsymb 88 ............................. <#id>
  [ 52] getlocal 0 .............................. <tHumanId>
  [ 54] pusharglist 2 ........................... <[#id: tHumanId]>
  [ 56] pushproplist ............................ <[#id: tHumanId]>
  [ 57] pusharglistnoret 3 ...................... <me, 0, [#id: tHumanId]>
  [ 59] objcall 475 ............................. me.showPlayerIcon(0, [#id: tHumanId])
  [ 62] getparam 0 .............................. <me>
  [ 64] pusharglistnoret 1 ...................... <me>
  [ 66] objcall 476 ............................. me.showJoinedPlayersNum()
  [ 69] pushint8 1 .............................. <1>
  [ 71] pusharglistnoret 1 ...................... <1>
  [ 73] extcall 13 .............................. return 1
  [ 75] ret
end

on showPlayerIcon me, tIcon, tdata
  [  0] getprop 391 ............................. <pWindowID>
  [  3] pusharglist 1 ........................... <pWindowID>
  [  5] extcall 403 ............................. <getWindow(pWindowID)>
  [  8] setlocal 0 .............................. tWndObj = getWindow(pWindowID)
  [ 10] getlocal 0 .............................. <tWndObj>
  [ 12] pushzero ................................ <0>
  [ 13] eq ...................................... <tWndObj = 0>
  [ 14] jmpifz [ 22] ............................ if tWndObj = 0 then
  [ 17] pushzero ................................ <0>
  [ 18] pusharglistnoret 1 ...................... <0>
  [ 20] extcall 13 .............................. return 0
  [ 22] getparam 2 .............................. <tdata>
  [ 24] pushsymb 88 ............................. <#id>
  [ 26] pusharglist 2 ........................... <tdata, #id>
  [ 28] objcall 18 .............................. <tdata[#id]>
  [ 30] pusharglist 1 ........................... <tdata[#id]>
  [ 32] extcall 87 .............................. <string(tdata[#id])>
  [ 34] setlocal 1 .............................. tStrId = string(tdata[#id])
  [ 36] getprop 496 ............................. <pScoreData>
  [ 39] pusharglist 0 ........................... <>
  [ 41] extcall 43 .............................. <VOID>
  [ 43] eq ...................................... <pScoreData = VOID>
  [ 44] jmpifz [ 52] ............................ if pScoreData = VOID then
  [ 47] pushzero ................................ <0>
  [ 48] pusharglistnoret 1 ...................... <0>
  [ 50] extcall 13 .............................. return 0
  [ 52] pushint8 1 .............................. <1>
  [ 54] setlocal 2
  [ 56] getlocal 2
  [ 58] getprop 496 ............................. <pScoreData>
  [ 61] getobjprop 20 ........................... <pScoreData.count>
  [ 63] lteq
  [ 64] jmpifz [159] ............................ repeat with tTeamNum = 1 to pScoreData.count
  [ 67] pushint8 1 .............................. <1>
  [ 69] setlocal 3
  [ 71] getlocal 3
  [ 73] getprop 496 ............................. <pScoreData>
  [ 76] getlocal 2 .............................. <tTeamNum>
  [ 78] pusharglist 2 ........................... <pScoreData, tTeamNum>
  [ 80] objcall 18 .............................. <pScoreData[tTeamNum]>
  [ 82] pushsymb 146 ............................ <#players>
  [ 84] pusharglist 2 ........................... <pScoreData[tTeamNum], #players>
  [ 86] objcall 18 .............................. <pScoreData[tTeamNum][#players]>
  [ 88] getobjprop 20 ........................... <pScoreData[tTeamNum][#players].count>
  [ 90] lteq
  [ 91] jmpifz [150] ............................ repeat with tPlayerNum = 1 to pScoreData[tTeamNum][#players].count
  [ 94] getprop 496 ............................. <pScoreData>
  [ 97] getlocal 2 .............................. <tTeamNum>
  [ 99] pusharglist 2 ........................... <pScoreData, tTeamNum>
  [101] objcall 18 .............................. <pScoreData[tTeamNum]>
  [103] pushsymb 146 ............................ <#players>
  [105] pusharglist 2 ........................... <pScoreData[tTeamNum], #players>
  [107] objcall 18 .............................. <pScoreData[tTeamNum][#players]>
  [109] getlocal 3 .............................. <tPlayerNum>
  [111] pusharglist 2 ........................... <pScoreData[tTeamNum][#players], tPlayerNum>
  [113] objcall 18 .............................. <pScoreData[tTeamNum][#players][tPlayerNum]>
  [115] pushsymb 88 ............................. <#id>
  [117] pusharglist 2 ........................... <pScoreData[tTeamNum][#players][tPlayerNum], #id>
  [119] objcall 18 .............................. <pScoreData[tTeamNum][#players][tPlayerNum][#id]>
  [121] getparam 2 .............................. <tdata>
  [123] pushsymb 88 ............................. <#id>
  [125] pusharglist 2 ........................... <tdata, #id>
  [127] objcall 18 .............................. <tdata[#id]>
  [129] eq ...................................... <pScoreData[tTeamNum][#players][tPlayerNum][#id] = tdata[#id]>
  [130] jmpifz [141] ............................ if pScoreData[tTeamNum][#players][tPlayerNum][#id] = tdata[#id] then
  [133] getlocal 2 .............................. <tTeamNum>
  [135] setlocal 4 .............................. tMyTeamNum = tTeamNum
  [137] getlocal 3 .............................. <tPlayerNum>
  [139] setlocal 5 .............................. tMyPlayerNum = tPlayerNum
  [141] pushint8 1
  [143] getlocal 3
  [145] add
  [146] setlocal 3
  [148] endrepeat [ 71]
  [150] pushint8 1
  [152] getlocal 2
  [154] add
  [155] setlocal 2
  [157] endrepeat [ 56]
  [159] getlocal 0 .............................. <tWndObj>
  [161] pushcons 24 ............................. <"bb_area_scores">
  [163] getlocal 4 .............................. <tMyTeamNum>
  [165] joinstr ................................. <"bb_area_scores" & tMyTeamNum>
  [166] pusharglist 2 ........................... <tWndObj, "bb_area_scores" & tMyTeamNum>
  [168] objcall 404 ............................. <tWndObj.getElement("bb_area_scores" & tMyTeamNum)>
  [171] setlocal 6 .............................. tElem = tWndObj.getElement("bb_area_scores" & tMyTeamNum)
  [173] getlocal 6 .............................. <tElem>
  [175] pushzero ................................ <0>
  [176] eq ...................................... <tElem = 0>
  [177] jmpifz [185] ............................ if tElem = 0 then
  [180] pushzero ................................ <0>
  [181] pusharglistnoret 1 ...................... <0>
  [183] extcall 13 .............................. return 0
  [185] getlocal 6 .............................. <tElem>
  [187] pushsymb 172 ............................ <#image>
  [189] pusharglist 2 ........................... <tElem, #image>
  [191] objcall 423 ............................. <tElem.getProperty(#image)>
  [194] setlocal 7 .............................. tImage = tElem.getProperty(#image)
  [196] getparam 1 .............................. <tIcon>
  [198] pushsymb 525 ............................ <#joined>
  [201] eq ...................................... <tIcon = #joined>
  [202] jmpifz [222] ............................ if tIcon = #joined then / else
  [205] pushcons 39 ............................. <"bb_ico_star_lt">
  [207] pusharglist 1 ........................... <"bb_ico_star_lt">
  [209] extcall 175 ............................. <getmemnum("bb_ico_star_lt")>
  [211] pusharglist 1 ........................... <getmemnum("bb_ico_star_lt")>
  [213] extcall 171 ............................. <member(getmemnum("bb_ico_star_lt"))>
  [215] getobjprop 172 .......................... <member(getmemnum("bb_ico_star_lt")).image>
  [217] setlocal 8 .............................. tStarImg = member(getmemnum("bb_ico_star_lt")).image
  [219] jmp [234]
  [222] pushint8 11 ............................. <11>
  [224] pushint8 9 .............................. <9>
  [226] pushint8 8 .............................. <8>
  [228] pusharglist 3 ........................... <11, 9, 8>
  [230] extcall 172 ............................. <image(11, 9, 8)>
  [232] setlocal 8 .............................. tStarImg = image(11, 9, 8)
  [234] getlocal 7 .............................. <tImage>
  [236] getlocal 8 .............................. <tStarImg>
  [238] getlocal 8 .............................. <tStarImg>
  [240] getobjprop 177 .......................... <tStarImg.rect>
  [242] pushint8 109 ............................ <109>
  [244] pushint8 1 .............................. <1>
  [246] pushint8 16 ............................. <16>
  [248] getlocal 5 .............................. <tMyPlayerNum>
  [250] pushint8 1 .............................. <1>
  [252] sub ..................................... <tMyPlayerNum - 1>
  [253] mul ..................................... <16 * (tMyPlayerNum - 1)>
  [254] add ..................................... <1 + (16 * (tMyPlayerNum - 1))>
  [255] pushint8 109 ............................ <109>
  [257] pushint8 1 .............................. <1>
  [259] pushint8 16 ............................. <16>
  [261] getlocal 5 .............................. <tMyPlayerNum>
  [263] pushint8 1 .............................. <1>
  [265] sub ..................................... <tMyPlayerNum - 1>
  [266] mul ..................................... <16 * (tMyPlayerNum - 1)>
  [267] add ..................................... <1 + (16 * (tMyPlayerNum - 1))>
  [268] pusharglist 4 ........................... <109, 1 + (16 * (tMyPlayerNum - 1)), 109, 1 + (16 * (tMyPlayerNum - 1))>
  [270] extcall 177 ............................. <rect(109, 1 + (16 * (tMyPlayerNum - 1)), 109, 1 + (16 * (tMyPlayerNum - 1)))>
  [272] add ..................................... <tStarImg.rect + rect(109, 1 + (16 * (tMyPlayerNum - 1)), 109, 1 + (16 * (tMyPlayerNum - 1)))>
  [273] getlocal 8 .............................. <tStarImg>
  [275] getobjprop 177 .......................... <tStarImg.rect>
  [277] pusharglistnoret 4 ...................... <tImage, tStarImg, tStarImg.rect + rect(109, 1 + (16 * (tMyPlayerNum - 1)), 109, 1 + (16 * (tMyPlayerNum - 1))), tStarImg.rect>
  [279] objcall 198 ............................. tImage.copyPixels(tStarImg, tStarImg.rect + rect(109, 1 + (16 * (tMyPlayerNum - 1)), 109, 1 + (16 * (tMyPlayerNum - 1))), tStarImg.rect)
  [281] getlocal 6 .............................. <tElem>
  [283] getlocal 7 .............................. <tImage>
  [285] pusharglistnoret 2 ...................... <tElem, tImage>
  [287] objcall 507 ............................. tElem.feedImage(tImage)
  [290] pushint8 1 .............................. <1>
  [292] pusharglistnoret 1 ...................... <1>
  [294] extcall 13 .............................. return 1
  [296] ret
end

on showJoinedPlayers me
  [  0] getprop 479 ............................. <pJoinedPlayers>
  [  3] pusharglist 1 ........................... <pJoinedPlayers>
  [  5] extcall 150 ............................. <listp(pJoinedPlayers)>
  [  7] not ..................................... <not listp(pJoinedPlayers)>
  [  8] jmpifz [ 17] ............................ if not listp(pJoinedPlayers) then
  [ 11] pushint8 1 .............................. <1>
  [ 13] pusharglistnoret 1 ...................... <1>
  [ 15] extcall 13 .............................. return 1
  [ 17] getprop 479 ............................. <pJoinedPlayers>
  [ 20] peek 0
  [ 22] pusharglist 1
  [ 24] extcall 20
  [ 26] pushint8 1
  [ 28] peek 0
  [ 30] peek 2
  [ 32] lteq
  [ 33] jmpifz [ 82] ............................ repeat with tPlayer in pJoinedPlayers
  [ 36] peek 2
  [ 38] peek 1
  [ 40] pusharglist 2
  [ 42] extcall 18
  [ 44] setlocal 0
  [ 46] getlocal 0 .............................. <tPlayer>
  [ 48] pushcons 38 ............................. <"human_id">
  [ 50] pusharglist 2 ........................... <tPlayer, "human_id">
  [ 52] objcall 18 .............................. <tPlayer["human_id"]>
  [ 54] pusharglist 1 ........................... <tPlayer["human_id"]>
  [ 56] extcall 87 .............................. <string(tPlayer["human_id"])>
  [ 58] setlocal 1 .............................. tHumanId = string(tPlayer["human_id"])
  [ 60] getparam 0 .............................. <me>
  [ 62] pushsymb 525 ............................ <#joined>
  [ 65] pushsymb 88 ............................. <#id>
  [ 67] getlocal 1 .............................. <tHumanId>
  [ 69] pusharglist 2 ........................... <[#id: tHumanId]>
  [ 71] pushproplist ............................ <[#id: tHumanId]>
  [ 72] pusharglistnoret 3 ...................... <me, #joined, [#id: tHumanId]>
  [ 74] objcall 475 ............................. me.showPlayerIcon(#joined, [#id: tHumanId])
  [ 77] pushint8 1
  [ 79] add
  [ 80] endrepeat [ 28]
  [ 82] pop 3
  [ 84] pushint8 1 .............................. <1>
  [ 86] pusharglistnoret 1 ...................... <1>
  [ 88] extcall 13 .............................. return 1
  [ 90] ret
end

on showJoinedPlayersNum me
  [  0] getprop 391 ............................. <pWindowID>
  [  3] pusharglist 1 ........................... <pWindowID>
  [  5] extcall 403 ............................. <getWindow(pWindowID)>
  [  8] setlocal 0 .............................. tWndObj = getWindow(pWindowID)
  [ 10] getlocal 0 .............................. <tWndObj>
  [ 12] pushzero ................................ <0>
  [ 13] eq ...................................... <tWndObj = 0>
  [ 14] jmpifz [ 22] ............................ if tWndObj = 0 then
  [ 17] pushzero ................................ <0>
  [ 18] pusharglistnoret 1 ...................... <0>
  [ 20] extcall 13 .............................. return 0
  [ 22] getlocal 0 .............................. <tWndObj>
  [ 24] pushcons 40 ............................. <"gs_joinedplayers">
  [ 26] pusharglist 2 ........................... <tWndObj, "gs_joinedplayers">
  [ 28] objcall 404 ............................. <tWndObj.getElement("gs_joinedplayers")>
  [ 31] setlocal 1 .............................. tElem = tWndObj.getElement("gs_joinedplayers")
  [ 33] getlocal 1 .............................. <tElem>
  [ 35] pushzero ................................ <0>
  [ 36] eq ...................................... <tElem = 0>
  [ 37] jmpifz [ 45] ............................ if tElem = 0 then
  [ 40] pushzero ................................ <0>
  [ 41] pusharglistnoret 1 ...................... <0>
  [ 43] extcall 13 .............................. return 0
  [ 45] getlocal 1 .............................. <tElem>
  [ 47] pushcons 40 ............................. <"gs_joinedplayers">
  [ 49] pusharglist 1 ........................... <"gs_joinedplayers">
  [ 51] extcall 392 ............................. <getText("gs_joinedplayers")>
  [ 54] pushcons 41 ............................. <"\\x">
  [ 56] getprop 479 ............................. <pJoinedPlayers>
  [ 59] getobjprop 20 ........................... <pJoinedPlayers.count>
  [ 61] pusharglist 3 ........................... <getText("gs_joinedplayers"), "\\x", pJoinedPlayers.count>
  [ 63] extcall 456 ............................. <replaceChunks(getText("gs_joinedplayers"), "\\x", pJoinedPlayers.count)>
  [ 66] pusharglist 2 ........................... <tElem, replaceChunks(getText("gs_joinedplayers"), "\\x", pJoinedPlayers.count)>
  [ 68] objcall 414 ............................. <tElem.setText(replaceChunks(getText("gs_joinedplayers"), "\\x", pJoinedPlayers.count))>
  [ 71] pusharglistnoret 1 ...................... <tElem.setText(replaceChunks(getText("gs_joinedplayers"), "\\x", pJoinedPlayers.count))>
  [ 73] extcall 13 .............................. return tElem.setText(replaceChunks(getText("gs_joinedplayers"), "\\x", pJoinedPlayers.count))
  [ 75] ret
end

on startResetCountdown me, tSecondsLeft
  [  0] getparam 1 .............................. <tSecondsLeft>
  [  2] pushzero ................................ <0>
  [  3] lteq .................................... <tSecondsLeft <= 0>
  [  4] jmpifz [ 12] ............................ if tSecondsLeft <= 0 then
  [  7] pushzero ................................ <0>
  [  8] pusharglistnoret 1 ...................... <0>
  [ 10] extcall 13 .............................. return 0
  [ 12] getmovieprop 304 ........................ <the milliSeconds>
  [ 15] getparam 1 .............................. <tSecondsLeft>
  [ 17] pushint16 1000 .......................... <1000>
  [ 20] mul ..................................... <tSecondsLeft * 1000>
  [ 21] add ..................................... <the milliSeconds + (tSecondsLeft * 1000)>
  [ 22] setprop 498 ............................. pCountdownEndTime = the milliSeconds + (tSecondsLeft * 1000)
  [ 25] getprop 393 ............................. <pTimeOutID>
  [ 28] pusharglist 1 ........................... <pTimeOutID>
  [ 30] extcall 432 ............................. <timeoutExists(pTimeOutID)>
  [ 33] jmpifz [ 44] ............................ if timeoutExists(pTimeOutID) then
  [ 36] getprop 393 ............................. <pTimeOutID>
  [ 39] pusharglistnoret 1 ...................... <pTimeOutID>
  [ 41] extcall 433 ............................. removeTimeout(pTimeOutID)
  [ 44] getprop 393 ............................. <pTimeOutID>
  [ 47] pushint16 1000 .......................... <1000>
  [ 50] pushsymb 478 ............................ <#renderCountdownTimer>
  [ 53] getparam 0 .............................. <me>
  [ 55] pusharglist 1 ........................... <me>
  [ 57] objcall 25 .............................. <me.getID()>
  [ 59] getprop 498 ............................. <pCountdownEndTime>
  [ 62] getparam 1 .............................. <tSecondsLeft>
  [ 64] pusharglistnoret 6 ...................... <pTimeOutID, 1000, #renderCountdownTimer, me.getID(), pCountdownEndTime, tSecondsLeft>
  [ 66] extcall 415 ............................. createTimeout(pTimeOutID, 1000, #renderCountdownTimer, me.getID(), pCountdownEndTime, tSecondsLeft)
  [ 69] getparam 0 .............................. <me>
  [ 71] pusharglistnoret 1 ...................... <me>
  [ 73] objcall 478 ............................. me.renderCountdownTimer()
  [ 76] pushint8 1 .............................. <1>
  [ 78] pusharglistnoret 1 ...................... <1>
  [ 80] extcall 13 .............................. return 1
  [ 82] ret
end

on convertToMinSec me, tTime
  [  0] getparam 1 .............................. <tTime>
  [  2] pushint32 60000 ......................... <60000>
  [  7] div ..................................... <tTime / 60000>
  [  8] setlocal 0 .............................. tMin = tTime / 60000
  [ 10] getparam 1 .............................. <tTime>
  [ 12] pushint32 60000 ......................... <60000>
  [ 17] mod ..................................... <tTime mod 60000>
  [ 18] pushint16 1000 .......................... <1000>
  [ 21] div ..................................... <tTime mod 60000 / 1000>
  [ 22] setlocal 1 .............................. tSec = tTime mod 60000 / 1000
  [ 24] getlocal 1 .............................. <tSec>
  [ 26] pushint8 10 ............................. <10>
  [ 28] lt ...................................... <tSec < 10>
  [ 29] jmpifz [ 39] ............................ if tSec < 10 then
  [ 32] pushcons 14 ............................. <"0">
  [ 34] getlocal 1 .............................. <tSec>
  [ 36] joinstr ................................. <"0" & tSec>
  [ 37] setlocal 1 .............................. tSec = "0" & tSec
  [ 39] getlocal 0 .............................. <tMin>
  [ 41] getlocal 1 .............................. <tSec>
  [ 43] pusharglist 2 ........................... <[tMin, tSec]>
  [ 45] pushlist ................................ <[tMin, tSec]>
  [ 46] pusharglistnoret 1 ...................... <[tMin, tSec]>
  [ 48] extcall 13 .............................. return [tMin, tSec]
  [ 50] ret
end

on renderCountdownTimer me
  [  0] getprop 498 ............................. <pCountdownEndTime>
  [  3] pushzero ................................ <0>
  [  4] eq ...................................... <pCountdownEndTime = 0>
  [  5] jmpifz [ 13] ............................ if pCountdownEndTime = 0 then
  [  8] pushzero ................................ <0>
  [  9] pusharglistnoret 1 ...................... <0>
  [ 11] extcall 13 .............................. return 0
  [ 13] getprop 498 ............................. <pCountdownEndTime>
  [ 16] setlocal 0 .............................. tEndTime = pCountdownEndTime
  [ 18] getprop 391 ............................. <pWindowID>
  [ 21] pusharglist 1 ........................... <pWindowID>
  [ 23] extcall 403 ............................. <getWindow(pWindowID)>
  [ 26] setlocal 1 .............................. tWndObj = getWindow(pWindowID)
  [ 28] getlocal 1 .............................. <tWndObj>
  [ 30] pushzero ................................ <0>
  [ 31] eq ...................................... <tWndObj = 0>
  [ 32] jmpifz [ 40] ............................ if tWndObj = 0 then
  [ 35] pushzero ................................ <0>
  [ 36] pusharglistnoret 1 ...................... <0>
  [ 38] extcall 13 .............................. return 0
  [ 40] getlocal 1 .............................. <tWndObj>
  [ 42] pushcons 42 ............................. <"bb_info_tmToJoin">
  [ 44] pusharglist 2 ........................... <tWndObj, "bb_info_tmToJoin">
  [ 46] objcall 404 ............................. <tWndObj.getElement("bb_info_tmToJoin")>
  [ 49] setlocal 2 .............................. tElem = tWndObj.getElement("bb_info_tmToJoin")
  [ 51] getlocal 2 .............................. <tElem>
  [ 53] pushzero ................................ <0>
  [ 54] eq ...................................... <tElem = 0>
  [ 55] jmpifz [ 63] ............................ if tElem = 0 then
  [ 58] pushzero ................................ <0>
  [ 59] pusharglistnoret 1 ...................... <0>
  [ 61] extcall 13 .............................. return 0
  [ 63] getlocal 0 .............................. <tEndTime>
  [ 65] getmovieprop 304 ........................ <the milliSeconds>
  [ 68] lt ...................................... <tEndTime < the milliSeconds>
  [ 69] jmpifz [ 77] ............................ if tEndTime < the milliSeconds then
  [ 72] pushzero ................................ <0>
  [ 73] pusharglistnoret 1 ...................... <0>
  [ 75] extcall 13 .............................. return 0
  [ 77] getparam 0 .............................. <me>
  [ 79] getlocal 0 .............................. <tEndTime>
  [ 81] getmovieprop 304 ........................ <the milliSeconds>
  [ 84] sub ..................................... <tEndTime - the milliSeconds>
  [ 85] pusharglist 2 ........................... <me, tEndTime - the milliSeconds>
  [ 87] objcall 441 ............................. <me.convertToMinSec(tEndTime - the milliSeconds)>
  [ 90] setlocal 3 .............................. tTime = me.convertToMinSec(tEndTime - the milliSeconds)
  [ 92] getlocal 3 .............................. <tTime>
  [ 94] pushint8 1 .............................. <1>
  [ 96] pusharglist 2 ........................... <tTime, 1>
  [ 98] objcall 18 .............................. <tTime[1]>
  [100] pushcons 43 ............................. <":">
  [102] joinstr ................................. <tTime[1] & ":">
  [103] getlocal 3 .............................. <tTime>
  [105] pushint8 2 .............................. <2>
  [107] pusharglist 2 ........................... <tTime, 2>
  [109] objcall 18 .............................. <tTime[2]>
  [111] joinstr ................................. <tTime[1] & ":" & tTime[2]>
  [112] setlocal 4 .............................. tTimeStr = tTime[1] & ":" & tTime[2]
  [114] getlocal 2 .............................. <tElem>
  [116] pushcons 44 ............................. <"gs_timetojoin">
  [118] pusharglist 1 ........................... <"gs_timetojoin">
  [120] extcall 392 ............................. <getText("gs_timetojoin")>
  [123] pushcons 41 ............................. <"\\x">
  [125] getlocal 4 .............................. <tTimeStr>
  [127] pusharglist 3 ........................... <getText("gs_timetojoin"), "\\x", tTimeStr>
  [129] extcall 456 ............................. <replaceChunks(getText("gs_timetojoin"), "\\x", tTimeStr)>
  [132] pusharglistnoret 2 ...................... <tElem, replaceChunks(getText("gs_timetojoin"), "\\x", tTimeStr)>
  [134] objcall 414 ............................. tElem.setText(replaceChunks(getText("gs_timetojoin"), "\\x", tTimeStr))
  [137] ret
end

on eventProc me, tEvent, tSprID, tParam
  [  0] getparam 2 .............................. <tSprID>
  [  2] peek 0 .................................. case tSprID of
  [  4] pushcons 18 ............................. <"bb_button_playAgn">
  [  6] eq
  [  7] jmpifz [ 42] ............................ (case) "bb_button_playAgn":
  [ 10] getparam 0 .............................. <me>
  [ 12] pusharglist 1 ........................... <me>
  [ 14] objcall 24 .............................. <me.getGameSystem()>
  [ 16] pushzero ................................ <0>
  [ 17] eq ...................................... <me.getGameSystem() = 0>
  [ 18] jmpifz [ 28] ............................ if me.getGameSystem() = 0 then
  [ 21] pop 1
  [ 23] pushzero ................................ <0>
  [ 24] pusharglistnoret 1 ...................... <0>
  [ 26] extcall 13 .............................. return 0
  [ 28] getparam 0 .............................. <me>
  [ 30] pusharglist 1 ........................... <me>
  [ 32] objcall 24 .............................. <me.getGameSystem()>
  [ 34] pusharglistnoret 1 ...................... <me.getGameSystem()>
  [ 36] objcall 532 ............................. me.getGameSystem().rejoinGame()
  [ 39] jmp [124]
  [ 42] peek 0
  [ 44] pushcons 19 ............................. <"bb_button_leaveGam2">
  [ 46] eq
  [ 47] jmpifz [ 82] ............................ (case) "bb_button_leaveGam2":
  [ 50] getparam 0 .............................. <me>
  [ 52] pusharglist 1 ........................... <me>
  [ 54] objcall 24 .............................. <me.getGameSystem()>
  [ 56] pushzero ................................ <0>
  [ 57] eq ...................................... <me.getGameSystem() = 0>
  [ 58] jmpifz [ 68] ............................ if me.getGameSystem() = 0 then
  [ 61] pop 1
  [ 63] pushzero ................................ <0>
  [ 64] pusharglistnoret 1 ...................... <0>
  [ 66] extcall 13 .............................. return 0
  [ 68] getparam 0 .............................. <me>
  [ 70] pusharglist 1 ........................... <me>
  [ 72] objcall 24 .............................. <me.getGameSystem()>
  [ 74] pusharglistnoret 1 ...................... <me.getGameSystem()>
  [ 76] objcall 436 ............................. me.getGameSystem().enterLounge()
  [ 79] jmp [124]
  [ 82] peek 0
  [ 84] pushcons 45 ............................. <"bb_link_shrink">
  [ 86] nteq
  [ 87] jmpifz [ 98] ............................ (case) "bb_link_shrink", ...
  [ 90] peek 0
  [ 92] pushcons 46 ............................. <"bb_link_expand">
  [ 94] eq
  [ 95] jmpifz [108] ............................ (case) ..., "bb_link_expand":
  [ 98] getparam 0 .............................. <me>
  [100] pusharglistnoret 1 ...................... <me>
  [102] objcall 467 ............................. me.toggleWindowMode()
  [105] jmp [124]
  [108] peek 0
  [110] pushcons 20 ............................. <"gs_button_buytickets">
  [112] eq
  [113] jmpifz [124] ............................ (case) "gs_button_buytickets":
  [116] pushsymb 534 ............................ <#show_ticketWindow>
  [119] pusharglistnoret 1 ...................... <#show_ticketWindow>
  [121] extcall 533 ............................. executeMessage(#show_ticketWindow)
  [124] pop 1 ................................... end case
  [126] ret
end
