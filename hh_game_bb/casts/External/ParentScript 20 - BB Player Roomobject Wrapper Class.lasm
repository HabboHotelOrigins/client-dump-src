property pRoomIndex, pRoomComponentObj

on construct me
  [  0] pushint8 1 .............................. <1>
  [  2] pusharglistnoret 1 ...................... <1>
  [  4] extcall 13 .............................. return 1
  [  6] ret
end

on deconstruct me
  [  0] getparam 0 .............................. <me>
  [  2] pusharglistnoret 1 ...................... <me>
  [  4] objcall 5 ............................... me.removeRoomObject()
  [  6] pusharglist 0 ........................... <>
  [  8] extcall 43 .............................. <VOID>
  [ 10] setprop 260 ............................. pRoomComponentObj = VOID
  [ 13] pushsymb 154 ............................ <#session>
  [ 15] pusharglist 1 ........................... <#session>
  [ 17] extcall 153 ............................. <getObject(#session)>
  [ 19] pushcons 0 .............................. <"user_index">
  [ 21] pusharglist 2 ........................... <getObject(#session), "user_index">
  [ 23] objcall 256 ............................. <getObject(#session).exists("user_index")>
  [ 26] not ..................................... <not getObject(#session).exists("user_index")>
  [ 27] jmpifz [ 36] ............................ if not getObject(#session).exists("user_index") then
  [ 30] pushint8 1 .............................. <1>
  [ 32] pusharglistnoret 1 ...................... <1>
  [ 34] extcall 13 .............................. return 1
  [ 36] getprop 261 ............................. <pRoomIndex>
  [ 39] pushsymb 154 ............................ <#session>
  [ 41] pusharglist 1 ........................... <#session>
  [ 43] extcall 153 ............................. <getObject(#session)>
  [ 45] pushcons 0 .............................. <"user_index">
  [ 47] pusharglist 2 ........................... <getObject(#session), "user_index">
  [ 49] objcall 155 ............................. <getObject(#session).get("user_index")>
  [ 51] eq ...................................... <pRoomIndex = getObject(#session).get("user_index")>
  [ 52] jmpifz [ 97] ............................ if pRoomIndex = getObject(#session).get("user_index") then
  [ 55] pushsymb 154 ............................ <#session>
  [ 57] pusharglist 1 ........................... <#session>
  [ 59] extcall 153 ............................. <getObject(#session)>
  [ 61] pushcons 0 .............................. <"user_index">
  [ 63] pusharglistnoret 2 ...................... <getObject(#session), "user_index">
  [ 65] objcall 262 ............................. getObject(#session).Remove("user_index")
  [ 68] pushsymb 154 ............................ <#session>
  [ 70] pusharglist 1 ........................... <#session>
  [ 72] extcall 153 ............................. <getObject(#session)>
  [ 74] pushcons 1 .............................. <"user_game_index">
  [ 76] pusharglist 2 ........................... <getObject(#session), "user_game_index">
  [ 78] objcall 256 ............................. <getObject(#session).exists("user_game_index")>
  [ 81] jmpifz [ 97] ............................ if getObject(#session).exists("user_game_index") then
  [ 84] pushsymb 154 ............................ <#session>
  [ 86] pusharglist 1 ........................... <#session>
  [ 88] extcall 153 ............................. <getObject(#session)>
  [ 90] pushcons 1 .............................. <"user_game_index">
  [ 92] pusharglistnoret 2 ...................... <getObject(#session), "user_game_index">
  [ 94] objcall 262 ............................. getObject(#session).Remove("user_game_index")
  [ 97] pushint8 1 .............................. <1>
  [ 99] pusharglistnoret 1 ...................... <1>
  [101] extcall 13 .............................. return 1
  [103] ret
end

on define me, tdata
  [  0] getparam 1 .............................. <tdata>
  [  2] pushsymb 263 ............................ <#room_index>
  [  5] getparam 1 .............................. <tdata>
  [  7] pushsymb 655 ............................ <#roomindex>
  [ 10] pusharglist 2 ........................... <tdata, #roomindex>
  [ 12] objcall 18 .............................. <tdata[#roomindex]>
  [ 14] pusharglistnoret 3 ...................... <tdata, #room_index, tdata[#roomindex]>
  [ 16] objcall 21 .............................. tdata[#room_index] = tdata[#roomindex]
  [ 18] getparam 1 .............................. <tdata>
  [ 20] pushsymb 263 ............................ <#room_index>
  [ 23] pusharglist 2 ........................... <tdata, #room_index>
  [ 25] objcall 18 .............................. <tdata[#room_index]>
  [ 27] pushzero ................................ <0>
  [ 28] lt ...................................... <tdata[#room_index] < 0>
  [ 29] jmpifz [ 49] ............................ if tdata[#room_index] < 0 then
  [ 32] getparam 0 .............................. <me>
  [ 34] pushcons 2 .............................. <"Invalid room index for avatar:">
  [ 36] getparam 1 .............................. <tdata>
  [ 38] joinpadstr .............................. <"Invalid room index for avatar:" && tdata>
  [ 39] pushsymb 2 .............................. <#define>
  [ 41] pusharglist 3 ........................... <me, "Invalid room index for avatar:" && tdata, #define>
  [ 43] extcall 19 .............................. <error(me, "Invalid room index for avatar:" && tdata, #define)>
  [ 45] pusharglistnoret 1 ...................... <error(me, "Invalid room index for avatar:" && tdata, #define)>
  [ 47] extcall 13 .............................. return error(me, "Invalid room index for avatar:" && tdata, #define)
  [ 49] getparam 1 .............................. <tdata>
  [ 51] pushsymb 263 ............................ <#room_index>
  [ 54] pusharglist 2 ........................... <tdata, #room_index>
  [ 56] objcall 18 .............................. <tdata[#room_index]>
  [ 58] pusharglist 1 ........................... <tdata[#room_index]>
  [ 60] extcall 87 .............................. <string(tdata[#room_index])>
  [ 62] setprop 261 ............................. pRoomIndex = string(tdata[#room_index])
  [ 65] getparam 1 .............................. <tdata>
  [ 67] pushsymb 224 ............................ <#name>
  [ 69] pusharglist 2 ........................... <tdata, #name>
  [ 71] objcall 18 .............................. <tdata[#name]>
  [ 73] pushsymb 154 ............................ <#session>
  [ 75] pusharglist 1 ........................... <#session>
  [ 77] extcall 153 ............................. <getObject(#session)>
  [ 79] pushsymb 264 ............................ <#userName>
  [ 82] pusharglist 2 ........................... <getObject(#session), #userName>
  [ 84] objcall 155 ............................. <getObject(#session).get(#userName)>
  [ 86] eq ...................................... <tdata[#name] = getObject(#session).get(#userName)>
  [ 87] jmpifz [125] ............................ if tdata[#name] = getObject(#session).get(#userName) then
  [ 90] pushsymb 154 ............................ <#session>
  [ 92] pusharglist 1 ........................... <#session>
  [ 94] extcall 153 ............................. <getObject(#session)>
  [ 96] pushcons 0 .............................. <"user_index">
  [ 98] getprop 261 ............................. <pRoomIndex>
  [101] pusharglistnoret 3 ...................... <getObject(#session), "user_index", pRoomIndex>
  [103] objcall 230 ............................. getObject(#session).set("user_index", pRoomIndex)
  [105] pushsymb 154 ............................ <#session>
  [107] pusharglist 1 ........................... <#session>
  [109] extcall 153 ............................. <getObject(#session)>
  [111] pushcons 1 .............................. <"user_game_index">
  [113] getparam 1 .............................. <tdata>
  [115] pushsymb 88 ............................. <#id>
  [117] pusharglist 2 ........................... <tdata, #id>
  [119] objcall 18 .............................. <tdata[#id]>
  [121] pusharglistnoret 3 ...................... <getObject(#session), "user_game_index", tdata[#id]>
  [123] objcall 230 ............................. getObject(#session).set("user_game_index", tdata[#id])
  [125] getparam 0 .............................. <me>
  [127] getparam 1 .............................. <tdata>
  [129] pusharglist 2 ........................... <me, tdata>
  [131] objcall 4 ............................... <me.createRoomObject(tdata)>
  [133] pusharglistnoret 1 ...................... <me.createRoomObject(tdata)>
  [135] extcall 13 .............................. return me.createRoomObject(tdata)
  [137] ret
end

on setLocation me, tdata
  [  0] getparam 0 .............................. <me>
  [  2] pusharglist 1 ........................... <me>
  [  4] objcall 45 .............................. <me.getRoomObject()>
  [  6] setlocal 0 .............................. tUserObject = me.getRoomObject()
  [  8] getlocal 0 .............................. <tUserObject>
  [ 10] pushzero ................................ <0>
  [ 11] eq ...................................... <tUserObject = 0>
  [ 12] jmpifz [ 20] ............................ if tUserObject = 0 then
  [ 15] pushzero ................................ <0>
  [ 16] pusharglistnoret 1 ...................... <0>
  [ 18] extcall 13 .............................. return 0
  [ 20] getparam 1 .............................. <tdata>
  [ 22] pusharglist 1 ........................... <tdata>
  [ 24] extcall 150 ............................. <listp(tdata)>
  [ 26] not ..................................... <not listp(tdata)>
  [ 27] jmpifz [ 35] ............................ if not listp(tdata) then
  [ 30] pushzero ................................ <0>
  [ 31] pusharglistnoret 1 ...................... <0>
  [ 33] extcall 13 .............................. return 0
  [ 35] getlocal 0 .............................. <tUserObject>
  [ 37] getparam 1 .............................. <tdata>
  [ 39] pushsymb 10 ............................. <#x>
  [ 41] pusharglist 2 ........................... <tdata, #x>
  [ 43] objcall 18 .............................. <tdata[#x]>
  [ 45] getparam 1 .............................. <tdata>
  [ 47] pushsymb 11 ............................. <#y>
  [ 49] pusharglist 2 ........................... <tdata, #y>
  [ 51] objcall 18 .............................. <tdata[#y]>
  [ 53] getparam 1 .............................. <tdata>
  [ 55] pushsymb 12 ............................. <#z>
  [ 57] pusharglist 2 ........................... <tdata, #z>
  [ 59] objcall 18 .............................. <tdata[#z]>
  [ 61] getparam 1 .............................. <tdata>
  [ 63] pushsymb 83 ............................. <#dirBody>
  [ 65] pusharglist 2 ........................... <tdata, #dirBody>
  [ 67] objcall 18 .............................. <tdata[#dirBody]>
  [ 69] getparam 1 .............................. <tdata>
  [ 71] pushsymb 83 ............................. <#dirBody>
  [ 73] pusharglist 2 ........................... <tdata, #dirBody>
  [ 75] objcall 18 .............................. <tdata[#dirBody]>
  [ 77] pusharglist 6 ........................... <tUserObject, tdata[#x], tdata[#y], tdata[#z], tdata[#dirBody], tdata[#dirBody]>
  [ 79] objcall 265 ............................. <tUserObject.resetValues(tdata[#x], tdata[#y], tdata[#z], tdata[#dirBody], tdata[#dirBody])>
  [ 82] pusharglistnoret 1 ...................... <tUserObject.resetValues(tdata[#x], tdata[#y], tdata[#z], tdata[#dirBody], tdata[#dirBody])>
  [ 84] extcall 13 .............................. return tUserObject.resetValues(tdata[#x], tdata[#y], tdata[#z], tdata[#dirBody], tdata[#dirBody])
  [ 86] ret
end

on setTarget me, tCurrentLoc, tNextLoc
  [  0] getparam 0 .............................. <me>
  [  2] pusharglist 1 ........................... <me>
  [  4] objcall 45 .............................. <me.getRoomObject()>
  [  6] setlocal 0 .............................. tUserObject = me.getRoomObject()
  [  8] getlocal 0 .............................. <tUserObject>
  [ 10] pushzero ................................ <0>
  [ 11] eq ...................................... <tUserObject = 0>
  [ 12] jmpifz [ 20] ............................ if tUserObject = 0 then
  [ 15] pushzero ................................ <0>
  [ 16] pusharglistnoret 1 ...................... <0>
  [ 18] extcall 13 .............................. return 0
  [ 20] getparam 2 .............................. <tNextLoc>
  [ 22] pusharglist 1 ........................... <tNextLoc>
  [ 24] extcall 150 ............................. <listp(tNextLoc)>
  [ 26] jmpifz [ 85] ............................ if listp(tNextLoc) then
  [ 29] pushcons 3 .............................. <"mv ">
  [ 31] getparam 2 .............................. <tNextLoc>
  [ 33] pushsymb 10 ............................. <#x>
  [ 35] pusharglist 2 ........................... <tNextLoc, #x>
  [ 37] objcall 18 .............................. <tNextLoc[#x]>
  [ 39] joinstr ................................. <"mv " & tNextLoc[#x]>
  [ 40] pushcons 4 .............................. <",">
  [ 42] joinstr ................................. <"mv " & tNextLoc[#x] & ",">
  [ 43] getparam 2 .............................. <tNextLoc>
  [ 45] pushsymb 11 ............................. <#y>
  [ 47] pusharglist 2 ........................... <tNextLoc, #y>
  [ 49] objcall 18 .............................. <tNextLoc[#y]>
  [ 51] joinstr ................................. <"mv " & tNextLoc[#x] & "," & tNextLoc[#y]>
  [ 52] pushcons 4 .............................. <",">
  [ 54] joinstr ................................. <"mv " & tNextLoc[#x] & "," & tNextLoc[#y] & ",">
  [ 55] getparam 2 .............................. <tNextLoc>
  [ 57] pushsymb 12 ............................. <#z>
  [ 59] pusharglist 2 ........................... <tNextLoc, #z>
  [ 61] objcall 18 .............................. <tNextLoc[#z]>
  [ 63] joinstr ................................. <"mv " & tNextLoc[#x] & "," & tNextLoc[#y] & "," & tNextLoc[#z]>
  [ 64] setlocal 1 .............................. tParams = "mv " & tNextLoc[#x] & "," & tNextLoc[#y] & "," & tNextLoc[#z]
  [ 66] pushcons 5 .............................. <"action_mv">
  [ 68] pusharglist 1 ........................... <"action_mv">
  [ 70] extcall 268 ............................. <symbol("action_mv")>
  [ 73] getlocal 0 .............................. <tUserObject>
  [ 75] pusharglist 1 ........................... <[tUserObject]>
  [ 77] pushlist ................................ <[tUserObject]>
  [ 78] getlocal 1 .............................. <tParams>
  [ 80] pusharglistnoret 3 ...................... <symbol("action_mv"), [tUserObject], tParams>
  [ 82] extcall 267 ............................. call(symbol("action_mv"), [tUserObject], tParams)
  [ 85] getparam 1 .............................. <tCurrentLoc>
  [ 87] pusharglist 1 ........................... <tCurrentLoc>
  [ 89] extcall 150 ............................. <listp(tCurrentLoc)>
  [ 91] jmpifz [124] ............................ if listp(tCurrentLoc) then
  [ 94] getlocal 0 .............................. <tUserObject>
  [ 96] getparam 1 .............................. <tCurrentLoc>
  [ 98] pushsymb 10 ............................. <#x>
  [100] pusharglist 2 ........................... <tCurrentLoc, #x>
  [102] objcall 18 .............................. <tCurrentLoc[#x]>
  [104] getparam 1 .............................. <tCurrentLoc>
  [106] pushsymb 11 ............................. <#y>
  [108] pusharglist 2 ........................... <tCurrentLoc, #y>
  [110] objcall 18 .............................. <tCurrentLoc[#y]>
  [112] getparam 1 .............................. <tCurrentLoc>
  [114] pushsymb 12 ............................. <#z>
  [116] pusharglist 2 ........................... <tCurrentLoc, #z>
  [118] objcall 18 .............................. <tCurrentLoc[#z]>
  [120] pusharglistnoret 4 ...................... <tUserObject, tCurrentLoc[#x], tCurrentLoc[#y], tCurrentLoc[#z]>
  [122] objcall 111 ............................. tUserObject.Refresh(tCurrentLoc[#x], tCurrentLoc[#y], tCurrentLoc[#z])
  [124] pushint8 1 .............................. <1>
  [126] pusharglistnoret 1 ...................... <1>
  [128] extcall 13 .............................. return 1
  [130] ret
end

on roomObjectAction me, tAction, tdata
  [  0] getparam 0 .............................. <me>
  [  2] pusharglist 1 ........................... <me>
  [  4] objcall 45 .............................. <me.getRoomObject()>
  [  6] setlocal 0 .............................. tUserObject = me.getRoomObject()
  [  8] getlocal 0 .............................. <tUserObject>
  [ 10] pushzero ................................ <0>
  [ 11] eq ...................................... <tUserObject = 0>
  [ 12] jmpifz [ 20] ............................ if tUserObject = 0 then
  [ 15] pushzero ................................ <0>
  [ 16] pusharglistnoret 1 ...................... <0>
  [ 18] extcall 13 .............................. return 0
  [ 20] getlocal 0 .............................. <tUserObject>
  [ 22] getparam 1 .............................. <tAction>
  [ 24] getparam 2 .............................. <tdata>
  [ 26] pusharglist 3 ........................... <tUserObject, tAction, tdata>
  [ 28] objcall 1001 ............................ <tUserObject.roomObjectAction(tAction, tdata)>
  [ 31] pusharglistnoret 1 ...................... <tUserObject.roomObjectAction(tAction, tdata)>
  [ 33] extcall 13 .............................. return tUserObject.roomObjectAction(tAction, tdata)
  [ 35] ret
end

on getPicture me
  [  0] getparam 0 .............................. <me>
  [  2] pusharglist 1 ........................... <me>
  [  4] objcall 45 .............................. <me.getRoomObject()>
  [  6] setlocal 0 .............................. tUserObject = me.getRoomObject()
  [  8] getlocal 0 .............................. <tUserObject>
  [ 10] pushzero ................................ <0>
  [ 11] eq ...................................... <tUserObject = 0>
  [ 12] jmpifz [ 20] ............................ if tUserObject = 0 then
  [ 15] pushzero ................................ <0>
  [ 16] pusharglistnoret 1 ...................... <0>
  [ 18] extcall 13 .............................. return 0
  [ 20] getlocal 0 .............................. <tUserObject>
  [ 22] pusharglist 1 ........................... <tUserObject>
  [ 24] objcall 80 .............................. <tUserObject.getPicture()>
  [ 26] pusharglistnoret 1 ...................... <tUserObject.getPicture()>
  [ 28] extcall 13 .............................. return tUserObject.getPicture()
  [ 30] ret
end

on getRoomObject me
  [  0] pushsymb 228 ............................ <#room_component>
  [  2] pusharglist 1 ........................... <#room_component>
  [  4] extcall 153 ............................. <getObject(#room_component)>
  [  6] setlocal 0 .............................. tRoomComponentObj = getObject(#room_component)
  [  8] getlocal 0 .............................. <tRoomComponentObj>
  [ 10] pushzero ................................ <0>
  [ 11] eq ...................................... <tRoomComponentObj = 0>
  [ 12] jmpifz [ 29] ............................ if tRoomComponentObj = 0 then
  [ 15] getparam 0 .............................. <me>
  [ 17] pushcons 6 .............................. <"Room component unavailable!">
  [ 19] pushsymb 45 ............................. <#getRoomObject>
  [ 21] pusharglist 3 ........................... <me, "Room component unavailable!", #getRoomObject>
  [ 23] extcall 19 .............................. <error(me, "Room component unavailable!", #getRoomObject)>
  [ 25] pusharglistnoret 1 ...................... <error(me, "Room component unavailable!", #getRoomObject)>
  [ 27] extcall 13 .............................. return error(me, "Room component unavailable!", #getRoomObject)
  [ 29] getlocal 0 .............................. <tRoomComponentObj>
  [ 31] getprop 261 ............................. <pRoomIndex>
  [ 34] pusharglist 2 ........................... <tRoomComponentObj, pRoomIndex>
  [ 36] objcall 272 ............................. <tRoomComponentObj.getUserObject(pRoomIndex)>
  [ 39] pusharglistnoret 1 ...................... <tRoomComponentObj.getUserObject(pRoomIndex)>
  [ 41] extcall 13 .............................. return tRoomComponentObj.getUserObject(pRoomIndex)
  [ 43] ret
end

on createRoomObject me, tdata
  [  0] pushsymb 228 ............................ <#room_component>
  [  2] pusharglist 1 ........................... <#room_component>
  [  4] extcall 153 ............................. <getObject(#room_component)>
  [  6] setprop 260 ............................. pRoomComponentObj = getObject(#room_component)
  [  9] getprop 260 ............................. <pRoomComponentObj>
  [ 12] pushzero ................................ <0>
  [ 13] eq ...................................... <pRoomComponentObj = 0>
  [ 14] jmpifz [ 31] ............................ if pRoomComponentObj = 0 then
  [ 17] getparam 0 .............................. <me>
  [ 19] pushcons 6 .............................. <"Room component unavailable!">
  [ 21] pushsymb 4 .............................. <#createRoomObject>
  [ 23] pusharglist 3 ........................... <me, "Room component unavailable!", #createRoomObject>
  [ 25] extcall 19 .............................. <error(me, "Room component unavailable!", #createRoomObject)>
  [ 27] pusharglistnoret 1 ...................... <error(me, "Room component unavailable!", #createRoomObject)>
  [ 29] extcall 13 .............................. return error(me, "Room component unavailable!", #createRoomObject)
  [ 31] pushcons 7 .............................. <"Figure_System">
  [ 33] pusharglist 1 ........................... <"Figure_System">
  [ 35] extcall 153 ............................. <getObject("Figure_System")>
  [ 37] setlocal 0 .............................. tFigureSystemObj = getObject("Figure_System")
  [ 39] getlocal 0 .............................. <tFigureSystemObj>
  [ 41] pushzero ................................ <0>
  [ 42] eq ...................................... <tFigureSystemObj = 0>
  [ 43] jmpifz [ 60] ............................ if tFigureSystemObj = 0 then
  [ 46] getparam 0 .............................. <me>
  [ 48] pushcons 8 .............................. <"Figure system unavailable!">
  [ 50] pushsymb 4 .............................. <#createRoomObject>
  [ 52] pusharglist 3 ........................... <me, "Figure system unavailable!", #createRoomObject>
  [ 54] extcall 19 .............................. <error(me, "Figure system unavailable!", #createRoomObject)>
  [ 56] pusharglistnoret 1 ...................... <error(me, "Figure system unavailable!", #createRoomObject)>
  [ 58] extcall 13 .............................. return error(me, "Figure system unavailable!", #createRoomObject)
  [ 60] getprop 260 ............................. <pRoomComponentObj>
  [ 63] getprop 261 ............................. <pRoomIndex>
  [ 66] pusharglist 2 ........................... <pRoomComponentObj, pRoomIndex>
  [ 68] objcall 273 ............................. <pRoomComponentObj.userObjectExists(pRoomIndex)>
  [ 71] jmpifz [ 80] ............................ if pRoomComponentObj.userObjectExists(pRoomIndex) then
  [ 74] pushint8 1 .............................. <1>
  [ 76] pusharglistnoret 1 ...................... <1>
  [ 78] extcall 13 .............................. return 1
  [ 80] pusharglist 0 ........................... <[:]>
  [ 82] pushproplist ............................ <[:]>
  [ 83] setlocal 1 .............................. tAvatarStruct = [:]
  [ 85] pushcons 9 .............................. <"bb_gamesystem.roomobject.player.class">
  [ 87] setlocal 2 .............................. tClassID = "bb_gamesystem.roomobject.player.class"
  [ 89] getlocal 2 .............................. <tClassID>
  [ 91] pusharglist 1 ........................... <tClassID>
  [ 93] extcall 274 ............................. <getVariable(tClassID)>
  [ 96] setlocal 3 .............................. tPlayerClass = getVariable(tClassID)
  [ 98] getprop 260 ............................. <pRoomComponentObj>
  [101] pusharglist 1 ........................... <pRoomComponentObj>
  [103] objcall 229 ............................. <pRoomComponentObj.getClassContainer()>
  [105] setlocal 4 .............................. tClassContainer = pRoomComponentObj.getClassContainer()
  [107] getlocal 4 .............................. <tClassContainer>
  [109] pushzero ................................ <0>
  [110] eq ...................................... <tClassContainer = 0>
  [111] jmpifz [128] ............................ if tClassContainer = 0 then
  [114] getparam 0 .............................. <me>
  [116] pushcons 10 ............................. <"Unable to find class container.">
  [118] pushsymb 4 .............................. <#createRoomObject>
  [120] pusharglist 3 ........................... <me, "Unable to find class container.", #createRoomObject>
  [122] extcall 19 .............................. <error(me, "Unable to find class container.", #createRoomObject)>
  [124] pusharglistnoret 1 ...................... <error(me, "Unable to find class container.", #createRoomObject)>
  [126] extcall 13 .............................. return error(me, "Unable to find class container.", #createRoomObject)
  [128] getlocal 4 .............................. <tClassContainer>
  [130] getlocal 2 .............................. <tClassID>
  [132] getlocal 3 .............................. <tPlayerClass>
  [134] pusharglistnoret 3 ...................... <tClassContainer, tClassID, tPlayerClass>
  [136] objcall 230 ............................. tClassContainer.set(tClassID, tPlayerClass)
  [138] getlocal 1 .............................. <tAvatarStruct>
  [140] pushsymb 22 ............................. <#class>
  [142] getlocal 2 .............................. <tClassID>
  [144] pusharglistnoret 3 ...................... <tAvatarStruct, #class, tClassID>
  [146] objcall 275 ............................. tAvatarStruct.setaProp(#class, tClassID)
  [149] getparam 1 .............................. <tdata>
  [151] pushsymb 655 ............................ <#roomindex>
  [154] pusharglist 2 ........................... <tdata, #roomindex>
  [156] objcall 18 .............................. <tdata[#roomindex]>
  [158] pusharglist 1 ........................... <tdata[#roomindex]>
  [160] extcall 87 .............................. <string(tdata[#roomindex])>
  [162] setlocal 5 .............................. tUserStrId = string(tdata[#roomindex])
  [164] getlocal 1 .............................. <tAvatarStruct>
  [166] pushsymb 88 ............................. <#id>
  [168] getlocal 5 .............................. <tUserStrId>
  [170] pusharglistnoret 3 ...................... <tAvatarStruct, #id, tUserStrId>
  [172] objcall 23 .............................. tAvatarStruct.addProp(#id, tUserStrId)
  [174] getlocal 1 .............................. <tAvatarStruct>
  [176] pushsymb 224 ............................ <#name>
  [178] getparam 1 .............................. <tdata>
  [180] pushsymb 224 ............................ <#name>
  [182] pusharglist 2 ........................... <tdata, #name>
  [184] objcall 18 .............................. <tdata[#name]>
  [186] pusharglistnoret 3 ...................... <tAvatarStruct, #name, tdata[#name]>
  [188] objcall 23 .............................. tAvatarStruct.addProp(#name, tdata[#name])
  [190] getlocal 1 .............................. <tAvatarStruct>
  [192] pushsymb 44 ............................. <#direction>
  [194] getparam 1 .............................. <tdata>
  [196] pushsymb 83 ............................. <#dirBody>
  [198] pusharglist 2 ........................... <tdata, #dirBody>
  [200] objcall 18 .............................. <tdata[#dirBody]>
  [202] pushzero ................................ <0>
  [203] pusharglist 2 ........................... <[tdata[#dirBody], 0]>
  [205] pushlist ................................ <[tdata[#dirBody], 0]>
  [206] pusharglistnoret 3 ...................... <tAvatarStruct, #direction, [tdata[#dirBody], 0]>
  [208] objcall 23 .............................. tAvatarStruct.addProp(#direction, [tdata[#dirBody], 0])
  [210] getlocal 1 .............................. <tAvatarStruct>
  [212] pushsymb 10 ............................. <#x>
  [214] getparam 1 .............................. <tdata>
  [216] pushsymb 10 ............................. <#x>
  [218] pusharglist 2 ........................... <tdata, #x>
  [220] objcall 18 .............................. <tdata[#x]>
  [222] pusharglistnoret 3 ...................... <tAvatarStruct, #x, tdata[#x]>
  [224] objcall 23 .............................. tAvatarStruct.addProp(#x, tdata[#x])
  [226] getlocal 1 .............................. <tAvatarStruct>
  [228] pushsymb 11 ............................. <#y>
  [230] getparam 1 .............................. <tdata>
  [232] pushsymb 11 ............................. <#y>
  [234] pusharglist 2 ........................... <tdata, #y>
  [236] objcall 18 .............................. <tdata[#y]>
  [238] pusharglistnoret 3 ...................... <tAvatarStruct, #y, tdata[#y]>
  [240] objcall 23 .............................. tAvatarStruct.addProp(#y, tdata[#y])
  [242] getlocal 1 .............................. <tAvatarStruct>
  [244] pushsymb 276 ............................ <#h>
  [247] getparam 1 .............................. <tdata>
  [249] pushsymb 12 ............................. <#z>
  [251] pusharglist 2 ........................... <tdata, #z>
  [253] objcall 18 .............................. <tdata[#z]>
  [255] pusharglistnoret 3 ...................... <tAvatarStruct, #h, tdata[#z]>
  [257] objcall 23 .............................. tAvatarStruct.addProp(#h, tdata[#z])
  [259] getlocal 1 .............................. <tAvatarStruct>
  [261] pushsymb 277 ............................ <#custom>
  [264] getparam 1 .............................. <tdata>
  [266] pushsymb 278 ............................ <#mission>
  [269] pusharglist 2 ........................... <tdata, #mission>
  [271] objcall 18 .............................. <tdata[#mission]>
  [273] pusharglistnoret 3 ...................... <tAvatarStruct, #custom, tdata[#mission]>
  [275] objcall 23 .............................. tAvatarStruct.addProp(#custom, tdata[#mission])
  [277] getlocal 1 .............................. <tAvatarStruct>
  [279] pushsymb 279 ............................ <#sex>
  [282] getparam 1 .............................. <tdata>
  [284] pushsymb 279 ............................ <#sex>
  [287] pusharglist 2 ........................... <tdata, #sex>
  [289] objcall 18 .............................. <tdata[#sex]>
  [291] pusharglistnoret 3 ...................... <tAvatarStruct, #sex, tdata[#sex]>
  [293] objcall 23 .............................. tAvatarStruct.addProp(#sex, tdata[#sex])
  [295] getlocal 1 .............................. <tAvatarStruct>
  [297] pushsymb 195 ............................ <#teamId>
  [299] getparam 1 .............................. <tdata>
  [301] pushsymb 195 ............................ <#teamId>
  [303] pusharglist 2 ........................... <tdata, #teamId>
  [305] objcall 18 .............................. <tdata[#teamId]>
  [307] pusharglistnoret 3 ...................... <tAvatarStruct, #teamId, tdata[#teamId]>
  [309] objcall 23 .............................. tAvatarStruct.addProp(#teamId, tdata[#teamId])
  [311] getparam 1 .............................. <tdata>
  [313] pushsymb 224 ............................ <#name>
  [315] pusharglist 2 ........................... <tdata, #name>
  [317] objcall 18 .............................. <tdata[#name]>
  [319] pushsymb 154 ............................ <#session>
  [321] pusharglist 1 ........................... <#session>
  [323] extcall 153 ............................. <getObject(#session)>
  [325] pushsymb 264 ............................ <#userName>
  [328] pusharglist 2 ........................... <getObject(#session), #userName>
  [330] objcall 155 ............................. <getObject(#session).get(#userName)>
  [332] eq ...................................... <tdata[#name] = getObject(#session).get(#userName)>
  [333] jmpifz [350] ............................ if tdata[#name] = getObject(#session).get(#userName) then
  [336] pushsymb 154 ............................ <#session>
  [338] pusharglist 1 ........................... <#session>
  [340] extcall 153 ............................. <getObject(#session)>
  [342] pushcons 0 .............................. <"user_index">
  [344] getlocal 5 .............................. <tUserStrId>
  [346] pusharglistnoret 3 ...................... <getObject(#session), "user_index", tUserStrId>
  [348] objcall 230 ............................. getObject(#session).set("user_index", tUserStrId)
  [350] getlocal 0 .............................. <tFigureSystemObj>
  [352] getparam 1 .............................. <tdata>
  [354] pushsymb 280 ............................ <#figure>
  [357] pusharglist 2 ........................... <tdata, #figure>
  [359] objcall 18 .............................. <tdata[#figure]>
  [361] getparam 1 .............................. <tdata>
  [363] pushsymb 279 ............................ <#sex>
  [366] pusharglist 2 ........................... <tdata, #sex>
  [368] objcall 18 .............................. <tdata[#sex]>
  [370] pushcons 11 ............................. <"user">
  [372] pusharglist 4 ........................... <tFigureSystemObj, tdata[#figure], tdata[#sex], "user">
  [374] objcall 281 ............................. <tFigureSystemObj.parseFigure(tdata[#figure], tdata[#sex], "user")>
  [377] setlocal 6 .............................. tFigure = tFigureSystemObj.parseFigure(tdata[#figure], tdata[#sex], "user")
  [379] getparam 1 .............................. <tdata>
  [381] pushsymb 195 ............................ <#teamId>
  [383] pusharglist 2 ........................... <tdata, #teamId>
  [385] objcall 18 .............................. <tdata[#teamId]>
  [387] pushint8 1 .............................. <1>
  [389] add ..................................... <tdata[#teamId] + 1>
  [390] setlocal 7 .............................. tTeamId = tdata[#teamId] + 1
  [392] pushcons 12 ............................. <"#E73929">
  [394] pusharglist 1 ........................... <"#E73929">
  [396] extcall 282 ............................. <rgb("#E73929")>
  [399] pushcons 13 ............................. <"#217BEF">
  [401] pusharglist 1 ........................... <"#217BEF">
  [403] extcall 282 ............................. <rgb("#217BEF")>
  [406] pushcons 14 ............................. <"#FFCE21">
  [408] pusharglist 1 ........................... <"#FFCE21">
  [410] extcall 282 ............................. <rgb("#FFCE21")>
  [413] pushcons 15 ............................. <"#8CE700">
  [415] pusharglist 1 ........................... <"#8CE700">
  [417] extcall 282 ............................. <rgb("#8CE700")>
  [420] pusharglist 4 ........................... <[rgb("#E73929"), rgb("#217BEF"), rgb("#FFCE21"), rgb("#8CE700")]>
  [422] pushlist ................................ <[rgb("#E73929"), rgb("#217BEF"), rgb("#FFCE21"), rgb("#8CE700")]>
  [423] setlocal 8 .............................. tTeamColors = [rgb("#E73929"), rgb("#217BEF"), rgb("#FFCE21"), rgb("#8CE700")]
  [425] pushcons 16 ............................. <"model">
  [427] pushcons 17 ............................. <"001">
  [429] pushcons 18 ............................. <"color">
  [431] getlocal 8 .............................. <tTeamColors>
  [433] getlocal 7 .............................. <tTeamId>
  [435] pusharglist 2 ........................... <tTeamColors, tTeamId>
  [437] objcall 18 .............................. <tTeamColors[tTeamId]>
  [439] pusharglist 4 ........................... <["model": "001", "color": tTeamColors[tTeamId]]>
  [441] pushproplist ............................ <["model": "001", "color": tTeamColors[tTeamId]]>
  [442] setlocal 9 .............................. tBallModel = ["model": "001", "color": tTeamColors[tTeamId]]
  [444] getlocal 6 .............................. <tFigure>
  [446] pushcons 19 ............................. <"bl">
  [448] getlocal 9 .............................. <tBallModel>
  [450] pusharglistnoret 3 ...................... <tFigure, "bl", tBallModel>
  [452] objcall 23 .............................. tFigure.addProp("bl", tBallModel)
  [454] getlocal 1 .............................. <tAvatarStruct>
  [456] pushsymb 280 ............................ <#figure>
  [459] getlocal 6 .............................. <tFigure>
  [461] pusharglistnoret 3 ...................... <tAvatarStruct, #figure, tFigure>
  [463] objcall 23 .............................. tAvatarStruct.addProp(#figure, tFigure)
  [465] getprop 260 ............................. <pRoomComponentObj>
  [468] getlocal 1 .............................. <tAvatarStruct>
  [470] pusharglist 2 ........................... <pRoomComponentObj, tAvatarStruct>
  [472] objcall 283 ............................. <pRoomComponentObj.validateUserObjects(tAvatarStruct)>
  [475] not ..................................... <not pRoomComponentObj.validateUserObjects(tAvatarStruct)>
  [476] jmpifz [496] ............................ if not pRoomComponentObj.validateUserObjects(tAvatarStruct) then / else
  [479] getparam 0 .............................. <me>
  [481] pushcons 20 ............................. <"BB: Room couldn't create avatar!">
  [483] pushsymb 4 .............................. <#createRoomObject>
  [485] pusharglist 3 ........................... <me, "BB: Room couldn't create avatar!", #createRoomObject>
  [487] extcall 19 .............................. <error(me, "BB: Room couldn't create avatar!", #createRoomObject)>
  [489] pusharglistnoret 1 ...................... <error(me, "BB: Room couldn't create avatar!", #createRoomObject)>
  [491] extcall 13 .............................. return error(me, "BB: Room couldn't create avatar!", #createRoomObject)
  [493] jmp [502]
  [496] pushint8 1 .............................. <1>
  [498] pusharglistnoret 1 ...................... <1>
  [500] extcall 13 .............................. return 1
  [502] ret
end

on removeRoomObject me
  [  0] pushsymb 228 ............................ <#room_component>
  [  2] pusharglist 1 ........................... <#room_component>
  [  4] extcall 153 ............................. <getObject(#room_component)>
  [  6] setlocal 0 .............................. tRoomComponentObj = getObject(#room_component)
  [  8] getlocal 0 .............................. <tRoomComponentObj>
  [ 10] pushzero ................................ <0>
  [ 11] eq ...................................... <tRoomComponentObj = 0>
  [ 12] jmpifz [ 29] ............................ if tRoomComponentObj = 0 then
  [ 15] getparam 0 .............................. <me>
  [ 17] pushcons 6 .............................. <"Room component unavailable!">
  [ 19] pushsymb 5 .............................. <#removeRoomObject>
  [ 21] pusharglist 3 ........................... <me, "Room component unavailable!", #removeRoomObject>
  [ 23] extcall 19 .............................. <error(me, "Room component unavailable!", #removeRoomObject)>
  [ 25] pusharglistnoret 1 ...................... <error(me, "Room component unavailable!", #removeRoomObject)>
  [ 27] extcall 13 .............................. return error(me, "Room component unavailable!", #removeRoomObject)
  [ 29] getprop 261 ............................. <pRoomIndex>
  [ 32] pusharglist 0 ........................... <>
  [ 34] extcall 43 .............................. <VOID>
  [ 36] eq ...................................... <pRoomIndex = VOID>
  [ 37] jmpifz [ 45] ............................ if pRoomIndex = VOID then
  [ 40] pushzero ................................ <0>
  [ 41] pusharglistnoret 1 ...................... <0>
  [ 43] extcall 13 .............................. return 0
  [ 45] getlocal 0 .............................. <tRoomComponentObj>
  [ 47] getprop 261 ............................. <pRoomIndex>
  [ 50] pusharglist 2 ........................... <tRoomComponentObj, pRoomIndex>
  [ 52] objcall 290 ............................. <tRoomComponentObj.removeUserObject(pRoomIndex)>
  [ 55] pusharglistnoret 1 ...................... <tRoomComponentObj.removeUserObject(pRoomIndex)>
  [ 57] extcall 13 .............................. return tRoomComponentObj.removeUserObject(pRoomIndex)
  [ 59] ret
end
