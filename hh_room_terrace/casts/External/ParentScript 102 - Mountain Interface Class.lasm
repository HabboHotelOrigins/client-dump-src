property pKoppiWndID, pSwimSuitModel, pSwimSuitIndex, pSwimSuitColor, pState, pSpeed, pUserSpr, pUserMem, pElevSpr_a, pElevSpr_b, pActLoc, pEndLoc, pCurLoc, pLocAnimList, pLocAnimIndx, pUserName

on construct me
  [  0] pushcons 0 .............................. <"dew_pukukoppi">
  [  2] setprop 245 ............................. pKoppiWndID = "dew_pukukoppi"
  [  4] pushcons 1 .............................. <EMPTY>
  [  6] setprop 248 ............................. pUserName = EMPTY
  [  8] pushsymb 23 ............................. <#room>
  [ 10] pusharglist 1 ........................... <#room>
  [ 12] extcall 22 .............................. <getThread(#room)>
  [ 14] pusharglist 1 ........................... <getThread(#room)>
  [ 16] objcall 24 .............................. <getThread(#room).getInterface()>
  [ 18] pusharglist 1 ........................... <getThread(#room).getInterface()>
  [ 20] objcall 25 .............................. <getThread(#room).getInterface().getRoomVisualizer()>
  [ 22] setlocal 0 .............................. tVisual = getThread(#room).getInterface().getRoomVisualizer()
  [ 24] pushsymb 250 ............................ <#ready>
  [ 26] setprop 249 ............................. pState = #ready
  [ 28] pushfloat32 1.0 ......................... <1.0>
  [ 33] setprop 88 .............................. pSpeed = 1.0
  [ 35] pushint8 102 ............................ <102>
  [ 37] pushint16 308 ........................... <308>
  [ 40] pusharglist 2 ........................... <102, 308>
  [ 42] extcall 95 .............................. <point(102, 308)>
  [ 44] setprop 251 ............................. pActLoc = point(102, 308)
  [ 46] pushint8 14 ............................. <14>
  [ 48] inv ..................................... <-14>
  [ 49] pushint16 424 ........................... <424>
  [ 52] pusharglist 2 ........................... <-14, 424>
  [ 54] extcall 95 .............................. <point(-14, 424)>
  [ 56] setprop 252 ............................. pEndLoc = point(-14, 424)
  [ 58] getprop 251 ............................. <pActLoc>
  [ 60] setprop 253 ............................. pCurLoc = pActLoc
  [ 62] pushint8 2 .............................. <2>
  [ 64] pushzero ................................ <0>
  [ 65] pusharglist 2 ........................... <[2, 0]>
  [ 67] pushlist ................................ <[2, 0]>
  [ 68] pushint8 2 .............................. <2>
  [ 70] pushzero ................................ <0>
  [ 71] pusharglist 2 ........................... <[2, 0]>
  [ 73] pushlist ................................ <[2, 0]>
  [ 74] pushint8 2 .............................. <2>
  [ 76] pushzero ................................ <0>
  [ 77] pusharglist 2 ........................... <[2, 0]>
  [ 79] pushlist ................................ <[2, 0]>
  [ 80] pushint8 2 .............................. <2>
  [ 82] pushzero ................................ <0>
  [ 83] pusharglist 2 ........................... <[2, 0]>
  [ 85] pushlist ................................ <[2, 0]>
  [ 86] pushint8 2 .............................. <2>
  [ 88] pushzero ................................ <0>
  [ 89] pusharglist 2 ........................... <[2, 0]>
  [ 91] pushlist ................................ <[2, 0]>
  [ 92] pushint8 2 .............................. <2>
  [ 94] pushint8 2 .............................. <2>
  [ 96] pusharglist 2 ........................... <[2, 2]>
  [ 98] pushlist ................................ <[2, 2]>
  [ 99] pushint8 2 .............................. <2>
  [101] pushzero ................................ <0>
  [102] pusharglist 2 ........................... <[2, 0]>
  [104] pushlist ................................ <[2, 0]>
  [105] pushint8 2 .............................. <2>
  [107] pushint8 2 .............................. <2>
  [109] pusharglist 2 ........................... <[2, 2]>
  [111] pushlist ................................ <[2, 2]>
  [112] pushint8 2 .............................. <2>
  [114] pushint8 2 .............................. <2>
  [116] pusharglist 2 ........................... <[2, 2]>
  [118] pushlist ................................ <[2, 2]>
  [119] pushint8 2 .............................. <2>
  [121] pushint8 2 .............................. <2>
  [123] pusharglist 2 ........................... <[2, 2]>
  [125] pushlist ................................ <[2, 2]>
  [126] pushint8 2 .............................. <2>
  [128] pushint8 2 .............................. <2>
  [130] pusharglist 2 ........................... <[2, 2]>
  [132] pushlist ................................ <[2, 2]>
  [133] pusharglist 11 .......................... <[[2, 0], [2, 0], [2, 0], [2, 0], [2, 0], [2, 2], [2, 0], [2, 2], [2, 2], [2, 2], [2, 2]]>
  [135] pushlist ................................ <[[2, 0], [2, 0], [2, 0], [2, 0], [2, 0], [2, 2], [2, 0], [2, 2], [2, 2], [2, 2], [2, 2]]>
  [136] setprop 254 ............................. pLocAnimList = [[2, 0], [2, 0], [2, 0], [2, 0], [2, 0], [2, 2], [2, 0], [2, 2], [2, 2], [2, 2], [2, 2]]
  [138] pushint8 1 .............................. <1>
  [140] setprop 255 ............................. pLocAnimIndx = 1
  [142] pushcons 2 .............................. <"Figure_System_Mountain">
  [144] pusharglist 1 ........................... <"Figure_System_Mountain">
  [146] extcall 39 .............................. <objectExists("Figure_System_Mountain")>
  [148] not ..................................... <not objectExists("Figure_System_Mountain")>
  [149] jmpifz [184] ............................ if not objectExists("Figure_System_Mountain") then
  [152] pushcons 2 .............................. <"Figure_System_Mountain">
  [154] pushcons 3 .............................. <"Figure System Class">
  [156] pusharglist 1 ........................... <["Figure System Class"]>
  [158] pushlist ................................ <["Figure System Class"]>
  [159] pusharglistnoret 2 ...................... <"Figure_System_Mountain", ["Figure System Class"]>
  [161] extcall 11 .............................. createObject("Figure_System_Mountain", ["Figure System Class"])
  [163] pushcons 2 .............................. <"Figure_System_Mountain">
  [165] pusharglist 1 ........................... <"Figure_System_Mountain">
  [167] extcall 40 .............................. <getObject("Figure_System_Mountain")>
  [169] pushcons 4 .............................. <"type">
  [171] pushcons 5 .............................. <"member">
  [173] pushcons 6 .............................. <"source">
  [175] pushcons 7 .............................. <"swimfigure_ids_">
  [177] pusharglist 4 ........................... <["type": "member", "source": "swimfigure_ids_"]>
  [179] pushproplist ............................ <["type": "member", "source": "swimfigure_ids_"]>
  [180] pusharglistnoret 2 ...................... <getObject("Figure_System_Mountain"), ["type": "member", "source": "swimfigure_ids_"]>
  [182] objcall 204 ............................. getObject("Figure_System_Mountain").define(["type": "member", "source": "swimfigure_ids_"])
  [184] getlocal 0 .............................. <tVisual>
  [186] pushcons 8 .............................. <"pool_teleport">
  [188] pusharglist 2 ........................... <tVisual, "pool_teleport">
  [190] objcall 26 .............................. <tVisual.getSprById("pool_teleport")>
  [192] setlocal 1 .............................. tsprite = tVisual.getSprById("pool_teleport")
  [194] getlocal 1 .............................. <tsprite>
  [196] pushsymb 260 ............................ <#sprite>
  [199] pusharglist 2 ........................... <tsprite, #sprite>
  [201] extcall 265 ............................. <ilk(tsprite, #sprite)>
  [204] jmpifz [225] ............................ if ilk(tsprite, #sprite) then
  [207] getlocal 1 .............................. <tsprite>
  [209] pushsymb 243 ............................ <#eventProcDew>
  [211] getparam 0 .............................. <me>
  [213] pusharglist 1 ........................... <me>
  [215] objcall 14 .............................. <me.getID()>
  [217] pushsymb 266 ............................ <#mouseUp>
  [220] pusharglistnoret 4 ...................... <tsprite, #eventProcDew, me.getID(), #mouseUp>
  [222] objcall 267 ............................. tsprite.registerProcedure(#eventProcDew, me.getID(), #mouseUp)
  [225] getlocal 0 .............................. <tVisual>
  [227] pushcons 9 .............................. <"highscore_table">
  [229] pusharglist 2 ........................... <tVisual, "highscore_table">
  [231] objcall 26 .............................. <tVisual.getSprById("highscore_table")>
  [233] setlocal 1 .............................. tsprite = tVisual.getSprById("highscore_table")
  [235] getlocal 1 .............................. <tsprite>
  [237] pushsymb 260 ............................ <#sprite>
  [240] pusharglist 2 ........................... <tsprite, #sprite>
  [242] extcall 265 ............................. <ilk(tsprite, #sprite)>
  [245] jmpifz [283] ............................ if ilk(tsprite, #sprite) then
  [248] getlocal 1 .............................. <tsprite>
  [250] pushsymb 243 ............................ <#eventProcDew>
  [252] getparam 0 .............................. <me>
  [254] pusharglist 1 ........................... <me>
  [256] objcall 14 .............................. <me.getID()>
  [258] pushsymb 75 ............................. <#mouseDown>
  [260] pusharglistnoret 4 ...................... <tsprite, #eventProcDew, me.getID(), #mouseDown>
  [262] objcall 267 ............................. tsprite.registerProcedure(#eventProcDew, me.getID(), #mouseDown)
  [265] getlocal 1 .............................. <tsprite>
  [267] pushsymb 243 ............................ <#eventProcDew>
  [269] getparam 0 .............................. <me>
  [271] pusharglist 1 ........................... <me>
  [273] objcall 14 .............................. <me.getID()>
  [275] pushsymb 266 ............................ <#mouseUp>
  [278] pusharglistnoret 4 ...................... <tsprite, #eventProcDew, me.getID(), #mouseUp>
  [280] objcall 267 ............................. tsprite.registerProcedure(#eventProcDew, me.getID(), #mouseUp)
  [283] getlocal 0 .............................. <tVisual>
  [285] pushcons 10 ............................. <"ticket_box">
  [287] pusharglist 2 ........................... <tVisual, "ticket_box">
  [289] objcall 26 .............................. <tVisual.getSprById("ticket_box")>
  [291] setlocal 1 .............................. tsprite = tVisual.getSprById("ticket_box")
  [293] getlocal 1 .............................. <tsprite>
  [295] pushsymb 260 ............................ <#sprite>
  [298] pusharglist 2 ........................... <tsprite, #sprite>
  [300] extcall 265 ............................. <ilk(tsprite, #sprite)>
  [303] jmpifz [341] ............................ if ilk(tsprite, #sprite) then
  [306] getlocal 1 .............................. <tsprite>
  [308] pushsymb 243 ............................ <#eventProcDew>
  [310] getparam 0 .............................. <me>
  [312] pusharglist 1 ........................... <me>
  [314] objcall 14 .............................. <me.getID()>
  [316] pushsymb 75 ............................. <#mouseDown>
  [318] pusharglistnoret 4 ...................... <tsprite, #eventProcDew, me.getID(), #mouseDown>
  [320] objcall 267 ............................. tsprite.registerProcedure(#eventProcDew, me.getID(), #mouseDown)
  [323] getlocal 1 .............................. <tsprite>
  [325] pushsymb 243 ............................ <#eventProcDew>
  [327] getparam 0 .............................. <me>
  [329] pusharglist 1 ........................... <me>
  [331] objcall 14 .............................. <me.getID()>
  [333] pushsymb 266 ............................ <#mouseUp>
  [336] pusharglistnoret 4 ...................... <tsprite, #eventProcDew, me.getID(), #mouseUp>
  [338] objcall 267 ............................. tsprite.registerProcedure(#eventProcDew, me.getID(), #mouseUp)
  [341] pushint8 1 .............................. <1>
  [343] pusharglistnoret 1 ...................... <1>
  [345] extcall 8 ............................... return 1
  [347] ret
end

on deconstruct me
  [  0] pushcons 2 .............................. <"Figure_System_Mountain">
  [  2] pusharglist 1 ........................... <"Figure_System_Mountain">
  [  4] extcall 39 .............................. <objectExists("Figure_System_Mountain")>
  [  6] jmpifz [ 15] ............................ if objectExists("Figure_System_Mountain") then
  [  9] pushcons 2 .............................. <"Figure_System_Mountain">
  [ 11] pusharglistnoret 1 ...................... <"Figure_System_Mountain">
  [ 13] extcall 16 .............................. removeObject("Figure_System_Mountain")
  [ 15] getprop 245 ............................. <pKoppiWndID>
  [ 17] pusharglist 1 ........................... <pKoppiWndID>
  [ 19] extcall 270 ............................. <windowExists(pKoppiWndID)>
  [ 22] jmpifz [ 32] ............................ if windowExists(pKoppiWndID) then
  [ 25] getprop 245 ............................. <pKoppiWndID>
  [ 27] pusharglistnoret 1 ...................... <pKoppiWndID>
  [ 29] extcall 271 ............................. removeWindow(pKoppiWndID)
  [ 32] getparam 0 .............................. <me>
  [ 34] pusharglist 1 ........................... <me>
  [ 36] objcall 14 .............................. <me.getID()>
  [ 38] pusharglist 1 ........................... <me.getID()>
  [ 40] extcall 15 .............................. <removePrepare(me.getID())>
  [ 42] pusharglistnoret 1 ...................... <removePrepare(me.getID())>
  [ 44] extcall 8 ............................... return removePrepare(me.getID())
  [ 46] ret
end

on openPukukoppi me
  [  0] pushcons 2 .............................. <"Figure_System_Mountain">
  [  2] pusharglist 1 ........................... <"Figure_System_Mountain">
  [  4] extcall 39 .............................. <objectExists("Figure_System_Mountain")>
  [  6] not ..................................... <not objectExists("Figure_System_Mountain")>
  [  7] jmpifz [ 24] ............................ if not objectExists("Figure_System_Mountain") then
  [ 10] getparam 0 .............................. <me>
  [ 12] pushcons 11 ............................. <"Figure system object not found">
  [ 14] pushsymb 234 ............................ <#openPukukoppi>
  [ 16] pusharglist 3 ........................... <me, "Figure system object not found", #openPukukoppi>
  [ 18] extcall 119 ............................. <error(me, "Figure system object not found", #openPukukoppi)>
  [ 20] pusharglistnoret 1 ...................... <error(me, "Figure system object not found", #openPukukoppi)>
  [ 22] extcall 8 ............................... return error(me, "Figure system object not found", #openPukukoppi)
  [ 24] pushint8 1 .............................. <1>
  [ 26] setprop 272 ............................. pSwimSuitIndex = 1
  [ 29] pushsymb 109 ............................ <#session>
  [ 31] pusharglist 1 ........................... <#session>
  [ 33] extcall 40 .............................. <getObject(#session)>
  [ 35] pushcons 12 ............................. <"user_sex">
  [ 37] pusharglist 2 ........................... <getObject(#session), "user_sex">
  [ 39] objcall 110 ............................. <getObject(#session).get("user_sex")>
  [ 41] pushcons 13 ............................. <"F">
  [ 43] eq ...................................... <getObject(#session).get("user_sex") = "F">
  [ 44] jmpifz [ 55] ............................ if getObject(#session).get("user_sex") = "F" then / else
  [ 47] pushcons 14 ............................. <"s01">
  [ 49] setprop 273 ............................. pSwimSuitModel = "s01"
  [ 52] jmp [ 60]
  [ 55] pushcons 15 ............................. <"s02">
  [ 57] setprop 273 ............................. pSwimSuitModel = "s02"
  [ 60] pushsymb 109 ............................ <#session>
  [ 62] pusharglist 1 ........................... <#session>
  [ 64] extcall 40 .............................. <getObject(#session)>
  [ 66] pushcons 12 ............................. <"user_sex">
  [ 68] pusharglist 2 ........................... <getObject(#session), "user_sex">
  [ 70] objcall 110 ............................. <getObject(#session).get("user_sex")>
  [ 72] pushcons 13 ............................. <"F">
  [ 74] eq ...................................... <getObject(#session).get("user_sex") = "F">
  [ 75] jmpifz [ 85] ............................ if getObject(#session).get("user_sex") = "F" then / else
  [ 78] pushint8 20 ............................. <20>
  [ 80] setlocal 0 .............................. tSetID = 20
  [ 82] jmp [ 89]
  [ 85] pushint8 10 ............................. <10>
  [ 87] setlocal 0 .............................. tSetID = 10
  [ 89] pushcons 2 .............................. <"Figure_System_Mountain">
  [ 91] pusharglist 1 ........................... <"Figure_System_Mountain">
  [ 93] extcall 40 .............................. <getObject("Figure_System_Mountain")>
  [ 95] pushcons 16 ............................. <"ch">
  [ 97] pushint8 1 .............................. <1>
  [ 99] getlocal 0 .............................. <tSetID>
  [101] pushsymb 109 ............................ <#session>
  [103] pusharglist 1 ........................... <#session>
  [105] extcall 40 .............................. <getObject(#session)>
  [107] pushcons 12 ............................. <"user_sex">
  [109] pusharglist 2 ........................... <getObject(#session), "user_sex">
  [111] objcall 110 ............................. <getObject(#session).get("user_sex")>
  [113] pusharglist 5 ........................... <getObject("Figure_System_Mountain"), "ch", 1, tSetID, getObject(#session).get("user_sex")>
  [115] objcall 274 ............................. <getObject("Figure_System_Mountain").getColorOfPartByOrderNum("ch", 1, tSetID, getObject(#session).get("user_sex"))>
  [118] setlocal 1 .............................. tPartProps = getObject("Figure_System_Mountain").getColorOfPartByOrderNum("ch", 1, tSetID, getObject(#session).get("user_sex"))
  [120] getlocal 1 .............................. <tPartProps>
  [122] getobjprop 265 .......................... <tPartProps.ilk>
  [125] pushsymb 275 ............................ <#propList>
  [128] eq ...................................... <tPartProps.ilk = #propList>
  [129] jmpifz [151] ............................ if tPartProps.ilk = #propList then
  [132] getlocal 1 .............................. <tPartProps>
  [134] pushcons 17 ............................. <"color">
  [136] pusharglist 2 ........................... <tPartProps, "color">
  [138] objcall 37 .............................. <tPartProps["color"]>
  [140] pusharglist 1 ........................... <tPartProps["color"]>
  [142] extcall 101 ............................. <rgb(tPartProps["color"])>
  [144] setlocal 2 .............................. tColor = rgb(tPartProps["color"])
  [146] getlocal 2 .............................. <tColor>
  [148] setprop 276 ............................. pSwimSuitColor = tColor
  [151] getprop 245 ............................. <pKoppiWndID>
  [153] pushcons 18 ............................. <"dew_pukukoppi.window">
  [155] pusharglist 0 ........................... <>
  [157] extcall 92 .............................. <VOID>
  [159] pusharglist 0 ........................... <>
  [161] extcall 92 .............................. <VOID>
  [163] pushsymb 278 ............................ <#modal>
  [166] pusharglistnoret 5 ...................... <pKoppiWndID, "dew_pukukoppi.window", VOID, VOID, #modal>
  [168] extcall 277 ............................. createWindow(pKoppiWndID, "dew_pukukoppi.window", VOID, VOID, #modal)
  [171] getprop 245 ............................. <pKoppiWndID>
  [173] pusharglist 1 ........................... <pKoppiWndID>
  [175] extcall 279 ............................. <getWindow(pKoppiWndID)>
  [178] setlocal 3 .............................. tWndObj = getWindow(pKoppiWndID)
  [180] getlocal 3 .............................. <tWndObj>
  [182] pusharglistnoret 1 ...................... <tWndObj>
  [184] objcall 280 ............................. tWndObj.center()
  [187] getlocal 3 .............................. <tWndObj>
  [189] getparam 0 .............................. <me>
  [191] pusharglist 1 ........................... <me>
  [193] objcall 14 .............................. <me.getID()>
  [195] pusharglistnoret 2 ...................... <tWndObj, me.getID()>
  [197] objcall 281 ............................. tWndObj.registerClient(me.getID())
  [200] getlocal 3 .............................. <tWndObj>
  [202] pushsymb 242 ............................ <#eventProcPukukoppi>
  [204] getparam 0 .............................. <me>
  [206] pusharglist 1 ........................... <me>
  [208] objcall 14 .............................. <me.getID()>
  [210] pushsymb 266 ............................ <#mouseUp>
  [213] pusharglistnoret 4 ...................... <tWndObj, #eventProcPukukoppi, me.getID(), #mouseUp>
  [215] objcall 267 ............................. tWndObj.registerProcedure(#eventProcPukukoppi, me.getID(), #mouseUp)
  [218] getparam 0 .............................. <me>
  [220] pusharglistnoret 1 ...................... <me>
  [222] objcall 240 ............................. me.createFigurePrew()
  [224] pushint8 1 .............................. <1>
  [226] pusharglistnoret 1 ...................... <1>
  [228] extcall 8 ............................... return 1
  [230] ret
end

on closePukukoppi me
  [  0] getprop 245 ............................. <pKoppiWndID>
  [  2] pusharglist 1 ........................... <pKoppiWndID>
  [  4] extcall 270 ............................. <windowExists(pKoppiWndID)>
  [  7] jmpifz [ 22] ............................ if windowExists(pKoppiWndID) then
  [ 10] pushint8 1 .............................. <1>
  [ 12] setprop 272 ............................. pSwimSuitIndex = 1
  [ 15] getprop 245 ............................. <pKoppiWndID>
  [ 17] pusharglistnoret 1 ...................... <pKoppiWndID>
  [ 19] extcall 271 ............................. removeWindow(pKoppiWndID)
  [ 22] ret
end

on openTicketWindow me
  [  0] pushsymb 403 ............................ <#show_ticketWindow>
  [  3] pusharglistnoret 1 ...................... <#show_ticketWindow>
  [  5] extcall 309 ............................. executeMessage(#show_ticketWindow)
  [  8] pushint8 1 .............................. <1>
  [ 10] pusharglistnoret 1 ...................... <1>
  [ 12] extcall 8 ............................... return 1
  [ 14] ret
end

on doTheDew me, tUserName
  [  0] pushzero ................................ <0>
  [  1] pusharglistnoret 1 ...................... <0>
  [  3] extcall 8 ............................... return 0
  [  5] pushsymb 23 ............................. <#room>
  [  7] pusharglist 1 ........................... <#room>
  [  9] extcall 22 .............................. <getThread(#room)>
  [ 11] pusharglist 1 ........................... <getThread(#room)>
  [ 13] objcall 117 ............................. <getThread(#room).getComponent()>
  [ 15] getparam 1 .............................. <tUserName>
  [ 17] pusharglist 2 ........................... <getThread(#room).getComponent(), tUserName>
  [ 19] objcall 118 ............................. <getThread(#room).getComponent().userObjectExists(tUserName)>
  [ 21] not ..................................... <not getThread(#room).getComponent().userObjectExists(tUserName)>
  [ 22] jmpifz [ 42] ............................ if not getThread(#room).getComponent().userObjectExists(tUserName) then
  [ 25] getparam 0 .............................. <me>
  [ 27] pushcons 19 ............................. <"User not found:">
  [ 29] getparam 1 .............................. <tUserName>
  [ 31] joinpadstr .............................. <"User not found:" && tUserName>
  [ 32] pushsymb 237 ............................ <#doTheDew>
  [ 34] pusharglist 3 ........................... <me, "User not found:" && tUserName, #doTheDew>
  [ 36] extcall 119 ............................. <error(me, "User not found:" && tUserName, #doTheDew)>
  [ 38] pusharglistnoret 1 ...................... <error(me, "User not found:" && tUserName, #doTheDew)>
  [ 40] extcall 8 ............................... return error(me, "User not found:" && tUserName, #doTheDew)
  [ 42] pushsymb 23 ............................. <#room>
  [ 44] pusharglist 1 ........................... <#room>
  [ 46] extcall 22 .............................. <getThread(#room)>
  [ 48] pusharglist 1 ........................... <getThread(#room)>
  [ 50] objcall 117 ............................. <getThread(#room).getComponent()>
  [ 52] getparam 1 .............................. <tUserName>
  [ 54] pusharglist 2 ........................... <getThread(#room).getComponent(), tUserName>
  [ 56] objcall 120 ............................. <getThread(#room).getComponent().getUserObject(tUserName)>
  [ 58] setlocal 0 .............................. tUserObj = getThread(#room).getComponent().getUserObject(tUserName)
  [ 60] getlocal 0 .............................. <tUserObj>
  [ 62] pusharglist 1 ........................... <tUserObj>
  [ 64] objcall 121 ............................. <tUserObj.getSprites()>
  [ 66] pushint8 1 .............................. <1>
  [ 68] pusharglist 2 ........................... <tUserObj.getSprites(), 1>
  [ 70] objcall 37 .............................. <tUserObj.getSprites()[1]>
  [ 72] setlocal 1 .............................. tUserSpr = tUserObj.getSprites()[1]
  [ 74] getlocal 1 .............................. <tUserSpr>
  [ 76] pusharglist 1 ........................... <tUserSpr>
  [ 78] extcall 45 .............................. <voidp(tUserSpr)>
  [ 80] jmpifz [100] ............................ if voidp(tUserSpr) then
  [ 83] getparam 0 .............................. <me>
  [ 85] pushcons 20 ............................. <"Couldn't extract sprites from user object:">
  [ 87] getparam 1 .............................. <tUserName>
  [ 89] joinpadstr .............................. <"Couldn't extract sprites from user object:" && tUserName>
  [ 90] pushsymb 237 ............................ <#doTheDew>
  [ 92] pusharglist 3 ........................... <me, "Couldn't extract sprites from user object:" && tUserName, #doTheDew>
  [ 94] extcall 119 ............................. <error(me, "Couldn't extract sprites from user object:" && tUserName, #doTheDew)>
  [ 96] pusharglistnoret 1 ...................... <error(me, "Couldn't extract sprites from user object:" && tUserName, #doTheDew)>
  [ 98] extcall 8 ............................... return error(me, "Couldn't extract sprites from user object:" && tUserName, #doTheDew)
  [100] getparam 1 .............................. <tUserName>
  [102] setprop 248 ............................. pUserName = tUserName
  [104] getlocal 0 .............................. <tUserObj>
  [106] pushint8 12 ............................. <12>
  [108] pushint8 21 ............................. <21>
  [110] getlocal 0 .............................. <tUserObj>
  [112] getobjprop 297 .......................... <tUserObj.pLocH>
  [115] pushint8 4 .............................. <4>
  [117] pushint8 4 .............................. <4>
  [119] pusharglistnoret 6 ...................... <tUserObj, 12, 21, tUserObj.pLocH, 4, 4>
  [121] objcall 298 ............................. tUserObj.Refresh(12, 21, tUserObj.pLocH, 4, 4)
  [124] getlocal 0 .............................. <tUserObj>
  [126] pusharglistnoret 1 ...................... <tUserObj>
  [128] objcall 299 ............................. tUserObj.fuseAction_wave()
  [131] pushsymb 300 ............................ <#doHandWorkRight>
  [134] getlocal 0 .............................. <tUserObj>
  [136] getobjprop 301 .......................... <tUserObj.pPartList>
  [139] pushcons 21 ............................. <"wav">
  [141] pusharglistnoret 3 ...................... <#doHandWorkRight, tUserObj.pPartList, "wav">
  [143] extcall 49 .............................. call(#doHandWorkRight, tUserObj.pPartList, "wav")
  [145] getlocal 0 .............................. <tUserObj>
  [147] pusharglistnoret 1 ...................... <tUserObj>
  [149] objcall 7 ............................... tUserObj.prepare()
  [151] getlocal 0 .............................. <tUserObj>
  [153] pusharglistnoret 1 ...................... <tUserObj>
  [155] objcall 302 ............................. tUserObj.render()
  [158] getprop 256 ............................. <pUserMem>
  [161] getlocal 1 .............................. <tUserSpr>
  [163] getchainedprop 55 ....................... <tUserSpr.member>
  [165] getobjprop 98 ........................... <tUserSpr.member.image>
  [167] setobjprop 98 ........................... pUserMem.image = tUserSpr.member.image
  [169] getprop 256 ............................. <pUserMem>
  [172] getlocal 1 .............................. <tUserSpr>
  [174] getchainedprop 55 ....................... <tUserSpr.member>
  [176] getobjprop 206 .......................... <tUserSpr.member.regPoint>
  [178] setobjprop 206 .......................... pUserMem.regPoint = tUserSpr.member.regPoint
  [180] getprop 259 ............................. <pUserSpr>
  [183] getlocal 1 .............................. <tUserSpr>
  [185] getobjprop 155 .......................... <tUserSpr.loc>
  [187] pushint8 2 .............................. <2>
  [189] inv ..................................... <-2>
  [190] pushint8 3 .............................. <3>
  [192] inv ..................................... <-3>
  [193] pusharglist 2 ........................... <[-2, -3]>
  [195] pushlist ................................ <[-2, -3]>
  [196] add ..................................... <tUserSpr.loc + [-2, -3]>
  [197] setobjprop 155 .......................... pUserSpr.loc = tUserSpr.loc + [-2, -3]
  [199] getprop 259 ............................. <pUserSpr>
  [202] getlocal 1 .............................. <tUserSpr>
  [204] getobjprop 27 ........................... <tUserSpr.locZ>
  [206] setobjprop 27 ........................... pUserSpr.locZ = tUserSpr.locZ
  [208] getprop 259 ............................. <pUserSpr>
  [211] getlocal 1 .............................. <tUserSpr>
  [213] getobjprop 179 .......................... <tUserSpr.flipH>
  [215] setobjprop 179 .......................... pUserSpr.flipH = tUserSpr.flipH
  [217] getprop 259 ............................. <pUserSpr>
  [220] pushint8 1 .............................. <1>
  [222] setobjprop 32 ........................... pUserSpr.visible = 1
  [224] pushsymb 23 ............................. <#room>
  [226] pusharglist 1 ........................... <#room>
  [228] extcall 22 .............................. <getThread(#room)>
  [230] pusharglist 1 ........................... <getThread(#room)>
  [232] objcall 117 ............................. <getThread(#room).getComponent()>
  [234] getprop 248 ............................. <pUserName>
  [236] pusharglistnoret 2 ...................... <getThread(#room).getComponent(), pUserName>
  [238] objcall 303 ............................. getThread(#room).getComponent().removeUserObject(pUserName)
  [241] getparam 0 .............................. <me>
  [243] pusharglist 1 ........................... <me>
  [245] objcall 14 .............................. <me.getID()>
  [247] pusharglistnoret 1 ...................... <me.getID()>
  [249] extcall 13 .............................. receivePrepare(me.getID())
  [251] getprop 249 ............................. <pState>
  [253] pushsymb 250 ............................ <#ready>
  [255] eq ...................................... <pState = #ready>
  [256] jmpifz [264] ............................ if pState = #ready then
  [259] pushsymb 304 ............................ <#action>
  [262] setprop 249 ............................. pState = #action
  [264] ret
end

on prepare me
  [  0] getprop 249 ............................. <pState>
  [  2] peek 0 .................................. case pState of
  [  4] pushsymb 250 ............................ <#ready>
  [  6] eq
  [  7] jmpifz [ 13] ............................ (case) #ready:
  [ 10] jmp [ 45]
  [ 13] peek 0
  [ 15] pushsymb 304 ............................ <#action>
  [ 18] eq
  [ 19] jmpifz [ 31] ............................ (case) #action:
  [ 22] getparam 0 .............................. <me>
  [ 24] pusharglistnoret 1 ...................... <me>
  [ 26] objcall 238 ............................. me.executeEscape()
  [ 28] jmp [ 45]
  [ 31] peek 0
  [ 33] pushsymb 8 .............................. <#return>
  [ 35] eq
  [ 36] jmpifz [ 45] ............................ (case) #return:
  [ 39] getparam 0 .............................. <me>
  [ 41] pusharglistnoret 1 ...................... <me>
  [ 43] objcall 239 ............................. me.executeReturn()
  [ 45] pop 1 ................................... end case
  [ 47] ret
end

on executeEscape me
  [  0] getprop 88 .............................. <pSpeed>
  [  2] pushcons 22 ............................. <1.19999999999999996>
  [  4] mul ..................................... <pSpeed * 1.19999999999999996>
  [  5] setprop 88 .............................. pSpeed = pSpeed * 1.19999999999999996
  [  7] getprop 253 ............................. <pCurLoc>
  [  9] getprop 88 .............................. <pSpeed>
  [ 11] inv ..................................... <-pSpeed>
  [ 12] getprop 88 .............................. <pSpeed>
  [ 14] pusharglist 2 ........................... <[-pSpeed, pSpeed]>
  [ 16] pushlist ................................ <[-pSpeed, pSpeed]>
  [ 17] add ..................................... <pCurLoc + [-pSpeed, pSpeed]>
  [ 18] setprop 253 ............................. pCurLoc = pCurLoc + [-pSpeed, pSpeed]
  [ 20] getprop 263 ............................. <pElevSpr_a>
  [ 23] getprop 253 ............................. <pCurLoc>
  [ 25] setobjprop 155 .......................... pElevSpr_a.loc = pCurLoc
  [ 27] getprop 264 ............................. <pElevSpr_b>
  [ 30] getprop 264 ............................. <pElevSpr_b>
  [ 33] getobjprop 155 .......................... <pElevSpr_b.loc>
  [ 35] getprop 88 .............................. <pSpeed>
  [ 37] getprop 88 .............................. <pSpeed>
  [ 39] inv ..................................... <-pSpeed>
  [ 40] pusharglist 2 ........................... <[pSpeed, -pSpeed]>
  [ 42] pushlist ................................ <[pSpeed, -pSpeed]>
  [ 43] add ..................................... <pElevSpr_b.loc + [pSpeed, -pSpeed]>
  [ 44] setobjprop 155 .......................... pElevSpr_b.loc = pElevSpr_b.loc + [pSpeed, -pSpeed]
  [ 46] getprop 259 ............................. <pUserSpr>
  [ 49] getprop 259 ............................. <pUserSpr>
  [ 52] getobjprop 155 .......................... <pUserSpr.loc>
  [ 54] getprop 88 .............................. <pSpeed>
  [ 56] inv ..................................... <-pSpeed>
  [ 57] getprop 88 .............................. <pSpeed>
  [ 59] pusharglist 2 ........................... <[-pSpeed, pSpeed]>
  [ 61] pushlist ................................ <[-pSpeed, pSpeed]>
  [ 62] add ..................................... <pUserSpr.loc + [-pSpeed, pSpeed]>
  [ 63] setobjprop 155 .......................... pUserSpr.loc = pUserSpr.loc + [-pSpeed, pSpeed]
  [ 65] getprop 253 ............................. <pCurLoc>
  [ 67] pushint8 1 .............................. <1>
  [ 69] pusharglist 2 ........................... <pCurLoc, 1>
  [ 71] objcall 37 .............................. <pCurLoc[1]>
  [ 73] pushint8 20 ............................. <20>
  [ 75] inv ..................................... <-20>
  [ 76] lt ...................................... <pCurLoc[1] < -20>
  [ 77] jmpifz [129] ............................ if pCurLoc[1] < -20 then
  [ 80] pushfloat32 1.0 ......................... <1.0>
  [ 85] setprop 88 .............................. pSpeed = 1.0
  [ 87] getprop 251 ............................. <pActLoc>
  [ 89] setprop 253 ............................. pCurLoc = pActLoc
  [ 91] getprop 264 ............................. <pElevSpr_b>
  [ 94] pushint8 1 .............................. <1>
  [ 96] setobjprop 179 .......................... pElevSpr_b.flipH = 1
  [ 98] getprop 264 ............................. <pElevSpr_b>
  [101] getprop 251 ............................. <pActLoc>
  [103] pushint8 17 ............................. <17>
  [105] inv ..................................... <-17>
  [106] pushint8 11 ............................. <11>
  [108] inv ..................................... <-11>
  [109] pusharglist 2 ........................... <[-17, -11]>
  [111] pushlist ................................ <[-17, -11]>
  [112] add ..................................... <pActLoc + [-17, -11]>
  [113] getprop 264 ............................. <pElevSpr_b>
  [116] getobjprop 168 .......................... <pElevSpr_b.width>
  [118] pushzero ................................ <0>
  [119] pusharglist 2 ........................... <[pElevSpr_b.width, 0]>
  [121] pushlist ................................ <[pElevSpr_b.width, 0]>
  [122] add ..................................... <pActLoc + [-17, -11] + [pElevSpr_b.width, 0]>
  [123] setobjprop 155 .......................... pElevSpr_b.loc = pActLoc + [-17, -11] + [pElevSpr_b.width, 0]
  [125] pushsymb 8 .............................. <#return>
  [127] setprop 249 ............................. pState = #return
  [129] ret
end

on executeReturn me
  [  0] getprop 264 ............................. <pElevSpr_b>
  [  3] getprop 264 ............................. <pElevSpr_b>
  [  6] getobjprop 155 .......................... <pElevSpr_b.loc>
  [  8] getprop 254 ............................. <pLocAnimList>
  [ 10] getprop 255 ............................. <pLocAnimIndx>
  [ 12] pusharglist 2 ........................... <pLocAnimList, pLocAnimIndx>
  [ 14] objcall 37 .............................. <pLocAnimList[pLocAnimIndx]>
  [ 16] add ..................................... <pElevSpr_b.loc + pLocAnimList[pLocAnimIndx]>
  [ 17] setobjprop 155 .......................... pElevSpr_b.loc = pElevSpr_b.loc + pLocAnimList[pLocAnimIndx]
  [ 19] getprop 255 ............................. <pLocAnimIndx>
  [ 21] pushint8 1 .............................. <1>
  [ 23] add ..................................... <pLocAnimIndx + 1>
  [ 24] setprop 255 ............................. pLocAnimIndx = pLocAnimIndx + 1
  [ 26] getprop 255 ............................. <pLocAnimIndx>
  [ 28] getprop 254 ............................. <pLocAnimList>
  [ 30] getobjprop 64 ........................... <pLocAnimList.count>
  [ 32] eq ...................................... <pLocAnimIndx = pLocAnimList.count>
  [ 33] jmpifz [119] ............................ if pLocAnimIndx = pLocAnimList.count then
  [ 36] getprop 263 ............................. <pElevSpr_a>
  [ 39] getprop 251 ............................. <pActLoc>
  [ 41] setobjprop 155 .......................... pElevSpr_a.loc = pActLoc
  [ 43] getprop 264 ............................. <pElevSpr_b>
  [ 46] getprop 252 ............................. <pEndLoc>
  [ 48] pushzero ................................ <0>
  [ 49] pushint8 22 ............................. <22>
  [ 51] inv ..................................... <-22>
  [ 52] pusharglist 2 ........................... <[0, -22]>
  [ 54] pushlist ................................ <[0, -22]>
  [ 55] add ..................................... <pEndLoc + [0, -22]>
  [ 56] setobjprop 155 .......................... pElevSpr_b.loc = pEndLoc + [0, -22]
  [ 58] getprop 264 ............................. <pElevSpr_b>
  [ 61] pushzero ................................ <0>
  [ 62] setobjprop 179 .......................... pElevSpr_b.flipH = 0
  [ 64] pushint8 1 .............................. <1>
  [ 66] setprop 255 ............................. pLocAnimIndx = 1
  [ 68] getprop 259 ............................. <pUserSpr>
  [ 71] pushzero ................................ <0>
  [ 72] setobjprop 32 ........................... pUserSpr.visible = 0
  [ 74] pushsymb 250 ............................ <#ready>
  [ 76] setprop 249 ............................. pState = #ready
  [ 78] getparam 0 .............................. <me>
  [ 80] pusharglist 1 ........................... <me>
  [ 82] objcall 14 .............................. <me.getID()>
  [ 84] pusharglistnoret 1 ...................... <me.getID()>
  [ 86] extcall 15 .............................. removePrepare(me.getID())
  [ 88] getprop 248 ............................. <pUserName>
  [ 90] pushsymb 109 ............................ <#session>
  [ 92] pusharglist 1 ........................... <#session>
  [ 94] extcall 40 .............................. <getObject(#session)>
  [ 96] pushsymb 308 ............................ <#userName>
  [ 99] pusharglist 2 ........................... <getObject(#session), #userName>
  [101] objcall 110 ............................. <getObject(#session).get(#userName)>
  [103] eq ...................................... <pUserName = getObject(#session).get(#userName)>
  [104] jmpifz [115] ............................ if pUserName = getObject(#session).get(#userName) then
  [107] pushsymb 310 ............................ <#leaveRoom>
  [110] pusharglistnoret 1 ...................... <#leaveRoom>
  [112] extcall 309 ............................. executeMessage(#leaveRoom)
  [115] pushcons 1 .............................. <EMPTY>
  [117] setprop 248 ............................. pUserName = EMPTY
  [119] ret
end

on createFigurePrew me
  [  0] pushcons 23 ............................. <"Figure_Preview">
  [  2] pusharglist 1 ........................... <"Figure_Preview">
  [  4] extcall 39 .............................. <objectExists("Figure_Preview")>
  [  6] not ..................................... <not objectExists("Figure_Preview")>
  [  7] jmpifz [ 24] ............................ if not objectExists("Figure_Preview") then
  [ 10] getparam 0 .............................. <me>
  [ 12] pushcons 24 ............................. <"Figure preview not found!">
  [ 14] pushsymb 240 ............................ <#createFigurePrew>
  [ 16] pusharglist 3 ........................... <me, "Figure preview not found!", #createFigurePrew>
  [ 18] extcall 119 ............................. <error(me, "Figure preview not found!", #createFigurePrew)>
  [ 20] pusharglistnoret 1 ...................... <error(me, "Figure preview not found!", #createFigurePrew)>
  [ 22] extcall 8 ............................... return error(me, "Figure preview not found!", #createFigurePrew)
  [ 24] pushsymb 109 ............................ <#session>
  [ 26] pusharglist 1 ........................... <#session>
  [ 28] extcall 40 .............................. <getObject(#session)>
  [ 30] pushcons 25 ............................. <"user_figure">
  [ 32] pusharglist 2 ........................... <getObject(#session), "user_figure">
  [ 34] objcall 110 ............................. <getObject(#session).get("user_figure")>
  [ 36] pusharglist 1 ........................... <getObject(#session).get("user_figure")>
  [ 38] objcall 132 ............................. <getObject(#session).get("user_figure").duplicate()>
  [ 40] setlocal 0 .............................. tFigure = getObject(#session).get("user_figure").duplicate()
  [ 42] getlocal 0 .............................. <tFigure>
  [ 44] pushcons 26 ............................. <"hd">
  [ 46] pusharglist 2 ........................... <tFigure, "hd">
  [ 48] objcall 37 .............................. <tFigure["hd"]>
  [ 50] pushcons 27 ............................. <"model">
  [ 52] pushcons 28 ............................. <"001">
  [ 54] pusharglistnoret 3 ...................... <tFigure["hd"], "model", "001">
  [ 56] objcall 28 .............................. tFigure["hd"]["model"] = "001"
  [ 58] getlocal 0 .............................. <tFigure>
  [ 60] pushcons 29 ............................. <"fc">
  [ 62] pusharglist 2 ........................... <tFigure, "fc">
  [ 64] objcall 37 .............................. <tFigure["fc"]>
  [ 66] pushcons 27 ............................. <"model">
  [ 68] pushcons 28 ............................. <"001">
  [ 70] pusharglistnoret 3 ...................... <tFigure["fc"], "model", "001">
  [ 72] objcall 28 .............................. tFigure["fc"]["model"] = "001"
  [ 74] pushsymb 109 ............................ <#session>
  [ 76] pusharglist 1 ........................... <#session>
  [ 78] extcall 40 .............................. <getObject(#session)>
  [ 80] pushcons 12 ............................. <"user_sex">
  [ 82] pusharglist 2 ........................... <getObject(#session), "user_sex">
  [ 84] objcall 110 ............................. <getObject(#session).get("user_sex")>
  [ 86] pushcons 13 ............................. <"F">
  [ 88] eq ...................................... <getObject(#session).get("user_sex") = "F">
  [ 89] jmpifz [112] ............................ if getObject(#session).get("user_sex") = "F" then / else
  [ 92] getlocal 0 .............................. <tFigure>
  [ 94] pushcons 16 ............................. <"ch">
  [ 96] pusharglist 2 ........................... <tFigure, "ch">
  [ 98] objcall 37 .............................. <tFigure["ch"]>
  [100] pushcons 27 ............................. <"model">
  [102] getprop 273 ............................. <pSwimSuitModel>
  [105] pusharglistnoret 3 ...................... <tFigure["ch"], "model", pSwimSuitModel>
  [107] objcall 28 .............................. tFigure["ch"]["model"] = pSwimSuitModel
  [109] jmp [129]
  [112] getlocal 0 .............................. <tFigure>
  [114] pushcons 16 ............................. <"ch">
  [116] pusharglist 2 ........................... <tFigure, "ch">
  [118] objcall 37 .............................. <tFigure["ch"]>
  [120] pushcons 27 ............................. <"model">
  [122] getprop 273 ............................. <pSwimSuitModel>
  [125] pusharglistnoret 3 ...................... <tFigure["ch"], "model", pSwimSuitModel>
  [127] objcall 28 .............................. tFigure["ch"]["model"] = pSwimSuitModel
  [129] getprop 276 ............................. <pSwimSuitColor>
  [132] pusharglist 1 ........................... <pSwimSuitColor>
  [134] extcall 45 .............................. <voidp(pSwimSuitColor)>
  [136] jmpifz [148] ............................ if voidp(pSwimSuitColor) then
  [139] pushcons 30 ............................. <"#EEEEEE">
  [141] pusharglist 1 ........................... <"#EEEEEE">
  [143] extcall 101 ............................. <rgb("#EEEEEE")>
  [145] setprop 276 ............................. pSwimSuitColor = rgb("#EEEEEE")
  [148] getprop 245 ............................. <pKoppiWndID>
  [150] pusharglist 1 ........................... <pKoppiWndID>
  [152] extcall 279 ............................. <getWindow(pKoppiWndID)>
  [155] setlocal 1 .............................. tWndObj = getWindow(pKoppiWndID)
  [157] getlocal 0 .............................. <tFigure>
  [159] pushcons 16 ............................. <"ch">
  [161] pusharglist 2 ........................... <tFigure, "ch">
  [163] objcall 37 .............................. <tFigure["ch"]>
  [165] pushcons 17 ............................. <"color">
  [167] getprop 276 ............................. <pSwimSuitColor>
  [170] pusharglistnoret 3 ...................... <tFigure["ch"], "color", pSwimSuitColor>
  [172] objcall 28 .............................. tFigure["ch"]["color"] = pSwimSuitColor
  [174] pushcons 31 ............................. <"lh">
  [176] pushcons 32 ............................. <"bd">
  [178] pushcons 16 ............................. <"ch">
  [180] pushcons 26 ............................. <"hd">
  [182] pushcons 29 ............................. <"fc">
  [184] pushcons 33 ............................. <"hr">
  [186] pushcons 34 ............................. <"rh">
  [188] pusharglist 7 ........................... <["lh", "bd", "ch", "hd", "fc", "hr", "rh"]>
  [190] pushlist ................................ <["lh", "bd", "ch", "hd", "fc", "hr", "rh"]>
  [191] setlocal 2 .............................. tPartList = ["lh", "bd", "ch", "hd", "fc", "hr", "rh"]
  [193] pushcons 23 ............................. <"Figure_Preview">
  [195] pusharglist 1 ........................... <"Figure_Preview">
  [197] extcall 40 .............................. <getObject("Figure_Preview")>
  [199] getlocal 2 .............................. <tPartList>
  [201] getlocal 0 .............................. <tFigure>
  [203] pushint8 2 .............................. <2>
  [205] pushcons 35 ............................. <"sh">
  [207] pusharglist 5 ........................... <getObject("Figure_Preview"), tPartList, tFigure, 2, "sh">
  [209] objcall 312 ............................. <getObject("Figure_Preview").getHumanPartImg(tPartList, tFigure, 2, "sh")>
  [212] setlocal 3 .............................. tHumanImg = getObject("Figure_Preview").getHumanPartImg(tPartList, tFigure, 2, "sh")
  [214] getlocal 1 .............................. <tWndObj>
  [216] pushcons 36 ............................. <"preview_img">
  [218] pusharglist 2 ........................... <tWndObj, "preview_img">
  [220] objcall 292 ............................. <tWndObj.getElement("preview_img")>
  [223] pushsymb 168 ............................ <#width>
  [225] pusharglist 2 ........................... <tWndObj.getElement("preview_img"), #width>
  [227] objcall 368 ............................. <tWndObj.getElement("preview_img").getProperty(#width)>
  [230] setlocal 4 .............................. tWidth = tWndObj.getElement("preview_img").getProperty(#width)
  [232] getlocal 1 .............................. <tWndObj>
  [234] pushcons 36 ............................. <"preview_img">
  [236] pusharglist 2 ........................... <tWndObj, "preview_img">
  [238] objcall 292 ............................. <tWndObj.getElement("preview_img")>
  [241] pushsymb 166 ............................ <#height>
  [243] pusharglist 2 ........................... <tWndObj.getElement("preview_img"), #height>
  [245] objcall 368 ............................. <tWndObj.getElement("preview_img").getProperty(#height)>
  [248] setlocal 5 .............................. tHeight = tWndObj.getElement("preview_img").getProperty(#height)
  [250] getlocal 4 .............................. <tWidth>
  [252] getlocal 5 .............................. <tHeight>
  [254] pushint8 16 ............................. <16>
  [256] pusharglist 3 ........................... <tWidth, tHeight, 16>
  [258] extcall 98 .............................. <image(tWidth, tHeight, 16)>
  [260] setlocal 6 .............................. tPrewImg = image(tWidth, tHeight, 16)
  [262] pushint8 11 ............................. <11>
  [264] inv ..................................... <-11>
  [265] pushint8 24 ............................. <24>
  [267] pushint8 11 ............................. <11>
  [269] inv ..................................... <-11>
  [270] pushint8 24 ............................. <24>
  [272] pusharglist 4 ........................... <-11, 24, -11, 24>
  [274] extcall 100 ............................. <rect(-11, 24, -11, 24)>
  [276] setlocal 7 .............................. tMargins = rect(-11, 24, -11, 24)
  [278] pushzero ................................ <0>
  [279] getlocal 6 .............................. <tPrewImg>
  [281] getobjprop 166 .......................... <tPrewImg.height>
  [283] getlocal 3 .............................. <tHumanImg>
  [285] getobjprop 166 .......................... <tHumanImg.height>
  [287] pushint8 4 .............................. <4>
  [289] mul ..................................... <tHumanImg.height * 4>
  [290] sub ..................................... <tPrewImg.height - (tHumanImg.height * 4)>
  [291] getlocal 3 .............................. <tHumanImg>
  [293] getobjprop 168 .......................... <tHumanImg.width>
  [295] pushint8 4 .............................. <4>
  [297] mul ..................................... <tHumanImg.width * 4>
  [298] getlocal 6 .............................. <tPrewImg>
  [300] getobjprop 166 .......................... <tPrewImg.height>
  [302] pusharglist 4 ........................... <0, tPrewImg.height - (tHumanImg.height * 4), tHumanImg.width * 4, tPrewImg.height>
  [304] extcall 100 ............................. <rect(0, tPrewImg.height - (tHumanImg.height * 4), tHumanImg.width * 4, tPrewImg.height)>
  [306] getlocal 7 .............................. <tMargins>
  [308] add ..................................... <rect(0, tPrewImg.height - (tHumanImg.height * 4), tHumanImg.width * 4, tPrewImg.height) + tMargins>
  [309] setlocal 8 .............................. tdestrect = rect(0, tPrewImg.height - (tHumanImg.height * 4), tHumanImg.width * 4, tPrewImg.height) + tMargins
  [311] getlocal 6 .............................. <tPrewImg>
  [313] getlocal 3 .............................. <tHumanImg>
  [315] getlocal 8 .............................. <tdestrect>
  [317] getlocal 3 .............................. <tHumanImg>
  [319] getobjprop 100 .......................... <tHumanImg.rect>
  [321] pusharglistnoret 4 ...................... <tPrewImg, tHumanImg, tdestrect, tHumanImg.rect>
  [323] objcall 163 ............................. tPrewImg.copyPixels(tHumanImg, tdestrect, tHumanImg.rect)
  [325] getlocal 1 .............................. <tWndObj>
  [327] pushcons 36 ............................. <"preview_img">
  [329] pusharglist 2 ........................... <tWndObj, "preview_img">
  [331] objcall 292 ............................. <tWndObj.getElement("preview_img")>
  [334] getlocal 6 .............................. <tPrewImg>
  [336] pusharglistnoret 2 ...................... <tWndObj.getElement("preview_img"), tPrewImg>
  [338] objcall 314 ............................. tWndObj.getElement("preview_img").feedImage(tPrewImg)
  [341] getlocal 1 .............................. <tWndObj>
  [343] pushcons 37 ............................. <"preview_color">
  [345] pusharglist 2 ........................... <tWndObj, "preview_color">
  [347] objcall 292 ............................. <tWndObj.getElement("preview_color")>
  [350] pushsymb 315 ............................ <#bgColor>
  [353] getprop 276 ............................. <pSwimSuitColor>
  [356] pusharglistnoret 3 ...................... <tWndObj.getElement("preview_color"), #bgColor, pSwimSuitColor>
  [358] objcall 369 ............................. tWndObj.getElement("preview_color").setProperty(#bgColor, pSwimSuitColor)
  [361] ret
end

on changeSwimSuitColor me, tPart, tButtonDir
  [  0] pushcons 2 .............................. <"Figure_System_Mountain">
  [  2] pusharglist 1 ........................... <"Figure_System_Mountain">
  [  4] extcall 39 .............................. <objectExists("Figure_System_Mountain")>
  [  6] not ..................................... <not objectExists("Figure_System_Mountain")>
  [  7] jmpifz [ 24] ............................ if not objectExists("Figure_System_Mountain") then
  [ 10] getparam 0 .............................. <me>
  [ 12] pushcons 38 ............................. <"Figure system Mountain object not found">
  [ 14] pushsymb 241 ............................ <#changeSwimSuitColor>
  [ 16] pusharglist 3 ........................... <me, "Figure system Mountain object not found", #changeSwimSuitColor>
  [ 18] extcall 119 ............................. <error(me, "Figure system Mountain object not found", #changeSwimSuitColor)>
  [ 20] pusharglistnoret 1 ...................... <error(me, "Figure system Mountain object not found", #changeSwimSuitColor)>
  [ 22] extcall 8 ............................... return error(me, "Figure system Mountain object not found", #changeSwimSuitColor)
  [ 24] pushsymb 109 ............................ <#session>
  [ 26] pusharglist 1 ........................... <#session>
  [ 28] extcall 40 .............................. <getObject(#session)>
  [ 30] pushcons 12 ............................. <"user_sex">
  [ 32] pusharglist 2 ........................... <getObject(#session), "user_sex">
  [ 34] objcall 110 ............................. <getObject(#session).get("user_sex")>
  [ 36] pushcons 13 ............................. <"F">
  [ 38] eq ...................................... <getObject(#session).get("user_sex") = "F">
  [ 39] jmpifz [ 49] ............................ if getObject(#session).get("user_sex") = "F" then / else
  [ 42] pushint8 20 ............................. <20>
  [ 44] setlocal 0 .............................. tSetID = 20
  [ 46] jmp [ 53]
  [ 49] pushint8 10 ............................. <10>
  [ 51] setlocal 0 .............................. tSetID = 10
  [ 53] pushcons 2 .............................. <"Figure_System_Mountain">
  [ 55] pusharglist 1 ........................... <"Figure_System_Mountain">
  [ 57] extcall 40 .............................. <getObject("Figure_System_Mountain")>
  [ 59] getparam 1 .............................. <tPart>
  [ 61] getlocal 0 .............................. <tSetID>
  [ 63] pushsymb 109 ............................ <#session>
  [ 65] pusharglist 1 ........................... <#session>
  [ 67] extcall 40 .............................. <getObject(#session)>
  [ 69] pushcons 12 ............................. <"user_sex">
  [ 71] pusharglist 2 ........................... <getObject(#session), "user_sex">
  [ 73] objcall 110 ............................. <getObject(#session).get("user_sex")>
  [ 75] pusharglist 4 ........................... <getObject("Figure_System_Mountain"), tPart, tSetID, getObject(#session).get("user_sex")>
  [ 77] objcall 322 ............................. <getObject("Figure_System_Mountain").getCountOfPartColors(tPart, tSetID, getObject(#session).get("user_sex"))>
  [ 80] setlocal 1 .............................. tMaxValue = getObject("Figure_System_Mountain").getCountOfPartColors(tPart, tSetID, getObject(#session).get("user_sex"))
  [ 82] getparam 2 .............................. <tButtonDir>
  [ 84] pushzero ................................ <0>
  [ 85] eq ...................................... <tButtonDir = 0>
  [ 86] jmpifz [ 97] ............................ if tButtonDir = 0 then / else
  [ 89] pushint8 1 .............................. <1>
  [ 91] setprop 272 ............................. pSwimSuitIndex = 1
  [ 94] jmp [146]
  [ 97] getprop 272 ............................. <pSwimSuitIndex>
  [100] getparam 2 .............................. <tButtonDir>
  [102] add ..................................... <pSwimSuitIndex + tButtonDir>
  [103] getlocal 1 .............................. <tMaxValue>
  [105] gt ...................................... <(pSwimSuitIndex + tButtonDir) > tMaxValue>
  [106] jmpifz [117] ............................ if (pSwimSuitIndex + tButtonDir) > tMaxValue then / else
  [109] getlocal 1 .............................. <tMaxValue>
  [111] setprop 272 ............................. pSwimSuitIndex = tMaxValue
  [114] jmp [146]
  [117] getprop 272 ............................. <pSwimSuitIndex>
  [120] getparam 2 .............................. <tButtonDir>
  [122] add ..................................... <pSwimSuitIndex + tButtonDir>
  [123] pushint8 1 .............................. <1>
  [125] lt ...................................... <(pSwimSuitIndex + tButtonDir) < 1>
  [126] jmpifz [137] ............................ if (pSwimSuitIndex + tButtonDir) < 1 then / else
  [129] pushint8 1 .............................. <1>
  [131] setprop 272 ............................. pSwimSuitIndex = 1
  [134] jmp [146]
  [137] getprop 272 ............................. <pSwimSuitIndex>
  [140] getparam 2 .............................. <tButtonDir>
  [142] add ..................................... <pSwimSuitIndex + tButtonDir>
  [143] setprop 272 ............................. pSwimSuitIndex = pSwimSuitIndex + tButtonDir
  [146] pushcons 2 .............................. <"Figure_System_Mountain">
  [148] pusharglist 1 ........................... <"Figure_System_Mountain">
  [150] extcall 40 .............................. <getObject("Figure_System_Mountain")>
  [152] getparam 1 .............................. <tPart>
  [154] getprop 272 ............................. <pSwimSuitIndex>
  [157] getlocal 0 .............................. <tSetID>
  [159] pushsymb 109 ............................ <#session>
  [161] pusharglist 1 ........................... <#session>
  [163] extcall 40 .............................. <getObject(#session)>
  [165] pushcons 12 ............................. <"user_sex">
  [167] pusharglist 2 ........................... <getObject(#session), "user_sex">
  [169] objcall 110 ............................. <getObject(#session).get("user_sex")>
  [171] pusharglist 5 ........................... <getObject("Figure_System_Mountain"), tPart, pSwimSuitIndex, tSetID, getObject(#session).get("user_sex")>
  [173] objcall 274 ............................. <getObject("Figure_System_Mountain").getColorOfPartByOrderNum(tPart, pSwimSuitIndex, tSetID, getObject(#session).get("user_sex"))>
  [176] setlocal 2 .............................. tPartProps = getObject("Figure_System_Mountain").getColorOfPartByOrderNum(tPart, pSwimSuitIndex, tSetID, getObject(#session).get("user_sex"))
  [178] getlocal 2 .............................. <tPartProps>
  [180] getobjprop 265 .......................... <tPartProps.ilk>
  [183] pushsymb 275 ............................ <#propList>
  [186] eq ...................................... <tPartProps.ilk = #propList>
  [187] jmpifz [209] ............................ if tPartProps.ilk = #propList then
  [190] getlocal 2 .............................. <tPartProps>
  [192] pushcons 17 ............................. <"color">
  [194] pusharglist 2 ........................... <tPartProps, "color">
  [196] objcall 37 .............................. <tPartProps["color"]>
  [198] pusharglist 1 ........................... <tPartProps["color"]>
  [200] extcall 101 ............................. <rgb(tPartProps["color"])>
  [202] setlocal 3 .............................. tColor = rgb(tPartProps["color"])
  [204] getlocal 3 .............................. <tColor>
  [206] setprop 276 ............................. pSwimSuitColor = tColor
  [209] getparam 0 .............................. <me>
  [211] pusharglistnoret 1 ...................... <me>
  [213] objcall 240 ............................. me.createFigurePrew()
  [215] ret
end

on eventProcPukukoppi me, tEvent, tSprID, tParam
  [  0] getparam 1 .............................. <tEvent>
  [  2] pushsymb 266 ............................ <#mouseUp>
  [  5] eq ...................................... <tEvent = #mouseUp>
  [  6] jmpifz [390] ............................ if tEvent = #mouseUp then
  [  9] getparam 2 .............................. <tSprID>
  [ 11] peek 0 .................................. case tSprID of
  [ 13] pushcons 39 ............................. <"exit">
  [ 15] eq
  [ 16] jmpifz [ 62] ............................ (case) "exit":
  [ 19] getparam 0 .............................. <me>
  [ 21] pusharglistnoret 1 ...................... <me>
  [ 23] objcall 235 ............................. me.closePukukoppi()
  [ 25] pushcons 40 ............................. <"connection.room.id">
  [ 27] pusharglist 1 ........................... <"connection.room.id">
  [ 29] extcall 286 ............................. <getVariable("connection.room.id")>
  [ 32] pusharglist 1 ........................... <getVariable("connection.room.id")>
  [ 34] extcall 149 ............................. <getConnection(getVariable("connection.room.id"))>
  [ 36] pushcons 41 ............................. <"SWIMSUIT">
  [ 38] pusharglistnoret 2 ...................... <getConnection(getVariable("connection.room.id")), "SWIMSUIT">
  [ 40] objcall 151 ............................. getConnection(getVariable("connection.room.id")).send("SWIMSUIT")
  [ 42] pushcons 40 ............................. <"connection.room.id">
  [ 44] pusharglist 1 ........................... <"connection.room.id">
  [ 46] extcall 286 ............................. <getVariable("connection.room.id")>
  [ 49] pusharglist 1 ........................... <getVariable("connection.room.id")>
  [ 51] extcall 149 ............................. <getConnection(getVariable("connection.room.id"))>
  [ 53] pushcons 42 ............................. <"CLOSE_UIMAKOPPI">
  [ 55] pusharglistnoret 2 ...................... <getConnection(getVariable("connection.room.id")), "CLOSE_UIMAKOPPI">
  [ 57] objcall 151 ............................. getConnection(getVariable("connection.room.id")).send("CLOSE_UIMAKOPPI")
  [ 59] jmp [388]
  [ 62] peek 0
  [ 64] pushcons 43 ............................. <"go">
  [ 66] eq
  [ 67] jmpifz [269] ............................ (case) "go":
  [ 70] getparam 0 .............................. <me>
  [ 72] pusharglistnoret 1 ...................... <me>
  [ 74] objcall 235 ............................. me.closePukukoppi()
  [ 76] getmovieprop 126 ........................ <the itemDelimiter>
  [ 78] setlocal 0 .............................. tTempDelim = the itemDelimiter
  [ 80] pushcons 44 ............................. <",">
  [ 82] setmovieprop 126 ........................ the itemDelimiter = ","
  [ 84] getprop 276 ............................. <pSwimSuitColor>
  [ 87] pusharglist 1 ........................... <pSwimSuitColor>
  [ 89] extcall 293 ............................. <string(pSwimSuitColor)>
  [ 92] setlocal 1 .............................. tColor = string(pSwimSuitColor)
  [ 94] getlocal 1 .............................. <tColor>
  [ 96] pushsymb 127 ............................ <#item>
  [ 98] pushint8 1 .............................. <1>
  [100] pusharglist 3 ........................... <tColor, #item, 1>
  [102] objcall 328 ............................. <tColor.item[1]>
  [105] pushsymb 329 ............................ <#char>
  [108] pushint8 5 .............................. <5>
  [110] getlocal 1 .............................. <tColor>
  [112] pushsymb 127 ............................ <#item>
  [114] pushint8 1 .............................. <1>
  [116] pusharglist 3 ........................... <tColor, #item, 1>
  [118] objcall 328 ............................. <tColor.item[1]>
  [121] getobjprop 330 .......................... <tColor.item[1].length>
  [124] pusharglist 4 ........................... <tColor.item[1], #char, 5, tColor.item[1].length>
  [126] objcall 128 ............................. <tColor.item[1].char[5..tColor.item[1].length]>
  [128] pusharglist 1 ........................... <tColor.item[1].char[5..tColor.item[1].length]>
  [130] extcall 327 ............................. <value(tColor.item[1].char[5..tColor.item[1].length])>
  [133] setlocal 2 .............................. tR = value(tColor.item[1].char[5..tColor.item[1].length])
  [135] getlocal 1 .............................. <tColor>
  [137] pushsymb 127 ............................ <#item>
  [139] pushint8 2 .............................. <2>
  [141] pusharglist 3 ........................... <tColor, #item, 2>
  [143] objcall 128 ............................. <tColor.item[2]>
  [145] pusharglist 1 ........................... <tColor.item[2]>
  [147] extcall 327 ............................. <value(tColor.item[2])>
  [150] setlocal 3 .............................. tG = value(tColor.item[2])
  [152] getlocal 1 .............................. <tColor>
  [154] pushsymb 127 ............................ <#item>
  [156] pushint8 3 .............................. <3>
  [158] pusharglist 3 ........................... <tColor, #item, 3>
  [160] objcall 328 ............................. <tColor.item[3]>
  [163] pushsymb 329 ............................ <#char>
  [166] pushint8 1 .............................. <1>
  [168] getlocal 1 .............................. <tColor>
  [170] pushsymb 127 ............................ <#item>
  [172] pushint8 3 .............................. <3>
  [174] pusharglist 3 ........................... <tColor, #item, 3>
  [176] objcall 328 ............................. <tColor.item[3]>
  [179] getobjprop 330 .......................... <tColor.item[3].length>
  [182] pushint8 1 .............................. <1>
  [184] sub ..................................... <tColor.item[3].length - 1>
  [185] pusharglist 4 ........................... <tColor.item[3], #char, 1, tColor.item[3].length - 1>
  [187] objcall 128 ............................. <tColor.item[3].char[1..tColor.item[3].length - 1]>
  [189] pusharglist 1 ........................... <tColor.item[3].char[1..tColor.item[3].length - 1]>
  [191] extcall 327 ............................. <value(tColor.item[3].char[1..tColor.item[3].length - 1])>
  [194] setlocal 4 .............................. tB = value(tColor.item[3].char[1..tColor.item[3].length - 1])
  [196] getlocal 0 .............................. <tTempDelim>
  [198] setmovieprop 126 ........................ the itemDelimiter = tTempDelim
  [200] getlocal 2 .............................. <tR>
  [202] pushcons 44 ............................. <",">
  [204] joinstr ................................. <tR & ",">
  [205] getlocal 3 .............................. <tG>
  [207] joinstr ................................. <tR & "," & tG>
  [208] pushcons 44 ............................. <",">
  [210] joinstr ................................. <tR & "," & tG & ",">
  [211] getlocal 4 .............................. <tB>
  [213] joinstr ................................. <tR & "," & tG & "," & tB>
  [214] setlocal 1 .............................. tColor = tR & "," & tG & "," & tB
  [216] pushcons 45 ............................. <"ch=">
  [218] getprop 273 ............................. <pSwimSuitModel>
  [221] joinstr ................................. <"ch=" & pSwimSuitModel>
  [222] pushcons 46 ............................. <"/">
  [224] joinstr ................................. <"ch=" & pSwimSuitModel & "/">
  [225] getlocal 1 .............................. <tColor>
  [227] joinstr ................................. <"ch=" & pSwimSuitModel & "/" & tColor>
  [228] setlocal 5 .............................. tswimsuit = "ch=" & pSwimSuitModel & "/" & tColor
  [230] pushcons 40 ............................. <"connection.room.id">
  [232] pusharglist 1 ........................... <"connection.room.id">
  [234] extcall 286 ............................. <getVariable("connection.room.id")>
  [237] pusharglist 1 ........................... <getVariable("connection.room.id")>
  [239] extcall 149 ............................. <getConnection(getVariable("connection.room.id"))>
  [241] pushcons 41 ............................. <"SWIMSUIT">
  [243] getlocal 5 .............................. <tswimsuit>
  [245] pusharglistnoret 3 ...................... <getConnection(getVariable("connection.room.id")), "SWIMSUIT", tswimsuit>
  [247] objcall 151 ............................. getConnection(getVariable("connection.room.id")).send("SWIMSUIT", tswimsuit)
  [249] pushcons 40 ............................. <"connection.room.id">
  [251] pusharglist 1 ........................... <"connection.room.id">
  [253] extcall 286 ............................. <getVariable("connection.room.id")>
  [256] pusharglist 1 ........................... <getVariable("connection.room.id")>
  [258] extcall 149 ............................. <getConnection(getVariable("connection.room.id"))>
  [260] pushcons 42 ............................. <"CLOSE_UIMAKOPPI">
  [262] pusharglistnoret 2 ...................... <getConnection(getVariable("connection.room.id")), "CLOSE_UIMAKOPPI">
  [264] objcall 151 ............................. getConnection(getVariable("connection.room.id")).send("CLOSE_UIMAKOPPI")
  [266] jmp [388]
  [269] peek 0
  [271] pushcons 47 ............................. <"dew">
  [273] eq
  [274] jmpifz [348] ............................ (case) "dew":
  [277] pushcons 40 ............................. <"connection.room.id">
  [279] pusharglist 1 ........................... <"connection.room.id">
  [281] extcall 286 ............................. <getVariable("connection.room.id")>
  [284] pusharglist 1 ........................... <getVariable("connection.room.id")>
  [286] extcall 149 ............................. <getConnection(getVariable("connection.room.id"))>
  [288] pushcons 41 ............................. <"SWIMSUIT">
  [290] pusharglistnoret 2 ...................... <getConnection(getVariable("connection.room.id")), "SWIMSUIT">
  [292] objcall 151 ............................. getConnection(getVariable("connection.room.id")).send("SWIMSUIT")
  [294] pushcons 40 ............................. <"connection.room.id">
  [296] pusharglist 1 ........................... <"connection.room.id">
  [298] extcall 286 ............................. <getVariable("connection.room.id")>
  [301] pusharglist 1 ........................... <getVariable("connection.room.id")>
  [303] extcall 149 ............................. <getConnection(getVariable("connection.room.id"))>
  [305] pushcons 48 ............................. <"CHANGESHRT">
  [307] pusharglistnoret 2 ...................... <getConnection(getVariable("connection.room.id")), "CHANGESHRT">
  [309] objcall 151 ............................. getConnection(getVariable("connection.room.id")).send("CHANGESHRT")
  [311] pushcons 49 ............................. <"connection.info.id">
  [313] pusharglist 1 ........................... <"connection.info.id">
  [315] extcall 286 ............................. <getVariable("connection.info.id")>
  [318] pusharglist 1 ........................... <getVariable("connection.info.id")>
  [320] extcall 149 ............................. <getConnection(getVariable("connection.info.id"))>
  [322] pushcons 50 ............................. <"REFRESHFIGURE">
  [324] pusharglistnoret 2 ...................... <getConnection(getVariable("connection.info.id")), "REFRESHFIGURE">
  [326] objcall 151 ............................. getConnection(getVariable("connection.info.id")).send("REFRESHFIGURE")
  [328] pushcons 40 ............................. <"connection.room.id">
  [330] pusharglist 1 ........................... <"connection.room.id">
  [332] extcall 286 ............................. <getVariable("connection.room.id")>
  [335] pusharglist 1 ........................... <getVariable("connection.room.id")>
  [337] extcall 149 ............................. <getConnection(getVariable("connection.room.id"))>
  [339] pushcons 42 ............................. <"CLOSE_UIMAKOPPI">
  [341] pusharglistnoret 2 ...................... <getConnection(getVariable("connection.room.id")), "CLOSE_UIMAKOPPI">
  [343] objcall 151 ............................. getConnection(getVariable("connection.room.id")).send("CLOSE_UIMAKOPPI")
  [345] jmp [388]
  [348] peek 0
  [350] pushcons 51 ............................. <"prev">
  [352] eq
  [353] jmpifz [370] ............................ (case) "prev":
  [356] getparam 0 .............................. <me>
  [358] pushcons 16 ............................. <"ch">
  [360] pushint8 1 .............................. <1>
  [362] inv ..................................... <-1>
  [363] pusharglistnoret 3 ...................... <me, "ch", -1>
  [365] objcall 241 ............................. me.changeSwimSuitColor("ch", -1)
  [367] jmp [388]
  [370] peek 0
  [372] pushcons 52 ............................. <"next">
  [374] eq
  [375] jmpifz [388] ............................ (case) "next":
  [378] getparam 0 .............................. <me>
  [380] pushcons 16 ............................. <"ch">
  [382] pushint8 1 .............................. <1>
  [384] pusharglistnoret 3 ...................... <me, "ch", 1>
  [386] objcall 241 ............................. me.changeSwimSuitColor("ch", 1)
  [388] pop 1 ................................... end case
  [390] ret
end

on eventProcDew me, tEvent, tSprID, tParam
  [  0] getparam 1 .............................. <tEvent>
  [  2] pushsymb 266 ............................ <#mouseUp>
  [  5] eq ...................................... <tEvent = #mouseUp>
  [  6] jmpifz [215] ............................ if tEvent = #mouseUp then
  [  9] getparam 2 .............................. <tSprID>
  [ 11] peek 0 .................................. case tSprID of
  [ 13] pushcons 8 .............................. <"pool_teleport">
  [ 15] eq
  [ 16] jmpifz [159] ............................ (case) "pool_teleport":
  [ 19] pushsymb 109 ............................ <#session>
  [ 21] pusharglist 1 ........................... <#session>
  [ 23] extcall 40 .............................. <getObject(#session)>
  [ 25] pushcons 53 ............................. <"user_name">
  [ 27] pusharglist 2 ........................... <getObject(#session), "user_name">
  [ 29] objcall 110 ............................. <getObject(#session).get("user_name")>
  [ 31] setlocal 0 .............................. tName = getObject(#session).get("user_name")
  [ 33] pushsymb 23 ............................. <#room>
  [ 35] pusharglist 1 ........................... <#room>
  [ 37] extcall 22 .............................. <getThread(#room)>
  [ 39] pusharglist 1 ........................... <getThread(#room)>
  [ 41] objcall 117 ............................. <getThread(#room).getComponent()>
  [ 43] getlocal 0 .............................. <tName>
  [ 45] pusharglist 2 ........................... <getThread(#room).getComponent(), tName>
  [ 47] objcall 120 ............................. <getThread(#room).getComponent().getUserObject(tName)>
  [ 49] setlocal 1 .............................. tObj = getThread(#room).getComponent().getUserObject(tName)
  [ 51] getlocal 1 .............................. <tObj>
  [ 53] not ..................................... <not tObj>
  [ 54] jmpifz [ 64] ............................ if not tObj then
  [ 57] pop 1
  [ 59] pushzero ................................ <0>
  [ 60] pusharglistnoret 1 ...................... <0>
  [ 62] extcall 8 ............................... return 0
  [ 64] getlocal 1 .............................. <tObj>
  [ 66] getobjprop 339 .......................... <tObj.pClass>
  [ 69] pushcons 54 ............................. <"pelle">
  [ 71] eq ...................................... <tObj.pClass = "pelle">
  [ 72] jmpifz [156] ............................ if tObj.pClass = "pelle" then
  [ 75] getlocal 1 .............................. <tObj>
  [ 77] pusharglist 1 ........................... <tObj>
  [ 79] objcall 340 ............................. <tObj.isSwimming()>
  [ 82] jmpifz [122] ............................ if tObj.isSwimming() then / else
  [ 85] pushsymb 23 ............................. <#room>
  [ 87] pusharglist 1 ........................... <#room>
  [ 89] extcall 22 .............................. <getThread(#room)>
  [ 91] pusharglist 1 ........................... <getThread(#room)>
  [ 93] objcall 117 ............................. <getThread(#room).getComponent()>
  [ 95] pusharglist 1 ........................... <getThread(#room).getComponent()>
  [ 97] objcall 338 ............................. <getThread(#room).getComponent().getRoomConnection()>
  [100] pushcons 55 ............................. <"MOVE">
  [102] pushsymb 391 ............................ <#short>
  [105] pushint8 12 ............................. <12>
  [107] pushsymb 391 ............................ <#short>
  [110] pushint8 11 ............................. <11>
  [112] pusharglist 4 ........................... <[#short: 12, #short: 11]>
  [114] pushproplist ............................ <[#short: 12, #short: 11]>
  [115] pusharglistnoret 3 ...................... <getThread(#room).getComponent().getRoomConnection(), "MOVE", [#short: 12, #short: 11]>
  [117] objcall 151 ............................. getThread(#room).getComponent().getRoomConnection().send("MOVE", [#short: 12, #short: 11])
  [119] jmp [156]
  [122] pushsymb 23 ............................. <#room>
  [124] pusharglist 1 ........................... <#room>
  [126] extcall 22 .............................. <getThread(#room)>
  [128] pusharglist 1 ........................... <getThread(#room)>
  [130] objcall 117 ............................. <getThread(#room).getComponent()>
  [132] pusharglist 1 ........................... <getThread(#room).getComponent()>
  [134] objcall 338 ............................. <getThread(#room).getComponent().getRoomConnection()>
  [137] pushcons 55 ............................. <"MOVE">
  [139] pushsymb 391 ............................ <#short>
  [142] pushint8 11 ............................. <11>
  [144] pushsymb 391 ............................ <#short>
  [147] pushint8 11 ............................. <11>
  [149] pusharglist 4 ........................... <[#short: 11, #short: 11]>
  [151] pushproplist ............................ <[#short: 11, #short: 11]>
  [152] pusharglistnoret 3 ...................... <getThread(#room).getComponent().getRoomConnection(), "MOVE", [#short: 11, #short: 11]>
  [154] objcall 151 ............................. getThread(#room).getComponent().getRoomConnection().send("MOVE", [#short: 11, #short: 11])
  [156] jmp [213]
  [159] peek 0
  [161] pushcons 10 ............................. <"ticket_box">
  [163] eq
  [164] jmpifz [183] ............................ (case) "ticket_box":
  [167] pop 1
  [169] getparam 0 .............................. <me>
  [171] pusharglist 1 ........................... <me>
  [173] objcall 402 ............................. <me.openTicketWindow()>
  [176] pusharglistnoret 1 ...................... <me.openTicketWindow()>
  [178] extcall 8 ............................... return me.openTicketWindow()
  [180] jmp [213]
  [183] peek 0
  [185] pushcons 9 .............................. <"highscore_table">
  [187] eq
  [188] jmpifz [206] ............................ (case) "highscore_table":
  [191] pop 1
  [193] pushcons 56 ............................. <"url_peeloscore">
  [195] pusharglist 1 ........................... <"url_peeloscore">
  [197] extcall 148 ............................. <openNetPage("url_peeloscore")>
  [199] pusharglistnoret 1 ...................... <openNetPage("url_peeloscore")>
  [201] extcall 8 ............................... return openNetPage("url_peeloscore")
  [203] jmp [213] ............................... (case) otherwise:
  [206] getparam 2 .............................. <tSprID>
  [208] pusharglistnoret 1 ...................... <tSprID>
  [210] extcall 341 ............................. put tSprID
  [213] pop 1 ................................... end case
  [215] pushzero ................................ <0>
  [216] pusharglistnoret 1 ...................... <0>
  [218] extcall 8 ............................... return 0
  [220] ret
end
