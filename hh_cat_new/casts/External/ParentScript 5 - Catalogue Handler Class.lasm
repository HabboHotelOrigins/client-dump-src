on construct me
  [  0] getparam 0 .............................. <me>
  [  2] pushint8 1 .............................. <1>
  [  4] pusharglistnoret 2 ...................... <me, 1>
  [  6] objcall 379 ............................. me.regMsgList(1)
  [  9] ret
end

on deconstruct me
  [  0] getparam 0 .............................. <me>
  [  2] pushzero ................................ <0>
  [  3] pusharglistnoret 2 ...................... <me, 0>
  [  5] objcall 379 ............................. me.regMsgList(0)
  [  8] ret
end

on requestPage me, tPageID
  [  0] pushcons 0 .............................. <"connection.info.id">
  [  2] pushsymb 381 ............................ <#Info>
  [  5] pusharglist 2 ........................... <"connection.info.id", #Info>
  [  7] extcall 22 .............................. <getVariable("connection.info.id", #Info)>
  [  9] pusharglist 1 ........................... <getVariable("connection.info.id", #Info)>
  [ 11] extcall 380 ............................. <getConnection(getVariable("connection.info.id", #Info))>
  [ 14] pushcons 1 .............................. <"GET_CATALOG_PAGE">
  [ 16] pushsymb 382 ............................ <#integer>
  [ 19] getparam 1 .............................. <tPageID>
  [ 21] pusharglist 2 ........................... <[#integer: tPageID]>
  [ 23] pushproplist ............................ <[#integer: tPageID]>
  [ 24] pusharglistnoret 3 ...................... <getConnection(getVariable("connection.info.id", #Info)), "GET_CATALOG_PAGE", [#integer: tPageID]>
  [ 26] objcall 383 ............................. getConnection(getVariable("connection.info.id", #Info)).send("GET_CATALOG_PAGE", [#integer: tPageID])
  [ 29] ret
end

on requestCatalogIndex me
  [  0] pushcons 0 .............................. <"connection.info.id">
  [  2] pushsymb 381 ............................ <#Info>
  [  5] pusharglist 2 ........................... <"connection.info.id", #Info>
  [  7] extcall 22 .............................. <getVariable("connection.info.id", #Info)>
  [  9] pusharglist 1 ........................... <getVariable("connection.info.id", #Info)>
  [ 11] extcall 380 ............................. <getConnection(getVariable("connection.info.id", #Info))>
  [ 14] pushcons 2 .............................. <"GET_CATALOG_INDEX">
  [ 16] pusharglistnoret 2 ...................... <getConnection(getVariable("connection.info.id", #Info)), "GET_CATALOG_INDEX">
  [ 18] objcall 383 ............................. getConnection(getVariable("connection.info.id", #Info)).send("GET_CATALOG_INDEX")
  [ 21] ret
end

on sendPurchaseFromCatalog me, tPageID, tOfferCode, tExtraParam, tAsGift, tGiftReceiver, tGiftMessage
  [  0] pusharglist 0 ........................... <[:]>
  [  2] pushproplist ............................ <[:]>
  [  3] setlocal 0 .............................. tMsg = [:]
  [  5] getlocal 0 .............................. <tMsg>
  [  7] pushsymb 382 ............................ <#integer>
  [ 10] getparam 1 .............................. <tPageID>
  [ 12] pusharglistnoret 3 ...................... <tMsg, #integer, tPageID>
  [ 14] objcall 384 ............................. tMsg.addProp(#integer, tPageID)
  [ 17] getlocal 0 .............................. <tMsg>
  [ 19] pushsymb 382 ............................ <#integer>
  [ 22] getparam 2 .............................. <tOfferCode>
  [ 24] pusharglistnoret 3 ...................... <tMsg, #integer, tOfferCode>
  [ 26] objcall 384 ............................. tMsg.addProp(#integer, tOfferCode)
  [ 29] getlocal 0 .............................. <tMsg>
  [ 31] pushsymb 291 ............................ <#string>
  [ 34] getparam 3 .............................. <tExtraParam>
  [ 36] pusharglist 1 ........................... <tExtraParam>
  [ 38] extcall 291 ............................. <string(tExtraParam)>
  [ 41] pusharglistnoret 3 ...................... <tMsg, #string, string(tExtraParam)>
  [ 43] objcall 384 ............................. tMsg.addProp(#string, string(tExtraParam))
  [ 46] getlocal 0 .............................. <tMsg>
  [ 48] pushsymb 382 ............................ <#integer>
  [ 51] getparam 4 .............................. <tAsGift>
  [ 53] pusharglistnoret 3 ...................... <tMsg, #integer, tAsGift>
  [ 55] objcall 384 ............................. tMsg.addProp(#integer, tAsGift)
  [ 58] getparam 4 .............................. <tAsGift>
  [ 60] jmpifz [ 87] ............................ if tAsGift then
  [ 63] getlocal 0 .............................. <tMsg>
  [ 65] pushsymb 291 ............................ <#string>
  [ 68] getparam 5 .............................. <tGiftReceiver>
  [ 70] pusharglistnoret 3 ...................... <tMsg, #string, tGiftReceiver>
  [ 72] objcall 384 ............................. tMsg.addProp(#string, tGiftReceiver)
  [ 75] getlocal 0 .............................. <tMsg>
  [ 77] pushsymb 291 ............................ <#string>
  [ 80] getparam 6 .............................. <tGiftMessage>
  [ 82] pusharglistnoret 3 ...................... <tMsg, #string, tGiftMessage>
  [ 84] objcall 384 ............................. tMsg.addProp(#string, tGiftMessage)
  [ 87] pushcons 0 .............................. <"connection.info.id">
  [ 89] pushsymb 381 ............................ <#Info>
  [ 92] pusharglist 2 ........................... <"connection.info.id", #Info>
  [ 94] extcall 22 .............................. <getVariable("connection.info.id", #Info)>
  [ 96] pusharglist 1 ........................... <getVariable("connection.info.id", #Info)>
  [ 98] extcall 380 ............................. <getConnection(getVariable("connection.info.id", #Info))>
  [101] pushcons 3 .............................. <"PURCHASE_FROM_CATALOG">
  [103] getlocal 0 .............................. <tMsg>
  [105] pusharglistnoret 3 ...................... <getConnection(getVariable("connection.info.id", #Info)), "PURCHASE_FROM_CATALOG", tMsg>
  [107] objcall 383 ............................. getConnection(getVariable("connection.info.id", #Info)).send("PURCHASE_FROM_CATALOG", tMsg)
  [110] ret
end

on sendPurchaseAndWear me, tPageID, tOfferCode
  [  0] pusharglist 0 ........................... <[:]>
  [  2] pushproplist ............................ <[:]>
  [  3] setlocal 0 .............................. tMsg = [:]
  [  5] getlocal 0 .............................. <tMsg>
  [  7] pushsymb 382 ............................ <#integer>
  [ 10] getparam 1 .............................. <tPageID>
  [ 12] pusharglistnoret 3 ...................... <tMsg, #integer, tPageID>
  [ 14] objcall 384 ............................. tMsg.addProp(#integer, tPageID)
  [ 17] getlocal 0 .............................. <tMsg>
  [ 19] pushsymb 382 ............................ <#integer>
  [ 22] getparam 2 .............................. <tOfferCode>
  [ 24] pusharglistnoret 3 ...................... <tMsg, #integer, tOfferCode>
  [ 26] objcall 384 ............................. tMsg.addProp(#integer, tOfferCode)
  [ 29] pushcons 0 .............................. <"connection.info.id">
  [ 31] pushsymb 381 ............................ <#Info>
  [ 34] pusharglist 2 ........................... <"connection.info.id", #Info>
  [ 36] extcall 22 .............................. <getVariable("connection.info.id", #Info)>
  [ 38] pusharglist 1 ........................... <getVariable("connection.info.id", #Info)>
  [ 40] extcall 380 ............................. <getConnection(getVariable("connection.info.id", #Info))>
  [ 43] pushcons 4 .............................. <"PURCHASE_AND_WEAR">
  [ 45] getlocal 0 .............................. <tMsg>
  [ 47] pusharglistnoret 3 ...................... <getConnection(getVariable("connection.info.id", #Info)), "PURCHASE_AND_WEAR", tMsg>
  [ 49] objcall 383 ............................. getConnection(getVariable("connection.info.id", #Info)).send("PURCHASE_AND_WEAR", tMsg)
  [ 52] ret
end

on sendRedeemVoucher me, tCode
  [  0] pusharglist 0 ........................... <[:]>
  [  2] pushproplist ............................ <[:]>
  [  3] setlocal 0 .............................. tMsg = [:]
  [  5] getlocal 0 .............................. <tMsg>
  [  7] pushsymb 291 ............................ <#string>
  [ 10] getparam 1 .............................. <tCode>
  [ 12] pusharglistnoret 3 ...................... <tMsg, #string, tCode>
  [ 14] objcall 384 ............................. tMsg.addProp(#string, tCode)
  [ 17] pushcons 0 .............................. <"connection.info.id">
  [ 19] pushsymb 381 ............................ <#Info>
  [ 22] pusharglist 2 ........................... <"connection.info.id", #Info>
  [ 24] extcall 22 .............................. <getVariable("connection.info.id", #Info)>
  [ 26] pusharglist 1 ........................... <getVariable("connection.info.id", #Info)>
  [ 28] extcall 380 ............................. <getConnection(getVariable("connection.info.id", #Info))>
  [ 31] pushcons 5 .............................. <"REDEEM_VOUCHER">
  [ 33] getlocal 0 .............................. <tMsg>
  [ 35] pusharglistnoret 3 ...................... <getConnection(getVariable("connection.info.id", #Info)), "REDEEM_VOUCHER", tMsg>
  [ 37] objcall 383 ............................. getConnection(getVariable("connection.info.id", #Info)).send("REDEEM_VOUCHER", tMsg)
  [ 40] ret
end

on parseIndexNode me, tMsg
  [  0] getparam 1 .............................. <tMsg>
  [  2] pushsymb 392 ............................ <#connection>
  [  5] pusharglist 2 ........................... <tMsg, #connection>
  [  7] objcall 102 ............................. <tMsg.getaProp(#connection)>
  [  9] setlocal 0 .............................. tConn = tMsg.getaProp(#connection)
  [ 11] pusharglist 0 ........................... <[:]>
  [ 13] pushproplist ............................ <[:]>
  [ 14] setlocal 1 .............................. tNodeProps = [:]
  [ 16] getlocal 1 .............................. <tNodeProps>
  [ 18] pushsymb 329 ............................ <#navigateable>
  [ 21] getlocal 0 .............................. <tConn>
  [ 23] pusharglist 1 ........................... <tConn>
  [ 25] objcall 393 ............................. <tConn.GetIntFrom()>
  [ 28] pusharglistnoret 3 ...................... <tNodeProps, #navigateable, tConn.GetIntFrom()>
  [ 30] objcall 254 ............................. tNodeProps[#navigateable] = tConn.GetIntFrom()
  [ 32] getlocal 1 .............................. <tNodeProps>
  [ 34] pushsymb 71 ............................. <#color>
  [ 36] getlocal 0 .............................. <tConn>
  [ 38] pusharglist 1 ........................... <tConn>
  [ 40] objcall 393 ............................. <tConn.GetIntFrom()>
  [ 43] pusharglistnoret 3 ...................... <tNodeProps, #color, tConn.GetIntFrom()>
  [ 45] objcall 254 ............................. tNodeProps[#color] = tConn.GetIntFrom()
  [ 47] getlocal 1 .............................. <tNodeProps>
  [ 49] pushsymb 394 ............................ <#icon>
  [ 52] getlocal 0 .............................. <tConn>
  [ 54] pusharglist 1 ........................... <tConn>
  [ 56] objcall 393 ............................. <tConn.GetIntFrom()>
  [ 59] pusharglistnoret 3 ...................... <tNodeProps, #icon, tConn.GetIntFrom()>
  [ 61] objcall 254 ............................. tNodeProps[#icon] = tConn.GetIntFrom()
  [ 63] getlocal 1 .............................. <tNodeProps>
  [ 65] pushsymb 103 ............................ <#pageid>
  [ 67] getlocal 0 .............................. <tConn>
  [ 69] pusharglist 1 ........................... <tConn>
  [ 71] objcall 393 ............................. <tConn.GetIntFrom()>
  [ 74] pusharglistnoret 3 ...................... <tNodeProps, #pageid, tConn.GetIntFrom()>
  [ 76] objcall 254 ............................. tNodeProps[#pageid] = tConn.GetIntFrom()
  [ 78] getlocal 1 .............................. <tNodeProps>
  [ 80] pushsymb 334 ............................ <#nodename>
  [ 83] getlocal 0 .............................. <tConn>
  [ 85] pusharglist 1 ........................... <tConn>
  [ 87] objcall 395 ............................. <tConn.GetStrFrom()>
  [ 90] pusharglistnoret 3 ...................... <tNodeProps, #nodename, tConn.GetStrFrom()>
  [ 92] objcall 254 ............................. tNodeProps[#nodename] = tConn.GetStrFrom()
  [ 94] getlocal 0 .............................. <tConn>
  [ 96] pusharglist 1 ........................... <tConn>
  [ 98] objcall 393 ............................. <tConn.GetIntFrom()>
  [101] setlocal 2 .............................. tDisabled = tConn.GetIntFrom()
  [103] getlocal 0 .............................. <tConn>
  [105] pusharglist 1 ........................... <tConn>
  [107] objcall 393 ............................. <tConn.GetIntFrom()>
  [110] setlocal 3 .............................. tSubnodeCount = tConn.GetIntFrom()
  [112] getlocal 3 .............................. <tSubnodeCount>
  [114] pushzero ................................ <0>
  [115] gt ...................................... <tSubnodeCount > 0>
  [116] jmpifz [175] ............................ if tSubnodeCount > 0 then
  [119] getlocal 1 .............................. <tNodeProps>
  [121] pushsymb 330 ............................ <#subnodes>
  [124] pusharglist 0 ........................... <[]>
  [126] pushlist ................................ <[]>
  [127] pusharglistnoret 3 ...................... <tNodeProps, #subnodes, []>
  [129] objcall 254 ............................. tNodeProps[#subnodes] = []
  [131] pushint8 1 .............................. <1>
  [133] setlocal 4
  [135] getlocal 4
  [137] getlocal 3 .............................. <tSubnodeCount>
  [139] lteq
  [140] jmpifz [175] ............................ repeat with i = 1 to tSubnodeCount
  [143] getlocal 1 .............................. <tNodeProps>
  [145] pushsymb 330 ............................ <#subnodes>
  [148] pusharglist 2 ........................... <tNodeProps, #subnodes>
  [150] objcall 41 .............................. <tNodeProps[#subnodes]>
  [152] getparam 0 .............................. <me>
  [154] getparam 1 .............................. <tMsg>
  [156] pusharglist 2 ........................... <me, tMsg>
  [158] objcall 364 ............................. <me.parseIndexNode(tMsg)>
  [161] pusharglistnoret 2 ...................... <tNodeProps[#subnodes], me.parseIndexNode(tMsg)>
  [163] objcall 339 ............................. tNodeProps[#subnodes].add(me.parseIndexNode(tMsg))
  [166] pushint8 1
  [168] getlocal 4
  [170] add
  [171] setlocal 4
  [173] endrepeat [135]
  [175] getlocal 1 .............................. <tNodeProps>
  [177] pusharglistnoret 1 ...................... <tNodeProps>
  [179] extcall 37 .............................. return tNodeProps
  [181] ret
end

on parseProductData me, tMsg
  [  0] getparam 1 .............................. <tMsg>
  [  2] pushsymb 392 ............................ <#connection>
  [  5] pusharglist 2 ........................... <tMsg, #connection>
  [  7] objcall 102 ............................. <tMsg.getaProp(#connection)>
  [  9] setlocal 0 .............................. tConn = tMsg.getaProp(#connection)
  [ 11] pusharglist 0 ........................... <[:]>
  [ 13] pushproplist ............................ <[:]>
  [ 14] setlocal 1 .............................. tProductData = [:]
  [ 16] getlocal 1 .............................. <tProductData>
  [ 18] pushsymb 399 ............................ <#type>
  [ 21] getlocal 0 .............................. <tConn>
  [ 23] pusharglist 1 ........................... <tConn>
  [ 25] objcall 395 ............................. <tConn.GetStrFrom()>
  [ 28] pusharglistnoret 3 ...................... <tProductData, #type, tConn.GetStrFrom()>
  [ 30] objcall 254 ............................. tProductData[#type] = tConn.GetStrFrom()
  [ 32] getlocal 1 .............................. <tProductData>
  [ 34] pushsymb 400 ............................ <#classID>
  [ 37] getlocal 0 .............................. <tConn>
  [ 39] pusharglist 1 ........................... <tConn>
  [ 41] objcall 393 ............................. <tConn.GetIntFrom()>
  [ 44] pusharglistnoret 3 ...................... <tProductData, #classID, tConn.GetIntFrom()>
  [ 46] objcall 254 ............................. tProductData[#classID] = tConn.GetIntFrom()
  [ 48] getlocal 1 .............................. <tProductData>
  [ 50] pushsymb 401 ............................ <#extra_param>
  [ 53] getlocal 0 .............................. <tConn>
  [ 55] pusharglist 1 ........................... <tConn>
  [ 57] objcall 395 ............................. <tConn.GetStrFrom()>
  [ 60] pusharglistnoret 3 ...................... <tProductData, #extra_param, tConn.GetStrFrom()>
  [ 62] objcall 254 ............................. tProductData[#extra_param] = tConn.GetStrFrom()
  [ 64] getlocal 1 .............................. <tProductData>
  [ 66] pushsymb 402 ............................ <#productcount>
  [ 69] getlocal 0 .............................. <tConn>
  [ 71] pusharglist 1 ........................... <tConn>
  [ 73] objcall 393 ............................. <tConn.GetIntFrom()>
  [ 76] pusharglistnoret 3 ...................... <tProductData, #productcount, tConn.GetIntFrom()>
  [ 78] objcall 254 ............................. tProductData[#productcount] = tConn.GetIntFrom()
  [ 80] getlocal 1 .............................. <tProductData>
  [ 82] pushsymb 403 ............................ <#expiration>
  [ 85] getlocal 0 .............................. <tConn>
  [ 87] pusharglist 1 ........................... <tConn>
  [ 89] objcall 393 ............................. <tConn.GetIntFrom()>
  [ 92] pusharglistnoret 3 ...................... <tProductData, #expiration, tConn.GetIntFrom()>
  [ 94] objcall 254 ............................. tProductData[#expiration] = tConn.GetIntFrom()
  [ 96] getlocal 1 .............................. <tProductData>
  [ 98] pusharglistnoret 1 ...................... <tProductData>
  [100] extcall 37 .............................. return tProductData
  [102] ret
end

on parseOffer me, tMsg
  [  0] getparam 1 .............................. <tMsg>
  [  2] pushsymb 392 ............................ <#connection>
  [  5] pusharglist 2 ........................... <tMsg, #connection>
  [  7] objcall 102 ............................. <tMsg.getaProp(#connection)>
  [  9] setlocal 0 .............................. tConn = tMsg.getaProp(#connection)
  [ 11] pusharglist 0 ........................... <[:]>
  [ 13] pushproplist ............................ <[:]>
  [ 14] setlocal 1 .............................. tOfferData = [:]
  [ 16] getlocal 1 .............................. <tOfferData>
  [ 18] pushsymb 405 ............................ <#offercode>
  [ 21] getlocal 0 .............................. <tConn>
  [ 23] pusharglist 1 ........................... <tConn>
  [ 25] objcall 393 ............................. <tConn.GetIntFrom()>
  [ 28] pusharglistnoret 3 ...................... <tOfferData, #offercode, tConn.GetIntFrom()>
  [ 30] objcall 254 ............................. tOfferData[#offercode] = tConn.GetIntFrom()
  [ 32] getlocal 1 .............................. <tOfferData>
  [ 34] pushsymb 337 ............................ <#offername>
  [ 37] getlocal 0 .............................. <tConn>
  [ 39] pusharglist 1 ........................... <tConn>
  [ 41] objcall 395 ............................. <tConn.GetStrFrom()>
  [ 44] pusharglistnoret 3 ...................... <tOfferData, #offername, tConn.GetStrFrom()>
  [ 46] objcall 254 ............................. tOfferData[#offername] = tConn.GetStrFrom()
  [ 48] getlocal 1 .............................. <tOfferData>
  [ 50] pushsymb 406 ............................ <#price>
  [ 53] pusharglist 0 ........................... <[:]>
  [ 55] pushproplist ............................ <[:]>
  [ 56] pusharglistnoret 3 ...................... <tOfferData, #price, [:]>
  [ 58] objcall 254 ............................. tOfferData[#price] = [:]
  [ 60] getlocal 1 .............................. <tOfferData>
  [ 62] pushsymb 406 ............................ <#price>
  [ 65] pusharglist 2 ........................... <tOfferData, #price>
  [ 67] objcall 41 .............................. <tOfferData[#price]>
  [ 69] pushsymb 351 ............................ <#credits>
  [ 72] getlocal 0 .............................. <tConn>
  [ 74] pusharglist 1 ........................... <tConn>
  [ 76] objcall 393 ............................. <tConn.GetIntFrom()>
  [ 79] pusharglistnoret 3 ...................... <tOfferData[#price], #credits, tConn.GetIntFrom()>
  [ 81] objcall 254 ............................. tOfferData[#price][#credits] = tConn.GetIntFrom()
  [ 83] getlocal 1 .............................. <tOfferData>
  [ 85] pushsymb 406 ............................ <#price>
  [ 88] pusharglist 2 ........................... <tOfferData, #price>
  [ 90] objcall 41 .............................. <tOfferData[#price]>
  [ 92] pushsymb 407 ............................ <#pixels>
  [ 95] getlocal 0 .............................. <tConn>
  [ 97] pusharglist 1 ........................... <tConn>
  [ 99] objcall 393 ............................. <tConn.GetIntFrom()>
  [102] pusharglistnoret 3 ...................... <tOfferData[#price], #pixels, tConn.GetIntFrom()>
  [104] objcall 254 ............................. tOfferData[#price][#pixels] = tConn.GetIntFrom()
  [106] getlocal 1 .............................. <tOfferData>
  [108] pushsymb 408 ............................ <#content>
  [111] pusharglist 0 ........................... <[]>
  [113] pushlist ................................ <[]>
  [114] pusharglistnoret 3 ...................... <tOfferData, #content, []>
  [116] objcall 254 ............................. tOfferData[#content] = []
  [118] getlocal 0 .............................. <tConn>
  [120] pusharglist 1 ........................... <tConn>
  [122] objcall 393 ............................. <tConn.GetIntFrom()>
  [125] setlocal 2 .............................. tProductCount = tConn.GetIntFrom()
  [127] getlocal 2 .............................. <tProductCount>
  [129] pushzero ................................ <0>
  [130] gt ...................................... <tProductCount > 0>
  [131] jmpifz [178] ............................ if tProductCount > 0 then
  [134] pushint8 1 .............................. <1>
  [136] setlocal 3
  [138] getlocal 3
  [140] getlocal 2 .............................. <tProductCount>
  [142] lteq
  [143] jmpifz [178] ............................ repeat with i = 1 to tProductCount
  [146] getlocal 1 .............................. <tOfferData>
  [148] pushsymb 408 ............................ <#content>
  [151] pusharglist 2 ........................... <tOfferData, #content>
  [153] objcall 41 .............................. <tOfferData[#content]>
  [155] getparam 0 .............................. <me>
  [157] getparam 1 .............................. <tMsg>
  [159] pusharglist 2 ........................... <me, tMsg>
  [161] objcall 365 ............................. <me.parseProductData(tMsg)>
  [164] pusharglistnoret 2 ...................... <tOfferData[#content], me.parseProductData(tMsg)>
  [166] objcall 339 ............................. tOfferData[#content].add(me.parseProductData(tMsg))
  [169] pushint8 1
  [171] getlocal 3
  [173] add
  [174] setlocal 3
  [176] endrepeat [138]
  [178] getlocal 1 .............................. <tOfferData>
  [180] pusharglistnoret 1 ...................... <tOfferData>
  [182] extcall 37 .............................. return tOfferData
  [184] ret
end

on handle_catalogindex me, tMsg
  [  0] getparam 0 .............................. <me>
  [  2] getparam 1 .............................. <tMsg>
  [  4] pusharglist 2 ........................... <me, tMsg>
  [  6] objcall 364 ............................. <me.parseIndexNode(tMsg)>
  [  9] setlocal 0 .............................. tNodes = me.parseIndexNode(tMsg)
  [ 11] getparam 0 .............................. <me>
  [ 13] pusharglist 1 ........................... <me>
  [ 15] objcall 170 ............................. <me.getComponent()>
  [ 17] getlocal 0 .............................. <tNodes>
  [ 19] pusharglistnoret 2 ...................... <me.getComponent(), tNodes>
  [ 21] objcall 296 ............................. me.getComponent().updateCatalogIndex(tNodes)
  [ 24] ret
end

on handle_catalogpage me, tMsg
  [  0] pushint16 500 ........................... <500>
  [  3] pusharglistnoret 1 ...................... <500>
  [  5] extcall 1142 ............................ sendProcessTracking(500)
  [  8] getparam 1 .............................. <tMsg>
  [ 10] pushsymb 392 ............................ <#connection>
  [ 13] pusharglist 2 ........................... <tMsg, #connection>
  [ 15] objcall 102 ............................. <tMsg.getaProp(#connection)>
  [ 17] setlocal 0 .............................. tConn = tMsg.getaProp(#connection)
  [ 19] pusharglist 0 ........................... <[:]>
  [ 21] pushproplist ............................ <[:]>
  [ 22] setlocal 1 .............................. tPageData = [:]
  [ 24] getlocal 1 .............................. <tPageData>
  [ 26] pushsymb 103 ............................ <#pageid>
  [ 28] getlocal 0 .............................. <tConn>
  [ 30] pusharglist 1 ........................... <tConn>
  [ 32] objcall 393 ............................. <tConn.GetIntFrom()>
  [ 35] pusharglistnoret 3 ...................... <tPageData, #pageid, tConn.GetIntFrom()>
  [ 37] objcall 254 ............................. tPageData[#pageid] = tConn.GetIntFrom()
  [ 39] getlocal 1 .............................. <tPageData>
  [ 41] pushsymb 242 ............................ <#layout>
  [ 43] getlocal 0 .............................. <tConn>
  [ 45] pusharglist 1 ........................... <tConn>
  [ 47] objcall 395 ............................. <tConn.GetStrFrom()>
  [ 50] pusharglistnoret 3 ...................... <tPageData, #layout, tConn.GetStrFrom()>
  [ 52] objcall 254 ............................. tPageData[#layout] = tConn.GetStrFrom()
  [ 54] getlocal 1 .............................. <tPageData>
  [ 56] pushsymb 412 ............................ <#localization>
  [ 59] pushsymb 413 ............................ <#images>
  [ 62] pusharglist 0 ........................... <[]>
  [ 64] pushlist ................................ <[]>
  [ 65] pushsymb 414 ............................ <#texts>
  [ 68] pusharglist 0 ........................... <[]>
  [ 70] pushlist ................................ <[]>
  [ 71] pusharglist 4 ........................... <[#images: [], #texts: []]>
  [ 73] pushproplist ............................ <[#images: [], #texts: []]>
  [ 74] pusharglistnoret 3 ...................... <tPageData, #localization, [#images: [], #texts: []]>
  [ 76] objcall 254 ............................. tPageData[#localization] = [#images: [], #texts: []]
  [ 78] getlocal 0 .............................. <tConn>
  [ 80] pusharglist 1 ........................... <tConn>
  [ 82] objcall 393 ............................. <tConn.GetIntFrom()>
  [ 85] setlocal 2 .............................. tImageCount = tConn.GetIntFrom()
  [ 87] pushint8 1 .............................. <1>
  [ 89] setlocal 3
  [ 91] getlocal 3
  [ 93] getlocal 2 .............................. <tImageCount>
  [ 95] lteq
  [ 96] jmpifz [136] ............................ repeat with i = 1 to tImageCount
  [ 99] getlocal 1 .............................. <tPageData>
  [101] pushsymb 412 ............................ <#localization>
  [104] pusharglist 2 ........................... <tPageData, #localization>
  [106] objcall 41 .............................. <tPageData[#localization]>
  [108] pushsymb 413 ............................ <#images>
  [111] pusharglist 2 ........................... <tPageData[#localization], #images>
  [113] objcall 41 .............................. <tPageData[#localization][#images]>
  [115] getlocal 0 .............................. <tConn>
  [117] pusharglist 1 ........................... <tConn>
  [119] objcall 395 ............................. <tConn.GetStrFrom()>
  [122] pusharglistnoret 2 ...................... <tPageData[#localization][#images], tConn.GetStrFrom()>
  [124] objcall 339 ............................. tPageData[#localization][#images].add(tConn.GetStrFrom())
  [127] pushint8 1
  [129] getlocal 3
  [131] add
  [132] setlocal 3
  [134] endrepeat [ 91]
  [136] getlocal 0 .............................. <tConn>
  [138] pusharglist 1 ........................... <tConn>
  [140] objcall 393 ............................. <tConn.GetIntFrom()>
  [143] setlocal 4 .............................. tTextCount = tConn.GetIntFrom()
  [145] pushint8 1 .............................. <1>
  [147] setlocal 3
  [149] getlocal 3
  [151] getlocal 4 .............................. <tTextCount>
  [153] lteq
  [154] jmpifz [211] ............................ repeat with i = 1 to tTextCount
  [157] getlocal 0 .............................. <tConn>
  [159] pusharglist 1 ........................... <tConn>
  [161] objcall 395 ............................. <tConn.GetStrFrom()>
  [164] setlocal 5 .............................. tText = tConn.GetStrFrom()
  [166] getlocal 5 .............................. <tText>
  [168] pushcons 6 .............................. <"\\n">
  [170] pushcons 7 .............................. <RETURN>
  [172] pusharglist 3 ........................... <tText, "\\n", RETURN>
  [174] extcall 415 ............................. <replaceChunks(tText, "\\n", RETURN)>
  [177] setlocal 5 .............................. tText = replaceChunks(tText, "\\n", RETURN)
  [179] getlocal 1 .............................. <tPageData>
  [181] pushsymb 412 ............................ <#localization>
  [184] pusharglist 2 ........................... <tPageData, #localization>
  [186] objcall 41 .............................. <tPageData[#localization]>
  [188] pushsymb 414 ............................ <#texts>
  [191] pusharglist 2 ........................... <tPageData[#localization], #texts>
  [193] objcall 41 .............................. <tPageData[#localization][#texts]>
  [195] getlocal 5 .............................. <tText>
  [197] pusharglistnoret 2 ...................... <tPageData[#localization][#texts], tText>
  [199] objcall 339 ............................. tPageData[#localization][#texts].add(tText)
  [202] pushint8 1
  [204] getlocal 3
  [206] add
  [207] setlocal 3
  [209] endrepeat [149]
  [211] getlocal 0 .............................. <tConn>
  [213] pusharglist 1 ........................... <tConn>
  [215] objcall 393 ............................. <tConn.GetIntFrom()>
  [218] setlocal 6 .............................. tOfferCount = tConn.GetIntFrom()
  [220] pushint16 501 ........................... <501>
  [223] pusharglistnoret 1 ...................... <501>
  [225] extcall 1142 ............................ sendProcessTracking(501)
  [228] getlocal 1 .............................. <tPageData>
  [230] pushsymb 336 ............................ <#offers>
  [233] pusharglist 0 ........................... <[]>
  [235] pushlist ................................ <[]>
  [236] pusharglistnoret 3 ...................... <tPageData, #offers, []>
  [238] objcall 254 ............................. tPageData[#offers] = []
  [240] pushint8 1 .............................. <1>
  [242] setlocal 3
  [244] getlocal 3
  [246] getlocal 6 .............................. <tOfferCount>
  [248] lteq
  [249] jmpifz [284] ............................ repeat with i = 1 to tOfferCount
  [252] getlocal 1 .............................. <tPageData>
  [254] pushsymb 336 ............................ <#offers>
  [257] pusharglist 2 ........................... <tPageData, #offers>
  [259] objcall 41 .............................. <tPageData[#offers]>
  [261] getparam 0 .............................. <me>
  [263] getparam 1 .............................. <tMsg>
  [265] pusharglist 2 ........................... <me, tMsg>
  [267] objcall 366 ............................. <me.parseOffer(tMsg)>
  [270] pusharglistnoret 2 ...................... <tPageData[#offers], me.parseOffer(tMsg)>
  [272] objcall 339 ............................. tPageData[#offers].add(me.parseOffer(tMsg))
  [275] pushint8 1
  [277] getlocal 3
  [279] add
  [280] setlocal 3
  [282] endrepeat [244]
  [284] pushint16 502 ........................... <502>
  [287] pusharglistnoret 1 ...................... <502>
  [289] extcall 1142 ............................ sendProcessTracking(502)
  [292] getparam 0 .............................. <me>
  [294] pusharglist 1 ........................... <me>
  [296] objcall 170 ............................. <me.getComponent()>
  [298] getlocal 1 .............................. <tPageData>
  [300] pushsymb 103 ............................ <#pageid>
  [302] pusharglist 2 ........................... <tPageData, #pageid>
  [304] objcall 41 .............................. <tPageData[#pageid]>
  [306] getlocal 1 .............................. <tPageData>
  [308] pusharglistnoret 3 ...................... <me.getComponent(), tPageData[#pageid], tPageData>
  [310] objcall 295 ............................. me.getComponent().updatePageData(tPageData[#pageid], tPageData)
  [313] pushint16 599 ........................... <599>
  [316] pusharglistnoret 1 ...................... <599>
  [318] extcall 1142 ............................ sendProcessTracking(599)
  [321] ret
end

on handle_purchasenotallowed me, tMsg
  [  0] getparam 1 .............................. <tMsg>
  [  2] getobjprop 392 .......................... <tMsg.connection>
  [  5] pusharglist 1 ........................... <tMsg.connection>
  [  7] extcall 78 .............................. <voidp(tMsg.connection)>
  [  9] jmpifz [ 17] ............................ if voidp(tMsg.connection) then
  [ 12] pushzero ................................ <0>
  [ 13] pusharglistnoret 1 ...................... <0>
  [ 15] extcall 37 .............................. return 0
  [ 17] getparam 1 .............................. <tMsg>
  [ 19] getchainedprop 392 ...................... <tMsg.connection>
  [ 22] getparam 1 .............................. <tMsg>
  [ 24] pusharglist 2 ........................... <tMsg.connection, tMsg>
  [ 26] objcall 393 ............................. <tMsg.connection.GetIntFrom(tMsg)>
  [ 29] setlocal 0 .............................. tCode = tMsg.connection.GetIntFrom(tMsg)
  [ 31] getlocal 0 .............................. <tCode>
  [ 33] peek 0 .................................. case tCode of
  [ 35] pushzero ................................ <0>
  [ 36] eq
  [ 37] jmpifz [ 43] ............................ (case) 0:
  [ 40] jmp [ 76]
  [ 43] peek 0
  [ 45] pushint8 1 .............................. <1>
  [ 47] eq
  [ 48] jmpifz [ 76] ............................ (case) 1:
  [ 51] pop 1
  [ 53] pushsymb 420 ............................ <#alert>
  [ 56] pushsymb 421 ............................ <#Msg>
  [ 59] pushcons 8 .............................. <"catalog_purchase_not_allowed_hc">
  [ 61] pushsymb 193 ............................ <#modal>
  [ 63] pushint8 1 .............................. <1>
  [ 65] pusharglist 4 ........................... <[#Msg: "catalog_purchase_not_allowed_hc", #modal: 1]>
  [ 67] pushproplist ............................ <[#Msg: "catalog_purchase_not_allowed_hc", #modal: 1]>
  [ 68] pusharglist 2 ........................... <#alert, [#Msg: "catalog_purchase_not_allowed_hc", #modal: 1]>
  [ 70] extcall 220 ............................. <executeMessage(#alert, [#Msg: "catalog_purchase_not_allowed_hc", #modal: 1])>
  [ 72] pusharglistnoret 1 ...................... <executeMessage(#alert, [#Msg: "catalog_purchase_not_allowed_hc", #modal: 1])>
  [ 74] extcall 37 .............................. return executeMessage(#alert, [#Msg: "catalog_purchase_not_allowed_hc", #modal: 1])
  [ 76] pop 1 ................................... end case
  [ 78] pushzero ................................ <0>
  [ 79] pusharglistnoret 1 ...................... <0>
  [ 81] extcall 37 .............................. return 0
  [ 83] ret
end

on handle_purse me, tMsg
  [  0] pushsymb 185 ............................ <#session>
  [  2] pusharglist 1 ........................... <#session>
  [  4] extcall 184 ............................. <getObject(#session)>
  [  6] pushcons 9 .............................. <"user_walletbalance">
  [  8] pusharglist 2 ........................... <getObject(#session), "user_walletbalance">
  [ 10] objcall 189 ............................. <getObject(#session).exists("user_walletbalance")>
  [ 12] setlocal 0 .............................. tPlaySnd = getObject(#session).exists("user_walletbalance")
  [ 14] getparam 1 .............................. <tMsg>
  [ 16] getchainedprop 408 ...................... <tMsg.content>
  [ 19] pushsymb 423 ............................ <#word>
  [ 22] pushint8 1 .............................. <1>
  [ 24] pusharglist 3 ........................... <tMsg.content, #word, 1>
  [ 26] objcall 123 ............................. <tMsg.content.word[1]>
  [ 28] pusharglist 1 ........................... <tMsg.content.word[1]>
  [ 30] extcall 422 ............................. <getLocalFloat(tMsg.content.word[1])>
  [ 33] pusharglist 1 ........................... <getLocalFloat(tMsg.content.word[1])>
  [ 35] extcall 382 ............................. <integer(getLocalFloat(tMsg.content.word[1]))>
  [ 38] setlocal 1 .............................. tCredits = integer(getLocalFloat(tMsg.content.word[1]))
  [ 40] pushsymb 185 ............................ <#session>
  [ 42] pusharglist 1 ........................... <#session>
  [ 44] extcall 184 ............................. <getObject(#session)>
  [ 46] pushcons 9 .............................. <"user_walletbalance">
  [ 48] getlocal 1 .............................. <tCredits>
  [ 50] pusharglistnoret 3 ...................... <getObject(#session), "user_walletbalance", tCredits>
  [ 52] objcall 424 ............................. getObject(#session).set("user_walletbalance", tCredits)
  [ 55] getparam 0 .............................. <me>
  [ 57] pusharglist 1 ........................... <me>
  [ 59] objcall 176 ............................. <me.getInterface()>
  [ 61] pusharglistnoret 1 ...................... <me.getInterface()>
  [ 63] objcall 129 ............................. me.getInterface().updatePurseSaldo()
  [ 65] pushsymb 425 ............................ <#updateCreditCount>
  [ 68] getlocal 1 .............................. <tCredits>
  [ 70] pusharglistnoret 2 ...................... <#updateCreditCount, tCredits>
  [ 72] extcall 220 ............................. executeMessage(#updateCreditCount, tCredits)
  [ 74] getlocal 0 .............................. <tPlaySnd>
  [ 76] jmpifz [103] ............................ if tPlaySnd then
  [ 79] pushcons 10 ............................. <"naw_snd_cash_cat">
  [ 81] pushsymb 426 ............................ <#cut>
  [ 84] pushsymb 217 ............................ <#loopCount>
  [ 86] pushint8 1 .............................. <1>
  [ 88] pushsymb 218 ............................ <#infiniteloop>
  [ 90] pushzero ................................ <0>
  [ 91] pushsymb 219 ............................ <#volume>
  [ 93] pushint16 255 ........................... <255>
  [ 96] pusharglist 6 ........................... <[#loopCount: 1, #infiniteloop: 0, #volume: 255]>
  [ 98] pushproplist ............................ <[#loopCount: 1, #infiniteloop: 0, #volume: 255]>
  [ 99] pusharglistnoret 3 ...................... <"naw_snd_cash_cat", #cut, [#loopCount: 1, #infiniteloop: 0, #volume: 255]>
  [101] extcall 215 ............................. playSound("naw_snd_cash_cat", #cut, [#loopCount: 1, #infiniteloop: 0, #volume: 255])
  [103] pushint8 1 .............................. <1>
  [105] pusharglistnoret 1 ...................... <1>
  [107] extcall 37 .............................. return 1
  [109] ret
end

on handle_purchase_error me, tMsg
  [  0] getparam 0 .............................. <me>
  [  2] pushcons 11 ............................. <"Purchase error.">
  [  4] pushsymb 371 ............................ <#handle_purchase_error>
  [  7] pushsymb 47 ............................. <#major>
  [  9] pusharglistnoret 4 ...................... <me, "Purchase error.", #handle_purchase_error, #major>
  [ 11] extcall 46 .............................. error(me, "Purchase error.", #handle_purchase_error, #major)
  [ 13] ret
end

on handle_purchase_ok me, tMsg
  [  0] getparam 0 .............................. <me>
  [  2] pusharglist 1 ........................... <me>
  [  4] objcall 176 ............................. <me.getInterface()>
  [  6] pusharglistnoret 1 ...................... <me.getInterface()>
  [  8] objcall 147 ............................. me.getInterface().showPurchaseOk()
  [ 10] ret
end

on handle_purchase_nobalance me, tMsg
  [  0] getparam 1 .............................. <tMsg>
  [  2] getchainedprop 392 ...................... <tMsg.connection>
  [  5] pusharglist 1 ........................... <tMsg.connection>
  [  7] objcall 393 ............................. <tMsg.connection.GetIntFrom()>
  [ 10] setlocal 0 .............................. tNotEnoughCredits = tMsg.connection.GetIntFrom()
  [ 12] getparam 1 .............................. <tMsg>
  [ 14] getchainedprop 392 ...................... <tMsg.connection>
  [ 17] pusharglist 1 ........................... <tMsg.connection>
  [ 19] objcall 393 ............................. <tMsg.connection.GetIntFrom()>
  [ 22] setlocal 1 .............................. tNotEnoughPixels = tMsg.connection.GetIntFrom()
  [ 24] getparam 0 .............................. <me>
  [ 26] pusharglist 1 ........................... <me>
  [ 28] objcall 176 ............................. <me.getInterface()>
  [ 30] getlocal 0 .............................. <tNotEnoughCredits>
  [ 32] getlocal 1 .............................. <tNotEnoughPixels>
  [ 34] pusharglistnoret 3 ...................... <me.getInterface(), tNotEnoughCredits, tNotEnoughPixels>
  [ 36] objcall 146 ............................. me.getInterface().showNoBalance(tNotEnoughCredits, tNotEnoughPixels)
  [ 38] ret
end

on handle_tickets me, tMsg
  [  0] getparam 1 .............................. <tMsg>
  [  2] getchainedprop 392 ...................... <tMsg.connection>
  [  5] pusharglist 1 ........................... <tMsg.connection>
  [  7] objcall 393 ............................. <tMsg.connection.GetIntFrom()>
  [ 10] setlocal 0 .............................. tNum = tMsg.connection.GetIntFrom()
  [ 12] pushsymb 185 ............................ <#session>
  [ 14] pusharglist 1 ........................... <#session>
  [ 16] extcall 184 ............................. <getObject(#session)>
  [ 18] pushcons 12 ............................. <"user_ph_tickets">
  [ 20] getlocal 0 .............................. <tNum>
  [ 22] pusharglistnoret 3 ...................... <getObject(#session), "user_ph_tickets", tNum>
  [ 24] objcall 424 ............................. getObject(#session).set("user_ph_tickets", tNum)
  [ 27] pushsymb 430 ............................ <#updateTicketCount>
  [ 30] getlocal 0 .............................. <tNum>
  [ 32] pusharglistnoret 2 ...................... <#updateTicketCount, tNum>
  [ 34] extcall 220 ............................. executeMessage(#updateTicketCount, tNum)
  [ 36] pushint8 1 .............................. <1>
  [ 38] pusharglistnoret 1 ...................... <1>
  [ 40] extcall 37 .............................. return 1
  [ 42] ret
end

on handle_voucher_redeem_ok me, tMsg
  [  0] getparam 1 .............................. <tMsg>
  [  2] getchainedprop 392 ...................... <tMsg.connection>
  [  5] pusharglist 1 ........................... <tMsg.connection>
  [  7] objcall 395 ............................. <tMsg.connection.GetStrFrom()>
  [ 10] setlocal 0 .............................. tProductName = tMsg.connection.GetStrFrom()
  [ 12] getparam 1 .............................. <tMsg>
  [ 14] getchainedprop 392 ...................... <tMsg.connection>
  [ 17] pusharglist 1 ........................... <tMsg.connection>
  [ 19] objcall 395 ............................. <tMsg.connection.GetStrFrom()>
  [ 22] setlocal 1 .............................. tProductDesc = tMsg.connection.GetStrFrom()
  [ 24] getparam 0 .............................. <me>
  [ 26] pusharglist 1 ........................... <me>
  [ 28] objcall 176 ............................. <me.getInterface()>
  [ 30] getlocal 0 .............................. <tProductName>
  [ 32] getlocal 1 .............................. <tProductDesc>
  [ 34] pusharglistnoret 3 ...................... <me.getInterface(), tProductName, tProductDesc>
  [ 36] objcall 131 ............................. me.getInterface().showVoucherRedeemOk(tProductName, tProductDesc)
  [ 38] ret
end

on handle_voucher_redeem_error me, tMsg
  [  0] getparam 1 .............................. <tMsg>
  [  2] getchainedprop 392 ...................... <tMsg.connection>
  [  5] pusharglist 1 ........................... <tMsg.connection>
  [  7] objcall 395 ............................. <tMsg.connection.GetStrFrom()>
  [ 10] setlocal 0 .............................. tError = tMsg.connection.GetStrFrom()
  [ 12] getparam 0 .............................. <me>
  [ 14] pusharglist 1 ........................... <me>
  [ 16] objcall 176 ............................. <me.getInterface()>
  [ 18] getlocal 0 .............................. <tError>
  [ 20] pusharglistnoret 2 ...................... <me.getInterface(), tError>
  [ 22] objcall 132 ............................. me.getInterface().showVoucherRedeemError(tError)
  [ 24] ret
end

on handle_refresh_catalogue me, tMsg
  [  0] getparam 0 .............................. <me>
  [  2] pusharglist 1 ........................... <me>
  [  4] objcall 170 ............................. <me.getComponent()>
  [  6] pusharglistnoret 1 ...................... <me.getComponent()>
  [  8] objcall 307 ............................. me.getComponent().refreshCatalogue()
  [ 11] ret
end

on handle_recycler_prizes me, tMsg
  [  0] getparam 1 .............................. <tMsg>
  [  2] pushsymb 392 ............................ <#connection>
  [  5] pusharglist 2 ........................... <tMsg, #connection>
  [  7] objcall 102 ............................. <tMsg.getaProp(#connection)>
  [  9] setlocal 0 .............................. tConn = tMsg.getaProp(#connection)
  [ 11] getlocal 0 .............................. <tConn>
  [ 13] not ..................................... <not tConn>
  [ 14] jmpifz [ 22] ............................ if not tConn then
  [ 17] pushzero ................................ <0>
  [ 18] pusharglistnoret 1 ...................... <0>
  [ 20] extcall 37 .............................. return 0
  [ 22] pusharglist 0 ........................... <[:]>
  [ 24] pushproplist ............................ <[:]>
  [ 25] setlocal 1 .............................. tPrizes = [:]
  [ 27] getlocal 0 .............................. <tConn>
  [ 29] pusharglist 1 ........................... <tConn>
  [ 31] objcall 393 ............................. <tConn.GetIntFrom()>
  [ 34] setlocal 2 .............................. tCategoryCount = tConn.GetIntFrom()
  [ 36] pushint8 1 .............................. <1>
  [ 38] setlocal 3
  [ 40] getlocal 3
  [ 42] getlocal 2 .............................. <tCategoryCount>
  [ 44] lteq
  [ 45] jmpifz [194] ............................ repeat with i = 1 to tCategoryCount
  [ 48] pusharglist 0 ........................... <[:]>
  [ 50] pushproplist ............................ <[:]>
  [ 51] setlocal 4 .............................. tCategoryData = [:]
  [ 53] getlocal 0 .............................. <tConn>
  [ 55] pusharglist 1 ........................... <tConn>
  [ 57] objcall 393 ............................. <tConn.GetIntFrom()>
  [ 60] setlocal 5 .............................. tCategoryId = tConn.GetIntFrom()
  [ 62] getlocal 0 .............................. <tConn>
  [ 64] pusharglist 1 ........................... <tConn>
  [ 66] objcall 393 ............................. <tConn.GetIntFrom()>
  [ 69] setlocal 6 .............................. tCategoryOdds = tConn.GetIntFrom()
  [ 71] getlocal 0 .............................. <tConn>
  [ 73] pusharglist 1 ........................... <tConn>
  [ 75] objcall 393 ............................. <tConn.GetIntFrom()>
  [ 78] setlocal 7 .............................. tFurniCount = tConn.GetIntFrom()
  [ 80] pusharglist 0 ........................... <[]>
  [ 82] pushlist ................................ <[]>
  [ 83] setlocal 8 .............................. tFurniList = []
  [ 85] pushint8 1 .............................. <1>
  [ 87] setlocal 9
  [ 89] getlocal 9
  [ 91] getlocal 7 .............................. <tFurniCount>
  [ 93] lteq
  [ 94] jmpifz [138] ............................ repeat with j = 1 to tFurniCount
  [ 97] getlocal 0 .............................. <tConn>
  [ 99] pusharglist 1 ........................... <tConn>
  [101] objcall 395 ............................. <tConn.GetStrFrom()>
  [104] setlocal 10 ............................. tFurniType = tConn.GetStrFrom()
  [106] getlocal 0 .............................. <tConn>
  [108] pusharglist 1 ........................... <tConn>
  [110] objcall 393 ............................. <tConn.GetIntFrom()>
  [113] setlocal 11 ............................. tFurniID = tConn.GetIntFrom()
  [115] getlocal 8 .............................. <tFurniList>
  [117] getlocal 10 ............................. <tFurniType>
  [119] getlocal 11 ............................. <tFurniID>
  [121] pusharglist 2 ........................... <[tFurniType, tFurniID]>
  [123] pushlist ................................ <[tFurniType, tFurniID]>
  [124] pusharglistnoret 2 ...................... <tFurniList, [tFurniType, tFurniID]>
  [126] objcall 339 ............................. tFurniList.add([tFurniType, tFurniID])
  [129] pushint8 1
  [131] getlocal 9
  [133] add
  [134] setlocal 9
  [136] endrepeat [ 89]
  [138] getlocal 4 .............................. <tCategoryData>
  [140] pushsymb 267 ............................ <#id>
  [143] getlocal 5 .............................. <tCategoryId>
  [145] pusharglistnoret 3 ...................... <tCategoryData, #id, tCategoryId>
  [147] objcall 321 ............................. tCategoryData.setaProp(#id, tCategoryId)
  [150] getlocal 4 .............................. <tCategoryData>
  [152] pushsymb 432 ............................ <#odds>
  [155] getlocal 6 .............................. <tCategoryOdds>
  [157] pusharglistnoret 3 ...................... <tCategoryData, #odds, tCategoryOdds>
  [159] objcall 321 ............................. tCategoryData.setaProp(#odds, tCategoryOdds)
  [162] getlocal 4 .............................. <tCategoryData>
  [164] pushsymb 433 ............................ <#furniList>
  [167] getlocal 8 .............................. <tFurniList>
  [169] pusharglistnoret 3 ...................... <tCategoryData, #furniList, tFurniList>
  [171] objcall 321 ............................. tCategoryData.setaProp(#furniList, tFurniList)
  [174] getlocal 1 .............................. <tPrizes>
  [176] getlocal 5 .............................. <tCategoryId>
  [178] getlocal 4 .............................. <tCategoryData>
  [180] pusharglistnoret 3 ...................... <tPrizes, tCategoryId, tCategoryData>
  [182] objcall 321 ............................. tPrizes.setaProp(tCategoryId, tCategoryData)
  [185] pushint8 1
  [187] getlocal 3
  [189] add
  [190] setlocal 3
  [192] endrepeat [ 40]
  [194] pushsymb 434 ............................ <#recyclerPrizesReceived>
  [197] getlocal 1 .............................. <tPrizes>
  [199] pusharglistnoret 2 ...................... <#recyclerPrizesReceived, tPrizes>
  [201] extcall 220 ............................. executeMessage(#recyclerPrizesReceived, tPrizes)
  [203] ret
end

on regMsgList me, tBool
  [  0] pusharglist 0 ........................... <[:]>
  [  2] pushproplist ............................ <[:]>
  [  3] setlocal 0 .............................. tMsgs = [:]
  [  5] getlocal 0 .............................. <tMsgs>
  [  7] pushint8 6 .............................. <6>
  [  9] pushsymb 370 ............................ <#handle_purse>
  [ 12] pusharglistnoret 3 ...................... <tMsgs, 6, #handle_purse>
  [ 14] objcall 321 ............................. tMsgs.setaProp(6, #handle_purse)
  [ 17] getlocal 0 .............................. <tMsgs>
  [ 19] pushint8 65 ............................. <65>
  [ 21] pushsymb 371 ............................ <#handle_purchase_error>
  [ 24] pusharglistnoret 3 ...................... <tMsgs, 65, #handle_purchase_error>
  [ 26] objcall 321 ............................. tMsgs.setaProp(65, #handle_purchase_error)
  [ 29] getlocal 0 .............................. <tMsgs>
  [ 31] pushint8 67 ............................. <67>
  [ 33] pushsymb 372 ............................ <#handle_purchase_ok>
  [ 36] pusharglistnoret 3 ...................... <tMsgs, 67, #handle_purchase_ok>
  [ 38] objcall 321 ............................. tMsgs.setaProp(67, #handle_purchase_ok)
  [ 41] getlocal 0 .............................. <tMsgs>
  [ 43] pushint8 68 ............................. <68>
  [ 45] pushsymb 373 ............................ <#handle_purchase_nobalance>
  [ 48] pusharglistnoret 3 ...................... <tMsgs, 68, #handle_purchase_nobalance>
  [ 50] objcall 321 ............................. tMsgs.setaProp(68, #handle_purchase_nobalance)
  [ 53] getlocal 0 .............................. <tMsgs>
  [ 55] pushint8 72 ............................. <72>
  [ 57] pushsymb 374 ............................ <#handle_tickets>
  [ 60] pusharglistnoret 3 ...................... <tMsgs, 72, #handle_tickets>
  [ 62] objcall 321 ............................. tMsgs.setaProp(72, #handle_tickets)
  [ 65] getlocal 0 .............................. <tMsgs>
  [ 67] pushint8 124 ............................ <124>
  [ 69] pushsymb 374 ............................ <#handle_tickets>
  [ 72] pusharglistnoret 3 ...................... <tMsgs, 124, #handle_tickets>
  [ 74] objcall 321 ............................. tMsgs.setaProp(124, #handle_tickets)
  [ 77] getlocal 0 .............................. <tMsgs>
  [ 79] pushint8 126 ............................ <126>
  [ 81] pushsymb 367 ............................ <#handle_catalogindex>
  [ 84] pusharglistnoret 3 ...................... <tMsgs, 126, #handle_catalogindex>
  [ 86] objcall 321 ............................. tMsgs.setaProp(126, #handle_catalogindex)
  [ 89] getlocal 0 .............................. <tMsgs>
  [ 91] pushint8 127 ............................ <127>
  [ 93] pushsymb 368 ............................ <#handle_catalogpage>
  [ 96] pusharglistnoret 3 ...................... <tMsgs, 127, #handle_catalogpage>
  [ 98] objcall 321 ............................. tMsgs.setaProp(127, #handle_catalogpage)
  [101] getlocal 0 .............................. <tMsgs>
  [103] pushint16 296 ........................... <296>
  [106] pushsymb 369 ............................ <#handle_purchasenotallowed>
  [109] pusharglistnoret 3 ...................... <tMsgs, 296, #handle_purchasenotallowed>
  [111] objcall 321 ............................. tMsgs.setaProp(296, #handle_purchasenotallowed)
  [114] getlocal 0 .............................. <tMsgs>
  [116] pushint16 212 ........................... <212>
  [119] pushsymb 375 ............................ <#handle_voucher_redeem_ok>
  [122] pusharglistnoret 3 ...................... <tMsgs, 212, #handle_voucher_redeem_ok>
  [124] objcall 321 ............................. tMsgs.setaProp(212, #handle_voucher_redeem_ok)
  [127] getlocal 0 .............................. <tMsgs>
  [129] pushint16 213 ........................... <213>
  [132] pushsymb 376 ............................ <#handle_voucher_redeem_error>
  [135] pusharglistnoret 3 ...................... <tMsgs, 213, #handle_voucher_redeem_error>
  [137] objcall 321 ............................. tMsgs.setaProp(213, #handle_voucher_redeem_error)
  [140] getlocal 0 .............................. <tMsgs>
  [142] pushint16 441 ........................... <441>
  [145] pushsymb 377 ............................ <#handle_refresh_catalogue>
  [148] pusharglistnoret 3 ...................... <tMsgs, 441, #handle_refresh_catalogue>
  [150] objcall 321 ............................. tMsgs.setaProp(441, #handle_refresh_catalogue)
  [153] getlocal 0 .............................. <tMsgs>
  [155] pushint16 506 ........................... <506>
  [158] pushsymb 378 ............................ <#handle_recycler_prizes>
  [161] pusharglistnoret 3 ...................... <tMsgs, 506, #handle_recycler_prizes>
  [163] objcall 321 ............................. tMsgs.setaProp(506, #handle_recycler_prizes)
  [166] pusharglist 0 ........................... <[:]>
  [168] pushproplist ............................ <[:]>
  [169] setlocal 1 .............................. tCmds = [:]
  [171] getlocal 1 .............................. <tCmds>
  [173] pushcons 3 .............................. <"PURCHASE_FROM_CATALOG">
  [175] pushint8 100 ............................ <100>
  [177] pusharglistnoret 3 ...................... <tCmds, "PURCHASE_FROM_CATALOG", 100>
  [179] objcall 321 ............................. tCmds.setaProp("PURCHASE_FROM_CATALOG", 100)
  [182] getlocal 1 .............................. <tCmds>
  [184] pushcons 2 .............................. <"GET_CATALOG_INDEX">
  [186] pushint8 101 ............................ <101>
  [188] pusharglistnoret 3 ...................... <tCmds, "GET_CATALOG_INDEX", 101>
  [190] objcall 321 ............................. tCmds.setaProp("GET_CATALOG_INDEX", 101)
  [193] getlocal 1 .............................. <tCmds>
  [195] pushcons 1 .............................. <"GET_CATALOG_PAGE">
  [197] pushint8 102 ............................ <102>
  [199] pusharglistnoret 3 ...................... <tCmds, "GET_CATALOG_PAGE", 102>
  [201] objcall 321 ............................. tCmds.setaProp("GET_CATALOG_PAGE", 102)
  [204] getlocal 1 .............................. <tCmds>
  [206] pushcons 5 .............................. <"REDEEM_VOUCHER">
  [208] pushint16 129 ........................... <129>
  [211] pusharglistnoret 3 ...................... <tCmds, "REDEEM_VOUCHER", 129>
  [213] objcall 321 ............................. tCmds.setaProp("REDEEM_VOUCHER", 129)
  [216] getlocal 1 .............................. <tCmds>
  [218] pushcons 4 .............................. <"PURCHASE_AND_WEAR">
  [220] pushint16 374 ........................... <374>
  [223] pusharglistnoret 3 ...................... <tCmds, "PURCHASE_AND_WEAR", 374>
  [225] objcall 321 ............................. tCmds.setaProp("PURCHASE_AND_WEAR", 374)
  [228] getlocal 1 .............................. <tCmds>
  [230] pushcons 13 ............................. <"GET_RECYCLER_PRIZES">
  [232] pushint16 412 ........................... <412>
  [235] pusharglistnoret 3 ...................... <tCmds, "GET_RECYCLER_PRIZES", 412>
  [237] objcall 321 ............................. tCmds.setaProp("GET_RECYCLER_PRIZES", 412)
  [240] getparam 1 .............................. <tBool>
  [242] jmpifz [286] ............................ if tBool then / else
  [245] pushcons 0 .............................. <"connection.info.id">
  [247] pusharglist 1 ........................... <"connection.info.id">
  [249] extcall 22 .............................. <getVariable("connection.info.id")>
  [251] getparam 0 .............................. <me>
  [253] pusharglist 1 ........................... <me>
  [255] objcall 54 .............................. <me.getID()>
  [257] getlocal 0 .............................. <tMsgs>
  [259] pusharglistnoret 3 ...................... <getVariable("connection.info.id"), me.getID(), tMsgs>
  [261] extcall 445 ............................. registerListener(getVariable("connection.info.id"), me.getID(), tMsgs)
  [264] pushcons 0 .............................. <"connection.info.id">
  [266] pusharglist 1 ........................... <"connection.info.id">
  [268] extcall 22 .............................. <getVariable("connection.info.id")>
  [270] getparam 0 .............................. <me>
  [272] pusharglist 1 ........................... <me>
  [274] objcall 54 .............................. <me.getID()>
  [276] getlocal 1 .............................. <tCmds>
  [278] pusharglistnoret 3 ...................... <getVariable("connection.info.id"), me.getID(), tCmds>
  [280] extcall 446 ............................. registerCommands(getVariable("connection.info.id"), me.getID(), tCmds)
  [283] jmp [324]
  [286] pushcons 0 .............................. <"connection.info.id">
  [288] pusharglist 1 ........................... <"connection.info.id">
  [290] extcall 22 .............................. <getVariable("connection.info.id")>
  [292] getparam 0 .............................. <me>
  [294] pusharglist 1 ........................... <me>
  [296] objcall 54 .............................. <me.getID()>
  [298] getlocal 0 .............................. <tMsgs>
  [300] pusharglistnoret 3 ...................... <getVariable("connection.info.id"), me.getID(), tMsgs>
  [302] extcall 447 ............................. unregisterListener(getVariable("connection.info.id"), me.getID(), tMsgs)
  [305] pushcons 0 .............................. <"connection.info.id">
  [307] pusharglist 1 ........................... <"connection.info.id">
  [309] extcall 22 .............................. <getVariable("connection.info.id")>
  [311] getparam 0 .............................. <me>
  [313] pusharglist 1 ........................... <me>
  [315] objcall 54 .............................. <me.getID()>
  [317] getlocal 1 .............................. <tCmds>
  [319] pusharglistnoret 3 ...................... <getVariable("connection.info.id"), me.getID(), tCmds>
  [321] extcall 448 ............................. unregisterCommands(getVariable("connection.info.id"), me.getID(), tCmds)
  [324] pushint8 1 .............................. <1>
  [326] pusharglistnoret 1 ...................... <1>
  [328] extcall 37 .............................. return 1
  [330] ret
end
