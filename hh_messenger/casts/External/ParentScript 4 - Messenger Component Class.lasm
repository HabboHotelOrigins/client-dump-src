property pState, pPaused, pTimeOutID, pReadyFlag, pBuddyList, pItemList, pUpdateBuddiesInterval, pLastBuddiesUpdateTime

on construct me
  [  0] pushsymb 315 ............................ <#enterRoom>
  [  3] getparam 0 .............................. <me>
  [  5] pusharglist 1 ........................... <me>
  [  7] objcall 81 .............................. <me.getID()>
  [  9] pushsymb 4 .............................. <#hideMessenger>
  [ 11] pusharglistnoret 3 ...................... <#enterRoom, me.getID(), #hideMessenger>
  [ 13] extcall 314 ............................. registerMessage(#enterRoom, me.getID(), #hideMessenger)
  [ 16] pushsymb 316 ............................ <#leaveRoom>
  [ 19] getparam 0 .............................. <me>
  [ 21] pusharglist 1 ........................... <me>
  [ 23] objcall 81 .............................. <me.getID()>
  [ 25] pushsymb 4 .............................. <#hideMessenger>
  [ 27] pusharglistnoret 3 ...................... <#leaveRoom, me.getID(), #hideMessenger>
  [ 29] extcall 314 ............................. registerMessage(#leaveRoom, me.getID(), #hideMessenger)
  [ 32] pushsymb 317 ............................ <#changeRoom>
  [ 35] getparam 0 .............................. <me>
  [ 37] pusharglist 1 ........................... <me>
  [ 39] objcall 81 .............................. <me.getID()>
  [ 41] pushsymb 4 .............................. <#hideMessenger>
  [ 43] pusharglistnoret 3 ...................... <#changeRoom, me.getID(), #hideMessenger>
  [ 45] extcall 314 ............................. registerMessage(#changeRoom, me.getID(), #hideMessenger)
  [ 48] pushsymb 318 ............................ <#show_messenger>
  [ 51] getparam 0 .............................. <me>
  [ 53] pusharglist 1 ........................... <me>
  [ 55] objcall 81 .............................. <me.getID()>
  [ 57] pushsymb 3 .............................. <#showMessenger>
  [ 59] pusharglistnoret 3 ...................... <#show_messenger, me.getID(), #showMessenger>
  [ 61] extcall 314 ............................. registerMessage(#show_messenger, me.getID(), #showMessenger)
  [ 64] pushsymb 319 ............................ <#hide_messenger>
  [ 67] getparam 0 .............................. <me>
  [ 69] pusharglist 1 ........................... <me>
  [ 71] objcall 81 .............................. <me.getID()>
  [ 73] pushsymb 4 .............................. <#hideMessenger>
  [ 75] pusharglistnoret 3 ...................... <#hide_messenger, me.getID(), #hideMessenger>
  [ 77] extcall 314 ............................. registerMessage(#hide_messenger, me.getID(), #hideMessenger)
  [ 80] pushsymb 320 ............................ <#show_hide_messenger>
  [ 83] getparam 0 .............................. <me>
  [ 85] pusharglist 1 ........................... <me>
  [ 87] objcall 81 .............................. <me.getID()>
  [ 89] pushsymb 2 .............................. <#showhidemessenger>
  [ 91] pusharglistnoret 3 ...................... <#show_hide_messenger, me.getID(), #showhidemessenger>
  [ 93] extcall 314 ............................. registerMessage(#show_hide_messenger, me.getID(), #showhidemessenger)
  [ 96] pushsymb 321 ............................ <#messageUpdateRequest>
  [ 99] getparam 0 .............................. <me>
  [101] pusharglist 1 ........................... <me>
  [103] objcall 81 .............................. <me.getID()>
  [105] pushsymb 311 ............................ <#tellMessageCount>
  [108] pusharglistnoret 3 ...................... <#messageUpdateRequest, me.getID(), #tellMessageCount>
  [110] extcall 314 ............................. registerMessage(#messageUpdateRequest, me.getID(), #tellMessageCount)
  [113] pushsymb 322 ............................ <#buddyUpdateRequest>
  [116] getparam 0 .............................. <me>
  [118] pusharglist 1 ........................... <me>
  [120] objcall 81 .............................. <me.getID()>
  [122] pushsymb 312 ............................ <#tellRequestCount>
  [125] pusharglistnoret 3 ...................... <#buddyUpdateRequest, me.getID(), #tellRequestCount>
  [127] extcall 314 ............................. registerMessage(#buddyUpdateRequest, me.getID(), #tellRequestCount)
  [130] pushsymb 313 ............................ <#externalBuddyRequest>
  [133] getparam 0 .............................. <me>
  [135] pusharglist 1 ........................... <me>
  [137] objcall 81 .............................. <me.getID()>
  [139] pushsymb 313 ............................ <#externalBuddyRequest>
  [142] pusharglistnoret 3 ...................... <#externalBuddyRequest, me.getID(), #externalBuddyRequest>
  [144] extcall 314 ............................. registerMessage(#externalBuddyRequest, me.getID(), #externalBuddyRequest)
  [147] pushsymb 323 ............................ <#pause_messeger_update>
  [150] getparam 0 .............................. <me>
  [152] pusharglist 1 ........................... <me>
  [154] objcall 81 .............................. <me.getID()>
  [156] pushsymb 93 ............................. <#pause>
  [158] pusharglistnoret 3 ...................... <#pause_messeger_update, me.getID(), #pause>
  [160] extcall 314 ............................. registerMessage(#pause_messeger_update, me.getID(), #pause)
  [163] pushsymb 324 ............................ <#resume_messeger_update>
  [166] getparam 0 .............................. <me>
  [168] pusharglist 1 ........................... <me>
  [170] objcall 81 .............................. <me.getID()>
  [172] pushsymb 95 ............................. <#resume>
  [174] pusharglistnoret 3 ...................... <#resume_messeger_update, me.getID(), #resume>
  [176] extcall 314 ............................. registerMessage(#resume_messeger_update, me.getID(), #resume)
  [179] pusharglist 0 ........................... <>
  [181] extcall 41 .............................. <VOID>
  [183] setprop 325 ............................. pState = VOID
  [186] pushzero ................................ <0>
  [187] setprop 326 ............................. pPaused = 0
  [190] pushsymb 328 ............................ <#messenger_msg_poller>
  [193] setprop 327 ............................. pTimeOutID = #messenger_msg_poller
  [196] pushzero ................................ <0>
  [197] setprop 329 ............................. pReadyFlag = 0
  [200] pushcons 0 .............................. <"struct.pointer">
  [202] pusharglist 1 ........................... <"struct.pointer">
  [204] extcall 62 .............................. <getStructVariable("struct.pointer")>
  [206] setprop 330 ............................. pBuddyList = getStructVariable("struct.pointer")
  [209] pushsymb 332 ............................ <#messages>
  [212] pusharglist 0 ........................... <[:]>
  [214] pushproplist ............................ <[:]>
  [215] pushsymb 333 ............................ <#msgCount>
  [218] pusharglist 0 ........................... <[:]>
  [220] pushproplist ............................ <[:]>
  [221] pushsymb 334 ............................ <#newBuddyRequest>
  [224] pusharglist 0 ........................... <[]>
  [226] pushlist ................................ <[]>
  [227] pushsymb 335 ............................ <#pendingBuddyAccept>
  [230] pushcons 1 .............................. <EMPTY>
  [232] pushsymb 336 ............................ <#persistenMsg>
  [235] pushcons 1 .............................. <EMPTY>
  [237] pusharglist 10 .......................... <[#messages: [:], #msgCount: [:], #newBuddyRequest: [], #pendingBuddyAccept: EMPTY, #persistenMsg: EMPTY]>
  [239] pushproplist ............................ <[#messages: [:], #msgCount: [:], #newBuddyRequest: [], #pendingBuddyAccept: EMPTY, #persistenMsg: EMPTY]>
  [240] setprop 331 ............................. pItemList = [#messages: [:], #msgCount: [:], #newBuddyRequest: [], #pendingBuddyAccept: EMPTY, #persistenMsg: EMPTY]
  [243] pushcons 2 .............................. <"messenger.updatetime.buddylist">
  [245] pushint32 120000 ........................ <120000>
  [250] pusharglist 2 ........................... <"messenger.updatetime.buddylist", 120000>
  [252] extcall 338 ............................. <getIntVariable("messenger.updatetime.buddylist", 120000)>
  [255] setprop 337 ............................. pUpdateBuddiesInterval = getIntVariable("messenger.updatetime.buddylist", 120000)
  [258] pushzero ................................ <0>
  [259] setprop 339 ............................. pLastBuddiesUpdateTime = 0
  [262] getprop 330 ............................. <pBuddyList>
  [265] pushsymb 96 ............................. <#value>
  [267] pushsymb 97 ............................. <#buddies>
  [269] pusharglist 0 ........................... <[:]>
  [271] pushproplist ............................ <[:]>
  [272] pushsymb 139 ............................ <#online>
  [274] pusharglist 0 ........................... <[]>
  [276] pushlist ................................ <[]>
  [277] pushsymb 140 ............................ <#offline>
  [279] pusharglist 0 ........................... <[]>
  [281] pushlist ................................ <[]>
  [282] pushsymb 109 ............................ <#render>
  [284] pusharglist 0 ........................... <[]>
  [286] pushlist ................................ <[]>
  [287] pusharglist 8 ........................... <[#buddies: [:], #online: [], #offline: [], #render: []]>
  [289] pushproplist ............................ <[#buddies: [:], #online: [], #offline: [], #render: []]>
  [290] pusharglistnoret 3 ...................... <pBuddyList, #value, [#buddies: [:], #online: [], #offline: [], #render: []]>
  [292] objcall 340 ............................. pBuddyList.setProp(#value, [#buddies: [:], #online: [], #offline: [], #render: []])
  [295] getparam 0 .............................. <me>
  [297] pusharglist 1 ........................... <me>
  [299] objcall 341 ............................. <me.getInterface()>
  [302] getprop 330 ............................. <pBuddyList>
  [305] pusharglistnoret 2 ...................... <me.getInterface(), pBuddyList>
  [307] objcall 9 ............................... me.getInterface().createBuddyList(pBuddyList)
  [309] pushsymb 342 ............................ <#messenger_ready>
  [312] pushsymb 343 ............................ <#messenger>
  [315] pusharglistnoret 2 ...................... <#messenger_ready, #messenger>
  [317] extcall 82 .............................. executeMessage(#messenger_ready, #messenger)
  [319] pushint8 1 .............................. <1>
  [321] pusharglistnoret 1 ...................... <1>
  [323] extcall 71 .............................. return 1
  [325] ret
end

on deconstruct me
  [  0] getprop 327 ............................. <pTimeOutID>
  [  3] pusharglist 1 ........................... <pTimeOutID>
  [  5] extcall 344 ............................. <timeoutExists(pTimeOutID)>
  [  8] jmpifz [ 19] ............................ if timeoutExists(pTimeOutID) then
  [ 11] getprop 327 ............................. <pTimeOutID>
  [ 14] pusharglistnoret 1 ...................... <pTimeOutID>
  [ 16] extcall 345 ............................. removeTimeout(pTimeOutID)
  [ 19] pushsymb 315 ............................ <#enterRoom>
  [ 22] getparam 0 .............................. <me>
  [ 24] pusharglist 1 ........................... <me>
  [ 26] objcall 81 .............................. <me.getID()>
  [ 28] pusharglistnoret 2 ...................... <#enterRoom, me.getID()>
  [ 30] extcall 346 ............................. unregisterMessage(#enterRoom, me.getID())
  [ 33] pushsymb 316 ............................ <#leaveRoom>
  [ 36] getparam 0 .............................. <me>
  [ 38] pusharglist 1 ........................... <me>
  [ 40] objcall 81 .............................. <me.getID()>
  [ 42] pusharglistnoret 2 ...................... <#leaveRoom, me.getID()>
  [ 44] extcall 346 ............................. unregisterMessage(#leaveRoom, me.getID())
  [ 47] pushsymb 317 ............................ <#changeRoom>
  [ 50] getparam 0 .............................. <me>
  [ 52] pusharglist 1 ........................... <me>
  [ 54] objcall 81 .............................. <me.getID()>
  [ 56] pusharglistnoret 2 ...................... <#changeRoom, me.getID()>
  [ 58] extcall 346 ............................. unregisterMessage(#changeRoom, me.getID())
  [ 61] pushsymb 318 ............................ <#show_messenger>
  [ 64] getparam 0 .............................. <me>
  [ 66] pusharglist 1 ........................... <me>
  [ 68] objcall 81 .............................. <me.getID()>
  [ 70] pusharglistnoret 2 ...................... <#show_messenger, me.getID()>
  [ 72] extcall 346 ............................. unregisterMessage(#show_messenger, me.getID())
  [ 75] pushsymb 319 ............................ <#hide_messenger>
  [ 78] getparam 0 .............................. <me>
  [ 80] pusharglist 1 ........................... <me>
  [ 82] objcall 81 .............................. <me.getID()>
  [ 84] pusharglistnoret 2 ...................... <#hide_messenger, me.getID()>
  [ 86] extcall 346 ............................. unregisterMessage(#hide_messenger, me.getID())
  [ 89] pushsymb 320 ............................ <#show_hide_messenger>
  [ 92] getparam 0 .............................. <me>
  [ 94] pusharglist 1 ........................... <me>
  [ 96] objcall 81 .............................. <me.getID()>
  [ 98] pusharglistnoret 2 ...................... <#show_hide_messenger, me.getID()>
  [100] extcall 346 ............................. unregisterMessage(#show_hide_messenger, me.getID())
  [103] pushsymb 321 ............................ <#messageUpdateRequest>
  [106] getparam 0 .............................. <me>
  [108] pusharglist 1 ........................... <me>
  [110] objcall 81 .............................. <me.getID()>
  [112] pusharglistnoret 2 ...................... <#messageUpdateRequest, me.getID()>
  [114] extcall 346 ............................. unregisterMessage(#messageUpdateRequest, me.getID())
  [117] pushsymb 322 ............................ <#buddyUpdateRequest>
  [120] getparam 0 .............................. <me>
  [122] pusharglist 1 ........................... <me>
  [124] objcall 81 .............................. <me.getID()>
  [126] pusharglistnoret 2 ...................... <#buddyUpdateRequest, me.getID()>
  [128] extcall 346 ............................. unregisterMessage(#buddyUpdateRequest, me.getID())
  [131] pushsymb 313 ............................ <#externalBuddyRequest>
  [134] getparam 0 .............................. <me>
  [136] pusharglist 1 ........................... <me>
  [138] objcall 81 .............................. <me.getID()>
  [140] pusharglistnoret 2 ...................... <#externalBuddyRequest, me.getID()>
  [142] extcall 346 ............................. unregisterMessage(#externalBuddyRequest, me.getID())
  [145] pushsymb 323 ............................ <#pause_messeger_update>
  [148] getparam 0 .............................. <me>
  [150] pusharglist 1 ........................... <me>
  [152] objcall 81 .............................. <me.getID()>
  [154] pusharglistnoret 2 ...................... <#pause_messeger_update, me.getID()>
  [156] extcall 346 ............................. unregisterMessage(#pause_messeger_update, me.getID())
  [159] pushsymb 324 ............................ <#resume_messeger_update>
  [162] getparam 0 .............................. <me>
  [164] pusharglist 1 ........................... <me>
  [166] objcall 81 .............................. <me.getID()>
  [168] pusharglistnoret 2 ...................... <#resume_messeger_update, me.getID()>
  [170] extcall 346 ............................. unregisterMessage(#resume_messeger_update, me.getID())
  [173] pushzero ................................ <0>
  [174] setprop 329 ............................. pReadyFlag = 0
  [177] pusharglist 0 ........................... <[:]>
  [179] pushproplist ............................ <[:]>
  [180] setprop 330 ............................. pBuddyList = [:]
  [183] pusharglist 0 ........................... <[:]>
  [185] pushproplist ............................ <[:]>
  [186] setprop 331 ............................. pItemList = [:]
  [189] pushsymb 347 ............................ <#messenger_dead>
  [192] pushsymb 343 ............................ <#messenger>
  [195] pusharglistnoret 2 ...................... <#messenger_dead, #messenger>
  [197] extcall 82 .............................. executeMessage(#messenger_dead, #messenger)
  [199] pushint8 1 .............................. <1>
  [201] pusharglistnoret 1 ...................... <1>
  [203] extcall 71 .............................. return 1
  [205] ret
end

on showMessenger me
  [  0] getprop 329 ............................. <pReadyFlag>
  [  3] not ..................................... <not pReadyFlag>
  [  4] jmpifz [ 21] ............................ if not pReadyFlag then
  [  7] getparam 0 .............................. <me>
  [  9] pushcons 3 .............................. <"Messenger not ready yet..">
  [ 11] pushsymb 3 .............................. <#showMessenger>
  [ 13] pusharglist 3 ........................... <me, "Messenger not ready yet..", #showMessenger>
  [ 15] extcall 106 ............................. <error(me, "Messenger not ready yet..", #showMessenger)>
  [ 17] pusharglistnoret 1 ...................... <error(me, "Messenger not ready yet..", #showMessenger)>
  [ 19] extcall 71 .............................. return error(me, "Messenger not ready yet..", #showMessenger)
  [ 21] getparam 0 .............................. <me>
  [ 23] pusharglist 1 ........................... <me>
  [ 25] objcall 341 ............................. <me.getInterface()>
  [ 28] pusharglist 1 ........................... <me.getInterface()>
  [ 30] objcall 3 ............................... <me.getInterface().showMessenger()>
  [ 32] pusharglistnoret 1 ...................... <me.getInterface().showMessenger()>
  [ 34] extcall 71 .............................. return me.getInterface().showMessenger()
  [ 36] ret
end

on hideMessenger me
  [  0] getprop 329 ............................. <pReadyFlag>
  [  3] not ..................................... <not pReadyFlag>
  [  4] jmpifz [ 21] ............................ if not pReadyFlag then
  [  7] getparam 0 .............................. <me>
  [  9] pushcons 3 .............................. <"Messenger not ready yet..">
  [ 11] pushsymb 4 .............................. <#hideMessenger>
  [ 13] pusharglist 3 ........................... <me, "Messenger not ready yet..", #hideMessenger>
  [ 15] extcall 106 ............................. <error(me, "Messenger not ready yet..", #hideMessenger)>
  [ 17] pusharglistnoret 1 ...................... <error(me, "Messenger not ready yet..", #hideMessenger)>
  [ 19] extcall 71 .............................. return error(me, "Messenger not ready yet..", #hideMessenger)
  [ 21] getparam 0 .............................. <me>
  [ 23] pusharglist 1 ........................... <me>
  [ 25] objcall 341 ............................. <me.getInterface()>
  [ 28] pusharglist 1 ........................... <me.getInterface()>
  [ 30] objcall 4 ............................... <me.getInterface().hideMessenger()>
  [ 32] pusharglistnoret 1 ...................... <me.getInterface().hideMessenger()>
  [ 34] extcall 71 .............................. return me.getInterface().hideMessenger()
  [ 36] ret
end

on showhidemessenger me
  [  0] getprop 329 ............................. <pReadyFlag>
  [  3] not ..................................... <not pReadyFlag>
  [  4] jmpifz [ 21] ............................ if not pReadyFlag then
  [  7] getparam 0 .............................. <me>
  [  9] pushcons 3 .............................. <"Messenger not ready yet..">
  [ 11] pushsymb 2 .............................. <#showhidemessenger>
  [ 13] pusharglist 3 ........................... <me, "Messenger not ready yet..", #showhidemessenger>
  [ 15] extcall 106 ............................. <error(me, "Messenger not ready yet..", #showhidemessenger)>
  [ 17] pusharglistnoret 1 ...................... <error(me, "Messenger not ready yet..", #showhidemessenger)>
  [ 19] extcall 71 .............................. return error(me, "Messenger not ready yet..", #showhidemessenger)
  [ 21] getparam 0 .............................. <me>
  [ 23] pusharglist 1 ........................... <me>
  [ 25] objcall 341 ............................. <me.getInterface()>
  [ 28] pusharglist 1 ........................... <me.getInterface()>
  [ 30] objcall 2 ............................... <me.getInterface().showhidemessenger()>
  [ 32] pusharglistnoret 1 ...................... <me.getInterface().showhidemessenger()>
  [ 34] extcall 71 .............................. return me.getInterface().showhidemessenger()
  [ 36] ret
end

on deleteAllMessages me
  [  0] getprop 331 ............................. <pItemList>
  [  3] pusharglist 0 ........................... <[:]>
  [  5] pushproplist ............................ <[:]>
  [  6] setobjprop 332 .......................... pItemList.messages = [:]
  [  9] getprop 331 ............................. <pItemList>
  [ 12] pusharglist 0 ........................... <[:]>
  [ 14] pushproplist ............................ <[:]>
  [ 15] setobjprop 333 .......................... pItemList.msgCount = [:]
  [ 18] getparam 0 .............................. <me>
  [ 20] pusharglistnoret 1 ...................... <me>
  [ 22] objcall 311 ............................. me.tellMessageCount()
  [ 25] pushint8 1 .............................. <1>
  [ 27] pusharglistnoret 1 ...................... <1>
  [ 29] extcall 71 .............................. return 1
  [ 31] ret
end

on receive_MessengerReady me, tMsg
  [  0] pushint8 1 .............................. <1>
  [  2] setprop 329 ............................. pReadyFlag = 1
  [  5] getprop 327 ............................. <pTimeOutID>
  [  8] getprop 337 ............................. <pUpdateBuddiesInterval>
  [ 11] pushsymb 85 ............................. <#send_BuddylistUpdate>
  [ 13] getparam 0 .............................. <me>
  [ 15] pusharglist 1 ........................... <me>
  [ 17] objcall 81 .............................. <me.getID()>
  [ 19] pusharglist 0 ........................... <>
  [ 21] extcall 41 .............................. <VOID>
  [ 23] pushzero ................................ <0>
  [ 24] pusharglistnoret 6 ...................... <pTimeOutID, pUpdateBuddiesInterval, #send_BuddylistUpdate, me.getID(), VOID, 0>
  [ 26] extcall 348 ............................. createTimeout(pTimeOutID, pUpdateBuddiesInterval, #send_BuddylistUpdate, me.getID(), VOID, 0)
  [ 29] pushsymb 342 ............................ <#messenger_ready>
  [ 32] pusharglist 1 ........................... <#messenger_ready>
  [ 34] extcall 82 .............................. <executeMessage(#messenger_ready)>
  [ 36] pusharglistnoret 1 ...................... <executeMessage(#messenger_ready)>
  [ 38] extcall 71 .............................. return executeMessage(#messenger_ready)
  [ 40] ret
end

on receive_BuddyList me, ttype, tList
  [  0] getparam 0 .............................. <me>
  [  2] pusharglist 1 ........................... <me>
  [  4] objcall 341 ............................. <me.getInterface()>
  [  7] pusharglistnoret 1 ...................... <me.getInterface()>
  [  9] objcall 7 ............................... me.getInterface().setMessengerActive()
  [ 11] getparam 1 .............................. <ttype>
  [ 13] peek 0 .................................. case ttype of
  [ 15] pushsymb 349 ............................ <#new>
  [ 18] eq
  [ 19] jmpifz [ 50] ............................ (case) #new:
  [ 22] getprop 330 ............................. <pBuddyList>
  [ 25] pushsymb 96 ............................. <#value>
  [ 27] getparam 2 .............................. <tList>
  [ 29] pusharglistnoret 3 ...................... <pBuddyList, #value, tList>
  [ 31] objcall 230 ............................. pBuddyList.setaProp(#value, tList)
  [ 33] getparam 0 .............................. <me>
  [ 35] pusharglist 1 ........................... <me>
  [ 37] objcall 341 ............................. <me.getInterface()>
  [ 40] getprop 330 ............................. <pBuddyList>
  [ 43] pusharglistnoret 2 ...................... <me.getInterface(), pBuddyList>
  [ 45] objcall 9 ............................... me.getInterface().createBuddyList(pBuddyList)
  [ 47] jmp [533]
  [ 50] peek 0
  [ 52] pushsymb 104 ............................ <#update>
  [ 54] eq
  [ 55] jmpifz [533] ............................ (case) #update:
  [ 58] getparam 2 .............................. <tList>
  [ 60] getobjprop 97 ........................... <tList.buddies>
  [ 62] pusharglist 0 ........................... <>
  [ 64] extcall 41 .............................. <VOID>
  [ 66] eq ...................................... <tList.buddies = VOID>
  [ 67] jmpifz [ 77] ............................ if tList.buddies = VOID then
  [ 70] pop 1
  [ 72] pushzero ................................ <0>
  [ 73] pusharglistnoret 1 ...................... <0>
  [ 75] extcall 71 .............................. return 0
  [ 77] getparam 2 .............................. <tList>
  [ 79] pushsymb 97 ............................. <#buddies>
  [ 81] pusharglist 2 ........................... <tList, #buddies>
  [ 83] objcall 86 .............................. <tList.buddies.count>
  [ 85] pushzero ................................ <0>
  [ 86] eq ...................................... <tList.buddies.count = 0>
  [ 87] jmpifz [ 97] ............................ if tList.buddies.count = 0 then
  [ 90] pop 1
  [ 92] pushzero ................................ <0>
  [ 93] pusharglistnoret 1 ...................... <0>
  [ 95] extcall 71 .............................. return 0
  [ 97] getprop 330 ............................. <pBuddyList>
  [100] pushsymb 96 ............................. <#value>
  [102] pusharglist 2 ........................... <pBuddyList, #value>
  [104] objcall 64 .............................. <pBuddyList.getaProp(#value)>
  [106] setlocal 0 .............................. tTheBuddyList = pBuddyList.getaProp(#value)
  [108] pushint8 1 .............................. <1>
  [110] setlocal 1
  [112] getlocal 1
  [114] getparam 2 .............................. <tList>
  [116] pushsymb 97 ............................. <#buddies>
  [118] pusharglist 2 ........................... <tList, #buddies>
  [120] objcall 86 .............................. <tList.buddies.count>
  [122] lteq
  [123] jmpifz [421] ............................ repeat with i = 1 to tList.buddies.count
  [126] getparam 2 .............................. <tList>
  [128] pushsymb 97 ............................. <#buddies>
  [130] getlocal 1 .............................. <i>
  [132] pusharglist 3 ........................... <tList, #buddies, i>
  [134] objcall 216 ............................. <tList.buddies[i]>
  [136] setlocal 2 .............................. tBuddy = tList.buddies[i]
  [138] getlocal 0 .............................. <tTheBuddyList>
  [140] getchainedprop 97 ....................... <tTheBuddyList.buddies>
  [142] getlocal 2 .............................. <tBuddy>
  [144] getobjprop 107 .......................... <tBuddy.id>
  [146] pusharglist 2 ........................... <tTheBuddyList.buddies, tBuddy.id>
  [148] objcall 64 .............................. <tTheBuddyList.buddies.getaProp(tBuddy.id)>
  [150] setlocal 3 .............................. tCurrData = tTheBuddyList.buddies.getaProp(tBuddy.id)
  [152] getlocal 3 .............................. <tCurrData>
  [154] pusharglist 1 ........................... <tCurrData>
  [156] extcall 105 ............................. <voidp(tCurrData)>
  [158] jmpifz [187] ............................ if voidp(tCurrData) then
  [161] getparam 0 .............................. <me>
  [163] pushcons 4 .............................. <"Buddy not found:">
  [165] getlocal 2 .............................. <tBuddy>
  [167] pushsymb 99 ............................. <#name>
  [169] pusharglist 2 ........................... <tBuddy, #name>
  [171] objcall 98 .............................. <tBuddy[#name]>
  [173] joinstr ................................. <"Buddy not found:" & tBuddy[#name]>
  [174] pushcons 5 .............................. <" - Rejecting update.">
  [176] joinstr ................................. <"Buddy not found:" & tBuddy[#name] & " - Rejecting update.">
  [177] pushsymb 299 ............................ <#receive_BuddyList>
  [180] pusharglistnoret 3 ...................... <me, "Buddy not found:" & tBuddy[#name] & " - Rejecting update.", #receive_BuddyList>
  [182] extcall 106 ............................. error(me, "Buddy not found:" & tBuddy[#name] & " - Rejecting update.", #receive_BuddyList)
  [184] jmp [411] ............................... next repeat
  [187] pushint8 1 .............................. <1>
  [189] setlocal 4
  [191] getlocal 4
  [193] getlocal 2 .............................. <tBuddy>
  [195] getobjprop 86 ........................... <tBuddy.count>
  [197] lteq
  [198] jmpifz [241] ............................ repeat with j = 1 to tBuddy.count
  [201] getlocal 2 .............................. <tBuddy>
  [203] getlocal 4 .............................. <j>
  [205] pusharglist 2 ........................... <tBuddy, j>
  [207] objcall 350 ............................. <tBuddy.getPropAt(j)>
  [210] setlocal 5 .............................. tKey = tBuddy.getPropAt(j)
  [212] getlocal 2 .............................. <tBuddy>
  [214] getlocal 4 .............................. <j>
  [216] pusharglist 2 ........................... <tBuddy, j>
  [218] objcall 98 .............................. <tBuddy[j]>
  [220] setlocal 6 .............................. tValue = tBuddy[j]
  [222] getlocal 3 .............................. <tCurrData>
  [224] getlocal 5 .............................. <tKey>
  [226] getlocal 6 .............................. <tValue>
  [228] pusharglistnoret 3 ...................... <tCurrData, tKey, tValue>
  [230] objcall 100 ............................. tCurrData[tKey] = tValue
  [232] pushint8 1
  [234] getlocal 4
  [236] add
  [237] setlocal 4
  [239] endrepeat [191]
  [241] getprop 331 ............................. <pItemList>
  [244] getchainedprop 332 ...................... <pItemList.messages>
  [247] getlocal 2 .............................. <tBuddy>
  [249] pushsymb 107 ............................ <#id>
  [251] pusharglist 2 ........................... <tBuddy, #id>
  [253] objcall 98 .............................. <tBuddy[#id]>
  [255] pusharglist 2 ........................... <pItemList.messages, tBuddy[#id]>
  [257] objcall 64 .............................. <pItemList.messages.getaProp(tBuddy[#id])>
  [259] setlocal 7 .............................. tMsgList = pItemList.messages.getaProp(tBuddy[#id])
  [261] getlocal 7 .............................. <tMsgList>
  [263] pusharglist 1 ........................... <tMsgList>
  [265] extcall 183 ............................. <listp(tMsgList)>
  [267] jmpifz [283] ............................ if listp(tMsgList) then
  [270] getlocal 3 .............................. <tCurrData>
  [272] pushsymb 351 ............................ <#msgs>
  [275] getlocal 7 .............................. <tMsgList>
  [277] getobjprop 86 ........................... <tMsgList.count>
  [279] pusharglistnoret 3 ...................... <tCurrData, #msgs, tMsgList.count>
  [281] objcall 100 ............................. tCurrData[#msgs] = tMsgList.count
  [283] getlocal 2 .............................. <tBuddy>
  [285] getobjprop 139 .......................... <tBuddy.online>
  [287] jmpifz [352] ............................ if tBuddy.online then
  [290] getlocal 0 .............................. <tTheBuddyList>
  [292] getchainedprop 140 ...................... <tTheBuddyList.offline>
  [294] getlocal 2 .............................. <tBuddy>
  [296] getobjprop 99 ........................... <tBuddy.name>
  [298] pusharglist 2 ........................... <tTheBuddyList.offline, tBuddy.name>
  [300] objcall 352 ............................. <tTheBuddyList.offline.getOne(tBuddy.name)>
  [303] jmpifz [319] ............................ if tTheBuddyList.offline.getOne(tBuddy.name) then
  [306] getlocal 0 .............................. <tTheBuddyList>
  [308] getchainedprop 140 ...................... <tTheBuddyList.offline>
  [310] getlocal 2 .............................. <tBuddy>
  [312] getobjprop 99 ........................... <tBuddy.name>
  [314] pusharglistnoret 2 ...................... <tTheBuddyList.offline, tBuddy.name>
  [316] objcall 353 ............................. tTheBuddyList.offline.deleteOne(tBuddy.name)
  [319] getlocal 0 .............................. <tTheBuddyList>
  [321] getchainedprop 139 ...................... <tTheBuddyList.online>
  [323] getlocal 2 .............................. <tBuddy>
  [325] getobjprop 99 ........................... <tBuddy.name>
  [327] pusharglist 2 ........................... <tTheBuddyList.online, tBuddy.name>
  [329] objcall 352 ............................. <tTheBuddyList.online.getOne(tBuddy.name)>
  [332] pushzero ................................ <0>
  [333] eq ...................................... <tTheBuddyList.online.getOne(tBuddy.name) = 0>
  [334] jmpifz [349] ............................ if tTheBuddyList.online.getOne(tBuddy.name) = 0 then
  [337] getlocal 0 .............................. <tTheBuddyList>
  [339] getchainedprop 139 ...................... <tTheBuddyList.online>
  [341] getlocal 2 .............................. <tBuddy>
  [343] getobjprop 99 ........................... <tBuddy.name>
  [345] pusharglistnoret 2 ...................... <tTheBuddyList.online, tBuddy.name>
  [347] objcall 213 ............................. tTheBuddyList.online.add(tBuddy.name)
  [349] jmp [411] ............................... next repeat
  [352] getlocal 0 .............................. <tTheBuddyList>
  [354] getchainedprop 139 ...................... <tTheBuddyList.online>
  [356] getlocal 2 .............................. <tBuddy>
  [358] getobjprop 99 ........................... <tBuddy.name>
  [360] pusharglist 2 ........................... <tTheBuddyList.online, tBuddy.name>
  [362] objcall 352 ............................. <tTheBuddyList.online.getOne(tBuddy.name)>
  [365] jmpifz [381] ............................ if tTheBuddyList.online.getOne(tBuddy.name) then
  [368] getlocal 0 .............................. <tTheBuddyList>
  [370] getchainedprop 139 ...................... <tTheBuddyList.online>
  [372] getlocal 2 .............................. <tBuddy>
  [374] getobjprop 99 ........................... <tBuddy.name>
  [376] pusharglistnoret 2 ...................... <tTheBuddyList.online, tBuddy.name>
  [378] objcall 353 ............................. tTheBuddyList.online.deleteOne(tBuddy.name)
  [381] getlocal 0 .............................. <tTheBuddyList>
  [383] getchainedprop 140 ...................... <tTheBuddyList.offline>
  [385] getlocal 2 .............................. <tBuddy>
  [387] getobjprop 99 ........................... <tBuddy.name>
  [389] pusharglist 2 ........................... <tTheBuddyList.offline, tBuddy.name>
  [391] objcall 352 ............................. <tTheBuddyList.offline.getOne(tBuddy.name)>
  [394] pushzero ................................ <0>
  [395] eq ...................................... <tTheBuddyList.offline.getOne(tBuddy.name) = 0>
  [396] jmpifz [411] ............................ if tTheBuddyList.offline.getOne(tBuddy.name) = 0 then
  [399] getlocal 0 .............................. <tTheBuddyList>
  [401] getchainedprop 140 ...................... <tTheBuddyList.offline>
  [403] getlocal 2 .............................. <tBuddy>
  [405] getobjprop 99 ........................... <tBuddy.name>
  [407] pusharglistnoret 2 ...................... <tTheBuddyList.offline, tBuddy.name>
  [409] objcall 213 ............................. tTheBuddyList.offline.add(tBuddy.name)
  [411] pushint8 1
  [413] getlocal 1
  [415] add
  [416] setlocal 1
  [418] endrepeat [112]
  [421] getlocal 0 .............................. <tTheBuddyList>
  [423] pusharglist 0 ........................... <[]>
  [425] pushlist ................................ <[]>
  [426] setobjprop 109 .......................... tTheBuddyList.render = []
  [428] getlocal 0 .............................. <tTheBuddyList>
  [430] getobjprop 139 .......................... <tTheBuddyList.online>
  [432] peek 0
  [434] pusharglist 1
  [436] extcall 86
  [438] pushint8 1
  [440] peek 0
  [442] peek 2
  [444] lteq
  [445] jmpifz [473] ............................ repeat with tName in tTheBuddyList.online
  [448] peek 2
  [450] peek 1
  [452] pusharglist 2
  [454] extcall 98
  [456] setlocal 8
  [458] getlocal 0 .............................. <tTheBuddyList>
  [460] getchainedprop 109 ...................... <tTheBuddyList.render>
  [462] getlocal 8 .............................. <tName>
  [464] pusharglistnoret 2 ...................... <tTheBuddyList.render, tName>
  [466] objcall 213 ............................. tTheBuddyList.render.add(tName)
  [468] pushint8 1
  [470] add
  [471] endrepeat [440]
  [473] pop 3
  [475] getlocal 0 .............................. <tTheBuddyList>
  [477] getobjprop 140 .......................... <tTheBuddyList.offline>
  [479] peek 0
  [481] pusharglist 1
  [483] extcall 86
  [485] pushint8 1
  [487] peek 0
  [489] peek 2
  [491] lteq
  [492] jmpifz [520] ............................ repeat with tName in tTheBuddyList.offline
  [495] peek 2
  [497] peek 1
  [499] pusharglist 2
  [501] extcall 98
  [503] setlocal 8
  [505] getlocal 0 .............................. <tTheBuddyList>
  [507] getchainedprop 109 ...................... <tTheBuddyList.render>
  [509] getlocal 8 .............................. <tName>
  [511] pusharglistnoret 2 ...................... <tTheBuddyList.render, tName>
  [513] objcall 213 ............................. tTheBuddyList.render.add(tName)
  [515] pushint8 1
  [517] add
  [518] endrepeat [487]
  [520] pop 3
  [522] getparam 0 .............................. <me>
  [524] pusharglist 1 ........................... <me>
  [526] objcall 341 ............................. <me.getInterface()>
  [529] pusharglistnoret 1 ...................... <me.getInterface()>
  [531] objcall 10 .............................. me.getInterface().updateBuddyList()
  [533] pop 1 ................................... end case
  [535] ret
end

on receive_AppendBuddy me, tdata
  [  0] getparam 1 .............................. <tdata>
  [  2] pusharglist 1 ........................... <tdata>
  [  4] extcall 183 ............................. <listp(tdata)>
  [  6] not ..................................... <not listp(tdata)>
  [  7] jmpifz [ 15] ............................ if not listp(tdata) then
  [ 10] pushzero ................................ <0>
  [ 11] pusharglistnoret 1 ...................... <0>
  [ 13] extcall 71 .............................. return 0
  [ 15] getparam 1 .............................. <tdata>
  [ 17] getobjprop 86 ........................... <tdata.count>
  [ 19] pushint8 1 .............................. <1>
  [ 21] lt ...................................... <tdata.count < 1>
  [ 22] jmpifz [ 30] ............................ if tdata.count < 1 then
  [ 25] pushzero ................................ <0>
  [ 26] pusharglistnoret 1 ...................... <0>
  [ 28] extcall 71 .............................. return 0
  [ 30] getparam 1 .............................. <tdata>
  [ 32] getobjprop 97 ........................... <tdata.buddies>
  [ 34] setparam 1 .............................. tdata = tdata.buddies
  [ 36] getprop 330 ............................. <pBuddyList>
  [ 39] pushsymb 96 ............................. <#value>
  [ 41] pusharglist 2 ........................... <pBuddyList, #value>
  [ 43] objcall 64 .............................. <pBuddyList.getaProp(#value)>
  [ 45] setlocal 0 .............................. tTheBuddyList = pBuddyList.getaProp(#value)
  [ 47] getlocal 0 .............................. <tTheBuddyList>
  [ 49] getchainedprop 97 ....................... <tTheBuddyList.buddies>
  [ 51] getparam 1 .............................. <tdata>
  [ 53] pushsymb 107 ............................ <#id>
  [ 55] pusharglist 2 ........................... <tdata, #id>
  [ 57] objcall 98 .............................. <tdata[#id]>
  [ 59] getparam 1 .............................. <tdata>
  [ 61] pusharglistnoret 3 ...................... <tTheBuddyList.buddies, tdata[#id], tdata>
  [ 63] objcall 230 ............................. tTheBuddyList.buddies.setaProp(tdata[#id], tdata)
  [ 65] getparam 1 .............................. <tdata>
  [ 67] getobjprop 139 .......................... <tdata.online>
  [ 69] jmpifz [105] ............................ if tdata.online then / else
  [ 72] getlocal 0 .............................. <tTheBuddyList>
  [ 74] getchainedprop 139 ...................... <tTheBuddyList.online>
  [ 76] getparam 1 .............................. <tdata>
  [ 78] getobjprop 99 ........................... <tdata.name>
  [ 80] pusharglist 2 ........................... <tTheBuddyList.online, tdata.name>
  [ 82] objcall 352 ............................. <tTheBuddyList.online.getOne(tdata.name)>
  [ 85] pushzero ................................ <0>
  [ 86] eq ...................................... <tTheBuddyList.online.getOne(tdata.name) = 0>
  [ 87] jmpifz [102] ............................ if tTheBuddyList.online.getOne(tdata.name) = 0 then
  [ 90] getlocal 0 .............................. <tTheBuddyList>
  [ 92] getchainedprop 139 ...................... <tTheBuddyList.online>
  [ 94] getparam 1 .............................. <tdata>
  [ 96] getobjprop 99 ........................... <tdata.name>
  [ 98] pusharglistnoret 2 ...................... <tTheBuddyList.online, tdata.name>
  [100] objcall 213 ............................. tTheBuddyList.online.add(tdata.name)
  [102] jmp [135]
  [105] getlocal 0 .............................. <tTheBuddyList>
  [107] getchainedprop 140 ...................... <tTheBuddyList.offline>
  [109] getparam 1 .............................. <tdata>
  [111] getobjprop 99 ........................... <tdata.name>
  [113] pusharglist 2 ........................... <tTheBuddyList.offline, tdata.name>
  [115] objcall 352 ............................. <tTheBuddyList.offline.getOne(tdata.name)>
  [118] pushzero ................................ <0>
  [119] eq ...................................... <tTheBuddyList.offline.getOne(tdata.name) = 0>
  [120] jmpifz [135] ............................ if tTheBuddyList.offline.getOne(tdata.name) = 0 then
  [123] getlocal 0 .............................. <tTheBuddyList>
  [125] getchainedprop 140 ...................... <tTheBuddyList.offline>
  [127] getparam 1 .............................. <tdata>
  [129] getobjprop 99 ........................... <tdata.name>
  [131] pusharglistnoret 2 ...................... <tTheBuddyList.offline, tdata.name>
  [133] objcall 213 ............................. tTheBuddyList.offline.add(tdata.name)
  [135] getlocal 0 .............................. <tTheBuddyList>
  [137] pusharglist 0 ........................... <[]>
  [139] pushlist ................................ <[]>
  [140] setobjprop 109 .......................... tTheBuddyList.render = []
  [142] getlocal 0 .............................. <tTheBuddyList>
  [144] getobjprop 139 .......................... <tTheBuddyList.online>
  [146] peek 0
  [148] pusharglist 1
  [150] extcall 86
  [152] pushint8 1
  [154] peek 0
  [156] peek 2
  [158] lteq
  [159] jmpifz [187] ............................ repeat with tName in tTheBuddyList.online
  [162] peek 2
  [164] peek 1
  [166] pusharglist 2
  [168] extcall 98
  [170] setlocal 1
  [172] getlocal 0 .............................. <tTheBuddyList>
  [174] getchainedprop 109 ...................... <tTheBuddyList.render>
  [176] getlocal 1 .............................. <tName>
  [178] pusharglistnoret 2 ...................... <tTheBuddyList.render, tName>
  [180] objcall 213 ............................. tTheBuddyList.render.add(tName)
  [182] pushint8 1
  [184] add
  [185] endrepeat [154]
  [187] pop 3
  [189] getlocal 0 .............................. <tTheBuddyList>
  [191] getobjprop 140 .......................... <tTheBuddyList.offline>
  [193] peek 0
  [195] pusharglist 1
  [197] extcall 86
  [199] pushint8 1
  [201] peek 0
  [203] peek 2
  [205] lteq
  [206] jmpifz [234] ............................ repeat with tName in tTheBuddyList.offline
  [209] peek 2
  [211] peek 1
  [213] pusharglist 2
  [215] extcall 98
  [217] setlocal 1
  [219] getlocal 0 .............................. <tTheBuddyList>
  [221] getchainedprop 109 ...................... <tTheBuddyList.render>
  [223] getlocal 1 .............................. <tName>
  [225] pusharglistnoret 2 ...................... <tTheBuddyList.render, tName>
  [227] objcall 213 ............................. tTheBuddyList.render.add(tName)
  [229] pushint8 1
  [231] add
  [232] endrepeat [201]
  [234] pop 3
  [236] getparam 0 .............................. <me>
  [238] pusharglist 1 ........................... <me>
  [240] objcall 341 ............................. <me.getInterface()>
  [243] getparam 1 .............................. <tdata>
  [245] pusharglistnoret 2 ...................... <me.getInterface(), tdata>
  [247] objcall 11 .............................. me.getInterface().appendBuddy(tdata)
  [249] ret
end

on receive_RemoveBuddies me, tList
  [  0] getparam 0 .............................. <me>
  [  2] pusharglist 1 ........................... <me>
  [  4] objcall 341 ............................. <me.getInterface()>
  [  7] pusharglist 1 ........................... <me.getInterface()>
  [  9] objcall 8 ............................... <me.getInterface().isMessengerActive()>
  [ 11] not ..................................... <not me.getInterface().isMessengerActive()>
  [ 12] jmpifz [ 41] ............................ if not me.getInterface().isMessengerActive() then
  [ 15] pushcons 6 .............................. <"buddy_massremove">
  [ 17] pusharglist 1 ........................... <"buddy_massremove">
  [ 19] extcall 184 ............................. <objectExists("buddy_massremove")>
  [ 21] jmpifz [ 35] ............................ if objectExists("buddy_massremove") then
  [ 24] pushcons 6 .............................. <"buddy_massremove">
  [ 26] pusharglist 1 ........................... <"buddy_massremove">
  [ 28] extcall 141 ............................. <getObject("buddy_massremove")>
  [ 30] pusharglistnoret 1 ...................... <getObject("buddy_massremove")>
  [ 32] objcall 363 ............................. getObject("buddy_massremove").confirmationReceived()
  [ 35] pushint8 1 .............................. <1>
  [ 37] pusharglistnoret 1 ...................... <1>
  [ 39] extcall 71 .............................. return 1
  [ 41] getparam 1 .............................. <tList>
  [ 43] peek 0
  [ 45] pusharglist 1
  [ 47] extcall 86
  [ 49] pushint8 1
  [ 51] peek 0
  [ 53] peek 2
  [ 55] lteq
  [ 56] jmpifz [201] ............................ repeat with tid in tList
  [ 59] peek 2
  [ 61] peek 1
  [ 63] pusharglist 2
  [ 65] extcall 98
  [ 67] setlocal 0
  [ 69] getparam 0 .............................. <me>
  [ 71] pusharglist 1 ........................... <me>
  [ 73] objcall 341 ............................. <me.getInterface()>
  [ 76] getlocal 0 .............................. <tid>
  [ 78] pusharglistnoret 2 ...................... <me.getInterface(), tid>
  [ 80] objcall 12 .............................. me.getInterface().removeBuddy(tid)
  [ 82] getprop 330 ............................. <pBuddyList>
  [ 85] pushsymb 96 ............................. <#value>
  [ 87] pusharglist 2 ........................... <pBuddyList, #value>
  [ 89] objcall 64 .............................. <pBuddyList.getaProp(#value)>
  [ 91] setlocal 1 .............................. tTheBuddyList = pBuddyList.getaProp(#value)
  [ 93] getlocal 1 .............................. <tTheBuddyList>
  [ 95] pusharglistnoret 1 ...................... <tTheBuddyList>
  [ 97] objcall 88 .............................. tTheBuddyList.sort()
  [ 99] getlocal 1 .............................. <tTheBuddyList>
  [101] getchainedprop 97 ....................... <tTheBuddyList.buddies>
  [103] getlocal 0 .............................. <tid>
  [105] pusharglist 2 ........................... <tTheBuddyList.buddies, tid>
  [107] objcall 64 .............................. <tTheBuddyList.buddies.getaProp(tid)>
  [109] setlocal 2 .............................. tBuddy = tTheBuddyList.buddies.getaProp(tid)
  [111] getlocal 2 .............................. <tBuddy>
  [113] pusharglist 1 ........................... <tBuddy>
  [115] extcall 105 ............................. <voidp(tBuddy)>
  [117] jmpifz [138] ............................ if voidp(tBuddy) then
  [120] getparam 0 .............................. <me>
  [122] pushcons 4 .............................. <"Buddy not found:">
  [124] getlocal 0 .............................. <tid>
  [126] joinpadstr .............................. <"Buddy not found:" && tid>
  [127] pushsymb 301 ............................ <#receive_RemoveBuddies>
  [130] pusharglist 3 ........................... <me, "Buddy not found:" && tid, #receive_RemoveBuddies>
  [132] extcall 106 ............................. <error(me, "Buddy not found:" && tid, #receive_RemoveBuddies)>
  [134] pusharglistnoret 1 ...................... <error(me, "Buddy not found:" && tid, #receive_RemoveBuddies)>
  [136] extcall 71 .............................. return error(me, "Buddy not found:" && tid, #receive_RemoveBuddies)
  [138] getlocal 2 .............................. <tBuddy>
  [140] getobjprop 99 ........................... <tBuddy.name>
  [142] setlocal 3 .............................. tBuddyName = tBuddy.name
  [144] getlocal 1 .............................. <tTheBuddyList>
  [146] getchainedprop 97 ....................... <tTheBuddyList.buddies>
  [148] getlocal 0 .............................. <tid>
  [150] pusharglistnoret 2 ...................... <tTheBuddyList.buddies, tid>
  [152] objcall 111 ............................. tTheBuddyList.buddies.deleteProp(tid)
  [154] getlocal 1 .............................. <tTheBuddyList>
  [156] getchainedprop 139 ...................... <tTheBuddyList.online>
  [158] getlocal 3 .............................. <tBuddyName>
  [160] pusharglistnoret 2 ...................... <tTheBuddyList.online, tBuddyName>
  [162] objcall 353 ............................. tTheBuddyList.online.deleteOne(tBuddyName)
  [165] getlocal 1 .............................. <tTheBuddyList>
  [167] getchainedprop 140 ...................... <tTheBuddyList.offline>
  [169] getlocal 3 .............................. <tBuddyName>
  [171] pusharglistnoret 2 ...................... <tTheBuddyList.offline, tBuddyName>
  [173] objcall 353 ............................. tTheBuddyList.offline.deleteOne(tBuddyName)
  [176] getlocal 1 .............................. <tTheBuddyList>
  [178] getchainedprop 109 ...................... <tTheBuddyList.render>
  [180] getlocal 3 .............................. <tBuddyName>
  [182] pusharglistnoret 2 ...................... <tTheBuddyList.render, tBuddyName>
  [184] objcall 353 ............................. tTheBuddyList.render.deleteOne(tBuddyName)
  [187] getparam 0 .............................. <me>
  [189] getlocal 0 .............................. <tid>
  [191] pusharglistnoret 2 ...................... <me, tid>
  [193] objcall 309 ............................. me.eraseMessagesBySenderID(tid)
  [196] pushint8 1
  [198] add
  [199] endrepeat [ 51]
  [201] pop 3
  [203] pushint8 1 .............................. <1>
  [205] pusharglistnoret 1 ...................... <1>
  [207] extcall 71 .............................. return 1
  [209] ret
end

on receive_PersistentMsg me, tMsg
  [  0] getprop 331 ............................. <pItemList>
  [  3] pushsymb 336 ............................ <#persistenMsg>
  [  6] getparam 1 .............................. <tMsg>
  [  8] pusharglistnoret 3 ...................... <pItemList, #persistenMsg, tMsg>
  [ 10] objcall 100 ............................. pItemList[#persistenMsg] = tMsg
  [ 12] ret
end

on receive_Message me, tMsg
  [  0] getprop 331 ............................. <pItemList>
  [  3] pushsymb 332 ............................ <#messages>
  [  6] pusharglist 2 ........................... <pItemList, #messages>
  [  8] objcall 98 .............................. <pItemList[#messages]>
  [ 10] getparam 1 .............................. <tMsg>
  [ 12] pushsymb 224 ............................ <#senderID>
  [ 14] pusharglist 2 ........................... <tMsg, #senderID>
  [ 16] objcall 98 .............................. <tMsg[#senderID]>
  [ 18] pusharglist 2 ........................... <pItemList[#messages], tMsg[#senderID]>
  [ 20] objcall 64 .............................. <pItemList[#messages].getaProp(tMsg[#senderID])>
  [ 22] pusharglist 1 ........................... <pItemList[#messages].getaProp(tMsg[#senderID])>
  [ 24] extcall 105 ............................. <voidp(pItemList[#messages].getaProp(tMsg[#senderID]))>
  [ 26] jmpifz [ 54] ............................ if voidp(pItemList[#messages].getaProp(tMsg[#senderID])) then
  [ 29] getprop 331 ............................. <pItemList>
  [ 32] pushsymb 332 ............................ <#messages>
  [ 35] pusharglist 2 ........................... <pItemList, #messages>
  [ 37] objcall 98 .............................. <pItemList[#messages]>
  [ 39] getparam 1 .............................. <tMsg>
  [ 41] pushsymb 224 ............................ <#senderID>
  [ 43] pusharglist 2 ........................... <tMsg, #senderID>
  [ 45] objcall 98 .............................. <tMsg[#senderID]>
  [ 47] pusharglist 0 ........................... <[:]>
  [ 49] pushproplist ............................ <[:]>
  [ 50] pusharglistnoret 3 ...................... <pItemList[#messages], tMsg[#senderID], [:]>
  [ 52] objcall 230 ............................. pItemList[#messages].setaProp(tMsg[#senderID], [:])
  [ 54] getprop 331 ............................. <pItemList>
  [ 57] pushsymb 332 ............................ <#messages>
  [ 60] pusharglist 2 ........................... <pItemList, #messages>
  [ 62] objcall 98 .............................. <pItemList[#messages]>
  [ 64] getparam 1 .............................. <tMsg>
  [ 66] pushsymb 224 ............................ <#senderID>
  [ 68] pusharglist 2 ........................... <tMsg, #senderID>
  [ 70] objcall 98 .............................. <tMsg[#senderID]>
  [ 72] pusharglist 2 ........................... <pItemList[#messages], tMsg[#senderID]>
  [ 74] objcall 64 .............................. <pItemList[#messages].getaProp(tMsg[#senderID])>
  [ 76] getparam 1 .............................. <tMsg>
  [ 78] pushsymb 107 ............................ <#id>
  [ 80] pusharglist 2 ........................... <tMsg, #id>
  [ 82] objcall 98 .............................. <tMsg[#id]>
  [ 84] getparam 1 .............................. <tMsg>
  [ 86] pusharglistnoret 3 ...................... <pItemList[#messages].getaProp(tMsg[#senderID]), tMsg[#id], tMsg>
  [ 88] objcall 230 ............................. pItemList[#messages].getaProp(tMsg[#senderID]).setaProp(tMsg[#id], tMsg)
  [ 90] getprop 331 ............................. <pItemList>
  [ 93] pushsymb 333 ............................ <#msgCount>
  [ 96] pusharglist 2 ........................... <pItemList, #msgCount>
  [ 98] objcall 98 .............................. <pItemList[#msgCount]>
  [100] pushsymb 365 ............................ <#allmsg>
  [103] pusharglist 2 ........................... <pItemList[#msgCount], #allmsg>
  [105] objcall 98 .............................. <pItemList[#msgCount][#allmsg]>
  [107] pusharglist 1 ........................... <pItemList[#msgCount][#allmsg]>
  [109] extcall 105 ............................. <voidp(pItemList[#msgCount][#allmsg])>
  [111] jmpifz [136] ............................ if voidp(pItemList[#msgCount][#allmsg]) then / else
  [114] getprop 331 ............................. <pItemList>
  [117] pushsymb 333 ............................ <#msgCount>
  [120] pusharglist 2 ........................... <pItemList, #msgCount>
  [122] objcall 98 .............................. <pItemList[#msgCount]>
  [124] pushsymb 365 ............................ <#allmsg>
  [127] pushint8 1 .............................. <1>
  [129] pusharglistnoret 3 ...................... <pItemList[#msgCount], #allmsg, 1>
  [131] objcall 100 ............................. pItemList[#msgCount][#allmsg] = 1
  [133] jmp [173]
  [136] getprop 331 ............................. <pItemList>
  [139] pushsymb 333 ............................ <#msgCount>
  [142] pusharglist 2 ........................... <pItemList, #msgCount>
  [144] objcall 98 .............................. <pItemList[#msgCount]>
  [146] pushsymb 365 ............................ <#allmsg>
  [149] getprop 331 ............................. <pItemList>
  [152] pushsymb 333 ............................ <#msgCount>
  [155] pusharglist 2 ........................... <pItemList, #msgCount>
  [157] objcall 98 .............................. <pItemList[#msgCount]>
  [159] pushsymb 365 ............................ <#allmsg>
  [162] pusharglist 2 ........................... <pItemList[#msgCount], #allmsg>
  [164] objcall 98 .............................. <pItemList[#msgCount][#allmsg]>
  [166] pushint8 1 .............................. <1>
  [168] add ..................................... <pItemList[#msgCount][#allmsg] + 1>
  [169] pusharglistnoret 3 ...................... <pItemList[#msgCount], #allmsg, pItemList[#msgCount][#allmsg] + 1>
  [171] objcall 100 ............................. pItemList[#msgCount][#allmsg] = pItemList[#msgCount][#allmsg] + 1
  [173] getprop 330 ............................. <pBuddyList>
  [176] pushsymb 96 ............................. <#value>
  [178] pusharglist 2 ........................... <pBuddyList, #value>
  [180] objcall 64 .............................. <pBuddyList.getaProp(#value)>
  [182] getchainedprop 97 ....................... <pBuddyList.getaProp(#value).buddies>
  [184] getparam 1 .............................. <tMsg>
  [186] pushsymb 224 ............................ <#senderID>
  [188] pusharglist 2 ........................... <tMsg, #senderID>
  [190] objcall 98 .............................. <tMsg[#senderID]>
  [192] pusharglist 2 ........................... <pBuddyList.getaProp(#value).buddies, tMsg[#senderID]>
  [194] objcall 64 .............................. <pBuddyList.getaProp(#value).buddies.getaProp(tMsg[#senderID])>
  [196] setlocal 0 .............................. tSender = pBuddyList.getaProp(#value).buddies.getaProp(tMsg[#senderID])
  [198] getlocal 0 .............................. <tSender>
  [200] pusharglist 1 ........................... <tSender>
  [202] extcall 105 ............................. <voidp(tSender)>
  [204] not ..................................... <not voidp(tSender)>
  [205] jmpifz [239] ............................ if not voidp(tSender) then
  [208] getlocal 0 .............................. <tSender>
  [210] pushsymb 351 ............................ <#msgs>
  [213] getlocal 0 .............................. <tSender>
  [215] pushsymb 351 ............................ <#msgs>
  [218] pusharglist 2 ........................... <tSender, #msgs>
  [220] objcall 64 .............................. <tSender.getaProp(#msgs)>
  [222] pushint8 1 .............................. <1>
  [224] add ..................................... <tSender.getaProp(#msgs) + 1>
  [225] pusharglistnoret 3 ...................... <tSender, #msgs, tSender.getaProp(#msgs) + 1>
  [227] objcall 230 ............................. tSender.setaProp(#msgs, tSender.getaProp(#msgs) + 1)
  [229] getlocal 0 .............................. <tSender>
  [231] pushsymb 104 ............................ <#update>
  [233] pushint8 1 .............................. <1>
  [235] pusharglistnoret 3 ...................... <tSender, #update, 1>
  [237] objcall 230 ............................. tSender.setaProp(#update, 1)
  [239] getprop 331 ............................. <pItemList>
  [242] pushsymb 333 ............................ <#msgCount>
  [245] pusharglist 2 ........................... <pItemList, #msgCount>
  [247] objcall 98 .............................. <pItemList[#msgCount]>
  [249] getparam 1 .............................. <tMsg>
  [251] pushsymb 224 ............................ <#senderID>
  [253] pusharglist 2 ........................... <tMsg, #senderID>
  [255] objcall 98 .............................. <tMsg[#senderID]>
  [257] pusharglist 2 ........................... <pItemList[#msgCount], tMsg[#senderID]>
  [259] objcall 64 .............................. <pItemList[#msgCount].getaProp(tMsg[#senderID])>
  [261] pusharglist 1 ........................... <pItemList[#msgCount].getaProp(tMsg[#senderID])>
  [263] extcall 105 ............................. <voidp(pItemList[#msgCount].getaProp(tMsg[#senderID]))>
  [265] jmpifz [295] ............................ if voidp(pItemList[#msgCount].getaProp(tMsg[#senderID])) then / else
  [268] getprop 331 ............................. <pItemList>
  [271] pushsymb 333 ............................ <#msgCount>
  [274] pusharglist 2 ........................... <pItemList, #msgCount>
  [276] objcall 98 .............................. <pItemList[#msgCount]>
  [278] getparam 1 .............................. <tMsg>
  [280] pushsymb 224 ............................ <#senderID>
  [282] pusharglist 2 ........................... <tMsg, #senderID>
  [284] objcall 98 .............................. <tMsg[#senderID]>
  [286] pushint8 1 .............................. <1>
  [288] pusharglistnoret 3 ...................... <pItemList[#msgCount], tMsg[#senderID], 1>
  [290] objcall 230 ............................. pItemList[#msgCount].setaProp(tMsg[#senderID], 1)
  [292] jmp [342]
  [295] getprop 331 ............................. <pItemList>
  [298] pushsymb 333 ............................ <#msgCount>
  [301] pusharglist 2 ........................... <pItemList, #msgCount>
  [303] objcall 98 .............................. <pItemList[#msgCount]>
  [305] getparam 1 .............................. <tMsg>
  [307] pushsymb 224 ............................ <#senderID>
  [309] pusharglist 2 ........................... <tMsg, #senderID>
  [311] objcall 98 .............................. <tMsg[#senderID]>
  [313] getprop 331 ............................. <pItemList>
  [316] pushsymb 333 ............................ <#msgCount>
  [319] pusharglist 2 ........................... <pItemList, #msgCount>
  [321] objcall 98 .............................. <pItemList[#msgCount]>
  [323] getparam 1 .............................. <tMsg>
  [325] pushsymb 224 ............................ <#senderID>
  [327] pusharglist 2 ........................... <tMsg, #senderID>
  [329] objcall 98 .............................. <tMsg[#senderID]>
  [331] pusharglist 2 ........................... <pItemList[#msgCount], tMsg[#senderID]>
  [333] objcall 64 .............................. <pItemList[#msgCount].getaProp(tMsg[#senderID])>
  [335] pushint8 1 .............................. <1>
  [337] add ..................................... <pItemList[#msgCount].getaProp(tMsg[#senderID]) + 1>
  [338] pusharglistnoret 3 ...................... <pItemList[#msgCount], tMsg[#senderID], pItemList[#msgCount].getaProp(tMsg[#senderID]) + 1>
  [340] objcall 230 ............................. pItemList[#msgCount].setaProp(tMsg[#senderID], pItemList[#msgCount].getaProp(tMsg[#senderID]) + 1)
  [342] getparam 0 .............................. <me>
  [344] pusharglist 1 ........................... <me>
  [346] objcall 341 ............................. <me.getInterface()>
  [349] pusharglistnoret 1 ...................... <me.getInterface()>
  [351] objcall 10 .............................. me.getInterface().updateBuddyList()
  [353] getparam 0 .............................. <me>
  [355] pusharglistnoret 1 ...................... <me>
  [357] objcall 311 ............................. me.tellMessageCount()
  [360] pushint8 3 .............................. <3>
  [362] pushcons 7 .............................. <"con_new_message">
  [364] pusharglist 1 ........................... <"con_new_message">
  [366] extcall 177 ............................. <getmemnum("con_new_message")>
  [368] pusharglistnoret 2 ...................... <3, getmemnum("con_new_message")>
  [370] extcall 366 ............................. puppetSound(3, getmemnum("con_new_message"))
  [373] getparam 0 .............................. <me>
  [375] pusharglist 1 ........................... <me>
  [377] objcall 341 ............................. <me.getInterface()>
  [380] pusharglistnoret 1 ...................... <me.getInterface()>
  [382] objcall 13 .............................. me.getInterface().updateFrontPage()
  [384] ret
end

on receive_BuddyRequest me, tdata
  [  0] getprop 331 ............................. <pItemList>
  [  3] pushsymb 334 ............................ <#newBuddyRequest>
  [  6] pusharglist 2 ........................... <pItemList, #newBuddyRequest>
  [  8] objcall 98 .............................. <pItemList[#newBuddyRequest]>
  [ 10] getparam 1 .............................. <tdata>
  [ 12] pusharglistnoret 2 ...................... <pItemList[#newBuddyRequest], tdata>
  [ 14] objcall 213 ............................. pItemList[#newBuddyRequest].add(tdata)
  [ 16] getparam 0 .............................. <me>
  [ 18] pusharglistnoret 1 ...................... <me>
  [ 20] objcall 312 ............................. me.tellRequestCount()
  [ 23] getparam 0 .............................. <me>
  [ 25] pusharglist 1 ........................... <me>
  [ 27] objcall 341 ............................. <me.getInterface()>
  [ 30] pusharglist 1 ........................... <me.getInterface()>
  [ 32] objcall 13 .............................. <me.getInterface().updateFrontPage()>
  [ 34] pusharglistnoret 1 ...................... <me.getInterface().updateFrontPage()>
  [ 36] extcall 71 .............................. return me.getInterface().updateFrontPage()
  [ 38] ret
end

on receive_UserFound me, tMsg
  [  0] getparam 0 .............................. <me>
  [  2] pusharglist 1 ........................... <me>
  [  4] objcall 341 ............................. <me.getInterface()>
  [  7] getparam 1 .............................. <tMsg>
  [  9] pushint8 1 .............................. <1>
  [ 11] pusharglistnoret 3 ...................... <me.getInterface(), tMsg, 1>
  [ 13] objcall 14 .............................. me.getInterface().updateUserFind(tMsg, 1)
  [ 15] ret
end

on receive_UserNotFound me, tMsg
  [  0] getparam 0 .............................. <me>
  [  2] pusharglist 1 ........................... <me>
  [  4] objcall 341 ............................. <me.getInterface()>
  [  7] pusharglist 0 ........................... <>
  [  9] extcall 41 .............................. <VOID>
  [ 11] pushzero ................................ <0>
  [ 12] pusharglistnoret 3 ...................... <me.getInterface(), VOID, 0>
  [ 14] objcall 14 .............................. me.getInterface().updateUserFind(VOID, 0)
  [ 16] ret
end

on receive_CampaignMsg me, tMsg
  [  0] getparam 1 .............................. <tMsg>
  [  2] pushsymb 224 ............................ <#senderID>
  [  4] pushcons 8 .............................. <"Campaign Msg">
  [  6] pusharglistnoret 3 ...................... <tMsg, #senderID, "Campaign Msg">
  [  8] objcall 100 ............................. tMsg[#senderID] = "Campaign Msg"
  [ 10] getparam 1 .............................. <tMsg>
  [ 12] pushsymb 368 ............................ <#recipiens>
  [ 15] pushcons 9 .............................. <"[]">
  [ 17] pusharglistnoret 3 ...................... <tMsg, #recipiens, "[]">
  [ 19] objcall 100 ............................. tMsg[#recipiens] = "[]"
  [ 21] getparam 1 .............................. <tMsg>
  [ 23] pushsymb 223 ............................ <#time>
  [ 25] pushcons 10 ............................. <"---">
  [ 27] pusharglistnoret 3 ...................... <tMsg, #time, "---">
  [ 29] objcall 100 ............................. tMsg[#time] = "---"
  [ 31] getparam 1 .............................. <tMsg>
  [ 33] pushsymb 137 ............................ <#FigureData>
  [ 35] pushcons 1 .............................. <EMPTY>
  [ 37] pusharglistnoret 3 ...................... <tMsg, #FigureData, EMPTY>
  [ 39] objcall 100 ............................. tMsg[#FigureData] = EMPTY
  [ 41] getparam 1 .............................. <tMsg>
  [ 43] pushsymb 226 ............................ <#campaign>
  [ 45] pushint8 1 .............................. <1>
  [ 47] pusharglistnoret 3 ...................... <tMsg, #campaign, 1>
  [ 49] objcall 100 ............................. tMsg[#campaign] = 1
  [ 51] getparam 0 .............................. <me>
  [ 53] getparam 1 .............................. <tMsg>
  [ 55] pusharglistnoret 2 ...................... <me, tMsg>
  [ 57] objcall 303 ............................. me.receive_Message(tMsg)
  [ 60] ret
end

on send_MessageMarkRead me, tmessageId, tSenderId, tCampaignFlag
  [  0] getparam 0 .............................. <me>
  [  2] getparam 2 .............................. <tSenderId>
  [  4] pusharglistnoret 2 ...................... <me, tSenderId>
  [  6] objcall 310 ............................. me.decreaseMsgCount(tSenderId)
  [  9] getprop 331 ............................. <pItemList>
  [ 12] pushsymb 332 ............................ <#messages>
  [ 15] pusharglist 2 ........................... <pItemList, #messages>
  [ 17] objcall 98 .............................. <pItemList[#messages]>
  [ 19] getobjprop 86 ........................... <pItemList[#messages].count>
  [ 21] pushzero ................................ <0>
  [ 22] gt ...................................... <pItemList[#messages].count > 0>
  [ 23] jmpifz [111] ............................ if pItemList[#messages].count > 0 then
  [ 26] getprop 331 ............................. <pItemList>
  [ 29] pushsymb 332 ............................ <#messages>
  [ 32] pusharglist 2 ........................... <pItemList, #messages>
  [ 34] objcall 98 .............................. <pItemList[#messages]>
  [ 36] getparam 2 .............................. <tSenderId>
  [ 38] pusharglist 2 ........................... <pItemList[#messages], tSenderId>
  [ 40] objcall 64 .............................. <pItemList[#messages].getaProp(tSenderId)>
  [ 42] pusharglist 1 ........................... <pItemList[#messages].getaProp(tSenderId)>
  [ 44] extcall 105 ............................. <voidp(pItemList[#messages].getaProp(tSenderId))>
  [ 46] not ..................................... <not voidp(pItemList[#messages].getaProp(tSenderId))>
  [ 47] jmpifz [111] ............................ if not voidp(pItemList[#messages].getaProp(tSenderId)) then
  [ 50] getprop 331 ............................. <pItemList>
  [ 53] pushsymb 332 ............................ <#messages>
  [ 56] pusharglist 2 ........................... <pItemList, #messages>
  [ 58] objcall 98 .............................. <pItemList[#messages]>
  [ 60] getparam 2 .............................. <tSenderId>
  [ 62] pusharglist 2 ........................... <pItemList[#messages], tSenderId>
  [ 64] objcall 64 .............................. <pItemList[#messages].getaProp(tSenderId)>
  [ 66] getparam 1 .............................. <tmessageId>
  [ 68] pusharglistnoret 2 ...................... <pItemList[#messages].getaProp(tSenderId), tmessageId>
  [ 70] objcall 111 ............................. pItemList[#messages].getaProp(tSenderId).deleteProp(tmessageId)
  [ 72] getprop 331 ............................. <pItemList>
  [ 75] pushsymb 332 ............................ <#messages>
  [ 78] pusharglist 2 ........................... <pItemList, #messages>
  [ 80] objcall 98 .............................. <pItemList[#messages]>
  [ 82] getparam 2 .............................. <tSenderId>
  [ 84] pusharglist 2 ........................... <pItemList[#messages], tSenderId>
  [ 86] objcall 64 .............................. <pItemList[#messages].getaProp(tSenderId)>
  [ 88] getobjprop 86 ........................... <pItemList[#messages].getaProp(tSenderId).count>
  [ 90] pushzero ................................ <0>
  [ 91] eq ...................................... <pItemList[#messages].getaProp(tSenderId).count = 0>
  [ 92] jmpifz [111] ............................ if pItemList[#messages].getaProp(tSenderId).count = 0 then
  [ 95] getprop 331 ............................. <pItemList>
  [ 98] pushsymb 332 ............................ <#messages>
  [101] pusharglist 2 ........................... <pItemList, #messages>
  [103] objcall 98 .............................. <pItemList[#messages]>
  [105] getparam 2 .............................. <tSenderId>
  [107] pusharglistnoret 2 ...................... <pItemList[#messages], tSenderId>
  [109] objcall 111 ............................. pItemList[#messages].deleteProp(tSenderId)
  [111] getparam 0 .............................. <me>
  [113] pusharglist 1 ........................... <me>
  [115] objcall 341 ............................. <me.getInterface()>
  [118] pusharglistnoret 1 ...................... <me.getInterface()>
  [120] objcall 10 .............................. me.getInterface().updateBuddyList()
  [122] getparam 3 .............................. <tCampaignFlag>
  [124] jmpifz [161] ............................ if tCampaignFlag then / else
  [127] pushcons 11 ............................. <"connection.info.id">
  [129] pusharglist 1 ........................... <"connection.info.id">
  [131] extcall 34 .............................. <getVariable("connection.info.id")>
  [133] pusharglist 1 ........................... <getVariable("connection.info.id")>
  [135] extcall 286 ............................. <getConnection(getVariable("connection.info.id"))>
  [138] pushcons 12 ............................. <"MESSENGER_C_READ">
  [140] pushsymb 271 ............................ <#integer>
  [143] getparam 1 .............................. <tmessageId>
  [145] pusharglist 1 ........................... <tmessageId>
  [147] extcall 271 ............................. <integer(tmessageId)>
  [150] pusharglist 2 ........................... <[#integer: integer(tmessageId)]>
  [152] pushproplist ............................ <[#integer: integer(tmessageId)]>
  [153] pusharglistnoret 3 ...................... <getConnection(getVariable("connection.info.id")), "MESSENGER_C_READ", [#integer: integer(tmessageId)]>
  [155] objcall 287 ............................. getConnection(getVariable("connection.info.id")).send("MESSENGER_C_READ", [#integer: integer(tmessageId)])
  [158] jmp [190]
  [161] pushcons 11 ............................. <"connection.info.id">
  [163] pusharglist 1 ........................... <"connection.info.id">
  [165] extcall 34 .............................. <getVariable("connection.info.id")>
  [167] pusharglist 1 ........................... <getVariable("connection.info.id")>
  [169] extcall 286 ............................. <getConnection(getVariable("connection.info.id"))>
  [172] pushcons 13 ............................. <"MESSENGER_MARKREAD">
  [174] pushsymb 128 ............................ <#string>
  [176] getparam 1 .............................. <tmessageId>
  [178] pusharglist 1 ........................... <tmessageId>
  [180] extcall 128 ............................. <string(tmessageId)>
  [182] pusharglist 2 ........................... <[#string: string(tmessageId)]>
  [184] pushproplist ............................ <[#string: string(tmessageId)]>
  [185] pusharglistnoret 3 ...................... <getConnection(getVariable("connection.info.id")), "MESSENGER_MARKREAD", [#string: string(tmessageId)]>
  [187] objcall 287 ............................. getConnection(getVariable("connection.info.id")).send("MESSENGER_MARKREAD", [#string: string(tmessageId)])
  [190] ret
end

on send_Message me, tReceivers, tMsg
  [  0] getparam 1 .............................. <tReceivers>
  [  2] pusharglist 1 ........................... <tReceivers>
  [  4] extcall 183 ............................. <listp(tReceivers)>
  [  6] not ..................................... <not listp(tReceivers)>
  [  7] jmpifz [ 15] ............................ if not listp(tReceivers) then
  [ 10] pushzero ................................ <0>
  [ 11] pusharglistnoret 1 ...................... <0>
  [ 13] extcall 71 .............................. return 0
  [ 15] pushint8 3 .............................. <3>
  [ 17] pushcons 14 ............................. <"con_message_sent">
  [ 19] pusharglist 1 ........................... <"con_message_sent">
  [ 21] extcall 177 ............................. <getmemnum("con_message_sent")>
  [ 23] pusharglistnoret 2 ...................... <3, getmemnum("con_message_sent")>
  [ 25] extcall 366 ............................. puppetSound(3, getmemnum("con_message_sent"))
  [ 28] pusharglist 0 ........................... <>
  [ 30] extcall 370 ............................. <getStringServices()>
  [ 33] getparam 2 .............................. <tMsg>
  [ 35] pushint8 1 .............................. <1>
  [ 37] pusharglist 3 ........................... <getStringServices(), tMsg, 1>
  [ 39] objcall 371 ............................. <getStringServices().convertSpecialChars(tMsg, 1)>
  [ 42] setparam 2 .............................. tMsg = getStringServices().convertSpecialChars(tMsg, 1)
  [ 44] pushsymb 271 ............................ <#integer>
  [ 47] getparam 1 .............................. <tReceivers>
  [ 49] getobjprop 86 ........................... <tReceivers.count>
  [ 51] pusharglist 2 ........................... <[#integer: tReceivers.count]>
  [ 53] pushproplist ............................ <[#integer: tReceivers.count]>
  [ 54] setlocal 0 .............................. tdata = [#integer: tReceivers.count]
  [ 56] getparam 1 .............................. <tReceivers>
  [ 58] peek 0
  [ 60] pusharglist 1
  [ 62] extcall 86
  [ 64] pushint8 1
  [ 66] peek 0
  [ 68] peek 2
  [ 70] lteq
  [ 71] jmpifz [111] ............................ repeat with tReceiver in tReceivers
  [ 74] peek 2
  [ 76] peek 1
  [ 78] pusharglist 2
  [ 80] extcall 98
  [ 82] setlocal 1
  [ 84] getlocal 0 .............................. <tdata>
  [ 86] pushsymb 271 ............................ <#integer>
  [ 89] getlocal 1 .............................. <tReceiver>
  [ 91] pushsymb 107 ............................ <#id>
  [ 93] pusharglist 2 ........................... <tReceiver, #id>
  [ 95] objcall 98 .............................. <tReceiver[#id]>
  [ 97] pusharglist 1 ........................... <tReceiver[#id]>
  [ 99] extcall 271 ............................. <integer(tReceiver[#id])>
  [102] pusharglistnoret 3 ...................... <tdata, #integer, integer(tReceiver[#id])>
  [104] objcall 188 ............................. tdata.addProp(#integer, integer(tReceiver[#id]))
  [106] pushint8 1
  [108] add
  [109] endrepeat [ 66]
  [111] pop 3
  [113] getlocal 0 .............................. <tdata>
  [115] pushsymb 128 ............................ <#string>
  [117] getparam 2 .............................. <tMsg>
  [119] pusharglistnoret 3 ...................... <tdata, #string, tMsg>
  [121] objcall 188 ............................. tdata.addProp(#string, tMsg)
  [123] pushcons 11 ............................. <"connection.info.id">
  [125] pusharglist 1 ........................... <"connection.info.id">
  [127] extcall 34 .............................. <getVariable("connection.info.id")>
  [129] pusharglist 1 ........................... <getVariable("connection.info.id")>
  [131] extcall 286 ............................. <getConnection(getVariable("connection.info.id"))>
  [134] pushcons 15 ............................. <"MESSENGER_SENDMSG">
  [136] getlocal 0 .............................. <tdata>
  [138] pusharglist 3 ........................... <getConnection(getVariable("connection.info.id")), "MESSENGER_SENDMSG", tdata>
  [140] objcall 287 ............................. <getConnection(getVariable("connection.info.id")).send("MESSENGER_SENDMSG", tdata)>
  [143] pusharglistnoret 1 ...................... <getConnection(getVariable("connection.info.id")).send("MESSENGER_SENDMSG", tdata)>
  [145] extcall 71 .............................. return getConnection(getVariable("connection.info.id")).send("MESSENGER_SENDMSG", tdata)
  [147] ret
end

on send_PersistentMsg me, tMsg
  [  0] getparam 1 .............................. <tMsg>
  [  2] pushsymb 275 ............................ <#line>
  [  5] pushint8 1 .............................. <1>
  [  7] pusharglist 3 ........................... <tMsg, #line, 1>
  [  9] objcall 216 ............................. <tMsg.line[1]>
  [ 11] setparam 1 .............................. tMsg = tMsg.line[1]
  [ 13] getparam 1 .............................. <tMsg>
  [ 15] getprop 331 ............................. <pItemList>
  [ 18] pushsymb 336 ............................ <#persistenMsg>
  [ 21] pusharglist 2 ........................... <pItemList, #persistenMsg>
  [ 23] objcall 98 .............................. <pItemList[#persistenMsg]>
  [ 25] eq ...................................... <tMsg = pItemList[#persistenMsg]>
  [ 26] jmpifz [ 34] ............................ if tMsg = pItemList[#persistenMsg] then
  [ 29] pushzero ................................ <0>
  [ 30] pusharglistnoret 1 ...................... <0>
  [ 32] extcall 71 .............................. return 0
  [ 34] getprop 331 ............................. <pItemList>
  [ 37] pushsymb 336 ............................ <#persistenMsg>
  [ 40] getparam 1 .............................. <tMsg>
  [ 42] pusharglistnoret 3 ...................... <pItemList, #persistenMsg, tMsg>
  [ 44] objcall 100 ............................. pItemList[#persistenMsg] = tMsg
  [ 46] pusharglist 0 ........................... <>
  [ 48] extcall 370 ............................. <getStringServices()>
  [ 51] getparam 1 .............................. <tMsg>
  [ 53] pushint8 1 .............................. <1>
  [ 55] pusharglist 3 ........................... <getStringServices(), tMsg, 1>
  [ 57] objcall 371 ............................. <getStringServices().convertSpecialChars(tMsg, 1)>
  [ 60] setparam 1 .............................. tMsg = getStringServices().convertSpecialChars(tMsg, 1)
  [ 62] pushcons 11 ............................. <"connection.info.id">
  [ 64] pusharglist 1 ........................... <"connection.info.id">
  [ 66] extcall 34 .............................. <getVariable("connection.info.id")>
  [ 68] pusharglist 1 ........................... <getVariable("connection.info.id")>
  [ 70] extcall 286 ............................. <getConnection(getVariable("connection.info.id"))>
  [ 73] pushcons 16 ............................. <"MESSENGER_ASSIGNPERSMSG">
  [ 75] pushsymb 128 ............................ <#string>
  [ 77] getparam 1 .............................. <tMsg>
  [ 79] pusharglist 2 ........................... <[#string: tMsg]>
  [ 81] pushproplist ............................ <[#string: tMsg]>
  [ 82] pusharglistnoret 3 ...................... <getConnection(getVariable("connection.info.id")), "MESSENGER_ASSIGNPERSMSG", [#string: tMsg]>
  [ 84] objcall 287 ............................. getConnection(getVariable("connection.info.id")).send("MESSENGER_ASSIGNPERSMSG", [#string: tMsg])
  [ 87] ret
end

on send_AcceptBuddy me
  [  0] getprop 331 ............................. <pItemList>
  [  3] pushsymb 334 ............................ <#newBuddyRequest>
  [  6] pusharglist 2 ........................... <pItemList, #newBuddyRequest>
  [  8] objcall 98 .............................. <pItemList[#newBuddyRequest]>
  [ 10] getobjprop 86 ........................... <pItemList[#newBuddyRequest].count>
  [ 12] pushzero ................................ <0>
  [ 13] gt ...................................... <pItemList[#newBuddyRequest].count > 0>
  [ 14] jmpifz [135] ............................ if pItemList[#newBuddyRequest].count > 0 then
  [ 17] getprop 331 ............................. <pItemList>
  [ 20] pushsymb 334 ............................ <#newBuddyRequest>
  [ 23] pusharglist 2 ........................... <pItemList, #newBuddyRequest>
  [ 25] objcall 98 .............................. <pItemList[#newBuddyRequest]>
  [ 27] pushint8 1 .............................. <1>
  [ 29] pusharglist 2 ........................... <pItemList[#newBuddyRequest], 1>
  [ 31] objcall 98 .............................. <pItemList[#newBuddyRequest][1]>
  [ 33] pushsymb 107 ............................ <#id>
  [ 35] pusharglist 2 ........................... <pItemList[#newBuddyRequest][1], #id>
  [ 37] objcall 98 .............................. <pItemList[#newBuddyRequest][1][#id]>
  [ 39] setlocal 0 .............................. tBuddyID = pItemList[#newBuddyRequest][1][#id]
  [ 41] getprop 331 ............................. <pItemList>
  [ 44] pushsymb 335 ............................ <#pendingBuddyAccept>
  [ 47] getprop 331 ............................. <pItemList>
  [ 50] pushsymb 334 ............................ <#newBuddyRequest>
  [ 53] pusharglist 2 ........................... <pItemList, #newBuddyRequest>
  [ 55] objcall 98 .............................. <pItemList[#newBuddyRequest]>
  [ 57] pushint8 1 .............................. <1>
  [ 59] pusharglist 2 ........................... <pItemList[#newBuddyRequest], 1>
  [ 61] objcall 98 .............................. <pItemList[#newBuddyRequest][1]>
  [ 63] pusharglistnoret 3 ...................... <pItemList, #pendingBuddyAccept, pItemList[#newBuddyRequest][1]>
  [ 65] objcall 100 ............................. pItemList[#pendingBuddyAccept] = pItemList[#newBuddyRequest][1]
  [ 67] getprop 331 ............................. <pItemList>
  [ 70] pushsymb 334 ............................ <#newBuddyRequest>
  [ 73] pusharglist 2 ........................... <pItemList, #newBuddyRequest>
  [ 75] objcall 98 .............................. <pItemList[#newBuddyRequest]>
  [ 77] pushint8 1 .............................. <1>
  [ 79] pusharglistnoret 2 ...................... <pItemList[#newBuddyRequest], 1>
  [ 81] objcall 108 ............................. pItemList[#newBuddyRequest].deleteAt(1)
  [ 83] getparam 0 .............................. <me>
  [ 85] pusharglistnoret 1 ...................... <me>
  [ 87] objcall 312 ............................. me.tellRequestCount()
  [ 90] pushcons 11 ............................. <"connection.info.id">
  [ 92] pusharglist 1 ........................... <"connection.info.id">
  [ 94] extcall 34 .............................. <getVariable("connection.info.id")>
  [ 96] pusharglist 1 ........................... <getVariable("connection.info.id")>
  [ 98] extcall 374 ............................. <connectionExists(getVariable("connection.info.id"))>
  [101] jmpifz [135] ............................ if connectionExists(getVariable("connection.info.id")) then
  [104] pushcons 11 ............................. <"connection.info.id">
  [106] pusharglist 1 ........................... <"connection.info.id">
  [108] extcall 34 .............................. <getVariable("connection.info.id")>
  [110] pusharglist 1 ........................... <getVariable("connection.info.id")>
  [112] extcall 286 ............................. <getConnection(getVariable("connection.info.id"))>
  [115] pushcons 17 ............................. <"MESSENGER_ACCEPTBUDDY">
  [117] pushsymb 271 ............................ <#integer>
  [120] getlocal 0 .............................. <tBuddyID>
  [122] pusharglist 1 ........................... <tBuddyID>
  [124] extcall 271 ............................. <integer(tBuddyID)>
  [127] pusharglist 2 ........................... <[#integer: integer(tBuddyID)]>
  [129] pushproplist ............................ <[#integer: integer(tBuddyID)]>
  [130] pusharglistnoret 3 ...................... <getConnection(getVariable("connection.info.id")), "MESSENGER_ACCEPTBUDDY", [#integer: integer(tBuddyID)]>
  [132] objcall 287 ............................. getConnection(getVariable("connection.info.id")).send("MESSENGER_ACCEPTBUDDY", [#integer: integer(tBuddyID)])
  [135] ret
end

on send_DeclineBuddy me, ttype
  [  0] pushcons 11 ............................. <"connection.info.id">
  [  2] pusharglist 1 ........................... <"connection.info.id">
  [  4] extcall 34 .............................. <getVariable("connection.info.id")>
  [  6] pusharglist 1 ........................... <getVariable("connection.info.id")>
  [  8] extcall 374 ............................. <connectionExists(getVariable("connection.info.id"))>
  [ 11] not ..................................... <not connectionExists(getVariable("connection.info.id"))>
  [ 12] jmpifz [ 20] ............................ if not connectionExists(getVariable("connection.info.id")) then
  [ 15] pushzero ................................ <0>
  [ 16] pusharglistnoret 1 ...................... <0>
  [ 18] extcall 71 .............................. return 0
  [ 20] getparam 1 .............................. <ttype>
  [ 22] pushsymb 281 ............................ <#all>
  [ 25] eq ...................................... <ttype = #all>
  [ 26] jmpifz [ 92] ............................ if ttype = #all then / else
  [ 29] getprop 331 ............................. <pItemList>
  [ 32] pushsymb 334 ............................ <#newBuddyRequest>
  [ 35] pusharglist 0 ........................... <[]>
  [ 37] pushlist ................................ <[]>
  [ 38] pusharglistnoret 3 ...................... <pItemList, #newBuddyRequest, []>
  [ 40] objcall 100 ............................. pItemList[#newBuddyRequest] = []
  [ 42] getparam 0 .............................. <me>
  [ 44] pusharglistnoret 1 ...................... <me>
  [ 46] objcall 312 ............................. me.tellRequestCount()
  [ 49] getparam 0 .............................. <me>
  [ 51] pusharglist 1 ........................... <me>
  [ 53] objcall 341 ............................. <me.getInterface()>
  [ 56] pusharglistnoret 1 ...................... <me.getInterface()>
  [ 58] objcall 13 .............................. me.getInterface().updateFrontPage()
  [ 60] pushcons 11 ............................. <"connection.info.id">
  [ 62] pusharglist 1 ........................... <"connection.info.id">
  [ 64] extcall 34 .............................. <getVariable("connection.info.id")>
  [ 66] pusharglist 1 ........................... <getVariable("connection.info.id")>
  [ 68] extcall 286 ............................. <getConnection(getVariable("connection.info.id"))>
  [ 71] pushcons 18 ............................. <"MESSENGER_DECLINEBUDDY">
  [ 73] pushsymb 271 ............................ <#integer>
  [ 76] pushzero ................................ <0>
  [ 77] pusharglist 2 ........................... <[#integer: 0]>
  [ 79] pushproplist ............................ <[#integer: 0]>
  [ 80] pusharglist 3 ........................... <getConnection(getVariable("connection.info.id")), "MESSENGER_DECLINEBUDDY", [#integer: 0]>
  [ 82] objcall 287 ............................. <getConnection(getVariable("connection.info.id")).send("MESSENGER_DECLINEBUDDY", [#integer: 0])>
  [ 85] pusharglistnoret 1 ...................... <getConnection(getVariable("connection.info.id")).send("MESSENGER_DECLINEBUDDY", [#integer: 0])>
  [ 87] extcall 71 .............................. return getConnection(getVariable("connection.info.id")).send("MESSENGER_DECLINEBUDDY", [#integer: 0])
  [ 89] jmp [203]
  [ 92] getparam 1 .............................. <ttype>
  [ 94] pushsymb 279 ............................ <#one>
  [ 97] eq ...................................... <ttype = #one>
  [ 98] getprop 331 ............................. <pItemList>
  [101] pushsymb 334 ............................ <#newBuddyRequest>
  [104] pusharglist 2 ........................... <pItemList, #newBuddyRequest>
  [106] objcall 98 .............................. <pItemList[#newBuddyRequest]>
  [108] getobjprop 86 ........................... <pItemList[#newBuddyRequest].count>
  [110] pushzero ................................ <0>
  [111] gt ...................................... <pItemList[#newBuddyRequest].count > 0>
  [112] and ..................................... <(ttype = #one) and (pItemList[#newBuddyRequest].count > 0)>
  [113] jmpifz [203] ............................ if (ttype = #one) and (pItemList[#newBuddyRequest].count > 0) then
  [116] getprop 331 ............................. <pItemList>
  [119] pushsymb 334 ............................ <#newBuddyRequest>
  [122] pusharglist 2 ........................... <pItemList, #newBuddyRequest>
  [124] objcall 98 .............................. <pItemList[#newBuddyRequest]>
  [126] pushint8 1 .............................. <1>
  [128] pusharglist 2 ........................... <pItemList[#newBuddyRequest], 1>
  [130] objcall 98 .............................. <pItemList[#newBuddyRequest][1]>
  [132] pushsymb 107 ............................ <#id>
  [134] pusharglist 2 ........................... <pItemList[#newBuddyRequest][1], #id>
  [136] objcall 98 .............................. <pItemList[#newBuddyRequest][1][#id]>
  [138] setlocal 0 .............................. tBuddyID = pItemList[#newBuddyRequest][1][#id]
  [140] getprop 331 ............................. <pItemList>
  [143] pushsymb 334 ............................ <#newBuddyRequest>
  [146] pusharglist 2 ........................... <pItemList, #newBuddyRequest>
  [148] objcall 98 .............................. <pItemList[#newBuddyRequest]>
  [150] pushint8 1 .............................. <1>
  [152] pusharglistnoret 2 ...................... <pItemList[#newBuddyRequest], 1>
  [154] objcall 108 ............................. pItemList[#newBuddyRequest].deleteAt(1)
  [156] getparam 0 .............................. <me>
  [158] pusharglistnoret 1 ...................... <me>
  [160] objcall 312 ............................. me.tellRequestCount()
  [163] pushcons 11 ............................. <"connection.info.id">
  [165] pusharglist 1 ........................... <"connection.info.id">
  [167] extcall 34 .............................. <getVariable("connection.info.id")>
  [169] pusharglist 1 ........................... <getVariable("connection.info.id")>
  [171] extcall 286 ............................. <getConnection(getVariable("connection.info.id"))>
  [174] pushcons 18 ............................. <"MESSENGER_DECLINEBUDDY">
  [176] pushsymb 271 ............................ <#integer>
  [179] pushint8 1 .............................. <1>
  [181] pushsymb 271 ............................ <#integer>
  [184] getlocal 0 .............................. <tBuddyID>
  [186] pusharglist 1 ........................... <tBuddyID>
  [188] extcall 271 ............................. <integer(tBuddyID)>
  [191] pusharglist 4 ........................... <[#integer: 1, #integer: integer(tBuddyID)]>
  [193] pushproplist ............................ <[#integer: 1, #integer: integer(tBuddyID)]>
  [194] pusharglist 3 ........................... <getConnection(getVariable("connection.info.id")), "MESSENGER_DECLINEBUDDY", [#integer: 1, #integer: integer(tBuddyID)]>
  [196] objcall 287 ............................. <getConnection(getVariable("connection.info.id")).send("MESSENGER_DECLINEBUDDY", [#integer: 1, #integer: integer(tBuddyID)])>
  [199] pusharglistnoret 1 ...................... <getConnection(getVariable("connection.info.id")).send("MESSENGER_DECLINEBUDDY", [#integer: 1, #integer: integer(tBuddyID)])>
  [201] extcall 71 .............................. return getConnection(getVariable("connection.info.id")).send("MESSENGER_DECLINEBUDDY", [#integer: 1, #integer: integer(tBuddyID)])
  [203] ret
end

on send_RequestBuddy me, tBuddyName
  [  0] pushcons 11 ............................. <"connection.info.id">
  [  2] pusharglist 1 ........................... <"connection.info.id">
  [  4] extcall 34 .............................. <getVariable("connection.info.id")>
  [  6] pusharglist 1 ........................... <getVariable("connection.info.id")>
  [  8] extcall 374 ............................. <connectionExists(getVariable("connection.info.id"))>
  [ 11] jmpifz [ 39] ............................ if connectionExists(getVariable("connection.info.id")) then
  [ 14] pushcons 11 ............................. <"connection.info.id">
  [ 16] pusharglist 1 ........................... <"connection.info.id">
  [ 18] extcall 34 .............................. <getVariable("connection.info.id")>
  [ 20] pusharglist 1 ........................... <getVariable("connection.info.id")>
  [ 22] extcall 286 ............................. <getConnection(getVariable("connection.info.id"))>
  [ 25] pushcons 19 ............................. <"MESSENGER_REQUESTBUDDY">
  [ 27] pushsymb 128 ............................ <#string>
  [ 29] getparam 1 .............................. <tBuddyName>
  [ 31] pusharglist 2 ........................... <[#string: tBuddyName]>
  [ 33] pushproplist ............................ <[#string: tBuddyName]>
  [ 34] pusharglistnoret 3 ...................... <getConnection(getVariable("connection.info.id")), "MESSENGER_REQUESTBUDDY", [#string: tBuddyName]>
  [ 36] objcall 287 ............................. getConnection(getVariable("connection.info.id")).send("MESSENGER_REQUESTBUDDY", [#string: tBuddyName])
  [ 39] ret
end

on send_RemoveBuddy me, tBuddyID
  [  0] pushcons 11 ............................. <"connection.info.id">
  [  2] pusharglist 1 ........................... <"connection.info.id">
  [  4] extcall 34 .............................. <getVariable("connection.info.id")>
  [  6] pusharglist 1 ........................... <getVariable("connection.info.id")>
  [  8] extcall 374 ............................. <connectionExists(getVariable("connection.info.id"))>
  [ 11] jmpifz [ 50] ............................ if connectionExists(getVariable("connection.info.id")) then
  [ 14] pushcons 11 ............................. <"connection.info.id">
  [ 16] pusharglist 1 ........................... <"connection.info.id">
  [ 18] extcall 34 .............................. <getVariable("connection.info.id")>
  [ 20] pusharglist 1 ........................... <getVariable("connection.info.id")>
  [ 22] extcall 286 ............................. <getConnection(getVariable("connection.info.id"))>
  [ 25] pushcons 20 ............................. <"MESSENGER_REMOVEBUDDY">
  [ 27] pushsymb 271 ............................ <#integer>
  [ 30] pushint8 1 .............................. <1>
  [ 32] pushsymb 271 ............................ <#integer>
  [ 35] getparam 1 .............................. <tBuddyID>
  [ 37] pusharglist 1 ........................... <tBuddyID>
  [ 39] extcall 271 ............................. <integer(tBuddyID)>
  [ 42] pusharglist 4 ........................... <[#integer: 1, #integer: integer(tBuddyID)]>
  [ 44] pushproplist ............................ <[#integer: 1, #integer: integer(tBuddyID)]>
  [ 45] pusharglistnoret 3 ...................... <getConnection(getVariable("connection.info.id")), "MESSENGER_REMOVEBUDDY", [#integer: 1, #integer: integer(tBuddyID)]>
  [ 47] objcall 287 ............................. getConnection(getVariable("connection.info.id")).send("MESSENGER_REMOVEBUDDY", [#integer: 1, #integer: integer(tBuddyID)])
  [ 50] ret
end

on send_reportMessage me, tMsgId
  [  0] pushcons 11 ............................. <"connection.info.id">
  [  2] pusharglist 1 ........................... <"connection.info.id">
  [  4] extcall 34 .............................. <getVariable("connection.info.id")>
  [  6] pusharglist 1 ........................... <getVariable("connection.info.id")>
  [  8] extcall 374 ............................. <connectionExists(getVariable("connection.info.id"))>
  [ 11] jmpifz [ 45] ............................ if connectionExists(getVariable("connection.info.id")) then
  [ 14] pushcons 11 ............................. <"connection.info.id">
  [ 16] pusharglist 1 ........................... <"connection.info.id">
  [ 18] extcall 34 .............................. <getVariable("connection.info.id")>
  [ 20] pusharglist 1 ........................... <getVariable("connection.info.id")>
  [ 22] extcall 286 ............................. <getConnection(getVariable("connection.info.id"))>
  [ 25] pushcons 21 ............................. <"MESSENGER_REPORTMESSAGE">
  [ 27] pushsymb 271 ............................ <#integer>
  [ 30] getparam 1 .............................. <tMsgId>
  [ 32] pusharglist 1 ........................... <tMsgId>
  [ 34] extcall 271 ............................. <integer(tMsgId)>
  [ 37] pusharglist 2 ........................... <[#integer: integer(tMsgId)]>
  [ 39] pushproplist ............................ <[#integer: integer(tMsgId)]>
  [ 40] pusharglistnoret 3 ...................... <getConnection(getVariable("connection.info.id")), "MESSENGER_REPORTMESSAGE", [#integer: integer(tMsgId)]>
  [ 42] objcall 287 ............................. getConnection(getVariable("connection.info.id")).send("MESSENGER_REPORTMESSAGE", [#integer: integer(tMsgId)])
  [ 45] ret
end

on send_FindUser me, tName
  [  0] pushcons 11 ............................. <"connection.info.id">
  [  2] pusharglist 1 ........................... <"connection.info.id">
  [  4] extcall 34 .............................. <getVariable("connection.info.id")>
  [  6] pusharglist 1 ........................... <getVariable("connection.info.id")>
  [  8] extcall 374 ............................. <connectionExists(getVariable("connection.info.id"))>
  [ 11] jmpifz [ 43] ............................ if connectionExists(getVariable("connection.info.id")) then
  [ 14] pushcons 11 ............................. <"connection.info.id">
  [ 16] pusharglist 1 ........................... <"connection.info.id">
  [ 18] extcall 34 .............................. <getVariable("connection.info.id")>
  [ 20] pusharglist 1 ........................... <getVariable("connection.info.id")>
  [ 22] extcall 286 ............................. <getConnection(getVariable("connection.info.id"))>
  [ 25] pushcons 22 ............................. <"FINDUSER">
  [ 27] pushsymb 128 ............................ <#string>
  [ 29] getparam 1 .............................. <tName>
  [ 31] pushsymb 128 ............................ <#string>
  [ 33] pushcons 23 ............................. <"MESSENGER">
  [ 35] pusharglist 4 ........................... <[#string: tName, #string: "MESSENGER"]>
  [ 37] pushproplist ............................ <[#string: tName, #string: "MESSENGER"]>
  [ 38] pusharglistnoret 3 ...................... <getConnection(getVariable("connection.info.id")), "FINDUSER", [#string: tName, #string: "MESSENGER"]>
  [ 40] objcall 287 ............................. getConnection(getVariable("connection.info.id")).send("FINDUSER", [#string: tName, #string: "MESSENGER"])
  [ 43] ret
end

on send_BuddylistUpdate me
  [  0] getprop 326 ............................. <pPaused>
  [  3] not ..................................... <not pPaused>
  [  4] jmpifz [ 88] ............................ if not pPaused then
  [  7] getparam 0 .............................. <me>
  [  9] pusharglist 1 ........................... <me>
  [ 11] objcall 341 ............................. <me.getInterface()>
  [ 14] getobjprop 87 ........................... <me.getInterface().pOpenWindow>
  [ 16] setlocal 0 .............................. tWindow = me.getInterface().pOpenWindow
  [ 18] getlocal 0 .............................. <tWindow>
  [ 20] pushcons 1 .............................. <EMPTY>
  [ 22] eq ...................................... <tWindow = EMPTY>
  [ 23] jmpifz [ 31] ............................ if tWindow = EMPTY then
  [ 26] pushzero ................................ <0>
  [ 27] pusharglistnoret 1 ...................... <0>
  [ 29] extcall 71 .............................. return 0
  [ 31] getprop 339 ............................. <pLastBuddiesUpdateTime>
  [ 34] getprop 337 ............................. <pUpdateBuddiesInterval>
  [ 37] add ..................................... <pLastBuddiesUpdateTime + pUpdateBuddiesInterval>
  [ 38] getmovieprop 377 ........................ <the milliSeconds>
  [ 41] gt ...................................... <(pLastBuddiesUpdateTime + pUpdateBuddiesInterval) > the milliSeconds>
  [ 42] jmpifz [ 50] ............................ if (pLastBuddiesUpdateTime + pUpdateBuddiesInterval) > the milliSeconds then
  [ 45] pushzero ................................ <0>
  [ 46] pusharglistnoret 1 ...................... <0>
  [ 48] extcall 71 .............................. return 0
  [ 50] getmovieprop 377 ........................ <the milliSeconds>
  [ 53] setprop 339 ............................. pLastBuddiesUpdateTime = the milliSeconds
  [ 56] pushcons 11 ............................. <"connection.info.id">
  [ 58] pusharglist 1 ........................... <"connection.info.id">
  [ 60] extcall 34 .............................. <getVariable("connection.info.id")>
  [ 62] pusharglist 1 ........................... <getVariable("connection.info.id")>
  [ 64] extcall 374 ............................. <connectionExists(getVariable("connection.info.id"))>
  [ 67] jmpifz [ 88] ............................ if connectionExists(getVariable("connection.info.id")) then
  [ 70] pushcons 11 ............................. <"connection.info.id">
  [ 72] pusharglist 1 ........................... <"connection.info.id">
  [ 74] extcall 34 .............................. <getVariable("connection.info.id")>
  [ 76] pusharglist 1 ........................... <getVariable("connection.info.id")>
  [ 78] extcall 286 ............................. <getConnection(getVariable("connection.info.id"))>
  [ 81] pushcons 24 ............................. <"MESSENGER_UPDATE">
  [ 83] pusharglistnoret 2 ...................... <getConnection(getVariable("connection.info.id")), "MESSENGER_UPDATE">
  [ 85] objcall 287 ............................. getConnection(getVariable("connection.info.id")).send("MESSENGER_UPDATE")
  [ 88] ret
end

on send_AskForMessages me
  [  0] pushcons 11 ............................. <"connection.info.id">
  [  2] pusharglist 1 ........................... <"connection.info.id">
  [  4] extcall 34 .............................. <getVariable("connection.info.id")>
  [  6] pusharglist 1 ........................... <getVariable("connection.info.id")>
  [  8] extcall 374 ............................. <connectionExists(getVariable("connection.info.id"))>
  [ 11] jmpifz [ 40] ............................ if connectionExists(getVariable("connection.info.id")) then
  [ 14] pushcons 11 ............................. <"connection.info.id">
  [ 16] pusharglist 1 ........................... <"connection.info.id">
  [ 18] extcall 34 .............................. <getVariable("connection.info.id")>
  [ 20] pusharglist 1 ........................... <getVariable("connection.info.id")>
  [ 22] extcall 286 ............................. <getConnection(getVariable("connection.info.id"))>
  [ 25] pushcons 25 ............................. <"MESSENGER_GETMESSAGES">
  [ 27] pushsymb 271 ............................ <#integer>
  [ 30] pushint8 1 .............................. <1>
  [ 32] pusharglist 2 ........................... <[#integer: 1]>
  [ 34] pushproplist ............................ <[#integer: 1]>
  [ 35] pusharglistnoret 3 ...................... <getConnection(getVariable("connection.info.id")), "MESSENGER_GETMESSAGES", [#integer: 1]>
  [ 37] objcall 287 ............................. getConnection(getVariable("connection.info.id")).send("MESSENGER_GETMESSAGES", [#integer: 1])
  [ 40] ret
end

on getBuddyData me
  [  0] getprop 330 ............................. <pBuddyList>
  [  3] pushsymb 96 ............................. <#value>
  [  5] pusharglist 2 ........................... <pBuddyList, #value>
  [  7] objcall 64 .............................. <pBuddyList.getaProp(#value)>
  [  9] pusharglistnoret 1 ...................... <pBuddyList.getaProp(#value)>
  [ 11] extcall 71 .............................. return pBuddyList.getaProp(#value)
  [ 13] ret
end

on getNumOfMessages me
  [  0] getprop 331 ............................. <pItemList>
  [  3] pushsymb 333 ............................ <#msgCount>
  [  6] pusharglist 2 ........................... <pItemList, #msgCount>
  [  8] objcall 98 .............................. <pItemList[#msgCount]>
  [ 10] pushsymb 365 ............................ <#allmsg>
  [ 13] pusharglist 2 ........................... <pItemList[#msgCount], #allmsg>
  [ 15] objcall 98 .............................. <pItemList[#msgCount][#allmsg]>
  [ 17] pusharglist 1 ........................... <pItemList[#msgCount][#allmsg]>
  [ 19] extcall 105 ............................. <voidp(pItemList[#msgCount][#allmsg])>
  [ 21] jmpifz [ 32] ............................ if voidp(pItemList[#msgCount][#allmsg]) then / else
  [ 24] pushzero ................................ <0>
  [ 25] pusharglistnoret 1 ...................... <0>
  [ 27] extcall 71 .............................. return 0
  [ 29] jmp [ 53]
  [ 32] getprop 331 ............................. <pItemList>
  [ 35] pushsymb 333 ............................ <#msgCount>
  [ 38] pusharglist 2 ........................... <pItemList, #msgCount>
  [ 40] objcall 98 .............................. <pItemList[#msgCount]>
  [ 42] pushsymb 365 ............................ <#allmsg>
  [ 45] pusharglist 2 ........................... <pItemList[#msgCount], #allmsg>
  [ 47] objcall 98 .............................. <pItemList[#msgCount][#allmsg]>
  [ 49] pusharglistnoret 1 ...................... <pItemList[#msgCount][#allmsg]>
  [ 51] extcall 71 .............................. return pItemList[#msgCount][#allmsg]
  [ 53] ret
end

on getNumOfBuddyRequest me
  [  0] getprop 331 ............................. <pItemList>
  [  3] pushsymb 334 ............................ <#newBuddyRequest>
  [  6] pusharglist 2 ........................... <pItemList, #newBuddyRequest>
  [  8] objcall 98 .............................. <pItemList[#newBuddyRequest]>
  [ 10] getobjprop 86 ........................... <pItemList[#newBuddyRequest].count>
  [ 12] pusharglistnoret 1 ...................... <pItemList[#newBuddyRequest].count>
  [ 14] extcall 71 .............................. return pItemList[#newBuddyRequest].count
  [ 16] ret
end

on getMyPersistenMsg me
  [  0] getprop 331 ............................. <pItemList>
  [  3] pushsymb 336 ............................ <#persistenMsg>
  [  6] pusharglist 2 ........................... <pItemList, #persistenMsg>
  [  8] objcall 98 .............................. <pItemList[#persistenMsg]>
  [ 10] pusharglistnoret 1 ...................... <pItemList[#persistenMsg]>
  [ 12] extcall 71 .............................. return pItemList[#persistenMsg]
  [ 14] ret
end

on getNextBuddyRequest me
  [  0] getprop 331 ............................. <pItemList>
  [  3] pushsymb 334 ............................ <#newBuddyRequest>
  [  6] pusharglist 2 ........................... <pItemList, #newBuddyRequest>
  [  8] objcall 98 .............................. <pItemList[#newBuddyRequest]>
  [ 10] getobjprop 86 ........................... <pItemList[#newBuddyRequest].count>
  [ 12] pushint8 1 .............................. <1>
  [ 14] lt ...................................... <pItemList[#newBuddyRequest].count < 1>
  [ 15] jmpifz [ 27] ............................ if pItemList[#newBuddyRequest].count < 1 then / else
  [ 18] pushcons 1 .............................. <EMPTY>
  [ 20] pusharglistnoret 1 ...................... <EMPTY>
  [ 22] extcall 71 .............................. return EMPTY
  [ 24] jmp [ 47]
  [ 27] getprop 331 ............................. <pItemList>
  [ 30] pushsymb 334 ............................ <#newBuddyRequest>
  [ 33] pusharglist 2 ........................... <pItemList, #newBuddyRequest>
  [ 35] objcall 98 .............................. <pItemList[#newBuddyRequest]>
  [ 37] pushint8 1 .............................. <1>
  [ 39] pusharglist 2 ........................... <pItemList[#newBuddyRequest], 1>
  [ 41] objcall 98 .............................. <pItemList[#newBuddyRequest][1]>
  [ 43] pusharglistnoret 1 ...................... <pItemList[#newBuddyRequest][1]>
  [ 45] extcall 71 .............................. return pItemList[#newBuddyRequest][1]
  [ 47] ret
end

on getNextMessage me
  [  0] getprop 331 ............................. <pItemList>
  [  3] pushsymb 332 ............................ <#messages>
  [  6] pusharglist 2 ........................... <pItemList, #messages>
  [  8] objcall 98 .............................. <pItemList[#messages]>
  [ 10] getobjprop 86 ........................... <pItemList[#messages].count>
  [ 12] pushzero ................................ <0>
  [ 13] gt ...................................... <pItemList[#messages].count > 0>
  [ 14] jmpifz [ 73] ............................ if pItemList[#messages].count > 0 then
  [ 17] getprop 331 ............................. <pItemList>
  [ 20] pushsymb 332 ............................ <#messages>
  [ 23] pusharglist 2 ........................... <pItemList, #messages>
  [ 25] objcall 98 .............................. <pItemList[#messages]>
  [ 27] pushint8 1 .............................. <1>
  [ 29] pusharglist 2 ........................... <pItemList[#messages], 1>
  [ 31] objcall 98 .............................. <pItemList[#messages][1]>
  [ 33] pushint8 1 .............................. <1>
  [ 35] pusharglist 2 ........................... <pItemList[#messages][1], 1>
  [ 37] objcall 98 .............................. <pItemList[#messages][1][1]>
  [ 39] pushsymb 224 ............................ <#senderID>
  [ 41] pusharglist 2 ........................... <pItemList[#messages][1][1], #senderID>
  [ 43] objcall 98 .............................. <pItemList[#messages][1][1][#senderID]>
  [ 45] setlocal 0 .............................. tSenderId = pItemList[#messages][1][1][#senderID]
  [ 47] getprop 331 ............................. <pItemList>
  [ 50] pushsymb 332 ............................ <#messages>
  [ 53] pusharglist 2 ........................... <pItemList, #messages>
  [ 55] objcall 98 .............................. <pItemList[#messages]>
  [ 57] pushint8 1 .............................. <1>
  [ 59] pusharglist 2 ........................... <pItemList[#messages], 1>
  [ 61] objcall 98 .............................. <pItemList[#messages][1]>
  [ 63] pushint8 1 .............................. <1>
  [ 65] pusharglist 2 ........................... <pItemList[#messages][1], 1>
  [ 67] objcall 98 .............................. <pItemList[#messages][1][1]>
  [ 69] pusharglistnoret 1 ...................... <pItemList[#messages][1][1]>
  [ 71] extcall 71 .............................. return pItemList[#messages][1][1]
  [ 73] ret
end

on getMessageBySenderId me, tSenderId
  [  0] getprop 331 ............................. <pItemList>
  [  3] pushsymb 332 ............................ <#messages>
  [  6] pusharglist 2 ........................... <pItemList, #messages>
  [  8] objcall 98 .............................. <pItemList[#messages]>
  [ 10] getobjprop 86 ........................... <pItemList[#messages].count>
  [ 12] pushzero ................................ <0>
  [ 13] gt ...................................... <pItemList[#messages].count > 0>
  [ 14] jmpifz [ 86] ............................ if pItemList[#messages].count > 0 then
  [ 17] getparam 1 .............................. <tSenderId>
  [ 19] pusharglist 1 ........................... <tSenderId>
  [ 21] extcall 379 ............................. <stringp(tSenderId)>
  [ 24] not ..................................... <not stringp(tSenderId)>
  [ 25] jmpifz [ 36] ............................ if not stringp(tSenderId) then
  [ 28] getparam 1 .............................. <tSenderId>
  [ 30] pusharglist 1 ........................... <tSenderId>
  [ 32] extcall 128 ............................. <string(tSenderId)>
  [ 34] setparam 1 .............................. tSenderId = string(tSenderId)
  [ 36] getprop 331 ............................. <pItemList>
  [ 39] pushsymb 332 ............................ <#messages>
  [ 42] pusharglist 2 ........................... <pItemList, #messages>
  [ 44] objcall 98 .............................. <pItemList[#messages]>
  [ 46] getparam 1 .............................. <tSenderId>
  [ 48] pusharglist 2 ........................... <pItemList[#messages], tSenderId>
  [ 50] objcall 98 .............................. <pItemList[#messages][tSenderId]>
  [ 52] pusharglist 1 ........................... <pItemList[#messages][tSenderId]>
  [ 54] extcall 105 ............................. <voidp(pItemList[#messages][tSenderId])>
  [ 56] not ..................................... <not voidp(pItemList[#messages][tSenderId])>
  [ 57] jmpifz [ 86] ............................ if not voidp(pItemList[#messages][tSenderId]) then
  [ 60] getprop 331 ............................. <pItemList>
  [ 63] pushsymb 332 ............................ <#messages>
  [ 66] pusharglist 2 ........................... <pItemList, #messages>
  [ 68] objcall 98 .............................. <pItemList[#messages]>
  [ 70] getparam 1 .............................. <tSenderId>
  [ 72] pusharglist 2 ........................... <pItemList[#messages], tSenderId>
  [ 74] objcall 98 .............................. <pItemList[#messages][tSenderId]>
  [ 76] pushint8 1 .............................. <1>
  [ 78] pusharglist 2 ........................... <pItemList[#messages][tSenderId], 1>
  [ 80] objcall 98 .............................. <pItemList[#messages][tSenderId][1]>
  [ 82] pusharglistnoret 1 ...................... <pItemList[#messages][tSenderId][1]>
  [ 84] extcall 71 .............................. return pItemList[#messages][tSenderId][1]
  [ 86] ret
end

on eraseMessagesBySenderID me, tSenderId
  [  0] pushzero ................................ <0>
  [  1] setlocal 0 .............................. tMsgCount = 0
  [  3] getprop 331 ............................. <pItemList>
  [  6] pushsymb 332 ............................ <#messages>
  [  9] pusharglist 2 ........................... <pItemList, #messages>
  [ 11] objcall 98 .............................. <pItemList[#messages]>
  [ 13] getobjprop 86 ........................... <pItemList[#messages].count>
  [ 15] pushzero ................................ <0>
  [ 16] gt ...................................... <pItemList[#messages].count > 0>
  [ 17] jmpifz [ 80] ............................ if pItemList[#messages].count > 0 then
  [ 20] getprop 331 ............................. <pItemList>
  [ 23] pushsymb 332 ............................ <#messages>
  [ 26] pusharglist 2 ........................... <pItemList, #messages>
  [ 28] objcall 98 .............................. <pItemList[#messages]>
  [ 30] getparam 1 .............................. <tSenderId>
  [ 32] pusharglist 2 ........................... <pItemList[#messages], tSenderId>
  [ 34] objcall 64 .............................. <pItemList[#messages].getaProp(tSenderId)>
  [ 36] pusharglist 1 ........................... <pItemList[#messages].getaProp(tSenderId)>
  [ 38] extcall 105 ............................. <voidp(pItemList[#messages].getaProp(tSenderId))>
  [ 40] not ..................................... <not voidp(pItemList[#messages].getaProp(tSenderId))>
  [ 41] jmpifz [ 80] ............................ if not voidp(pItemList[#messages].getaProp(tSenderId)) then
  [ 44] getprop 331 ............................. <pItemList>
  [ 47] pushsymb 332 ............................ <#messages>
  [ 50] pusharglist 2 ........................... <pItemList, #messages>
  [ 52] objcall 98 .............................. <pItemList[#messages]>
  [ 54] getparam 1 .............................. <tSenderId>
  [ 56] pusharglist 2 ........................... <pItemList[#messages], tSenderId>
  [ 58] objcall 98 .............................. <pItemList[#messages][tSenderId]>
  [ 60] getobjprop 86 ........................... <pItemList[#messages][tSenderId].count>
  [ 62] setlocal 0 .............................. tMsgCount = pItemList[#messages][tSenderId].count
  [ 64] getprop 331 ............................. <pItemList>
  [ 67] pushsymb 332 ............................ <#messages>
  [ 70] pusharglist 2 ........................... <pItemList, #messages>
  [ 72] objcall 98 .............................. <pItemList[#messages]>
  [ 74] getparam 1 .............................. <tSenderId>
  [ 76] pusharglistnoret 2 ...................... <pItemList[#messages], tSenderId>
  [ 78] objcall 111 ............................. pItemList[#messages].deleteProp(tSenderId)
  [ 80] getprop 331 ............................. <pItemList>
  [ 83] pushsymb 333 ............................ <#msgCount>
  [ 86] pusharglist 2 ........................... <pItemList, #msgCount>
  [ 88] objcall 98 .............................. <pItemList[#msgCount]>
  [ 90] getparam 1 .............................. <tSenderId>
  [ 92] pushzero ................................ <0>
  [ 93] pusharglistnoret 3 ...................... <pItemList[#msgCount], tSenderId, 0>
  [ 95] objcall 100 ............................. pItemList[#msgCount][tSenderId] = 0
  [ 97] getprop 331 ............................. <pItemList>
  [100] pushsymb 333 ............................ <#msgCount>
  [103] pusharglist 2 ........................... <pItemList, #msgCount>
  [105] objcall 98 .............................. <pItemList[#msgCount]>
  [107] pushsymb 365 ............................ <#allmsg>
  [110] getprop 331 ............................. <pItemList>
  [113] pushsymb 333 ............................ <#msgCount>
  [116] pusharglist 2 ........................... <pItemList, #msgCount>
  [118] objcall 98 .............................. <pItemList[#msgCount]>
  [120] pushsymb 365 ............................ <#allmsg>
  [123] pusharglist 2 ........................... <pItemList[#msgCount], #allmsg>
  [125] objcall 98 .............................. <pItemList[#msgCount][#allmsg]>
  [127] getlocal 0 .............................. <tMsgCount>
  [129] sub ..................................... <pItemList[#msgCount][#allmsg] - tMsgCount>
  [130] pusharglistnoret 3 ...................... <pItemList[#msgCount], #allmsg, pItemList[#msgCount][#allmsg] - tMsgCount>
  [132] objcall 100 ............................. pItemList[#msgCount][#allmsg] = pItemList[#msgCount][#allmsg] - tMsgCount
  [134] getparam 0 .............................. <me>
  [136] pusharglistnoret 1 ...................... <me>
  [138] objcall 311 ............................. me.tellMessageCount()
  [141] getparam 0 .............................. <me>
  [143] pusharglist 1 ........................... <me>
  [145] objcall 341 ............................. <me.getInterface()>
  [148] pusharglistnoret 1 ...................... <me.getInterface()>
  [150] objcall 13 .............................. me.getInterface().updateFrontPage()
  [152] ret
end

on decreaseMsgCount me, tSenderId
  [  0] getprop 331 ............................. <pItemList>
  [  3] pushsymb 333 ............................ <#msgCount>
  [  6] pusharglist 2 ........................... <pItemList, #msgCount>
  [  8] objcall 98 .............................. <pItemList[#msgCount]>
  [ 10] getparam 1 .............................. <tSenderId>
  [ 12] getprop 331 ............................. <pItemList>
  [ 15] pushsymb 333 ............................ <#msgCount>
  [ 18] pusharglist 2 ........................... <pItemList, #msgCount>
  [ 20] objcall 98 .............................. <pItemList[#msgCount]>
  [ 22] getparam 1 .............................. <tSenderId>
  [ 24] pusharglist 2 ........................... <pItemList[#msgCount], tSenderId>
  [ 26] objcall 64 .............................. <pItemList[#msgCount].getaProp(tSenderId)>
  [ 28] pushint8 1 .............................. <1>
  [ 30] sub ..................................... <pItemList[#msgCount].getaProp(tSenderId) - 1>
  [ 31] pusharglistnoret 3 ...................... <pItemList[#msgCount], tSenderId, pItemList[#msgCount].getaProp(tSenderId) - 1>
  [ 33] objcall 230 ............................. pItemList[#msgCount].setaProp(tSenderId, pItemList[#msgCount].getaProp(tSenderId) - 1)
  [ 35] getprop 331 ............................. <pItemList>
  [ 38] pushsymb 333 ............................ <#msgCount>
  [ 41] pusharglist 2 ........................... <pItemList, #msgCount>
  [ 43] objcall 98 .............................. <pItemList[#msgCount]>
  [ 45] getparam 1 .............................. <tSenderId>
  [ 47] pusharglist 2 ........................... <pItemList[#msgCount], tSenderId>
  [ 49] objcall 64 .............................. <pItemList[#msgCount].getaProp(tSenderId)>
  [ 51] pushzero ................................ <0>
  [ 52] lt ...................................... <pItemList[#msgCount].getaProp(tSenderId) < 0>
  [ 53] jmpifz [ 73] ............................ if pItemList[#msgCount].getaProp(tSenderId) < 0 then
  [ 56] getprop 331 ............................. <pItemList>
  [ 59] pushsymb 333 ............................ <#msgCount>
  [ 62] pusharglist 2 ........................... <pItemList, #msgCount>
  [ 64] objcall 98 .............................. <pItemList[#msgCount]>
  [ 66] getparam 1 .............................. <tSenderId>
  [ 68] pushzero ................................ <0>
  [ 69] pusharglistnoret 3 ...................... <pItemList[#msgCount], tSenderId, 0>
  [ 71] objcall 230 ............................. pItemList[#msgCount].setaProp(tSenderId, 0)
  [ 73] getprop 331 ............................. <pItemList>
  [ 76] pushsymb 333 ............................ <#msgCount>
  [ 79] pusharglist 2 ........................... <pItemList, #msgCount>
  [ 81] objcall 98 .............................. <pItemList[#msgCount]>
  [ 83] pushsymb 365 ............................ <#allmsg>
  [ 86] getprop 331 ............................. <pItemList>
  [ 89] pushsymb 333 ............................ <#msgCount>
  [ 92] pusharglist 2 ........................... <pItemList, #msgCount>
  [ 94] objcall 98 .............................. <pItemList[#msgCount]>
  [ 96] pushsymb 365 ............................ <#allmsg>
  [ 99] pusharglist 2 ........................... <pItemList[#msgCount], #allmsg>
  [101] objcall 98 .............................. <pItemList[#msgCount][#allmsg]>
  [103] pushint8 1 .............................. <1>
  [105] sub ..................................... <pItemList[#msgCount][#allmsg] - 1>
  [106] pusharglistnoret 3 ...................... <pItemList[#msgCount], #allmsg, pItemList[#msgCount][#allmsg] - 1>
  [108] objcall 100 ............................. pItemList[#msgCount][#allmsg] = pItemList[#msgCount][#allmsg] - 1
  [110] getprop 331 ............................. <pItemList>
  [113] pushsymb 333 ............................ <#msgCount>
  [116] pusharglist 2 ........................... <pItemList, #msgCount>
  [118] objcall 98 .............................. <pItemList[#msgCount]>
  [120] pushsymb 365 ............................ <#allmsg>
  [123] pusharglist 2 ........................... <pItemList[#msgCount], #allmsg>
  [125] objcall 98 .............................. <pItemList[#msgCount][#allmsg]>
  [127] pushzero ................................ <0>
  [128] lt ...................................... <pItemList[#msgCount][#allmsg] < 0>
  [129] jmpifz [150] ............................ if pItemList[#msgCount][#allmsg] < 0 then
  [132] getprop 331 ............................. <pItemList>
  [135] pushsymb 333 ............................ <#msgCount>
  [138] pusharglist 2 ........................... <pItemList, #msgCount>
  [140] objcall 98 .............................. <pItemList[#msgCount]>
  [142] pushsymb 365 ............................ <#allmsg>
  [145] pushzero ................................ <0>
  [146] pusharglistnoret 3 ...................... <pItemList[#msgCount], #allmsg, 0>
  [148] objcall 100 ............................. pItemList[#msgCount][#allmsg] = 0
  [150] getprop 330 ............................. <pBuddyList>
  [153] pushsymb 96 ............................. <#value>
  [155] pusharglist 2 ........................... <pBuddyList, #value>
  [157] objcall 64 .............................. <pBuddyList.getaProp(#value)>
  [159] getchainedprop 97 ....................... <pBuddyList.getaProp(#value).buddies>
  [161] getparam 1 .............................. <tSenderId>
  [163] pusharglist 2 ........................... <pBuddyList.getaProp(#value).buddies, tSenderId>
  [165] objcall 64 .............................. <pBuddyList.getaProp(#value).buddies.getaProp(tSenderId)>
  [167] setlocal 0 .............................. tBuddy = pBuddyList.getaProp(#value).buddies.getaProp(tSenderId)
  [169] getlocal 0 .............................. <tBuddy>
  [171] pusharglist 1 ........................... <tBuddy>
  [173] extcall 105 ............................. <voidp(tBuddy)>
  [175] not ..................................... <not voidp(tBuddy)>
  [176] jmpifz [221] ............................ if not voidp(tBuddy) then
  [179] getlocal 0 .............................. <tBuddy>
  [181] pushsymb 351 ............................ <#msgs>
  [184] pusharglist 2 ........................... <tBuddy, #msgs>
  [186] objcall 64 .............................. <tBuddy.getaProp(#msgs)>
  [188] setlocal 1 .............................. tMsgCount = tBuddy.getaProp(#msgs)
  [190] getlocal 1 .............................. <tMsgCount>
  [192] pushzero ................................ <0>
  [193] gt ...................................... <tMsgCount > 0>
  [194] jmpifz [221] ............................ if tMsgCount > 0 then
  [197] getlocal 0 .............................. <tBuddy>
  [199] pushsymb 351 ............................ <#msgs>
  [202] getlocal 1 .............................. <tMsgCount>
  [204] pushint8 1 .............................. <1>
  [206] sub ..................................... <tMsgCount - 1>
  [207] pusharglistnoret 3 ...................... <tBuddy, #msgs, tMsgCount - 1>
  [209] objcall 230 ............................. tBuddy.setaProp(#msgs, tMsgCount - 1)
  [211] getlocal 0 .............................. <tBuddy>
  [213] pushsymb 104 ............................ <#update>
  [215] pushint8 1 .............................. <1>
  [217] pusharglistnoret 3 ...................... <tBuddy, #update, 1>
  [219] objcall 230 ............................. tBuddy.setaProp(#update, 1)
  [221] getparam 0 .............................. <me>
  [223] pusharglistnoret 1 ...................... <me>
  [225] objcall 311 ............................. me.tellMessageCount()
  [228] ret
end

on tellMessageCount me
  [  0] pushsymb 381 ............................ <#updateMessageCount>
  [  3] getparam 0 .............................. <me>
  [  5] pusharglist 1 ........................... <me>
  [  7] objcall 129 ............................. <me.getNumOfMessages()>
  [  9] pusharglist 2 ........................... <#updateMessageCount, me.getNumOfMessages()>
  [ 11] extcall 82 .............................. <executeMessage(#updateMessageCount, me.getNumOfMessages())>
  [ 13] pusharglistnoret 1 ...................... <executeMessage(#updateMessageCount, me.getNumOfMessages())>
  [ 15] extcall 71 .............................. return executeMessage(#updateMessageCount, me.getNumOfMessages())
  [ 17] ret
end

on tellRequestCount me
  [  0] pushsymb 382 ............................ <#updateBuddyrequestCount>
  [  3] getparam 0 .............................. <me>
  [  5] pusharglist 1 ........................... <me>
  [  7] objcall 130 ............................. <me.getNumOfBuddyRequest()>
  [  9] pusharglist 2 ........................... <#updateBuddyrequestCount, me.getNumOfBuddyRequest()>
  [ 11] extcall 82 .............................. <executeMessage(#updateBuddyrequestCount, me.getNumOfBuddyRequest())>
  [ 13] pusharglistnoret 1 ...................... <executeMessage(#updateBuddyrequestCount, me.getNumOfBuddyRequest())>
  [ 15] extcall 71 .............................. return executeMessage(#updateBuddyrequestCount, me.getNumOfBuddyRequest())
  [ 17] ret
end

on externalBuddyRequest me, tTargetUser
  [  0] getparam 0 .............................. <me>
  [  2] getparam 1 .............................. <tTargetUser>
  [  4] pusharglistnoret 2 ...................... <me, tTargetUser>
  [  6] objcall 285 ............................. me.send_RequestBuddy(tTargetUser)
  [  9] getparam 0 .............................. <me>
  [ 11] pusharglist 1 ........................... <me>
  [ 13] objcall 341 ............................. <me.getInterface()>
  [ 16] pusharglistnoret 1 ...................... <me.getInterface()>
  [ 18] objcall 3 ............................... me.getInterface().showMessenger()
  [ 20] getparam 0 .............................. <me>
  [ 22] pusharglist 1 ........................... <me>
  [ 24] objcall 341 ............................. <me.getInterface()>
  [ 27] pushsymb 37 ............................. <#pLastSearch>
  [ 29] pushsymb 99 ............................. <#name>
  [ 31] getparam 1 .............................. <tTargetUser>
  [ 33] pusharglistnoret 4 ...................... <me.getInterface(), #pLastSearch, #name, tTargetUser>
  [ 35] objcall 340 ............................. me.getInterface().pLastSearch[#name] = tTargetUser
  [ 38] getparam 0 .............................. <me>
  [ 40] pusharglist 1 ........................... <me>
  [ 42] objcall 341 ............................. <me.getInterface()>
  [ 45] pushcons 26 ............................. <"console_sentrequest.window">
  [ 47] pusharglistnoret 2 ...................... <me.getInterface(), "console_sentrequest.window">
  [ 49] objcall 27 .............................. me.getInterface().ChangeWindowView("console_sentrequest.window")
  [ 51] ret
end

on pause me
  [  0] pushint8 1 .............................. <1>
  [  2] setprop 326 ............................. pPaused = 1
  [  5] pushint8 1 .............................. <1>
  [  7] pusharglistnoret 1 ...................... <1>
  [  9] extcall 71 .............................. return 1
  [ 11] ret
end

on resume me
  [  0] pushzero ................................ <0>
  [  1] setprop 326 ............................. pPaused = 0
  [  4] pushint8 1 .............................. <1>
  [  6] pusharglistnoret 1 ...................... <1>
  [  8] extcall 71 .............................. return 1
  [ 10] ret
end
