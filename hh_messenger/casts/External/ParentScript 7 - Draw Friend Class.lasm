property pData, pID, pName, pCustomText, pOnline, pLocation, pLastTime, pMsgCount, pTopMarg, pLeftMarg, pwidth, pheight, pLineHeight, pMsgLinkRect, pSelected, pNeedUpdate, pCacheImage, pDotLineImg, pCacheOnlineImg, pCacheNameImg, pCacheMsgsImg, pCacheUnitImg, pCacheLastTimeImg, pCacheMissionImg, pNameNeedUpdate, pMsgsNeedUpdate, pLocationNeedUpdate, pLastNeedUpdate, pMissNeedUpdate, pWriterName, pWriterMsgs, pWriterLast, pWriterText, pFriendNameOffset, pFriendLastOffset, pFriendPerMsgOffset

on construct me
  [  0] pusharglist 0 ........................... <[:]>
  [  2] pushproplist ............................ <[:]>
  [  3] setprop 439 ............................. pData = [:]
  [  6] pushcons 0 .............................. <EMPTY>
  [  8] setprop 440 ............................. pID = EMPTY
  [ 11] pushcons 0 .............................. <EMPTY>
  [ 13] setprop 441 ............................. pCustomText = EMPTY
  [ 16] pushzero ................................ <0>
  [ 17] setprop 442 ............................. pOnline = 0
  [ 20] pushcons 0 .............................. <EMPTY>
  [ 22] setprop 443 ............................. pLocation = EMPTY
  [ 25] pushcons 0 .............................. <EMPTY>
  [ 27] setprop 444 ............................. pLastTime = EMPTY
  [ 30] pushcons 1 .............................. <"0">
  [ 32] setprop 445 ............................. pMsgCount = "0"
  [ 35] pushint8 3 .............................. <3>
  [ 37] setprop 446 ............................. pTopMarg = 3
  [ 40] pushint8 29 ............................. <29>
  [ 42] setprop 447 ............................. pLeftMarg = 29
  [ 45] pushint8 10 ............................. <10>
  [ 47] setprop 448 ............................. pLineHeight = 10
  [ 50] pushzero ................................ <0>
  [ 51] pushzero ................................ <0>
  [ 52] pushzero ................................ <0>
  [ 53] pushzero ................................ <0>
  [ 54] pusharglist 4 ........................... <0, 0, 0, 0>
  [ 56] extcall 117 ............................. <rect(0, 0, 0, 0)>
  [ 58] setprop 449 ............................. pMsgLinkRect = rect(0, 0, 0, 0)
  [ 61] pushzero ................................ <0>
  [ 62] setprop 450 ............................. pSelected = 0
  [ 65] pushcons 2 .............................. <"meswhitedottedline">
  [ 67] pusharglist 1 ........................... <"meswhitedottedline">
  [ 69] extcall 177 ............................. <getmemnum("meswhitedottedline")>
  [ 71] pusharglist 1 ........................... <getmemnum("meswhitedottedline")>
  [ 73] extcall 176 ............................. <member(getmemnum("meswhitedottedline"))>
  [ 75] getobjprop 116 .......................... <member(getmemnum("meswhitedottedline")).image>
  [ 77] setprop 451 ............................. pDotLineImg = member(getmemnum("meswhitedottedline")).image
  [ 80] pushcons 3 .............................. <"mes_smallbuddy_head">
  [ 82] pusharglist 1 ........................... <"mes_smallbuddy_head">
  [ 84] extcall 177 ............................. <getmemnum("mes_smallbuddy_head")>
  [ 86] pusharglist 1 ........................... <getmemnum("mes_smallbuddy_head")>
  [ 88] extcall 176 ............................. <member(getmemnum("mes_smallbuddy_head"))>
  [ 90] getobjprop 116 .......................... <member(getmemnum("mes_smallbuddy_head")).image>
  [ 92] setprop 452 ............................. pCacheOnlineImg = member(getmemnum("mes_smallbuddy_head")).image
  [ 95] pushint8 1 .............................. <1>
  [ 97] setprop 453 ............................. pNameNeedUpdate = 1
  [100] pushint8 1 .............................. <1>
  [102] setprop 454 ............................. pMsgsNeedUpdate = 1
  [105] pushint8 1 .............................. <1>
  [107] setprop 455 ............................. pLocationNeedUpdate = 1
  [110] pushint8 1 .............................. <1>
  [112] setprop 456 ............................. pLastNeedUpdate = 1
  [115] pushint8 1 .............................. <1>
  [117] setprop 457 ............................. pMissNeedUpdate = 1
  [120] pushzero ................................ <0>
  [121] setprop 458 ............................. pFriendNameOffset = 0
  [124] pushcons 4 .............................. <"messenger_friend_name_offset">
  [126] pusharglist 1 ........................... <"messenger_friend_name_offset">
  [128] extcall 33 .............................. <variableExists("messenger_friend_name_offset")>
  [130] jmpifz [142] ............................ if variableExists("messenger_friend_name_offset") then
  [133] pushcons 4 .............................. <"messenger_friend_name_offset">
  [135] pusharglist 1 ........................... <"messenger_friend_name_offset">
  [137] extcall 34 .............................. <getVariable("messenger_friend_name_offset")>
  [139] setprop 458 ............................. pFriendNameOffset = getVariable("messenger_friend_name_offset")
  [142] pushzero ................................ <0>
  [143] setprop 459 ............................. pFriendLastOffset = 0
  [146] pushcons 5 .............................. <"messenger_friend_last_offset">
  [148] pusharglist 1 ........................... <"messenger_friend_last_offset">
  [150] extcall 33 .............................. <variableExists("messenger_friend_last_offset")>
  [152] jmpifz [164] ............................ if variableExists("messenger_friend_last_offset") then
  [155] pushcons 5 .............................. <"messenger_friend_last_offset">
  [157] pusharglist 1 ........................... <"messenger_friend_last_offset">
  [159] extcall 34 .............................. <getVariable("messenger_friend_last_offset")>
  [161] setprop 459 ............................. pFriendLastOffset = getVariable("messenger_friend_last_offset")
  [164] pushzero ................................ <0>
  [165] setprop 460 ............................. pFriendPerMsgOffset = 0
  [168] pushcons 6 .............................. <"messenger_friend_permsg_offset">
  [170] pusharglist 1 ........................... <"messenger_friend_permsg_offset">
  [172] extcall 33 .............................. <variableExists("messenger_friend_permsg_offset")>
  [174] jmpifz [186] ............................ if variableExists("messenger_friend_permsg_offset") then
  [177] pushcons 6 .............................. <"messenger_friend_permsg_offset">
  [179] pusharglist 1 ........................... <"messenger_friend_permsg_offset">
  [181] extcall 34 .............................. <getVariable("messenger_friend_permsg_offset")>
  [183] setprop 460 ............................. pFriendPerMsgOffset = getVariable("messenger_friend_permsg_offset")
  [186] pushint8 1 .............................. <1>
  [188] pusharglistnoret 1 ...................... <1>
  [190] extcall 71 .............................. return 1
  [192] ret
end

on define me, tdata, tProps
  [  0] getparam 1 .............................. <tdata>
  [  2] setprop 439 ............................. pData = tdata
  [  5] getparam 1 .............................. <tdata>
  [  7] getobjprop 107 .......................... <tdata.id>
  [  9] setprop 440 ............................. pID = tdata.id
  [ 12] getparam 1 .............................. <tdata>
  [ 14] getobjprop 99 ........................... <tdata.name>
  [ 16] setprop 461 ............................. pName = tdata.name
  [ 19] getparam 1 .............................. <tdata>
  [ 21] getobjprop 139 .......................... <tdata.online>
  [ 23] setprop 442 ............................. pOnline = tdata.online
  [ 26] getparam 2 .............................. <tProps>
  [ 28] getobjprop 113 .......................... <tProps.width>
  [ 30] setprop 232 ............................. pwidth = tProps.width
  [ 32] getparam 2 .............................. <tProps>
  [ 34] getobjprop 114 .......................... <tProps.height>
  [ 36] setprop 233 ............................. pheight = tProps.height
  [ 38] getprop 232 ............................. <pwidth>
  [ 40] getprop 233 ............................. <pheight>
  [ 42] pushint8 8 .............................. <8>
  [ 44] pusharglist 3 ........................... <pwidth, pheight, 8>
  [ 46] extcall 116 ............................. <image(pwidth, pheight, 8)>
  [ 48] setprop 462 ............................. pCacheImage = image(pwidth, pheight, 8)
  [ 51] getparam 2 .............................. <tProps>
  [ 53] getobjprop 165 .......................... <tProps.writer_name>
  [ 55] pusharglist 1 ........................... <tProps.writer_name>
  [ 57] extcall 234 ............................. <getWriter(tProps.writer_name)>
  [ 59] setprop 463 ............................. pWriterName = getWriter(tProps.writer_name)
  [ 62] getparam 2 .............................. <tProps>
  [ 64] getobjprop 166 .......................... <tProps.writer_msgs>
  [ 66] pusharglist 1 ........................... <tProps.writer_msgs>
  [ 68] extcall 234 ............................. <getWriter(tProps.writer_msgs)>
  [ 70] setprop 464 ............................. pWriterMsgs = getWriter(tProps.writer_msgs)
  [ 73] getparam 2 .............................. <tProps>
  [ 75] getobjprop 167 .......................... <tProps.writer_last>
  [ 77] pusharglist 1 ........................... <tProps.writer_last>
  [ 79] extcall 234 ............................. <getWriter(tProps.writer_last)>
  [ 81] setprop 465 ............................. pWriterLast = getWriter(tProps.writer_last)
  [ 84] getparam 2 .............................. <tProps>
  [ 86] getobjprop 168 .......................... <tProps.writer_text>
  [ 88] pusharglist 1 ........................... <tProps.writer_text>
  [ 90] extcall 234 ............................. <getWriter(tProps.writer_text)>
  [ 92] setprop 466 ............................. pWriterText = getWriter(tProps.writer_text)
  [ 95] pushint8 1 .............................. <1>
  [ 97] setprop 467 ............................. pNeedUpdate = 1
  [100] getparam 0 .............................. <me>
  [102] pusharglistnoret 1 ...................... <me>
  [104] objcall 104 ............................. me.update()
  [106] ret
end

on update me
  [  0] getprop 439 ............................. <pData>
  [  3] getobjprop 139 .......................... <pData.online>
  [  5] setprop 442 ............................. pOnline = pData.online
  [  8] getprop 439 ............................. <pData>
  [ 11] getobjprop 149 .......................... <pData.customText>
  [ 13] getprop 441 ............................. <pCustomText>
  [ 16] nteq .................................... <pData.customText <> pCustomText>
  [ 17] jmpifz [ 38] ............................ if pData.customText <> pCustomText then
  [ 20] getprop 439 ............................. <pData>
  [ 23] getobjprop 149 .......................... <pData.customText>
  [ 25] setprop 441 ............................. pCustomText = pData.customText
  [ 28] pushint8 1 .............................. <1>
  [ 30] setprop 457 ............................. pMissNeedUpdate = 1
  [ 33] pushint8 1 .............................. <1>
  [ 35] setprop 467 ............................. pNeedUpdate = 1
  [ 38] getprop 442 ............................. <pOnline>
  [ 41] jmpifz [ 77] ............................ if pOnline then / else
  [ 44] getprop 439 ............................. <pData>
  [ 47] getobjprop 151 .......................... <pData.location>
  [ 49] getprop 443 ............................. <pLocation>
  [ 52] nteq .................................... <pData.location <> pLocation>
  [ 53] jmpifz [ 74] ............................ if pData.location <> pLocation then
  [ 56] getprop 439 ............................. <pData>
  [ 59] getobjprop 151 .......................... <pData.location>
  [ 61] setprop 443 ............................. pLocation = pData.location
  [ 64] pushint8 1 .............................. <1>
  [ 66] setprop 455 ............................. pLocationNeedUpdate = 1
  [ 69] pushint8 1 .............................. <1>
  [ 71] setprop 467 ............................. pNeedUpdate = 1
  [ 74] jmp [107]
  [ 77] getprop 439 ............................. <pData>
  [ 80] getobjprop 150 .......................... <pData.lastAccess>
  [ 82] getprop 444 ............................. <pLastTime>
  [ 85] nteq .................................... <pData.lastAccess <> pLastTime>
  [ 86] jmpifz [107] ............................ if pData.lastAccess <> pLastTime then
  [ 89] getprop 439 ............................. <pData>
  [ 92] getobjprop 150 .......................... <pData.lastAccess>
  [ 94] setprop 444 ............................. pLastTime = pData.lastAccess
  [ 97] pushint8 1 .............................. <1>
  [ 99] setprop 456 ............................. pLastNeedUpdate = 1
  [102] pushint8 1 .............................. <1>
  [104] setprop 467 ............................. pNeedUpdate = 1
  [107] getprop 439 ............................. <pData>
  [110] getobjprop 351 .......................... <pData.msgs>
  [113] getprop 445 ............................. <pMsgCount>
  [116] nteq .................................... <pData.msgs <> pMsgCount>
  [117] jmpifz [143] ............................ if pData.msgs <> pMsgCount then
  [120] getprop 439 ............................. <pData>
  [123] getobjprop 351 .......................... <pData.msgs>
  [126] pusharglist 1 ........................... <pData.msgs>
  [128] extcall 128 ............................. <string(pData.msgs)>
  [130] setprop 445 ............................. pMsgCount = string(pData.msgs)
  [133] pushint8 1 .............................. <1>
  [135] setprop 454 ............................. pMsgsNeedUpdate = 1
  [138] pushint8 1 .............................. <1>
  [140] setprop 467 ............................. pNeedUpdate = 1
  [143] ret
end

on select me, tClickPoint, tBuffer, tPosition
  [  0] getprop 445 ............................. <pMsgCount>
  [  3] pushsymb 468 ............................ <#word>
  [  6] pushint8 1 .............................. <1>
  [  8] pusharglist 3 ........................... <pMsgCount, #word, 1>
  [ 10] objcall 216 ............................. <pMsgCount.word[1]>
  [ 12] pusharglist 1 ........................... <pMsgCount.word[1]>
  [ 14] extcall 271 ............................. <integer(pMsgCount.word[1])>
  [ 17] pushzero ................................ <0>
  [ 18] gt ...................................... <integer(pMsgCount.word[1]) > 0>
  [ 19] getparam 1 .............................. <tClickPoint>
  [ 21] getprop 449 ............................. <pMsgLinkRect>
  [ 24] pusharglist 2 ........................... <tClickPoint, pMsgLinkRect>
  [ 26] extcall 469 ............................. <inside(tClickPoint, pMsgLinkRect)>
  [ 29] and ..................................... <(integer(pMsgCount.word[1]) > 0) and inside(tClickPoint, pMsgLinkRect)>
  [ 30] jmpifz [ 77] ............................ if (integer(pMsgCount.word[1]) > 0) and inside(tClickPoint, pMsgLinkRect) then / else
  [ 33] pushsymb 343 ............................ <#messenger>
  [ 36] pusharglist 1 ........................... <#messenger>
  [ 38] extcall 470 ............................. <getThread(#messenger)>
  [ 41] pusharglist 1 ........................... <getThread(#messenger)>
  [ 43] objcall 84 .............................. <getThread(#messenger).getComponent()>
  [ 45] getprop 440 ............................. <pID>
  [ 48] pusharglist 2 ........................... <getThread(#messenger).getComponent(), pID>
  [ 50] objcall 308 ............................. <getThread(#messenger).getComponent().getMessageBySenderId(pID)>
  [ 53] setlocal 0 .............................. tMsgStruct = getThread(#messenger).getComponent().getMessageBySenderId(pID)
  [ 55] pushsymb 343 ............................ <#messenger>
  [ 58] pusharglist 1 ........................... <#messenger>
  [ 60] extcall 470 ............................. <getThread(#messenger)>
  [ 63] pusharglist 1 ........................... <getThread(#messenger)>
  [ 65] objcall 341 ............................. <getThread(#messenger).getInterface()>
  [ 68] getlocal 0 .............................. <tMsgStruct>
  [ 70] pusharglistnoret 2 ...................... <getThread(#messenger).getInterface(), tMsgStruct>
  [ 72] objcall 25 .............................. getThread(#messenger).getInterface().renderMessage(tMsgStruct)
  [ 74] jmp [219]
  [ 77] getparam 3 .............................. <tPosition>
  [ 79] getprop 233 ............................. <pheight>
  [ 81] mul ..................................... <tPosition * pheight>
  [ 82] setlocal 1 .............................. tPos = tPosition * pheight
  [ 84] getprop 462 ............................. <pCacheImage>
  [ 87] getobjprop 117 .......................... <pCacheImage.rect>
  [ 89] pushzero ................................ <0>
  [ 90] pushint8 1 .............................. <1>
  [ 92] pushint8 4 .............................. <4>
  [ 94] inv ..................................... <-4>
  [ 95] pushint8 2 .............................. <2>
  [ 97] inv ..................................... <-2>
  [ 98] pusharglist 4 ........................... <0, 1, -4, -2>
  [100] extcall 117 ............................. <rect(0, 1, -4, -2)>
  [102] add ..................................... <pCacheImage.rect + rect(0, 1, -4, -2)>
  [103] pushzero ................................ <0>
  [104] getlocal 1 .............................. <tPos>
  [106] pushzero ................................ <0>
  [107] getlocal 1 .............................. <tPos>
  [109] pusharglist 4 ........................... <[0, tPos, 0, tPos]>
  [111] pushlist ................................ <[0, tPos, 0, tPos]>
  [112] add ..................................... <pCacheImage.rect + rect(0, 1, -4, -2) + [0, tPos, 0, tPos]>
  [113] setlocal 2 .............................. tRect = pCacheImage.rect + rect(0, 1, -4, -2) + [0, tPos, 0, tPos]
  [115] getprop 450 ............................. <pSelected>
  [118] jmpifz [158] ............................ if pSelected then / else
  [121] pushzero ................................ <0>
  [122] setprop 450 ............................. pSelected = 0
  [125] getparam 2 .............................. <tBuffer>
  [127] getlocal 2 .............................. <tRect>
  [129] pushsymb 471 ............................ <#shapeType>
  [132] pushsymb 117 ............................ <#rect>
  [134] pushsymb 472 ............................ <#lineSize>
  [137] pushint8 1 .............................. <1>
  [139] pushsymb 66 ............................. <#color>
  [141] pushcons 7 .............................. <"#FFFFFF">
  [143] pusharglist 1 ........................... <"#FFFFFF">
  [145] extcall 67 .............................. <rgb("#FFFFFF")>
  [147] pusharglist 6 ........................... <[#shapeType: #rect, #lineSize: 1, #color: rgb("#FFFFFF")]>
  [149] pushproplist ............................ <[#shapeType: #rect, #lineSize: 1, #color: rgb("#FFFFFF")]>
  [150] pusharglistnoret 3 ...................... <tBuffer, tRect, [#shapeType: #rect, #lineSize: 1, #color: rgb("#FFFFFF")]>
  [152] objcall 473 ............................. tBuffer.draw(tRect, [#shapeType: #rect, #lineSize: 1, #color: rgb("#FFFFFF")])
  [155] jmp [193]
  [158] pushint8 1 .............................. <1>
  [160] setprop 450 ............................. pSelected = 1
  [163] getparam 2 .............................. <tBuffer>
  [165] getlocal 2 .............................. <tRect>
  [167] pushsymb 471 ............................ <#shapeType>
  [170] pushsymb 117 ............................ <#rect>
  [172] pushsymb 472 ............................ <#lineSize>
  [175] pushint8 1 .............................. <1>
  [177] pushsymb 66 ............................. <#color>
  [179] pushcons 8 .............................. <"#EEEEEE">
  [181] pusharglist 1 ........................... <"#EEEEEE">
  [183] extcall 67 .............................. <rgb("#EEEEEE")>
  [185] pusharglist 6 ........................... <[#shapeType: #rect, #lineSize: 1, #color: rgb("#EEEEEE")]>
  [187] pushproplist ............................ <[#shapeType: #rect, #lineSize: 1, #color: rgb("#EEEEEE")]>
  [188] pusharglistnoret 3 ...................... <tBuffer, tRect, [#shapeType: #rect, #lineSize: 1, #color: rgb("#EEEEEE")]>
  [190] objcall 473 ............................. tBuffer.draw(tRect, [#shapeType: #rect, #lineSize: 1, #color: rgb("#EEEEEE")])
  [193] pushsymb 343 ............................ <#messenger>
  [196] pusharglist 1 ........................... <#messenger>
  [198] extcall 470 ............................. <getThread(#messenger)>
  [201] pusharglist 1 ........................... <getThread(#messenger)>
  [203] objcall 341 ............................. <getThread(#messenger).getInterface()>
  [206] getprop 461 ............................. <pName>
  [209] getprop 440 ............................. <pID>
  [212] getprop 450 ............................. <pSelected>
  [215] pusharglistnoret 4 ...................... <getThread(#messenger).getInterface(), pName, pID, pSelected>
  [217] objcall 23 .............................. getThread(#messenger).getInterface().buddySelectOrNot(pName, pID, pSelected)
  [219] ret
end

on unselect me
  [  0] pushzero ................................ <0>
  [  1] setprop 450 ............................. pSelected = 0
  [  4] ret
end

on render me, tBuffer, tPosition
  [  0] getparam 2 .............................. <tPosition>
  [  2] pushint8 1 .............................. <1>
  [  4] sub ..................................... <tPosition - 1>
  [  5] setparam 2 .............................. tPosition = tPosition - 1
  [  7] getprop 439 ............................. <pData>
  [ 10] getobjprop 104 .......................... <pData.update>
  [ 12] jmpifz [ 20] ............................ if pData.update then
  [ 15] pushint8 1 .............................. <1>
  [ 17] setprop 467 ............................. pNeedUpdate = 1
  [ 20] getprop 467 ............................. <pNeedUpdate>
  [ 23] not ..................................... <not pNeedUpdate>
  [ 24] jmpifz [ 70] ............................ if not pNeedUpdate then / else
  [ 27] getprop 462 ............................. <pCacheImage>
  [ 30] getobjprop 117 .......................... <pCacheImage.rect>
  [ 32] pushzero ................................ <0>
  [ 33] getparam 2 .............................. <tPosition>
  [ 35] getprop 233 ............................. <pheight>
  [ 37] mul ..................................... <tPosition * pheight>
  [ 38] pushzero ................................ <0>
  [ 39] getparam 2 .............................. <tPosition>
  [ 41] getprop 233 ............................. <pheight>
  [ 43] mul ..................................... <tPosition * pheight>
  [ 44] pusharglist 4 ........................... <0, tPosition * pheight, 0, tPosition * pheight>
  [ 46] extcall 117 ............................. <rect(0, tPosition * pheight, 0, tPosition * pheight)>
  [ 48] add ..................................... <pCacheImage.rect + rect(0, tPosition * pheight, 0, tPosition * pheight)>
  [ 49] setlocal 0 .............................. tDstRect = pCacheImage.rect + rect(0, tPosition * pheight, 0, tPosition * pheight)
  [ 51] getparam 1 .............................. <tBuffer>
  [ 53] getprop 462 ............................. <pCacheImage>
  [ 56] getlocal 0 .............................. <tDstRect>
  [ 58] getprop 462 ............................. <pCacheImage>
  [ 61] getobjprop 117 .......................... <pCacheImage.rect>
  [ 63] pusharglistnoret 4 ...................... <tBuffer, pCacheImage, tDstRect, pCacheImage.rect>
  [ 65] objcall 118 ............................. tBuffer.copyPixels(pCacheImage, tDstRect, pCacheImage.rect)
  [ 67] jmp [815]
  [ 70] pushzero ................................ <0>
  [ 71] setprop 467 ............................. pNeedUpdate = 0
  [ 74] getprop 453 ............................. <pNameNeedUpdate>
  [ 77] jmpifz [173] ............................ if pNameNeedUpdate then
  [ 80] getprop 461 ............................. <pName>
  [ 83] pushcons 9 .............................. <"-">
  [ 85] joinpadstr .............................. <pName && "-">
  [ 86] setlocal 1 .............................. tText = pName && "-"
  [ 88] getprop 463 ............................. <pWriterName>
  [ 91] getlocal 1 .............................. <tText>
  [ 93] pusharglist 2 ........................... <pWriterName, tText>
  [ 95] objcall 109 ............................. <pWriterName.render(tText)>
  [ 97] pusharglist 1 ........................... <pWriterName.render(tText)>
  [ 99] objcall 245 ............................. <pWriterName.render(tText).duplicate()>
  [101] setprop 476 ............................. pCacheNameImg = pWriterName.render(tText).duplicate()
  [104] pushzero ................................ <0>
  [105] setprop 453 ............................. pNameNeedUpdate = 0
  [108] getprop 447 ............................. <pLeftMarg>
  [111] setlocal 2 .............................. tX1 = pLeftMarg
  [113] getlocal 2 .............................. <tX1>
  [115] getprop 476 ............................. <pCacheNameImg>
  [118] getobjprop 113 .......................... <pCacheNameImg.width>
  [120] add ..................................... <tX1 + pCacheNameImg.width>
  [121] setlocal 3 .............................. tX2 = tX1 + pCacheNameImg.width
  [123] getprop 446 ............................. <pTopMarg>
  [126] getprop 458 ............................. <pFriendNameOffset>
  [129] add ..................................... <pTopMarg + pFriendNameOffset>
  [130] setlocal 4 .............................. tY1 = pTopMarg + pFriendNameOffset
  [132] getlocal 4 .............................. <tY1>
  [134] getprop 476 ............................. <pCacheNameImg>
  [137] getobjprop 114 .......................... <pCacheNameImg.height>
  [139] add ..................................... <tY1 + pCacheNameImg.height>
  [140] setlocal 5 .............................. tY2 = tY1 + pCacheNameImg.height
  [142] getlocal 2 .............................. <tX1>
  [144] getlocal 4 .............................. <tY1>
  [146] getlocal 3 .............................. <tX2>
  [148] getlocal 5 .............................. <tY2>
  [150] pusharglist 4 ........................... <tX1, tY1, tX2, tY2>
  [152] extcall 117 ............................. <rect(tX1, tY1, tX2, tY2)>
  [154] setlocal 0 .............................. tDstRect = rect(tX1, tY1, tX2, tY2)
  [156] getprop 462 ............................. <pCacheImage>
  [159] getprop 476 ............................. <pCacheNameImg>
  [162] getlocal 0 .............................. <tDstRect>
  [164] getprop 476 ............................. <pCacheNameImg>
  [167] getobjprop 117 .......................... <pCacheNameImg.rect>
  [169] pusharglistnoret 4 ...................... <pCacheImage, pCacheNameImg, tDstRect, pCacheNameImg.rect>
  [171] objcall 118 ............................. pCacheImage.copyPixels(pCacheNameImg, tDstRect, pCacheNameImg.rect)
  [173] getprop 454 ............................. <pMsgsNeedUpdate>
  [176] jmpifz [292] ............................ if pMsgsNeedUpdate then
  [179] getprop 464 ............................. <pWriterMsgs>
  [182] getprop 445 ............................. <pMsgCount>
  [185] pusharglist 2 ........................... <pWriterMsgs, pMsgCount>
  [187] objcall 109 ............................. <pWriterMsgs.render(pMsgCount)>
  [189] setlocal 6 .............................. tMsgsImg = pWriterMsgs.render(pMsgCount)
  [191] getprop 447 ............................. <pLeftMarg>
  [194] getprop 476 ............................. <pCacheNameImg>
  [197] getobjprop 113 .......................... <pCacheNameImg.width>
  [199] add ..................................... <pLeftMarg + pCacheNameImg.width>
  [200] pushint8 5 .............................. <5>
  [202] add ..................................... <pLeftMarg + pCacheNameImg.width + 5>
  [203] setlocal 2 .............................. tX1 = pLeftMarg + pCacheNameImg.width + 5
  [205] getlocal 2 .............................. <tX1>
  [207] getlocal 6 .............................. <tMsgsImg>
  [209] getobjprop 113 .......................... <tMsgsImg.width>
  [211] add ..................................... <tX1 + tMsgsImg.width>
  [212] setlocal 3 .............................. tX2 = tX1 + tMsgsImg.width
  [214] getprop 446 ............................. <pTopMarg>
  [217] getprop 458 ............................. <pFriendNameOffset>
  [220] add ..................................... <pTopMarg + pFriendNameOffset>
  [221] setlocal 4 .............................. tY1 = pTopMarg + pFriendNameOffset
  [223] getlocal 4 .............................. <tY1>
  [225] getlocal 6 .............................. <tMsgsImg>
  [227] getobjprop 114 .......................... <tMsgsImg.height>
  [229] add ..................................... <tY1 + tMsgsImg.height>
  [230] setlocal 5 .............................. tY2 = tY1 + tMsgsImg.height
  [232] getlocal 2 .............................. <tX1>
  [234] getlocal 4 .............................. <tY1>
  [236] getlocal 3 .............................. <tX2>
  [238] getlocal 5 .............................. <tY2>
  [240] pusharglist 4 ........................... <tX1, tY1, tX2, tY2>
  [242] extcall 117 ............................. <rect(tX1, tY1, tX2, tY2)>
  [244] setlocal 0 .............................. tDstRect = rect(tX1, tY1, tX2, tY2)
  [246] getprop 462 ............................. <pCacheImage>
  [249] getlocal 0 .............................. <tDstRect>
  [251] pushint16 255 ........................... <255>
  [254] pushint16 255 ........................... <255>
  [257] pushint16 255 ........................... <255>
  [260] pusharglist 3 ........................... <255, 255, 255>
  [262] extcall 67 .............................. <rgb(255, 255, 255)>
  [264] pusharglistnoret 3 ...................... <pCacheImage, tDstRect, rgb(255, 255, 255)>
  [266] objcall 477 ............................. pCacheImage.fill(tDstRect, rgb(255, 255, 255))
  [269] getprop 462 ............................. <pCacheImage>
  [272] getlocal 6 .............................. <tMsgsImg>
  [274] getlocal 0 .............................. <tDstRect>
  [276] getlocal 6 .............................. <tMsgsImg>
  [278] getobjprop 117 .......................... <tMsgsImg.rect>
  [280] pusharglistnoret 4 ...................... <pCacheImage, tMsgsImg, tDstRect, tMsgsImg.rect>
  [282] objcall 118 ............................. pCacheImage.copyPixels(tMsgsImg, tDstRect, tMsgsImg.rect)
  [284] getlocal 0 .............................. <tDstRect>
  [286] setprop 449 ............................. pMsgLinkRect = tDstRect
  [289] pushzero ................................ <0>
  [290] setlocal 7 .............................. pMsgNeedUpdate = 0
  [292] getprop 456 ............................. <pLastNeedUpdate>
  [295] getprop 455 ............................. <pLocationNeedUpdate>
  [298] or ...................................... <pLastNeedUpdate or pLocationNeedUpdate>
  [299] jmpifz [488] ............................ if pLastNeedUpdate or pLocationNeedUpdate then
  [302] getprop 442 ............................. <pOnline>
  [305] not ..................................... <not pOnline>
  [306] jmpifz [324] ............................ if not pOnline then / else
  [309] pushcons 10 ............................. <"console_lastvisit">
  [311] pusharglist 1 ........................... <"console_lastvisit">
  [313] extcall 30 .............................. <getText("console_lastvisit")>
  [315] getprop 444 ............................. <pLastTime>
  [318] joinpadstr .............................. <getText("console_lastvisit") && pLastTime>
  [319] setlocal 1 .............................. tText = getText("console_lastvisit") && pLastTime
  [321] jmp [372]
  [324] getprop 443 ............................. <pLocation>
  [327] setlocal 8 .............................. tlocation = pLocation
  [329] getlocal 8 .............................. <tlocation>
  [331] pushcons 11 ............................. <"Floor1">
  [333] containsstr ............................. <tlocation contains "Floor1">
  [334] jmpifz [345] ............................ if tlocation contains "Floor1" then
  [337] pushcons 12 ............................. <"console_inprivateroom">
  [339] pusharglist 1 ........................... <"console_inprivateroom">
  [341] extcall 30 .............................. <getText("console_inprivateroom")>
  [343] setlocal 8 .............................. tlocation = getText("console_inprivateroom")
  [345] getlocal 8 .............................. <tlocation>
  [347] pushcons 0 .............................. <EMPTY>
  [349] eq ...................................... <tlocation = EMPTY>
  [350] jmpifz [361] ............................ if tlocation = EMPTY then
  [353] pushcons 13 ............................. <"console_onfrontpage">
  [355] pusharglist 1 ........................... <"console_onfrontpage">
  [357] extcall 30 .............................. <getText("console_onfrontpage")>
  [359] setlocal 8 .............................. tlocation = getText("console_onfrontpage")
  [361] pushcons 14 ............................. <"console_online">
  [363] pusharglist 1 ........................... <"console_online">
  [365] extcall 30 .............................. <getText("console_online")>
  [367] getlocal 8 .............................. <tlocation>
  [369] joinpadstr .............................. <getText("console_online") && tlocation>
  [370] setlocal 1 .............................. tText = getText("console_online") && tlocation
  [372] getprop 465 ............................. <pWriterLast>
  [375] getlocal 1 .............................. <tText>
  [377] pusharglist 2 ........................... <pWriterLast, tText>
  [379] objcall 109 ............................. <pWriterLast.render(tText)>
  [381] setlocal 9 .............................. tLastTimeImg = pWriterLast.render(tText)
  [383] getprop 447 ............................. <pLeftMarg>
  [386] setlocal 2 .............................. tX1 = pLeftMarg
  [388] getlocal 2 .............................. <tX1>
  [390] getlocal 9 .............................. <tLastTimeImg>
  [392] getobjprop 113 .......................... <tLastTimeImg.width>
  [394] add ..................................... <tX1 + tLastTimeImg.width>
  [395] setlocal 3 .............................. tX2 = tX1 + tLastTimeImg.width
  [397] getprop 448 ............................. <pLineHeight>
  [400] getprop 446 ............................. <pTopMarg>
  [403] add ..................................... <pLineHeight + pTopMarg>
  [404] getprop 459 ............................. <pFriendLastOffset>
  [407] add ..................................... <pLineHeight + pTopMarg + pFriendLastOffset>
  [408] setlocal 4 .............................. tY1 = pLineHeight + pTopMarg + pFriendLastOffset
  [410] getlocal 4 .............................. <tY1>
  [412] getlocal 9 .............................. <tLastTimeImg>
  [414] getobjprop 114 .......................... <tLastTimeImg.height>
  [416] add ..................................... <tY1 + tLastTimeImg.height>
  [417] setlocal 5 .............................. tY2 = tY1 + tLastTimeImg.height
  [419] getlocal 2 .............................. <tX1>
  [421] getlocal 4 .............................. <tY1>
  [423] getlocal 3 .............................. <tX2>
  [425] getlocal 5 .............................. <tY2>
  [427] pusharglist 4 ........................... <tX1, tY1, tX2, tY2>
  [429] extcall 117 ............................. <rect(tX1, tY1, tX2, tY2)>
  [431] setlocal 0 .............................. tDstRect = rect(tX1, tY1, tX2, tY2)
  [433] getprop 462 ............................. <pCacheImage>
  [436] getlocal 2 .............................. <tX1>
  [438] getlocal 4 .............................. <tY1>
  [440] getprop 462 ............................. <pCacheImage>
  [443] getobjprop 113 .......................... <pCacheImage.width>
  [445] getlocal 5 .............................. <tY2>
  [447] pusharglist 4 ........................... <tX1, tY1, pCacheImage.width, tY2>
  [449] extcall 117 ............................. <rect(tX1, tY1, pCacheImage.width, tY2)>
  [451] pushint16 255 ........................... <255>
  [454] pushint16 255 ........................... <255>
  [457] pushint16 255 ........................... <255>
  [460] pusharglist 3 ........................... <255, 255, 255>
  [462] extcall 67 .............................. <rgb(255, 255, 255)>
  [464] pusharglistnoret 3 ...................... <pCacheImage, rect(tX1, tY1, pCacheImage.width, tY2), rgb(255, 255, 255)>
  [466] objcall 477 ............................. pCacheImage.fill(rect(tX1, tY1, pCacheImage.width, tY2), rgb(255, 255, 255))
  [469] getprop 462 ............................. <pCacheImage>
  [472] getlocal 9 .............................. <tLastTimeImg>
  [474] getlocal 0 .............................. <tDstRect>
  [476] getlocal 9 .............................. <tLastTimeImg>
  [478] getobjprop 117 .......................... <tLastTimeImg.rect>
  [480] pusharglistnoret 4 ...................... <pCacheImage, tLastTimeImg, tDstRect, tLastTimeImg.rect>
  [482] objcall 118 ............................. pCacheImage.copyPixels(tLastTimeImg, tDstRect, tLastTimeImg.rect)
  [484] pushzero ................................ <0>
  [485] setprop 456 ............................. pLastNeedUpdate = 0
  [488] pushint8 6 .............................. <6>
  [490] setlocal 2 .............................. tX1 = 6
  [492] getlocal 2 .............................. <tX1>
  [494] getprop 452 ............................. <pCacheOnlineImg>
  [497] getobjprop 113 .......................... <pCacheOnlineImg.width>
  [499] add ..................................... <tX1 + pCacheOnlineImg.width>
  [500] setlocal 3 .............................. tX2 = tX1 + pCacheOnlineImg.width
  [502] pushint8 4 .............................. <4>
  [504] setlocal 4 .............................. tY1 = 4
  [506] getlocal 4 .............................. <tY1>
  [508] getprop 452 ............................. <pCacheOnlineImg>
  [511] getobjprop 114 .......................... <pCacheOnlineImg.height>
  [513] add ..................................... <tY1 + pCacheOnlineImg.height>
  [514] setlocal 5 .............................. tY2 = tY1 + pCacheOnlineImg.height
  [516] getlocal 2 .............................. <tX1>
  [518] getlocal 4 .............................. <tY1>
  [520] getlocal 3 .............................. <tX2>
  [522] getlocal 5 .............................. <tY2>
  [524] pusharglist 4 ........................... <tX1, tY1, tX2, tY2>
  [526] extcall 117 ............................. <rect(tX1, tY1, tX2, tY2)>
  [528] setlocal 0 .............................. tDstRect = rect(tX1, tY1, tX2, tY2)
  [530] getprop 442 ............................. <pOnline>
  [533] jmpifz [556] ............................ if pOnline then / else
  [536] getprop 462 ............................. <pCacheImage>
  [539] getprop 452 ............................. <pCacheOnlineImg>
  [542] getlocal 0 .............................. <tDstRect>
  [544] getprop 452 ............................. <pCacheOnlineImg>
  [547] getobjprop 117 .......................... <pCacheOnlineImg.rect>
  [549] pusharglistnoret 4 ...................... <pCacheImage, pCacheOnlineImg, tDstRect, pCacheOnlineImg.rect>
  [551] objcall 118 ............................. pCacheImage.copyPixels(pCacheOnlineImg, tDstRect, pCacheOnlineImg.rect)
  [553] jmp [579]
  [556] getprop 462 ............................. <pCacheImage>
  [559] getlocal 0 .............................. <tDstRect>
  [561] pushint16 255 ........................... <255>
  [564] pushint16 255 ........................... <255>
  [567] pushint16 255 ........................... <255>
  [570] pusharglist 3 ........................... <255, 255, 255>
  [572] extcall 67 .............................. <rgb(255, 255, 255)>
  [574] pusharglistnoret 3 ...................... <pCacheImage, tDstRect, rgb(255, 255, 255)>
  [576] objcall 477 ............................. pCacheImage.fill(tDstRect, rgb(255, 255, 255))
  [579] getprop 457 ............................. <pMissNeedUpdate>
  [582] jmpifz [711] ............................ if pMissNeedUpdate then
  [585] getprop 466 ............................. <pWriterText>
  [588] pushcons 15 ............................. <QUOTE>
  [590] getprop 441 ............................. <pCustomText>
  [593] joinstr ................................. <QUOTE & pCustomText>
  [594] pushcons 15 ............................. <QUOTE>
  [596] joinstr ................................. <QUOTE & pCustomText & QUOTE>
  [597] pusharglist 2 ........................... <pWriterText, QUOTE & pCustomText & QUOTE>
  [599] objcall 109 ............................. <pWriterText.render(QUOTE & pCustomText & QUOTE)>
  [601] setlocal 10 ............................. tMissionImg = pWriterText.render(QUOTE & pCustomText & QUOTE)
  [603] getprop 447 ............................. <pLeftMarg>
  [606] setlocal 2 .............................. tX1 = pLeftMarg
  [608] getlocal 2 .............................. <tX1>
  [610] getlocal 10 ............................. <tMissionImg>
  [612] getobjprop 113 .......................... <tMissionImg.width>
  [614] add ..................................... <tX1 + tMissionImg.width>
  [615] setlocal 3 .............................. tX2 = tX1 + tMissionImg.width
  [617] getprop 448 ............................. <pLineHeight>
  [620] pushint8 2 .............................. <2>
  [622] mul ..................................... <pLineHeight * 2>
  [623] getprop 446 ............................. <pTopMarg>
  [626] add ..................................... <(pLineHeight * 2) + pTopMarg>
  [627] getprop 460 ............................. <pFriendPerMsgOffset>
  [630] add ..................................... <(pLineHeight * 2) + pTopMarg + pFriendPerMsgOffset>
  [631] setlocal 4 .............................. tY1 = (pLineHeight * 2) + pTopMarg + pFriendPerMsgOffset
  [633] getlocal 4 .............................. <tY1>
  [635] getlocal 10 ............................. <tMissionImg>
  [637] getobjprop 114 .......................... <tMissionImg.height>
  [639] add ..................................... <tY1 + tMissionImg.height>
  [640] setlocal 5 .............................. tY2 = tY1 + tMissionImg.height
  [642] getlocal 2 .............................. <tX1>
  [644] getlocal 4 .............................. <tY1>
  [646] getlocal 3 .............................. <tX2>
  [648] getlocal 5 .............................. <tY2>
  [650] pusharglist 4 ........................... <tX1, tY1, tX2, tY2>
  [652] extcall 117 ............................. <rect(tX1, tY1, tX2, tY2)>
  [654] setlocal 0 .............................. tDstRect = rect(tX1, tY1, tX2, tY2)
  [656] getprop 462 ............................. <pCacheImage>
  [659] getlocal 2 .............................. <tX1>
  [661] getlocal 4 .............................. <tY1>
  [663] getlocal 2 .............................. <tX1>
  [665] getprop 232 ............................. <pwidth>
  [667] add ..................................... <tX1 + pwidth>
  [668] getlocal 5 .............................. <tY2>
  [670] pusharglist 4 ........................... <tX1, tY1, tX1 + pwidth, tY2>
  [672] extcall 117 ............................. <rect(tX1, tY1, tX1 + pwidth, tY2)>
  [674] pushint16 255 ........................... <255>
  [677] pushint16 255 ........................... <255>
  [680] pushint16 255 ........................... <255>
  [683] pusharglist 3 ........................... <255, 255, 255>
  [685] extcall 67 .............................. <rgb(255, 255, 255)>
  [687] pusharglistnoret 3 ...................... <pCacheImage, rect(tX1, tY1, tX1 + pwidth, tY2), rgb(255, 255, 255)>
  [689] objcall 477 ............................. pCacheImage.fill(rect(tX1, tY1, tX1 + pwidth, tY2), rgb(255, 255, 255))
  [692] getprop 462 ............................. <pCacheImage>
  [695] getlocal 10 ............................. <tMissionImg>
  [697] getlocal 0 .............................. <tDstRect>
  [699] getlocal 10 ............................. <tMissionImg>
  [701] getobjprop 117 .......................... <tMissionImg.rect>
  [703] pusharglistnoret 4 ...................... <pCacheImage, tMissionImg, tDstRect, tMissionImg.rect>
  [705] objcall 118 ............................. pCacheImage.copyPixels(tMissionImg, tDstRect, tMissionImg.rect)
  [707] pushzero ................................ <0>
  [708] setprop 457 ............................. pMissNeedUpdate = 0
  [711] pushzero ................................ <0>
  [712] setlocal 2 .............................. tX1 = 0
  [714] getprop 451 ............................. <pDotLineImg>
  [717] getobjprop 113 .......................... <pDotLineImg.width>
  [719] setlocal 3 .............................. tX2 = pDotLineImg.width
  [721] getprop 462 ............................. <pCacheImage>
  [724] getobjprop 114 .......................... <pCacheImage.height>
  [726] pushint8 1 .............................. <1>
  [728] sub ..................................... <pCacheImage.height - 1>
  [729] setlocal 4 .............................. tY1 = pCacheImage.height - 1
  [731] getlocal 4 .............................. <tY1>
  [733] pushint8 1 .............................. <1>
  [735] add ..................................... <tY1 + 1>
  [736] setlocal 5 .............................. tY2 = tY1 + 1
  [738] getlocal 2 .............................. <tX1>
  [740] getlocal 4 .............................. <tY1>
  [742] getlocal 3 .............................. <tX2>
  [744] getlocal 5 .............................. <tY2>
  [746] pusharglist 4 ........................... <tX1, tY1, tX2, tY2>
  [748] extcall 117 ............................. <rect(tX1, tY1, tX2, tY2)>
  [750] setlocal 0 .............................. tDstRect = rect(tX1, tY1, tX2, tY2)
  [752] getprop 462 ............................. <pCacheImage>
  [755] getprop 451 ............................. <pDotLineImg>
  [758] getlocal 0 .............................. <tDstRect>
  [760] getprop 451 ............................. <pDotLineImg>
  [763] getobjprop 117 .......................... <pDotLineImg.rect>
  [765] pusharglistnoret 4 ...................... <pCacheImage, pDotLineImg, tDstRect, pDotLineImg.rect>
  [767] objcall 118 ............................. pCacheImage.copyPixels(pDotLineImg, tDstRect, pDotLineImg.rect)
  [769] getprop 462 ............................. <pCacheImage>
  [772] getobjprop 117 .......................... <pCacheImage.rect>
  [774] pushzero ................................ <0>
  [775] getparam 2 .............................. <tPosition>
  [777] getprop 233 ............................. <pheight>
  [779] mul ..................................... <tPosition * pheight>
  [780] pushzero ................................ <0>
  [781] getparam 2 .............................. <tPosition>
  [783] getprop 233 ............................. <pheight>
  [785] mul ..................................... <tPosition * pheight>
  [786] pusharglist 4 ........................... <0, tPosition * pheight, 0, tPosition * pheight>
  [788] extcall 117 ............................. <rect(0, tPosition * pheight, 0, tPosition * pheight)>
  [790] add ..................................... <pCacheImage.rect + rect(0, tPosition * pheight, 0, tPosition * pheight)>
  [791] setlocal 0 .............................. tDstRect = pCacheImage.rect + rect(0, tPosition * pheight, 0, tPosition * pheight)
  [793] getparam 1 .............................. <tBuffer>
  [795] getprop 462 ............................. <pCacheImage>
  [798] getlocal 0 .............................. <tDstRect>
  [800] getprop 462 ............................. <pCacheImage>
  [803] getobjprop 117 .......................... <pCacheImage.rect>
  [805] pusharglistnoret 4 ...................... <tBuffer, pCacheImage, tDstRect, pCacheImage.rect>
  [807] objcall 118 ............................. tBuffer.copyPixels(pCacheImage, tDstRect, pCacheImage.rect)
  [809] getprop 439 ............................. <pData>
  [812] pushzero ................................ <0>
  [813] setobjprop 104 .......................... pData.update = 0
  [815] ret
end
