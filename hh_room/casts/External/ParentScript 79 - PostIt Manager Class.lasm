property pActivePostItId, pText, pcolor, pWindowID, pLocX, pLocY, pIsController, pChanged, pIsOwner, pCanRemoveStickies

on construct me
  [  0] pushsymb 1816 ........................... <#postit_window>
  [  3] setprop 1593 ............................ pWindowID = #postit_window
  [  6] pushsymb 491 ............................ <#leaveRoom>
  [  9] getparam 0 .............................. <me>
  [ 11] pusharglist 1 ........................... <me>
  [ 13] objcall 156 ............................. <me.getID()>
  [ 15] pushsymb 368 ............................ <#close>
  [ 18] pusharglistnoret 3 ...................... <#leaveRoom, me.getID(), #close>
  [ 20] extcall 155 ............................. registerMessage(#leaveRoom, me.getID(), #close)
  [ 22] pushsymb 578 ............................ <#changeRoom>
  [ 25] getparam 0 .............................. <me>
  [ 27] pusharglist 1 ........................... <me>
  [ 29] objcall 156 ............................. <me.getID()>
  [ 31] pushsymb 368 ............................ <#close>
  [ 34] pusharglistnoret 3 ...................... <#changeRoom, me.getID(), #close>
  [ 36] extcall 155 ............................. registerMessage(#changeRoom, me.getID(), #close)
  [ 38] pushint8 1 .............................. <1>
  [ 40] pusharglistnoret 1 ...................... <1>
  [ 42] extcall 21 .............................. return 1
  [ 44] ret
end

on deconstruct me
  [  0] pushsymb 491 ............................ <#leaveRoom>
  [  3] getparam 0 .............................. <me>
  [  5] pusharglist 1 ........................... <me>
  [  7] objcall 156 ............................. <me.getID()>
  [  9] pusharglistnoret 2 ...................... <#leaveRoom, me.getID()>
  [ 11] extcall 158 ............................. unregisterMessage(#leaveRoom, me.getID())
  [ 13] pushsymb 578 ............................ <#changeRoom>
  [ 16] getparam 0 .............................. <me>
  [ 18] pusharglist 1 ........................... <me>
  [ 20] objcall 156 ............................. <me.getID()>
  [ 22] pusharglistnoret 2 ...................... <#changeRoom, me.getID()>
  [ 24] extcall 158 ............................. unregisterMessage(#changeRoom, me.getID())
  [ 26] pushint8 1 .............................. <1>
  [ 28] pusharglistnoret 1 ...................... <1>
  [ 30] extcall 21 .............................. return 1
  [ 32] ret
end

on open me, tid, tColor, tLocX, tLocY
  [  0] getparam 2 .............................. <tColor>
  [  2] setprop 1817 ............................ pcolor = tColor
  [  5] getparam 3 .............................. <tLocX>
  [  7] setprop 494 ............................. pLocX = tLocX
  [ 10] getparam 4 .............................. <tLocY>
  [ 12] setprop 496 ............................. pLocY = tLocY
  [ 15] getprop 1593 ............................ <pWindowID>
  [ 18] pusharglist 1 ........................... <pWindowID>
  [ 20] extcall 162 ............................. <windowExists(pWindowID)>
  [ 22] jmpifz [ 32] ............................ if windowExists(pWindowID) then
  [ 25] getprop 1593 ............................ <pWindowID>
  [ 28] pusharglistnoret 1 ...................... <pWindowID>
  [ 30] extcall 232 ............................. removeWindow(pWindowID)
  [ 32] pushcons 0 .............................. <"itemdata_received">
  [ 34] getparam 1 .............................. <tid>
  [ 36] pusharglist 1 ........................... <tid>
  [ 38] extcall 451 ............................. <integer(tid)>
  [ 41] joinstr ................................. <"itemdata_received" & integer(tid)>
  [ 42] pusharglist 1 ........................... <"itemdata_received" & integer(tid)>
  [ 44] extcall 685 ............................. <symbol("itemdata_received" & integer(tid))>
  [ 47] pushsymb 1810 ........................... <#postit_manager>
  [ 50] pushsymb 1813 ........................... <#setItemData>
  [ 53] pusharglistnoret 3 ...................... <symbol("itemdata_received" & integer(tid)), #postit_manager, #setItemData>
  [ 55] extcall 155 ............................. registerMessage(symbol("itemdata_received" & integer(tid)), #postit_manager, #setItemData)
  [ 57] pushsymb 949 ............................ <#room>
  [ 60] pusharglist 1 ........................... <#room>
  [ 62] extcall 260 ............................. <getThread(#room)>
  [ 65] pusharglist 1 ........................... <getThread(#room)>
  [ 67] objcall 207 ............................. <getThread(#room).getComponent()>
  [ 69] pusharglist 1 ........................... <getThread(#room).getComponent()>
  [ 71] objcall 395 ............................. <getThread(#room).getComponent().getRoomConnection()>
  [ 74] pushcons 1 .............................. <"G_IDATA">
  [ 76] pushsymb 451 ............................ <#integer>
  [ 79] getparam 1 .............................. <tid>
  [ 81] pusharglist 1 ........................... <tid>
  [ 83] extcall 451 ............................. <integer(tid)>
  [ 86] pusharglist 2 ........................... <[#integer: integer(tid)]>
  [ 88] pushproplist ............................ <[#integer: integer(tid)]>
  [ 89] pusharglistnoret 3 ...................... <getThread(#room).getComponent().getRoomConnection(), "G_IDATA", [#integer: integer(tid)]>
  [ 91] objcall 396 ............................. getThread(#room).getComponent().getRoomConnection().send("G_IDATA", [#integer: integer(tid)])
  [ 94] pushsymb 233 ............................ <#session>
  [ 96] pusharglist 1 ........................... <#session>
  [ 98] extcall 153 ............................. <getObject(#session)>
  [100] pushcons 2 .............................. <"room_controller">
  [102] pusharglist 2 ........................... <getObject(#session), "room_controller">
  [104] objcall 234 ............................. <getObject(#session).get("room_controller")>
  [106] setprop 1818 ............................ pIsController = getObject(#session).get("room_controller")
  [109] pushsymb 233 ............................ <#session>
  [111] pusharglist 1 ........................... <#session>
  [113] extcall 153 ............................. <getObject(#session)>
  [115] pushcons 3 .............................. <"user_rights">
  [117] pusharglist 2 ........................... <getObject(#session), "user_rights">
  [119] objcall 234 ............................. <getObject(#session).get("user_rights")>
  [121] pushcons 4 .............................. <"fuse_any_room_controller">
  [123] pusharglist 2 ........................... <getObject(#session).get("user_rights"), "fuse_any_room_controller">
  [125] objcall 238 ............................. <getObject(#session).get("user_rights").getOne("fuse_any_room_controller")>
  [127] jmpifz [135] ............................ if getObject(#session).get("user_rights").getOne("fuse_any_room_controller") then
  [130] pushint8 1 .............................. <1>
  [132] setprop 1818 ............................ pIsController = 1
  [135] pushsymb 233 ............................ <#session>
  [137] pusharglist 1 ........................... <#session>
  [139] extcall 153 ............................. <getObject(#session)>
  [141] pushcons 5 .............................. <"room_owner">
  [143] pusharglist 2 ........................... <getObject(#session), "room_owner">
  [145] objcall 234 ............................. <getObject(#session).get("room_owner")>
  [147] setprop 1819 ............................ pIsOwner = getObject(#session).get("room_owner")
  [150] pushsymb 233 ............................ <#session>
  [152] pusharglist 1 ........................... <#session>
  [154] extcall 153 ............................. <getObject(#session)>
  [156] pushcons 3 .............................. <"user_rights">
  [158] pusharglist 2 ........................... <getObject(#session), "user_rights">
  [160] objcall 234 ............................. <getObject(#session).get("user_rights")>
  [162] pushcons 6 .............................. <"fuse_remove_stickies">
  [164] pusharglist 2 ........................... <getObject(#session).get("user_rights"), "fuse_remove_stickies">
  [166] objcall 238 ............................. <getObject(#session).get("user_rights").getOne("fuse_remove_stickies")>
  [168] setprop 1820 ............................ pCanRemoveStickies = getObject(#session).get("user_rights").getOne("fuse_remove_stickies")
  [171] ret
end

on close me
  [  0] getprop 1821 ............................ <pActivePostItId>
  [  3] pushzero ................................ <0>
  [  4] gt ...................................... <pActivePostItId > 0>
  [  5] jmpifz [129] ............................ if pActivePostItId > 0 then
  [  8] getprop 1817 ............................ <pcolor>
  [ 11] pusharglist 1 ........................... <pcolor>
  [ 13] objcall 423 ............................. <pcolor.hexString()>
  [ 16] setlocal 0 .............................. tColorHex = pcolor.hexString()
  [ 18] getprop 1593 ............................ <pWindowID>
  [ 21] pusharglist 1 ........................... <pWindowID>
  [ 23] extcall 204 ............................. <getWindow(pWindowID)>
  [ 25] setlocal 1 .............................. tWindow = getWindow(pWindowID)
  [ 27] getlocal 1 .............................. <tWindow>
  [ 29] pushzero ................................ <0>
  [ 30] eq ...................................... <tWindow = 0>
  [ 31] jmpifz [ 39] ............................ if tWindow = 0 then
  [ 34] pushzero ................................ <0>
  [ 35] pusharglistnoret 1 ...................... <0>
  [ 37] extcall 21 .............................. return 0
  [ 39] getlocal 1 .............................. <tWindow>
  [ 41] pushcons 7 .............................. <"stickies_text_field">
  [ 43] pusharglist 2 ........................... <tWindow, "stickies_text_field">
  [ 45] objcall 222 ............................. <tWindow.getElement("stickies_text_field")>
  [ 47] pusharglist 1 ........................... <tWindow.getElement("stickies_text_field")>
  [ 49] objcall 136 ............................. <tWindow.getElement("stickies_text_field").getText()>
  [ 51] setlocal 2 .............................. tStickieText = tWindow.getElement("stickies_text_field").getText()
  [ 53] getlocal 2 .............................. <tStickieText>
  [ 55] pushint8 1 .............................. <1>
  [ 57] pusharglist 2 ........................... <tStickieText, 1>
  [ 59] extcall 610 ............................. <convertSpecialChars(tStickieText, 1)>
  [ 62] setlocal 2 .............................. tStickieText = convertSpecialChars(tStickieText, 1)
  [ 64] getlocal 0 .............................. <tColorHex>
  [ 66] pushsymb 450 ............................ <#char>
  [ 69] pushint8 2 .............................. <2>
  [ 71] getlocal 0 .............................. <tColorHex>
  [ 73] pusharglist 1 ........................... <tColorHex>
  [ 75] extcall 622 ............................. <length(tColorHex)>
  [ 78] pusharglist 4 ........................... <tColorHex, #char, 2, length(tColorHex)>
  [ 80] objcall 33 .............................. <tColorHex.char[2..length(tColorHex)]>
  [ 82] getlocal 2 .............................. <tStickieText>
  [ 84] joinpadstr .............................. <tColorHex.char[2..length(tColorHex)] && tStickieText>
  [ 85] setlocal 3 .............................. tdata = tColorHex.char[2..length(tColorHex)] && tStickieText
  [ 87] getprop 1822 ............................ <pChanged>
  [ 90] pushint8 1 .............................. <1>
  [ 92] eq ...................................... <pChanged = 1>
  [ 93] jmpifz [129] ............................ if pChanged = 1 then
  [ 96] pushsymb 949 ............................ <#room>
  [ 99] pusharglist 1 ........................... <#room>
  [101] extcall 260 ............................. <getThread(#room)>
  [104] pusharglist 1 ........................... <getThread(#room)>
  [106] objcall 207 ............................. <getThread(#room).getComponent()>
  [108] pusharglist 1 ........................... <getThread(#room).getComponent()>
  [110] objcall 395 ............................. <getThread(#room).getComponent().getRoomConnection()>
  [113] pushcons 8 .............................. <"SETITEMDATA">
  [115] getprop 1821 ............................ <pActivePostItId>
  [118] pushcons 9 .............................. <"/">
  [120] joinstr ................................. <pActivePostItId & "/">
  [121] getlocal 3 .............................. <tdata>
  [123] joinstr ................................. <pActivePostItId & "/" & tdata>
  [124] pusharglistnoret 3 ...................... <getThread(#room).getComponent().getRoomConnection(), "SETITEMDATA", pActivePostItId & "/" & tdata>
  [126] objcall 396 ............................. getThread(#room).getComponent().getRoomConnection().send("SETITEMDATA", pActivePostItId & "/" & tdata)
  [129] getprop 1593 ............................ <pWindowID>
  [132] pusharglist 1 ........................... <pWindowID>
  [134] extcall 162 ............................. <windowExists(pWindowID)>
  [136] jmpifz [146] ............................ if windowExists(pWindowID) then
  [139] getprop 1593 ............................ <pWindowID>
  [142] pusharglistnoret 1 ...................... <pWindowID>
  [144] extcall 232 ............................. removeWindow(pWindowID)
  [146] ret
end

on delete me
  [  0] getprop 1593 ............................ <pWindowID>
  [  3] pusharglist 1 ........................... <pWindowID>
  [  5] extcall 162 ............................. <windowExists(pWindowID)>
  [  7] jmpifz [ 17] ............................ if windowExists(pWindowID) then
  [ 10] getprop 1593 ............................ <pWindowID>
  [ 13] pusharglistnoret 1 ...................... <pWindowID>
  [ 15] extcall 232 ............................. removeWindow(pWindowID)
  [ 17] pushsymb 949 ............................ <#room>
  [ 20] pusharglist 1 ........................... <#room>
  [ 22] extcall 260 ............................. <getThread(#room)>
  [ 25] pusharglist 1 ........................... <getThread(#room)>
  [ 27] objcall 207 ............................. <getThread(#room).getComponent()>
  [ 29] pusharglist 1 ........................... <getThread(#room).getComponent()>
  [ 31] objcall 395 ............................. <getThread(#room).getComponent().getRoomConnection()>
  [ 34] pushcons 10 ............................. <"REMOVEITEM">
  [ 36] getprop 1821 ............................ <pActivePostItId>
  [ 39] pusharglistnoret 3 ...................... <getThread(#room).getComponent().getRoomConnection(), "REMOVEITEM", pActivePostItId>
  [ 41] objcall 396 ............................. getThread(#room).getComponent().getRoomConnection().send("REMOVEITEM", pActivePostItId)
  [ 44] ret
end

on setItemData me, tMsg
  [  0] getparam 1 .............................. <tMsg>
  [  2] pushsymb 386 ............................ <#id>
  [  5] pusharglist 2 ........................... <tMsg, #id>
  [  7] objcall 9 ............................... <tMsg[#id]>
  [  9] setlocal 0 .............................. tid = tMsg[#id]
  [ 11] getparam 1 .............................. <tMsg>
  [ 13] pushsymb 218 ............................ <#type>
  [ 15] pusharglist 2 ........................... <tMsg, #type>
  [ 17] objcall 9 ............................... <tMsg[#type]>
  [ 19] setlocal 1 .............................. ttype = tMsg[#type]
  [ 21] getparam 1 .............................. <tMsg>
  [ 23] pushsymb 872 ............................ <#text>
  [ 26] pusharglist 2 ........................... <tMsg, #text>
  [ 28] objcall 9 ............................... <tMsg[#text]>
  [ 30] pushsymb 461 ............................ <#word>
  [ 33] pushint8 2 .............................. <2>
  [ 35] getparam 1 .............................. <tMsg>
  [ 37] pushsymb 872 ............................ <#text>
  [ 40] pusharglist 2 ........................... <tMsg, #text>
  [ 42] objcall 9 ............................... <tMsg[#text]>
  [ 44] pushsymb 461 ............................ <#word>
  [ 47] pusharglist 2 ........................... <tMsg[#text], #word>
  [ 49] objcall 14 .............................. <tMsg[#text].word.count>
  [ 51] pusharglist 4 ........................... <tMsg[#text], #word, 2, tMsg[#text].word.count>
  [ 53] objcall 33 .............................. <tMsg[#text].word[2..tMsg[#text].word.count]>
  [ 55] setlocal 2 .............................. tText = tMsg[#text].word[2..tMsg[#text].word.count]
  [ 57] pushcons 0 .............................. <"itemdata_received">
  [ 59] getlocal 0 .............................. <tid>
  [ 61] pusharglist 1 ........................... <tid>
  [ 63] extcall 451 ............................. <integer(tid)>
  [ 66] joinstr ................................. <"itemdata_received" & integer(tid)>
  [ 67] pusharglist 1 ........................... <"itemdata_received" & integer(tid)>
  [ 69] extcall 685 ............................. <symbol("itemdata_received" & integer(tid))>
  [ 72] pushsymb 1810 ........................... <#postit_manager>
  [ 75] pusharglistnoret 2 ...................... <symbol("itemdata_received" & integer(tid)), #postit_manager>
  [ 77] extcall 158 ............................. unregisterMessage(symbol("itemdata_received" & integer(tid)), #postit_manager)
  [ 79] getprop 1593 ............................ <pWindowID>
  [ 82] pusharglist 1 ........................... <pWindowID>
  [ 84] extcall 162 ............................. <windowExists(pWindowID)>
  [ 86] jmpifz [ 96] ............................ if windowExists(pWindowID) then
  [ 89] getprop 1593 ............................ <pWindowID>
  [ 92] pusharglistnoret 1 ...................... <pWindowID>
  [ 94] extcall 232 ............................. removeWindow(pWindowID)
  [ 96] getlocal 0 .............................. <tid>
  [ 98] setprop 1821 ............................ pActivePostItId = tid
  [101] getlocal 2 .............................. <tText>
  [103] setprop 1826 ............................ pText = tText
  [106] pushsymb 949 ............................ <#room>
  [109] pusharglist 1 ........................... <#room>
  [111] extcall 260 ............................. <getThread(#room)>
  [114] pusharglist 1 ........................... <getThread(#room)>
  [116] objcall 207 ............................. <getThread(#room).getComponent()>
  [118] getprop 1821 ............................ <pActivePostItId>
  [121] pusharglist 1 ........................... <pActivePostItId>
  [123] extcall 453 ............................. <string(pActivePostItId)>
  [126] pusharglist 2 ........................... <getThread(#room).getComponent(), string(pActivePostItId)>
  [128] objcall 287 ............................. <getThread(#room).getComponent().getItemObject(string(pActivePostItId))>
  [131] setlocal 3 .............................. tObject = getThread(#room).getComponent().getItemObject(string(pActivePostItId))
  [133] getlocal 3 .............................. <tObject>
  [135] pushzero ................................ <0>
  [136] eq ...................................... <tObject = 0>
  [137] jmpifz [159] ............................ if tObject = 0 then
  [140] getparam 0 .............................. <me>
  [142] pushcons 11 ............................. <"Couldn't find stickie:">
  [144] getprop 1821 ............................ <pActivePostItId>
  [147] joinpadstr .............................. <"Couldn't find stickie:" && pActivePostItId>
  [148] pushsymb 1813 ........................... <#setItemData>
  [151] pusharglist 3 ........................... <me, "Couldn't find stickie:" && pActivePostItId, #setItemData>
  [153] extcall 161 ............................. <error(me, "Couldn't find stickie:" && pActivePostItId, #setItemData)>
  [155] pusharglistnoret 1 ...................... <error(me, "Couldn't find stickie:" && pActivePostItId, #setItemData)>
  [157] extcall 21 .............................. return error(me, "Couldn't find stickie:" && pActivePostItId, #setItemData)
  [159] getlocal 3 .............................. <tObject>
  [161] pusharglist 1 ........................... <tObject>
  [163] objcall 474 ............................. <tObject.getClass()>
  [166] pushcons 12 ............................. <"post.it.vd">
  [168] eq ...................................... <tObject.getClass() = "post.it.vd">
  [169] jmpifz [183] ............................ if tObject.getClass() = "post.it.vd" then / else
  [172] pushcons 13 ............................. <"habbo_stickie_vd.window">
  [174] setlocal 4 .............................. tWndType = "habbo_stickie_vd.window"
  [176] pushcons 14 ............................. <"FFFFFF">
  [178] setlocal 1 .............................. ttype = "FFFFFF"
  [180] jmp [187]
  [183] pushcons 15 ............................. <"habbo_stickies.window">
  [185] setlocal 4 .............................. tWndType = "habbo_stickies.window"
  [187] getprop 1593 ............................ <pWindowID>
  [190] getlocal 4 .............................. <tWndType>
  [192] pusharglistnoret 2 ...................... <pWindowID, tWndType>
  [194] extcall 203 ............................. createWindow(pWindowID, tWndType)
  [196] getprop 1593 ............................ <pWindowID>
  [199] pusharglist 1 ........................... <pWindowID>
  [201] extcall 204 ............................. <getWindow(pWindowID)>
  [203] setlocal 5 .............................. tWindow = getWindow(pWindowID)
  [205] getlocal 5 .............................. <tWindow>
  [207] not ..................................... <not tWindow>
  [208] jmpifz [216] ............................ if not tWindow then
  [211] pushzero ................................ <0>
  [212] pusharglistnoret 1 ...................... <0>
  [214] extcall 21 .............................. return 0
  [216] getprop 494 ............................. <pLocX>
  [219] getmovieprop 253 ........................ <the stage>
  [221] getchainedprop 290 ...................... <(the stage).image>
  [224] getobjprop 252 .......................... <(the stage).image.width>
  [226] getlocal 5 .............................. <tWindow>
  [228] pushsymb 252 ............................ <#width>
  [230] pusharglist 2 ........................... <tWindow, #width>
  [232] objcall 77 .............................. <tWindow.getProperty(#width)>
  [234] sub ..................................... <(the stage).image.width - tWindow.getProperty(#width)>
  [235] gt ...................................... <pLocX > ((the stage).image.width - tWindow.getProperty(#width))>
  [236] jmpifz [258] ............................ if pLocX > ((the stage).image.width - tWindow.getProperty(#width)) then
  [239] getmovieprop 253 ........................ <the stage>
  [241] getchainedprop 290 ...................... <(the stage).image>
  [244] getobjprop 252 .......................... <(the stage).image.width>
  [246] getlocal 5 .............................. <tWindow>
  [248] pushsymb 252 ............................ <#width>
  [250] pusharglist 2 ........................... <tWindow, #width>
  [252] objcall 77 .............................. <tWindow.getProperty(#width)>
  [254] sub ..................................... <(the stage).image.width - tWindow.getProperty(#width)>
  [255] setprop 494 ............................. pLocX = (the stage).image.width - tWindow.getProperty(#width)
  [258] getprop 496 ............................. <pLocY>
  [261] pushint8 100 ............................ <100>
  [263] lt ...................................... <pLocY < 100>
  [264] jmpifz [272] ............................ if pLocY < 100 then
  [267] pushint8 100 ............................ <100>
  [269] setprop 496 ............................. pLocY = 100
  [272] getparam 0 .............................. <me>
  [274] getlocal 1 .............................. <ttype>
  [276] pusharglist 1 ........................... <ttype>
  [278] extcall 312 ............................. <rgb(ttype)>
  [281] pusharglistnoret 2 ...................... <me, rgb(ttype)>
  [283] objcall 1287 ............................ me.setColor(rgb(ttype))
  [286] getlocal 5 .............................. <tWindow>
  [288] getprop 494 ............................. <pLocX>
  [291] getprop 496 ............................. <pLocY>
  [294] pusharglistnoret 3 ...................... <tWindow, pLocX, pLocY>
  [296] objcall 326 ............................. tWindow.moveTo(pLocX, pLocY)
  [299] getlocal 5 .............................. <tWindow>
  [301] pushcons 7 .............................. <"stickies_text_field">
  [303] pusharglist 2 ........................... <tWindow, "stickies_text_field">
  [305] objcall 222 ............................. <tWindow.getElement("stickies_text_field")>
  [307] pushsymb 182 ............................ <#sprite>
  [309] pusharglist 2 ........................... <tWindow.getElement("stickies_text_field"), #sprite>
  [311] objcall 77 .............................. <tWindow.getElement("stickies_text_field").getProperty(#sprite)>
  [313] pushint8 36 ............................. <36>
  [315] setobjprop 419 .......................... tWindow.getElement("stickies_text_field").getProperty(#sprite).ink = 36
  [318] getlocal 5 .............................. <tWindow>
  [320] pushcons 7 .............................. <"stickies_text_field">
  [322] pusharglist 2 ........................... <tWindow, "stickies_text_field">
  [324] objcall 222 ............................. <tWindow.getElement("stickies_text_field")>
  [326] getprop 1826 ............................ <pText>
  [329] pusharglistnoret 2 ...................... <tWindow.getElement("stickies_text_field"), pText>
  [331] objcall 223 ............................. tWindow.getElement("stickies_text_field").setText(pText)
  [333] getlocal 5 .............................. <tWindow>
  [335] pushsymb 1814 ........................... <#eventProcMouseDown>
  [338] getparam 0 .............................. <me>
  [340] pusharglist 1 ........................... <me>
  [342] objcall 156 ............................. <me.getID()>
  [344] pushsymb 180 ............................ <#mouseDown>
  [346] pusharglistnoret 4 ...................... <tWindow, #eventProcMouseDown, me.getID(), #mouseDown>
  [348] objcall 179 ............................. tWindow.registerProcedure(#eventProcMouseDown, me.getID(), #mouseDown)
  [350] getlocal 5 .............................. <tWindow>
  [352] pushsymb 1815 ........................... <#eventProcKeyDown>
  [355] getparam 0 .............................. <me>
  [357] pusharglist 1 ........................... <me>
  [359] objcall 156 ............................. <me.getID()>
  [361] pushsymb 211 ............................ <#keyDown>
  [363] pusharglistnoret 4 ...................... <tWindow, #eventProcKeyDown, me.getID(), #keyDown>
  [365] objcall 179 ............................. tWindow.registerProcedure(#eventProcKeyDown, me.getID(), #keyDown)
  [367] getlocal 4 .............................. <tWndType>
  [369] pushcons 15 ............................. <"habbo_stickies.window">
  [371] eq ...................................... <tWndType = "habbo_stickies.window">
  [372] jmpifz [565] ............................ if tWndType = "habbo_stickies.window" then / else
  [375] getprop 1819 ............................ <pIsOwner>
  [378] getprop 1820 ............................ <pCanRemoveStickies>
  [381] or ...................................... <pIsOwner or pCanRemoveStickies>
  [382] jmpifz [405] ............................ if pIsOwner or pCanRemoveStickies then / else
  [385] getlocal 5 .............................. <tWindow>
  [387] pushcons 16 ............................. <"stickies_delete_button">
  [389] pusharglist 2 ........................... <tWindow, "stickies_delete_button">
  [391] objcall 222 ............................. <tWindow.getElement("stickies_delete_button")>
  [393] pushsymb 362 ............................ <#blend>
  [396] pushint8 100 ............................ <100>
  [398] pusharglistnoret 3 ...................... <tWindow.getElement("stickies_delete_button"), #blend, 100>
  [400] objcall 78 .............................. tWindow.getElement("stickies_delete_button").setProperty(#blend, 100)
  [402] jmp [421]
  [405] getlocal 5 .............................. <tWindow>
  [407] pushcons 16 ............................. <"stickies_delete_button">
  [409] pusharglist 2 ........................... <tWindow, "stickies_delete_button">
  [411] objcall 222 ............................. <tWindow.getElement("stickies_delete_button")>
  [413] pushsymb 264 ............................ <#cursor>
  [416] pushzero ................................ <0>
  [417] pusharglistnoret 3 ...................... <tWindow.getElement("stickies_delete_button"), #cursor, 0>
  [419] objcall 78 .............................. tWindow.getElement("stickies_delete_button").setProperty(#cursor, 0)
  [421] getprop 1818 ............................ <pIsController>
  [424] jmpifz [498] ............................ if pIsController then / else
  [427] getlocal 5 .............................. <tWindow>
  [429] pushcons 17 ............................. <"stickies_color1_button">
  [431] pusharglist 2 ........................... <tWindow, "stickies_color1_button">
  [433] objcall 222 ............................. <tWindow.getElement("stickies_color1_button")>
  [435] pushsymb 362 ............................ <#blend>
  [438] pushint8 100 ............................ <100>
  [440] pusharglistnoret 3 ...................... <tWindow.getElement("stickies_color1_button"), #blend, 100>
  [442] objcall 78 .............................. tWindow.getElement("stickies_color1_button").setProperty(#blend, 100)
  [444] getlocal 5 .............................. <tWindow>
  [446] pushcons 18 ............................. <"stickies_color2_button">
  [448] pusharglist 2 ........................... <tWindow, "stickies_color2_button">
  [450] objcall 222 ............................. <tWindow.getElement("stickies_color2_button")>
  [452] pushsymb 362 ............................ <#blend>
  [455] pushint8 100 ............................ <100>
  [457] pusharglistnoret 3 ...................... <tWindow.getElement("stickies_color2_button"), #blend, 100>
  [459] objcall 78 .............................. tWindow.getElement("stickies_color2_button").setProperty(#blend, 100)
  [461] getlocal 5 .............................. <tWindow>
  [463] pushcons 19 ............................. <"stickies_color3_button">
  [465] pusharglist 2 ........................... <tWindow, "stickies_color3_button">
  [467] objcall 222 ............................. <tWindow.getElement("stickies_color3_button")>
  [469] pushsymb 362 ............................ <#blend>
  [472] pushint8 100 ............................ <100>
  [474] pusharglistnoret 3 ...................... <tWindow.getElement("stickies_color3_button"), #blend, 100>
  [476] objcall 78 .............................. tWindow.getElement("stickies_color3_button").setProperty(#blend, 100)
  [478] getlocal 5 .............................. <tWindow>
  [480] pushcons 20 ............................. <"stickies_color4_button">
  [482] pusharglist 2 ........................... <tWindow, "stickies_color4_button">
  [484] objcall 222 ............................. <tWindow.getElement("stickies_color4_button")>
  [486] pushsymb 362 ............................ <#blend>
  [489] pushint8 100 ............................ <100>
  [491] pusharglistnoret 3 ...................... <tWindow.getElement("stickies_color4_button"), #blend, 100>
  [493] objcall 78 .............................. tWindow.getElement("stickies_color4_button").setProperty(#blend, 100)
  [495] jmp [562]
  [498] getlocal 5 .............................. <tWindow>
  [500] pushcons 17 ............................. <"stickies_color1_button">
  [502] pusharglist 2 ........................... <tWindow, "stickies_color1_button">
  [504] objcall 222 ............................. <tWindow.getElement("stickies_color1_button")>
  [506] pushsymb 264 ............................ <#cursor>
  [509] pushzero ................................ <0>
  [510] pusharglistnoret 3 ...................... <tWindow.getElement("stickies_color1_button"), #cursor, 0>
  [512] objcall 78 .............................. tWindow.getElement("stickies_color1_button").setProperty(#cursor, 0)
  [514] getlocal 5 .............................. <tWindow>
  [516] pushcons 18 ............................. <"stickies_color2_button">
  [518] pusharglist 2 ........................... <tWindow, "stickies_color2_button">
  [520] objcall 222 ............................. <tWindow.getElement("stickies_color2_button")>
  [522] pushsymb 264 ............................ <#cursor>
  [525] pushzero ................................ <0>
  [526] pusharglistnoret 3 ...................... <tWindow.getElement("stickies_color2_button"), #cursor, 0>
  [528] objcall 78 .............................. tWindow.getElement("stickies_color2_button").setProperty(#cursor, 0)
  [530] getlocal 5 .............................. <tWindow>
  [532] pushcons 19 ............................. <"stickies_color3_button">
  [534] pusharglist 2 ........................... <tWindow, "stickies_color3_button">
  [536] objcall 222 ............................. <tWindow.getElement("stickies_color3_button")>
  [538] pushsymb 264 ............................ <#cursor>
  [541] pushzero ................................ <0>
  [542] pusharglistnoret 3 ...................... <tWindow.getElement("stickies_color3_button"), #cursor, 0>
  [544] objcall 78 .............................. tWindow.getElement("stickies_color3_button").setProperty(#cursor, 0)
  [546] getlocal 5 .............................. <tWindow>
  [548] pushcons 20 ............................. <"stickies_color4_button">
  [550] pusharglist 2 ........................... <tWindow, "stickies_color4_button">
  [552] objcall 222 ............................. <tWindow.getElement("stickies_color4_button")>
  [554] pushsymb 264 ............................ <#cursor>
  [557] pushzero ................................ <0>
  [558] pusharglistnoret 3 ...................... <tWindow.getElement("stickies_color4_button"), #cursor, 0>
  [560] objcall 78 .............................. tWindow.getElement("stickies_color4_button").setProperty(#cursor, 0)
  [562] jmp [619]
  [565] getlocal 4 .............................. <tWndType>
  [567] pushcons 21 ............................. <"habbo_stickies_vd.window">
  [569] eq ...................................... <tWndType = "habbo_stickies_vd.window">
  [570] jmpifz [619] ............................ if tWndType = "habbo_stickies_vd.window" then
  [573] getprop 1819 ............................ <pIsOwner>
  [576] getprop 1820 ............................ <pCanRemoveStickies>
  [579] or ...................................... <pIsOwner or pCanRemoveStickies>
  [580] jmpifz [603] ............................ if pIsOwner or pCanRemoveStickies then / else
  [583] getlocal 5 .............................. <tWindow>
  [585] pushcons 16 ............................. <"stickies_delete_button">
  [587] pusharglist 2 ........................... <tWindow, "stickies_delete_button">
  [589] objcall 222 ............................. <tWindow.getElement("stickies_delete_button")>
  [591] pushsymb 362 ............................ <#blend>
  [594] pushint8 100 ............................ <100>
  [596] pusharglistnoret 3 ...................... <tWindow.getElement("stickies_delete_button"), #blend, 100>
  [598] objcall 78 .............................. tWindow.getElement("stickies_delete_button").setProperty(#blend, 100)
  [600] jmp [619]
  [603] getlocal 5 .............................. <tWindow>
  [605] pushcons 16 ............................. <"stickies_delete_button">
  [607] pusharglist 2 ........................... <tWindow, "stickies_delete_button">
  [609] objcall 222 ............................. <tWindow.getElement("stickies_delete_button")>
  [611] pushsymb 264 ............................ <#cursor>
  [614] pushzero ................................ <0>
  [615] pusharglistnoret 3 ...................... <tWindow.getElement("stickies_delete_button"), #cursor, 0>
  [617] objcall 78 .............................. tWindow.getElement("stickies_delete_button").setProperty(#cursor, 0)
  [619] pushzero ................................ <0>
  [620] setprop 1822 ............................ pChanged = 0
  [623] ret
end

on setColor me, tColor, tByUser
  [  0] getparam 2 .............................. <tByUser>
  [  2] jmpifz [ 10] ............................ if tByUser then
  [  5] pushint8 1 .............................. <1>
  [  7] setprop 1822 ............................ pChanged = 1
  [ 10] getparam 1 .............................. <tColor>
  [ 12] setprop 1817 ............................ pcolor = tColor
  [ 15] getprop 1593 ............................ <pWindowID>
  [ 18] pusharglist 1 ........................... <pWindowID>
  [ 20] extcall 204 ............................. <getWindow(pWindowID)>
  [ 22] pushcons 22 ............................. <"stickies_bg">
  [ 24] pusharglist 2 ........................... <getWindow(pWindowID), "stickies_bg">
  [ 26] objcall 222 ............................. <getWindow(pWindowID).getElement("stickies_bg")>
  [ 28] setlocal 0 .............................. tBgElem = getWindow(pWindowID).getElement("stickies_bg")
  [ 30] getlocal 0 .............................. <tBgElem>
  [ 32] pushzero ................................ <0>
  [ 33] eq ...................................... <tBgElem = 0>
  [ 34] jmpifz [ 41] ............................ if tBgElem = 0 then
  [ 37] pusharglistnoret 0 ...................... <>
  [ 39] extcall 21 .............................. return 
  [ 41] getlocal 0 .............................. <tBgElem>
  [ 43] pushsymb 182 ............................ <#sprite>
  [ 45] pusharglist 2 ........................... <tBgElem, #sprite>
  [ 47] objcall 77 .............................. <tBgElem.getProperty(#sprite)>
  [ 49] getprop 1817 ............................ <pcolor>
  [ 52] setobjprop 311 .......................... tBgElem.getProperty(#sprite).bgColor = pcolor
  [ 55] pushsymb 949 ............................ <#room>
  [ 58] pusharglist 1 ........................... <#room>
  [ 60] extcall 260 ............................. <getThread(#room)>
  [ 63] pusharglist 1 ........................... <getThread(#room)>
  [ 65] objcall 207 ............................. <getThread(#room).getComponent()>
  [ 67] getprop 1821 ............................ <pActivePostItId>
  [ 70] pusharglist 1 ........................... <pActivePostItId>
  [ 72] extcall 453 ............................. <string(pActivePostItId)>
  [ 75] pusharglist 2 ........................... <getThread(#room).getComponent(), string(pActivePostItId)>
  [ 77] objcall 287 ............................. <getThread(#room).getComponent().getItemObject(string(pActivePostItId))>
  [ 80] setlocal 1 .............................. tItemObject = getThread(#room).getComponent().getItemObject(string(pActivePostItId))
  [ 82] getlocal 1 .............................. <tItemObject>
  [ 84] pusharglist 1 ........................... <tItemObject>
  [ 86] extcall 390 ............................. <objectp(tItemObject)>
  [ 89] jmpifz [102] ............................ if objectp(tItemObject) then
  [ 92] getlocal 1 .............................. <tItemObject>
  [ 94] getprop 1817 ............................ <pcolor>
  [ 97] pusharglistnoret 2 ...................... <tItemObject, pcolor>
  [ 99] objcall 1287 ............................ tItemObject.setColor(pcolor)
  [102] ret
end

on eventProcMouseDown me, tEvent, tElemID, tParam, tWndID
  [  0] getparam 4 .............................. <tWndID>
  [  2] pusharglist 1 ........................... <tWndID>
  [  4] extcall 204 ............................. <getWindow(tWndID)>
  [  6] getparam 2 .............................. <tElemID>
  [  8] pusharglist 2 ........................... <getWindow(tWndID), tElemID>
  [ 10] objcall 222 ............................. <getWindow(tWndID).getElement(tElemID)>
  [ 12] pushsymb 362 ............................ <#blend>
  [ 15] pusharglist 2 ........................... <getWindow(tWndID).getElement(tElemID), #blend>
  [ 17] objcall 77 .............................. <getWindow(tWndID).getElement(tElemID).getProperty(#blend)>
  [ 19] pushint8 100 ............................ <100>
  [ 21] eq ...................................... <getWindow(tWndID).getElement(tElemID).getProperty(#blend) = 100>
  [ 22] jmpifz [231] ............................ if getWindow(tWndID).getElement(tElemID).getProperty(#blend) = 100 then
  [ 25] getparam 2 .............................. <tElemID>
  [ 27] peek 0 .................................. case tElemID of
  [ 29] pushcons 23 ............................. <"stickies_close_button">
  [ 31] eq
  [ 32] jmpifz [ 45] ............................ (case) "stickies_close_button":
  [ 35] getparam 0 .............................. <me>
  [ 37] pusharglistnoret 1 ...................... <me>
  [ 39] objcall 368 ............................. me.close()
  [ 42] jmp [229]
  [ 45] peek 0
  [ 47] pushcons 20 ............................. <"stickies_color4_button">
  [ 49] eq
  [ 50] jmpifz [ 85] ............................ (case) "stickies_color4_button":
  [ 53] getprop 1818 ............................ <pIsController>
  [ 56] jmpifz [ 82] ............................ if pIsController then
  [ 59] getparam 0 .............................. <me>
  [ 61] pushint16 156 ........................... <156>
  [ 64] pushint16 206 ........................... <206>
  [ 67] pushint16 255 ........................... <255>
  [ 70] pusharglist 3 ........................... <156, 206, 255>
  [ 72] extcall 312 ............................. <rgb(156, 206, 255)>
  [ 75] pushint8 1 .............................. <1>
  [ 77] pusharglistnoret 3 ...................... <me, rgb(156, 206, 255), 1>
  [ 79] objcall 1287 ............................ me.setColor(rgb(156, 206, 255), 1)
  [ 82] jmp [229]
  [ 85] peek 0
  [ 87] pushcons 19 ............................. <"stickies_color3_button">
  [ 89] eq
  [ 90] jmpifz [125] ............................ (case) "stickies_color3_button":
  [ 93] getprop 1818 ............................ <pIsController>
  [ 96] jmpifz [122] ............................ if pIsController then
  [ 99] getparam 0 .............................. <me>
  [101] pushint16 255 ........................... <255>
  [104] pushint16 156 ........................... <156>
  [107] pushint16 255 ........................... <255>
  [110] pusharglist 3 ........................... <255, 156, 255>
  [112] extcall 312 ............................. <rgb(255, 156, 255)>
  [115] pushint8 1 .............................. <1>
  [117] pusharglistnoret 3 ...................... <me, rgb(255, 156, 255), 1>
  [119] objcall 1287 ............................ me.setColor(rgb(255, 156, 255), 1)
  [122] jmp [229]
  [125] peek 0
  [127] pushcons 18 ............................. <"stickies_color2_button">
  [129] eq
  [130] jmpifz [165] ............................ (case) "stickies_color2_button":
  [133] getprop 1818 ............................ <pIsController>
  [136] jmpifz [162] ............................ if pIsController then
  [139] getparam 0 .............................. <me>
  [141] pushint16 156 ........................... <156>
  [144] pushint16 255 ........................... <255>
  [147] pushint16 156 ........................... <156>
  [150] pusharglist 3 ........................... <156, 255, 156>
  [152] extcall 312 ............................. <rgb(156, 255, 156)>
  [155] pushint8 1 .............................. <1>
  [157] pusharglistnoret 3 ...................... <me, rgb(156, 255, 156), 1>
  [159] objcall 1287 ............................ me.setColor(rgb(156, 255, 156), 1)
  [162] jmp [229]
  [165] peek 0
  [167] pushcons 17 ............................. <"stickies_color1_button">
  [169] eq
  [170] jmpifz [204] ............................ (case) "stickies_color1_button":
  [173] getprop 1818 ............................ <pIsController>
  [176] jmpifz [201] ............................ if pIsController then
  [179] getparam 0 .............................. <me>
  [181] pushint16 255 ........................... <255>
  [184] pushint16 255 ........................... <255>
  [187] pushint8 51 ............................. <51>
  [189] pusharglist 3 ........................... <255, 255, 51>
  [191] extcall 312 ............................. <rgb(255, 255, 51)>
  [194] pushint8 1 .............................. <1>
  [196] pusharglistnoret 3 ...................... <me, rgb(255, 255, 51), 1>
  [198] objcall 1287 ............................ me.setColor(rgb(255, 255, 51), 1)
  [201] jmp [229]
  [204] peek 0
  [206] pushcons 16 ............................. <"stickies_delete_button">
  [208] eq
  [209] jmpifz [229] ............................ (case) "stickies_delete_button":
  [212] getprop 1819 ............................ <pIsOwner>
  [215] getprop 1820 ............................ <pCanRemoveStickies>
  [218] or ...................................... <pIsOwner or pCanRemoveStickies>
  [219] jmpifz [229] ............................ if pIsOwner or pCanRemoveStickies then
  [222] getparam 0 .............................. <me>
  [224] pusharglistnoret 1 ...................... <me>
  [226] objcall 1812 ............................ delete me
  [229] pop 1 ................................... end case
  [231] pushint8 1 .............................. <1>
  [233] pusharglistnoret 1 ...................... <1>
  [235] extcall 21 .............................. return 1
  [237] ret
end

on eventProcKeyDown me, tEvent, tSprID, tParam
  [  0] getparam 2 .............................. <tSprID>
  [  2] pushcons 7 .............................. <"stickies_text_field">
  [  4] eq ...................................... <tSprID = "stickies_text_field">
  [  5] jmpifz [ 52] ............................ if tSprID = "stickies_text_field" then
  [  8] pushint8 24 ............................. <24>
  [ 10] get 7 ................................... <the selStart>
  [ 12] getprop 1826 ............................ <pText>
  [ 15] pusharglist 1 ........................... <pText>
  [ 17] extcall 622 ............................. <length(pText)>
  [ 20] lt ...................................... <the selStart < length(pText)>
  [ 21] getprop 1818 ............................ <pIsController>
  [ 24] pushzero ................................ <0>
  [ 25] eq ...................................... <pIsController = 0>
  [ 26] and ..................................... <(the selStart < length(pText)) and (pIsController = 0)>
  [ 27] jmpifz [ 47] ............................ if (the selStart < length(pText)) and (pIsController = 0) then
  [ 30] getparam 0 .............................. <me>
  [ 32] pushcons 24 ............................. <"Cannot edit postIts - only add!">
  [ 34] pushsymb 1815 ........................... <#eventProcKeyDown>
  [ 37] pusharglistnoret 3 ...................... <me, "Cannot edit postIts - only add!", #eventProcKeyDown>
  [ 39] extcall 161 ............................. error(me, "Cannot edit postIts - only add!", #eventProcKeyDown)
  [ 41] pushint8 1 .............................. <1>
  [ 43] pusharglistnoret 1 ...................... <1>
  [ 45] extcall 21 .............................. return 1
  [ 47] pushint8 1 .............................. <1>
  [ 49] setprop 1822 ............................ pChanged = 1
  [ 52] ret
end
