property pState, pTraderPal, pAcceptFlagMe, pAcceptFlagHe, pMyStripItems, pItemListMe, pItemListHe, pTraderWndID, pMaxTradeItms, pItemSlotRect, pConfirmationWndID, pMySlotProps, pHerSlotProps

on construct me
  [  0] pushsymb 1176 ........................... <#closed>
  [  3] setprop 1175 ............................ pState = #closed
  [  6] pushcons 0 .............................. <"trading_title">
  [  8] pushcons 1 .............................. <"Safe Trading">
  [ 10] pusharglist 2 ........................... <"trading_title", "Safe Trading">
  [ 12] extcall 55 .............................. <getText("trading_title", "Safe Trading")>
  [ 14] setprop 1177 ............................ pTraderWndID = getText("trading_title", "Safe Trading")
  [ 17] pushzero ................................ <0>
  [ 18] setprop 1178 ............................ pAcceptFlagMe = 0
  [ 21] pushzero ................................ <0>
  [ 22] setprop 1179 ............................ pAcceptFlagHe = 0
  [ 25] pusharglist 0 ........................... <[]>
  [ 27] pushlist ................................ <[]>
  [ 28] setprop 1180 ............................ pItemListMe = []
  [ 31] pusharglist 0 ........................... <[]>
  [ 33] pushlist ................................ <[]>
  [ 34] setprop 1181 ............................ pItemListHe = []
  [ 37] pusharglist 0 ........................... <[]>
  [ 39] pushlist ................................ <[]>
  [ 40] setprop 1182 ............................ pMyStripItems = []
  [ 43] pushzero ................................ <0>
  [ 44] setprop 1183 ............................ pMaxTradeItms = 0
  [ 47] pushzero ................................ <0>
  [ 48] pushzero ................................ <0>
  [ 49] pushint8 32 ............................. <32>
  [ 51] pushint8 32 ............................. <32>
  [ 53] pusharglist 4 ........................... <0, 0, 32, 32>
  [ 55] extcall 137 ............................. <rect(0, 0, 32, 32)>
  [ 57] setprop 1184 ............................ pItemSlotRect = rect(0, 0, 32, 32)
  [ 60] pushzero ................................ <0>
  [ 61] setlocal 0 .............................. pHerSlotCount = 0
  [ 63] pusharglist 0 ........................... <[:]>
  [ 65] pushproplist ............................ <[:]>
  [ 66] setprop 1185 ............................ pMySlotProps = [:]
  [ 69] pusharglist 0 ........................... <[:]>
  [ 71] pushproplist ............................ <[:]>
  [ 72] setprop 1186 ............................ pHerSlotProps = [:]
  [ 75] pushcons 2 .............................. <"safetrading_confirmationdialog">
  [ 77] setprop 1187 ............................ pConfirmationWndID = "safetrading_confirmationdialog"
  [ 80] pushint8 1 .............................. <1>
  [ 82] pusharglistnoret 1 ...................... <1>
  [ 84] extcall 31 .............................. return 1
  [ 86] ret
end

on deconstruct me
  [  0] getparam 0 .............................. <me>
  [  2] pusharglist 1 ........................... <me>
  [  4] objcall 440 ............................. <me.close()>
  [  7] pusharglistnoret 1 ...................... <me.close()>
  [  9] extcall 31 .............................. return me.close()
  [ 11] ret
end

on open me, tdata
  [  0] pushsymb 52 ............................. <#room>
  [  2] pusharglist 1 ........................... <#room>
  [  4] extcall 51 .............................. <getThread(#room)>
  [  6] pusharglist 1 ........................... <getThread(#room)>
  [  8] objcall 53 .............................. <getThread(#room).getInterface()>
  [ 10] pusharglistnoret 1 ...................... <getThread(#room).getInterface()>
  [ 12] objcall 192 ............................. getThread(#room).getInterface().cancelObjectMover()
  [ 14] pushsymb 52 ............................. <#room>
  [ 16] pusharglist 1 ........................... <#room>
  [ 18] extcall 51 .............................. <getThread(#room)>
  [ 20] pusharglist 1 ........................... <getThread(#room)>
  [ 22] objcall 53 .............................. <getThread(#room).getInterface()>
  [ 24] pushsymb 443 ............................ <#clickAction>
  [ 27] pushcons 3 .............................. <"tradeItem">
  [ 29] pusharglistnoret 3 ...................... <getThread(#room).getInterface(), #clickAction, "tradeItem">
  [ 31] objcall 191 ............................. getThread(#room).getInterface().setProperty(#clickAction, "tradeItem")
  [ 33] getprop 1177 ............................ <pTraderWndID>
  [ 36] pusharglist 1 ........................... <pTraderWndID>
  [ 38] extcall 268 ............................. <windowExists(pTraderWndID)>
  [ 41] jmpifz [ 49] ............................ if windowExists(pTraderWndID) then
  [ 44] pushzero ................................ <0>
  [ 45] pusharglistnoret 1 ...................... <0>
  [ 47] extcall 31 .............................. return 0
  [ 49] getparam 1 .............................. <tdata>
  [ 51] getobjprop 33 ........................... <tdata.count>
  [ 53] pushint8 1 .............................. <1>
  [ 55] gt ...................................... <tdata.count > 1>
  [ 56] jmpifz [114] ............................ if tdata.count > 1 then / else
  [ 59] getparam 1 .............................. <tdata>
  [ 61] pushint8 1 .............................. <1>
  [ 63] pusharglist 2 ........................... <tdata, 1>
  [ 65] objcall 423 ............................. <tdata.getPropAt(1)>
  [ 68] pushsymb 131 ............................ <#session>
  [ 70] pusharglist 1 ........................... <#session>
  [ 72] extcall 130 ............................. <getObject(#session)>
  [ 74] pushcons 4 .............................. <"user_name">
  [ 76] pusharglist 2 ........................... <getObject(#session), "user_name">
  [ 78] objcall 133 ............................. <getObject(#session).get("user_name")>
  [ 80] nteq .................................... <tdata.getPropAt(1) <> getObject(#session).get("user_name")>
  [ 81] jmpifz [ 99] ............................ if tdata.getPropAt(1) <> getObject(#session).get("user_name") then / else
  [ 84] getparam 1 .............................. <tdata>
  [ 86] pushint8 1 .............................. <1>
  [ 88] pusharglist 2 ........................... <tdata, 1>
  [ 90] objcall 423 ............................. <tdata.getPropAt(1)>
  [ 93] setprop 1189 ............................ pTraderPal = tdata.getPropAt(1)
  [ 96] jmp [111]
  [ 99] getparam 1 .............................. <tdata>
  [101] pushint8 2 .............................. <2>
  [103] pusharglist 2 ........................... <tdata, 2>
  [105] objcall 423 ............................. <tdata.getPropAt(2)>
  [108] setprop 1189 ............................ pTraderPal = tdata.getPropAt(2)
  [111] jmp [126]
  [114] getparam 1 .............................. <tdata>
  [116] pushint8 1 .............................. <1>
  [118] pusharglist 2 ........................... <tdata, 1>
  [120] objcall 423 ............................. <tdata.getPropAt(1)>
  [123] setprop 1189 ............................ pTraderPal = tdata.getPropAt(1)
  [126] getprop 1189 ............................ <pTraderPal>
  [129] pusharglist 1 ........................... <pTraderPal>
  [131] extcall 120 ............................. <voidp(pTraderPal)>
  [133] getprop 1189 ............................ <pTraderPal>
  [136] pushcons 5 .............................. <EMPTY>
  [138] eq ...................................... <pTraderPal = EMPTY>
  [139] or ...................................... <voidp(pTraderPal) or (pTraderPal = EMPTY)>
  [140] jmpifz [148] ............................ if voidp(pTraderPal) or (pTraderPal = EMPTY) then
  [143] pushcons 6 .............................. <"He/she">
  [145] setprop 1189 ............................ pTraderPal = "He/she"
  [148] getprop 1177 ............................ <pTraderWndID>
  [151] pushcons 7 .............................. <"habbo_basic.window">
  [153] pusharglist 2 ........................... <pTraderWndID, "habbo_basic.window">
  [155] extcall 302 ............................. <createWindow(pTraderWndID, "habbo_basic.window")>
  [158] not ..................................... <not createWindow(pTraderWndID, "habbo_basic.window")>
  [159] jmpifz [167] ............................ if not createWindow(pTraderWndID, "habbo_basic.window") then
  [162] pushzero ................................ <0>
  [163] pusharglistnoret 1 ...................... <0>
  [165] extcall 31 .............................. return 0
  [167] getprop 1177 ............................ <pTraderWndID>
  [170] pusharglist 1 ........................... <pTraderWndID>
  [172] extcall 303 ............................. <getWindow(pTraderWndID)>
  [175] setlocal 0 .............................. tWndObj = getWindow(pTraderWndID)
  [177] getlocal 0 .............................. <tWndObj>
  [179] pushcons 8 .............................. <"habbo_trading.window">
  [181] pusharglist 2 ........................... <tWndObj, "habbo_trading.window">
  [183] objcall 307 ............................. <tWndObj.merge("habbo_trading.window")>
  [186] not ..................................... <not tWndObj.merge("habbo_trading.window")>
  [187] jmpifz [201] ............................ if not tWndObj.merge("habbo_trading.window") then
  [190] getlocal 0 .............................. <tWndObj>
  [192] pusharglist 1 ........................... <tWndObj>
  [194] objcall 440 ............................. <tWndObj.close()>
  [197] pusharglistnoret 1 ...................... <tWndObj.close()>
  [199] extcall 31 .............................. return tWndObj.close()
  [201] getlocal 0 .............................. <tWndObj>
  [203] getparam 0 .............................. <me>
  [205] pusharglist 1 ........................... <me>
  [207] objcall 75 .............................. <me.getID()>
  [209] pusharglistnoret 2 ...................... <tWndObj, me.getID()>
  [211] objcall 308 ............................. tWndObj.registerClient(me.getID())
  [214] getlocal 0 .............................. <tWndObj>
  [216] pushsymb 1173 ........................... <#eventProcTrading>
  [219] getparam 0 .............................. <me>
  [221] pusharglist 1 ........................... <me>
  [223] objcall 75 .............................. <me.getID()>
  [225] pusharglistnoret 3 ...................... <tWndObj, #eventProcTrading, me.getID()>
  [227] objcall 84 .............................. tWndObj.registerProcedure(#eventProcTrading, me.getID())
  [229] getlocal 0 .............................. <tWndObj>
  [231] pushcons 9 .............................. <"trading_heoffers_text">
  [233] pusharglist 2 ........................... <tWndObj, "trading_heoffers_text">
  [235] objcall 317 ............................. <tWndObj.getElement("trading_heoffers_text")>
  [238] getprop 1189 ............................ <pTraderPal>
  [241] pushcons 10 ............................. <"trading_offers">
  [243] pushcons 11 ............................. <"offers">
  [245] pusharglist 2 ........................... <"trading_offers", "offers">
  [247] extcall 55 .............................. <getText("trading_offers", "offers")>
  [249] joinpadstr .............................. <pTraderPal && getText("trading_offers", "offers")>
  [250] pusharglistnoret 2 ...................... <tWndObj.getElement("trading_heoffers_text"), pTraderPal && getText("trading_offers", "offers")>
  [252] objcall 318 ............................. tWndObj.getElement("trading_heoffers_text").setText(pTraderPal && getText("trading_offers", "offers"))
  [255] getlocal 0 .............................. <tWndObj>
  [257] pushcons 12 ............................. <"trading_agrees_text">
  [259] pusharglist 2 ........................... <tWndObj, "trading_agrees_text">
  [261] objcall 317 ............................. <tWndObj.getElement("trading_agrees_text")>
  [264] getprop 1189 ............................ <pTraderPal>
  [267] pushcons 13 ............................. <"trading_agrees">
  [269] pushcons 14 ............................. <"agrees">
  [271] pusharglist 2 ........................... <"trading_agrees", "agrees">
  [273] extcall 55 .............................. <getText("trading_agrees", "agrees")>
  [275] joinpadstr .............................. <pTraderPal && getText("trading_agrees", "agrees")>
  [276] pusharglistnoret 2 ...................... <tWndObj.getElement("trading_agrees_text"), pTraderPal && getText("trading_agrees", "agrees")>
  [278] objcall 318 ............................. tWndObj.getElement("trading_agrees_text").setText(pTraderPal && getText("trading_agrees", "agrees"))
  [281] pushzero ................................ <0>
  [282] setprop 1183 ............................ pMaxTradeItms = 0
  [285] pushint8 1 .............................. <1>
  [287] jmpifz [330] ............................ repeat while 1
  [290] getprop 1177 ............................ <pTraderWndID>
  [293] pusharglist 1 ........................... <pTraderWndID>
  [295] extcall 303 ............................. <getWindow(pTraderWndID)>
  [298] pushcons 15 ............................. <"trading_mystuff_">
  [300] getprop 1183 ............................ <pMaxTradeItms>
  [303] pushint8 1 .............................. <1>
  [305] add ..................................... <pMaxTradeItms + 1>
  [306] joinstr ................................. <"trading_mystuff_" & pMaxTradeItms + 1>
  [307] pusharglist 2 ........................... <getWindow(pTraderWndID), "trading_mystuff_" & pMaxTradeItms + 1>
  [309] objcall 402 ............................. <getWindow(pTraderWndID).elementExists("trading_mystuff_" & pMaxTradeItms + 1)>
  [312] not ..................................... <not getWindow(pTraderWndID).elementExists("trading_mystuff_" & pMaxTradeItms + 1)>
  [313] jmpifz [319] ............................ if not getWindow(pTraderWndID).elementExists("trading_mystuff_" & pMaxTradeItms + 1) then
  [316] jmp [330] ............................... exit repeat
  [319] getprop 1183 ............................ <pMaxTradeItms>
  [322] pushint8 1 .............................. <1>
  [324] add ..................................... <pMaxTradeItms + 1>
  [325] setprop 1183 ............................ pMaxTradeItms = pMaxTradeItms + 1
  [328] endrepeat [285]
  [330] pushint8 1 .............................. <1>
  [332] setlocal 1
  [334] getlocal 1
  [336] getprop 1183 ............................ <pMaxTradeItms>
  [339] lteq
  [340] jmpifz [409] ............................ repeat with i = 1 to pMaxTradeItms
  [343] getlocal 0 .............................. <tWndObj>
  [345] pushcons 15 ............................. <"trading_mystuff_">
  [347] getlocal 1 .............................. <i>
  [349] joinstr ................................. <"trading_mystuff_" & i>
  [350] pusharglist 2 ........................... <tWndObj, "trading_mystuff_" & i>
  [352] objcall 317 ............................. <tWndObj.getElement("trading_mystuff_" & i)>
  [355] pushint8 100 ............................ <100>
  [357] pushint8 100 ............................ <100>
  [359] pushint8 100 ............................ <100>
  [361] pusharglist 3 ........................... <100, 100, 100>
  [363] extcall 94 .............................. <rgb(100, 100, 100)>
  [365] pusharglistnoret 2 ...................... <tWndObj.getElement("trading_mystuff_" & i), rgb(100, 100, 100)>
  [367] objcall 1190 ............................ tWndObj.getElement("trading_mystuff_" & i).draw(rgb(100, 100, 100))
  [370] getlocal 0 .............................. <tWndObj>
  [372] pushcons 16 ............................. <"trading_herstuff_">
  [374] getlocal 1 .............................. <i>
  [376] joinstr ................................. <"trading_herstuff_" & i>
  [377] pusharglist 2 ........................... <tWndObj, "trading_herstuff_" & i>
  [379] objcall 317 ............................. <tWndObj.getElement("trading_herstuff_" & i)>
  [382] pushint16 200 ........................... <200>
  [385] pushint16 200 ........................... <200>
  [388] pushint16 200 ........................... <200>
  [391] pusharglist 3 ........................... <200, 200, 200>
  [393] extcall 94 .............................. <rgb(200, 200, 200)>
  [395] pusharglistnoret 2 ...................... <tWndObj.getElement("trading_herstuff_" & i), rgb(200, 200, 200)>
  [397] objcall 1190 ............................ tWndObj.getElement("trading_herstuff_" & i).draw(rgb(200, 200, 200))
  [400] pushint8 1
  [402] getlocal 1
  [404] add
  [405] setlocal 1
  [407] endrepeat [334]
  [409] getlocal 0 .............................. <tWndObj>
  [411] pushcons 17 ............................. <"trading_mystuff_1">
  [413] pusharglist 2 ........................... <tWndObj, "trading_mystuff_1">
  [415] objcall 317 ............................. <tWndObj.getElement("trading_mystuff_1")>
  [418] pushsymb 80 ............................. <#width>
  [420] pusharglist 2 ........................... <tWndObj.getElement("trading_mystuff_1"), #width>
  [422] objcall 124 ............................. <tWndObj.getElement("trading_mystuff_1").getProperty(#width)>
  [424] setlocal 2 .............................. tWidth = tWndObj.getElement("trading_mystuff_1").getProperty(#width)
  [426] getlocal 0 .............................. <tWndObj>
  [428] pushcons 17 ............................. <"trading_mystuff_1">
  [430] pusharglist 2 ........................... <tWndObj, "trading_mystuff_1">
  [432] objcall 317 ............................. <tWndObj.getElement("trading_mystuff_1")>
  [435] pushsymb 81 ............................. <#height>
  [437] pusharglist 2 ........................... <tWndObj.getElement("trading_mystuff_1"), #height>
  [439] objcall 124 ............................. <tWndObj.getElement("trading_mystuff_1").getProperty(#height)>
  [441] setlocal 3 .............................. tHeight = tWndObj.getElement("trading_mystuff_1").getProperty(#height)
  [443] pushzero ................................ <0>
  [444] pushzero ................................ <0>
  [445] getlocal 2 .............................. <tWidth>
  [447] getlocal 3 .............................. <tHeight>
  [449] pusharglist 4 ........................... <0, 0, tWidth, tHeight>
  [451] extcall 137 ............................. <rect(0, 0, tWidth, tHeight)>
  [453] setprop 1184 ............................ pItemSlotRect = rect(0, 0, tWidth, tHeight)
  [456] pushsymb 521 ............................ <#open>
  [459] setprop 1175 ............................ pState = #open
  [462] getparam 0 .............................. <me>
  [464] pusharglistnoret 1 ...................... <me>
  [466] objcall 915 ............................. me.accept()
  [469] pushint8 1 .............................. <1>
  [471] pusharglistnoret 1 ...................... <1>
  [473] extcall 31 .............................. return 1
  [475] ret
end

on close me, tdata
  [  0] pushsymb 52 ............................. <#room>
  [  2] pusharglist 1 ........................... <#room>
  [  4] extcall 51 .............................. <getThread(#room)>
  [  6] pusharglist 1 ........................... <getThread(#room)>
  [  8] objcall 53 .............................. <getThread(#room).getInterface()>
  [ 10] pushsymb 443 ............................ <#clickAction>
  [ 13] pushcons 18 ............................. <"moveHuman">
  [ 15] pusharglistnoret 3 ...................... <getThread(#room).getInterface(), #clickAction, "moveHuman">
  [ 17] objcall 191 ............................. getThread(#room).getInterface().setProperty(#clickAction, "moveHuman")
  [ 19] pushsymb 52 ............................. <#room>
  [ 21] pusharglist 1 ........................... <#room>
  [ 23] extcall 51 .............................. <getThread(#room)>
  [ 25] pusharglist 1 ........................... <getThread(#room)>
  [ 27] objcall 53 .............................. <getThread(#room).getInterface()>
  [ 29] pusharglist 1 ........................... <getThread(#room).getInterface()>
  [ 31] objcall 136 ............................. <getThread(#room).getInterface().getObjectMover()>
  [ 33] pusharglistnoret 1 ...................... <getThread(#room).getInterface().getObjectMover()>
  [ 35] objcall 465 ............................. getThread(#room).getInterface().getObjectMover().clear()
  [ 38] getprop 1177 ............................ <pTraderWndID>
  [ 41] pusharglist 1 ........................... <pTraderWndID>
  [ 43] extcall 268 ............................. <windowExists(pTraderWndID)>
  [ 46] jmpifz [103] ............................ if windowExists(pTraderWndID) then
  [ 49] pushzero ................................ <0>
  [ 50] setprop 1178 ............................ pAcceptFlagMe = 0
  [ 53] pushzero ................................ <0>
  [ 54] setprop 1179 ............................ pAcceptFlagHe = 0
  [ 57] pusharglist 0 ........................... <[]>
  [ 59] pushlist ................................ <[]>
  [ 60] setprop 1180 ............................ pItemListMe = []
  [ 63] pusharglist 0 ........................... <[]>
  [ 65] pushlist ................................ <[]>
  [ 66] setprop 1181 ............................ pItemListHe = []
  [ 69] pusharglist 0 ........................... <[]>
  [ 71] pushlist ................................ <[]>
  [ 72] setprop 1182 ............................ pMyStripItems = []
  [ 75] pusharglist 0 ........................... <[:]>
  [ 77] pushproplist ............................ <[:]>
  [ 78] setprop 1185 ............................ pMySlotProps = [:]
  [ 81] pusharglist 0 ........................... <[:]>
  [ 83] pushproplist ............................ <[:]>
  [ 84] setprop 1186 ............................ pHerSlotProps = [:]
  [ 87] getprop 1177 ............................ <pTraderWndID>
  [ 90] pusharglistnoret 1 ...................... <pTraderWndID>
  [ 92] extcall 327 ............................. removeWindow(pTraderWndID)
  [ 95] getprop 1187 ............................ <pConfirmationWndID>
  [ 98] pusharglistnoret 1 ...................... <pConfirmationWndID>
  [100] extcall 327 ............................. removeWindow(pConfirmationWndID)
  [103] pushsymb 1176 ........................... <#closed>
  [106] setprop 1175 ............................ pState = #closed
  [109] pushint8 1 .............................. <1>
  [111] pusharglistnoret 1 ...................... <1>
  [113] extcall 31 .............................. return 1
  [115] ret
end

on accept me, tuser, tValue
  [  0] getprop 1175 ............................ <pState>
  [  3] pushsymb 1176 ........................... <#closed>
  [  6] eq ...................................... <pState = #closed>
  [  7] jmpifz [ 15] ............................ if pState = #closed then
  [ 10] pushzero ................................ <0>
  [ 11] pusharglistnoret 1 ...................... <0>
  [ 13] extcall 31 .............................. return 0
  [ 15] getparam 1 .............................. <tuser>
  [ 17] pusharglist 1 ........................... <tuser>
  [ 19] extcall 120 ............................. <voidp(tuser)>
  [ 21] not ..................................... <not voidp(tuser)>
  [ 22] getparam 2 .............................. <tValue>
  [ 24] pusharglist 1 ........................... <tValue>
  [ 26] extcall 120 ............................. <voidp(tValue)>
  [ 28] not ..................................... <not voidp(tValue)>
  [ 29] and ..................................... <not voidp(tuser) and not voidp(tValue)>
  [ 30] jmpifz [ 82] ............................ if not voidp(tuser) and not voidp(tValue) then
  [ 33] getparam 1 .............................. <tuser>
  [ 35] getprop 1189 ............................ <pTraderPal>
  [ 38] eq ...................................... <tuser = pTraderPal>
  [ 39] jmpifz [ 50] ............................ if tuser = pTraderPal then / else
  [ 42] getparam 2 .............................. <tValue>
  [ 44] setprop 1179 ............................ pAcceptFlagHe = tValue
  [ 47] jmp [ 82]
  [ 50] getparam 1 .............................. <tuser>
  [ 52] pushsymb 131 ............................ <#session>
  [ 54] pusharglist 1 ........................... <#session>
  [ 56] extcall 130 ............................. <getObject(#session)>
  [ 58] pushcons 4 .............................. <"user_name">
  [ 60] pusharglist 2 ........................... <getObject(#session), "user_name">
  [ 62] objcall 133 ............................. <getObject(#session).get("user_name")>
  [ 64] eq ...................................... <tuser = getObject(#session).get("user_name")>
  [ 65] jmpifz [ 82] ............................ if tuser = getObject(#session).get("user_name") then
  [ 68] getparam 2 .............................. <tValue>
  [ 70] setprop 1178 ............................ pAcceptFlagMe = tValue
  [ 73] getparam 0 .............................. <me>
  [ 75] getparam 2 .............................. <tValue>
  [ 77] pusharglistnoret 2 ...................... <me, tValue>
  [ 79] objcall 1172 ............................ me.blendLockedSlots(tValue)
  [ 82] getprop 1178 ............................ <pAcceptFlagMe>
  [ 85] jmpifz [ 95] ............................ if pAcceptFlagMe then / else
  [ 88] pushcons 19 ............................. <"on">
  [ 90] setlocal 0 .............................. tOnOff = "on"
  [ 92] jmp [ 99]
  [ 95] pushcons 20 ............................. <"off">
  [ 97] setlocal 0 .............................. tOnOff = "off"
  [ 99] getprop 1177 ............................ <pTraderWndID>
  [102] pusharglist 1 ........................... <pTraderWndID>
  [104] extcall 303 ............................. <getWindow(pTraderWndID)>
  [107] setlocal 1 .............................. tWndObj = getWindow(pTraderWndID)
  [109] getlocal 1 .............................. <tWndObj>
  [111] pushzero ................................ <0>
  [112] eq ...................................... <tWndObj = 0>
  [113] jmpifz [121] ............................ if tWndObj = 0 then
  [116] pushzero ................................ <0>
  [117] pusharglistnoret 1 ...................... <0>
  [119] extcall 31 .............................. return 0
  [121] pushcons 21 ............................. <"button.checkbox.">
  [123] getlocal 0 .............................. <tOnOff>
  [125] joinstr ................................. <"button.checkbox." & tOnOff>
  [126] pusharglist 1 ........................... <"button.checkbox." & tOnOff>
  [128] extcall 65 .............................. <getmemnum("button.checkbox." & tOnOff)>
  [130] pusharglist 1 ........................... <getmemnum("button.checkbox." & tOnOff)>
  [132] extcall 64 .............................. <member(getmemnum("button.checkbox." & tOnOff))>
  [134] getobjprop 63 ........................... <member(getmemnum("button.checkbox." & tOnOff)).image>
  [136] setlocal 2 .............................. tImage = member(getmemnum("button.checkbox." & tOnOff)).image
  [138] getlocal 1 .............................. <tWndObj>
  [140] pushcons 22 ............................. <"trading_confirm_check">
  [142] pusharglist 2 ........................... <tWndObj, "trading_confirm_check">
  [144] objcall 317 ............................. <tWndObj.getElement("trading_confirm_check")>
  [147] getlocal 2 .............................. <tImage>
  [149] pusharglistnoret 2 ...................... <tWndObj.getElement("trading_confirm_check"), tImage>
  [151] objcall 376 ............................. tWndObj.getElement("trading_confirm_check").feedImage(tImage)
  [154] getprop 1179 ............................ <pAcceptFlagHe>
  [157] jmpifz [172] ............................ if pAcceptFlagHe then / else
  [160] pushcons 19 ............................. <"on">
  [162] setlocal 0 .............................. tOnOff = "on"
  [164] pushint16 255 ........................... <255>
  [167] setlocal 3 .............................. tBlend = 255
  [169] jmp [181]
  [172] pushcons 20 ............................. <"off">
  [174] setlocal 0 .............................. tOnOff = "off"
  [176] pushint16 128 ........................... <128>
  [179] setlocal 3 .............................. tBlend = 128
  [181] pushcons 21 ............................. <"button.checkbox.">
  [183] getlocal 0 .............................. <tOnOff>
  [185] joinstr ................................. <"button.checkbox." & tOnOff>
  [186] pusharglist 1 ........................... <"button.checkbox." & tOnOff>
  [188] extcall 65 .............................. <getmemnum("button.checkbox." & tOnOff)>
  [190] pusharglist 1 ........................... <getmemnum("button.checkbox." & tOnOff)>
  [192] extcall 64 .............................. <member(getmemnum("button.checkbox." & tOnOff))>
  [194] getobjprop 63 ........................... <member(getmemnum("button.checkbox." & tOnOff)).image>
  [196] setlocal 4 .............................. tImageA = member(getmemnum("button.checkbox." & tOnOff)).image
  [198] getlocal 4 .............................. <tImageA>
  [200] getobjprop 80 ........................... <tImageA.width>
  [202] getlocal 4 .............................. <tImageA>
  [204] getobjprop 81 ........................... <tImageA.height>
  [206] getlocal 4 .............................. <tImageA>
  [208] getobjprop 1191 ......................... <tImageA.depth>
  [211] getlocal 4 .............................. <tImageA>
  [213] getobjprop 1192 ......................... <tImageA.paletteRef>
  [216] pusharglist 4 ........................... <tImageA.width, tImageA.height, tImageA.depth, tImageA.paletteRef>
  [218] extcall 63 .............................. <image(tImageA.width, tImageA.height, tImageA.depth, tImageA.paletteRef)>
  [220] setlocal 5 .............................. tImageB = image(tImageA.width, tImageA.height, tImageA.depth, tImageA.paletteRef)
  [222] getlocal 5 .............................. <tImageB>
  [224] getlocal 4 .............................. <tImageA>
  [226] getlocal 4 .............................. <tImageA>
  [228] getobjprop 137 .......................... <tImageA.rect>
  [230] getlocal 4 .............................. <tImageA>
  [232] getobjprop 137 .......................... <tImageA.rect>
  [234] pushsymb 1193 ........................... <#blendLevel>
  [237] getlocal 3 .............................. <tBlend>
  [239] pusharglist 2 ........................... <[#blendLevel: tBlend]>
  [241] pushproplist ............................ <[#blendLevel: tBlend]>
  [242] pusharglistnoret 5 ...................... <tImageB, tImageA, tImageA.rect, tImageA.rect, [#blendLevel: tBlend]>
  [244] objcall 400 ............................. tImageB.copyPixels(tImageA, tImageA.rect, tImageA.rect, [#blendLevel: tBlend])
  [247] getlocal 1 .............................. <tWndObj>
  [249] pushcons 23 ............................. <"trading_buddycheck_image">
  [251] pusharglist 2 ........................... <tWndObj, "trading_buddycheck_image">
  [253] objcall 317 ............................. <tWndObj.getElement("trading_buddycheck_image")>
  [256] getlocal 5 .............................. <tImageB>
  [258] pusharglistnoret 2 ...................... <tWndObj.getElement("trading_buddycheck_image"), tImageB>
  [260] objcall 376 ............................. tWndObj.getElement("trading_buddycheck_image").feedImage(tImageB)
  [263] pushint8 1 .............................. <1>
  [265] pusharglistnoret 1 ...................... <1>
  [267] extcall 31 .............................. return 1
  [269] ret
end

on Refresh me, tdata
  [  0] getparam 0 .............................. <me>
  [  2] getparam 1 .............................. <tdata>
  [  4] pusharglistnoret 2 ...................... <me, tdata>
  [  6] objcall 521 ............................. me.open(tdata)
  [  9] pusharglist 0 ........................... <[]>
  [ 11] pushlist ................................ <[]>
  [ 12] setprop 1182 ............................ pMyStripItems = []
  [ 15] getprop 1177 ............................ <pTraderWndID>
  [ 18] pusharglist 1 ........................... <pTraderWndID>
  [ 20] extcall 303 ............................. <getWindow(pTraderWndID)>
  [ 23] setlocal 0 .............................. tWndObj = getWindow(pTraderWndID)
  [ 25] getparam 1 .............................. <tdata>
  [ 27] pushsymb 131 ............................ <#session>
  [ 29] pusharglist 1 ........................... <#session>
  [ 31] extcall 130 ............................. <getObject(#session)>
  [ 33] pushcons 4 .............................. <"user_name">
  [ 35] pusharglist 2 ........................... <getObject(#session), "user_name">
  [ 37] objcall 133 ............................. <getObject(#session).get("user_name")>
  [ 39] pusharglist 2 ........................... <tdata, getObject(#session).get("user_name")>
  [ 41] objcall 34 .............................. <tdata[getObject(#session).get("user_name")]>
  [ 43] pushsymb 708 ............................ <#items>
  [ 46] pusharglist 2 ........................... <tdata[getObject(#session).get("user_name")], #items>
  [ 48] objcall 34 .............................. <tdata[getObject(#session).get("user_name")][#items]>
  [ 50] setprop 1180 ............................ pItemListMe = tdata[getObject(#session).get("user_name")][#items]
  [ 53] pusharglist 0 ........................... <[:]>
  [ 55] pushproplist ............................ <[:]>
  [ 56] setprop 1185 ............................ pMySlotProps = [:]
  [ 59] pushint8 1 .............................. <1>
  [ 61] setlocal 1
  [ 63] getlocal 1
  [ 65] getprop 1180 ............................ <pItemListMe>
  [ 68] getobjprop 33 ........................... <pItemListMe.count>
  [ 70] lteq
  [ 71] jmpifz [452] ............................ repeat with i = 1 to pItemListMe.count
  [ 74] getprop 1180 ............................ <pItemListMe>
  [ 77] getlocal 1 .............................. <i>
  [ 79] pusharglist 2 ........................... <pItemListMe, i>
  [ 81] objcall 34 .............................. <pItemListMe[i]>
  [ 83] pushsymb 38 ............................. <#class>
  [ 85] pusharglist 2 ........................... <pItemListMe[i], #class>
  [ 87] objcall 34 .............................. <pItemListMe[i][#class]>
  [ 89] setlocal 2 .............................. tClass = pItemListMe[i][#class]
  [ 91] getprop 1180 ............................ <pItemListMe>
  [ 94] getlocal 1 .............................. <i>
  [ 96] pusharglist 2 ........................... <pItemListMe, i>
  [ 98] objcall 34 .............................. <pItemListMe[i]>
  [100] pushsymb 877 ............................ <#props>
  [103] pusharglist 2 ........................... <pItemListMe[i], #props>
  [105] objcall 34 .............................. <pItemListMe[i][#props]>
  [107] pusharglist 1 ........................... <pItemListMe[i][#props]>
  [109] extcall 120 ............................. <voidp(pItemListMe[i][#props])>
  [111] not ..................................... <not voidp(pItemListMe[i][#props])>
  [112] jmpifz [139] ............................ if not voidp(pItemListMe[i][#props]) then
  [115] getlocal 2 .............................. <tClass>
  [117] pushcons 24 ............................. <"_">
  [119] joinstr ................................. <tClass & "_">
  [120] getprop 1180 ............................ <pItemListMe>
  [123] getlocal 1 .............................. <i>
  [125] pusharglist 2 ........................... <pItemListMe, i>
  [127] objcall 34 .............................. <pItemListMe[i]>
  [129] pushsymb 877 ............................ <#props>
  [132] pusharglist 2 ........................... <pItemListMe[i], #props>
  [134] objcall 34 .............................. <pItemListMe[i][#props]>
  [136] joinstr ................................. <tClass & "_" & pItemListMe[i][#props]>
  [137] setlocal 2 .............................. tClass = tClass & "_" & pItemListMe[i][#props]
  [139] getprop 1185 ............................ <pMySlotProps>
  [142] getlocal 2 .............................. <tClass>
  [144] pusharglist 2 ........................... <pMySlotProps, tClass>
  [146] objcall 34 .............................. <pMySlotProps[tClass]>
  [148] pusharglist 1 ........................... <pMySlotProps[tClass]>
  [150] extcall 120 ............................. <voidp(pMySlotProps[tClass])>
  [152] jmpifz [333] ............................ if voidp(pMySlotProps[tClass]) then / else
  [155] getprop 1185 ............................ <pMySlotProps>
  [158] getobjprop 33 ........................... <pMySlotProps.count>
  [160] pushint8 1 .............................. <1>
  [162] add ..................................... <pMySlotProps.count + 1>
  [163] setlocal 3 .............................. tAddToSlot = pMySlotProps.count + 1
  [165] getlocal 0 .............................. <tWndObj>
  [167] pushcons 15 ............................. <"trading_mystuff_">
  [169] getlocal 3 .............................. <tAddToSlot>
  [171] joinstr ................................. <"trading_mystuff_" & tAddToSlot>
  [172] pusharglist 2 ........................... <tWndObj, "trading_mystuff_" & tAddToSlot>
  [174] objcall 402 ............................. <tWndObj.elementExists("trading_mystuff_" & tAddToSlot)>
  [177] jmpifz [330] ............................ if tWndObj.elementExists("trading_mystuff_" & tAddToSlot) then
  [180] getprop 1185 ............................ <pMySlotProps>
  [183] getlocal 2 .............................. <tClass>
  [185] pushcons 25 ............................. <"count">
  [187] pushint8 1 .............................. <1>
  [189] pushcons 26 ............................. <"slot">
  [191] getlocal 3 .............................. <tAddToSlot>
  [193] pushcons 27 ............................. <"name">
  [195] getprop 1180 ............................ <pItemListMe>
  [198] getlocal 1 .............................. <i>
  [200] pusharglist 2 ........................... <pItemListMe, i>
  [202] objcall 34 .............................. <pItemListMe[i]>
  [204] pushsymb 58 ............................. <#name>
  [206] pusharglist 2 ........................... <pItemListMe[i], #name>
  [208] objcall 34 .............................. <pItemListMe[i][#name]>
  [210] pusharglist 6 ........................... <["count": 1, "slot": tAddToSlot, "name": pItemListMe[i][#name]]>
  [212] pushproplist ............................ <["count": 1, "slot": tAddToSlot, "name": pItemListMe[i][#name]]>
  [213] pusharglistnoret 3 ...................... <pMySlotProps, tClass, ["count": 1, "slot": tAddToSlot, "name": pItemListMe[i][#name]]>
  [215] objcall 744 ............................. pMySlotProps.addProp(tClass, ["count": 1, "slot": tAddToSlot, "name": pItemListMe[i][#name]])
  [218] getlocal 0 .............................. <tWndObj>
  [220] pushcons 28 ............................. <"trading_mycount_">
  [222] getlocal 3 .............................. <tAddToSlot>
  [224] joinstr ................................. <"trading_mycount_" & tAddToSlot>
  [225] pusharglist 2 ........................... <tWndObj, "trading_mycount_" & tAddToSlot>
  [227] objcall 317 ............................. <tWndObj.getElement("trading_mycount_" & tAddToSlot)>
  [230] getprop 1185 ............................ <pMySlotProps>
  [233] getlocal 2 .............................. <tClass>
  [235] pusharglist 2 ........................... <pMySlotProps, tClass>
  [237] objcall 34 .............................. <pMySlotProps[tClass]>
  [239] pushcons 25 ............................. <"count">
  [241] pusharglist 2 ........................... <pMySlotProps[tClass], "count">
  [243] objcall 34 .............................. <pMySlotProps[tClass]["count"]>
  [245] pusharglistnoret 2 ...................... <tWndObj.getElement("trading_mycount_" & tAddToSlot), pMySlotProps[tClass]["count"]>
  [247] objcall 318 ............................. tWndObj.getElement("trading_mycount_" & tAddToSlot).setText(pMySlotProps[tClass]["count"])
  [250] getparam 0 .............................. <me>
  [252] getprop 1180 ............................ <pItemListMe>
  [255] getlocal 1 .............................. <i>
  [257] pusharglist 2 ........................... <pItemListMe, i>
  [259] objcall 34 .............................. <pItemListMe[i]>
  [261] getprop 1180 ............................ <pItemListMe>
  [264] getlocal 1 .............................. <i>
  [266] pusharglist 2 ........................... <pItemListMe, i>
  [268] objcall 34 .............................. <pItemListMe[i]>
  [270] pushsymb 876 ............................ <#colors>
  [273] pusharglist 2 ........................... <pItemListMe[i], #colors>
  [275] objcall 34 .............................. <pItemListMe[i][#colors]>
  [277] pusharglist 3 ........................... <me, pItemListMe[i], pItemListMe[i][#colors]>
  [279] objcall 1169 ............................ <me.createItemImg(pItemListMe[i], pItemListMe[i][#colors])>
  [282] setlocal 4 .............................. tImage = me.createItemImg(pItemListMe[i], pItemListMe[i][#colors])
  [284] getlocal 0 .............................. <tWndObj>
  [286] pushcons 15 ............................. <"trading_mystuff_">
  [288] getlocal 3 .............................. <tAddToSlot>
  [290] joinstr ................................. <"trading_mystuff_" & tAddToSlot>
  [291] pusharglist 2 ........................... <tWndObj, "trading_mystuff_" & tAddToSlot>
  [293] objcall 317 ............................. <tWndObj.getElement("trading_mystuff_" & tAddToSlot)>
  [296] getlocal 4 .............................. <tImage>
  [298] pusharglistnoret 2 ...................... <tWndObj.getElement("trading_mystuff_" & tAddToSlot), tImage>
  [300] objcall 376 ............................. tWndObj.getElement("trading_mystuff_" & tAddToSlot).feedImage(tImage)
  [303] getlocal 0 .............................. <tWndObj>
  [305] pushcons 15 ............................. <"trading_mystuff_">
  [307] getlocal 3 .............................. <tAddToSlot>
  [309] joinstr ................................. <"trading_mystuff_" & tAddToSlot>
  [310] pusharglist 2 ........................... <tWndObj, "trading_mystuff_" & tAddToSlot>
  [312] objcall 317 ............................. <tWndObj.getElement("trading_mystuff_" & tAddToSlot)>
  [315] pushint8 64 ............................. <64>
  [317] pushint8 64 ............................. <64>
  [319] pushint8 64 ............................. <64>
  [321] pusharglist 3 ........................... <64, 64, 64>
  [323] extcall 94 .............................. <rgb(64, 64, 64)>
  [325] pusharglistnoret 2 ...................... <tWndObj.getElement("trading_mystuff_" & tAddToSlot), rgb(64, 64, 64)>
  [327] objcall 1190 ............................ tWndObj.getElement("trading_mystuff_" & tAddToSlot).draw(rgb(64, 64, 64))
  [330] jmp [419]
  [333] getprop 1185 ............................ <pMySlotProps>
  [336] getlocal 2 .............................. <tClass>
  [338] pusharglist 2 ........................... <pMySlotProps, tClass>
  [340] objcall 34 .............................. <pMySlotProps[tClass]>
  [342] pushcons 25 ............................. <"count">
  [344] pusharglist 2 ........................... <pMySlotProps[tClass], "count">
  [346] objcall 34 .............................. <pMySlotProps[tClass]["count"]>
  [348] setlocal 5 .............................. tCount = pMySlotProps[tClass]["count"]
  [350] getprop 1185 ............................ <pMySlotProps>
  [353] getlocal 2 .............................. <tClass>
  [355] pusharglist 2 ........................... <pMySlotProps, tClass>
  [357] objcall 34 .............................. <pMySlotProps[tClass]>
  [359] pushcons 26 ............................. <"slot">
  [361] pusharglist 2 ........................... <pMySlotProps[tClass], "slot">
  [363] objcall 34 .............................. <pMySlotProps[tClass]["slot"]>
  [365] setlocal 6 .............................. tSlot = pMySlotProps[tClass]["slot"]
  [367] getprop 1185 ............................ <pMySlotProps>
  [370] getlocal 2 .............................. <tClass>
  [372] pusharglist 2 ........................... <pMySlotProps, tClass>
  [374] objcall 34 .............................. <pMySlotProps[tClass]>
  [376] pushcons 25 ............................. <"count">
  [378] getlocal 5 .............................. <tCount>
  [380] pushint8 1 .............................. <1>
  [382] add ..................................... <tCount + 1>
  [383] pusharglistnoret 3 ...................... <pMySlotProps[tClass], "count", tCount + 1>
  [385] objcall 59 .............................. pMySlotProps[tClass]["count"] = tCount + 1
  [387] getlocal 0 .............................. <tWndObj>
  [389] pushcons 28 ............................. <"trading_mycount_">
  [391] getlocal 6 .............................. <tSlot>
  [393] joinstr ................................. <"trading_mycount_" & tSlot>
  [394] pusharglist 2 ........................... <tWndObj, "trading_mycount_" & tSlot>
  [396] objcall 317 ............................. <tWndObj.getElement("trading_mycount_" & tSlot)>
  [399] getprop 1185 ............................ <pMySlotProps>
  [402] getlocal 2 .............................. <tClass>
  [404] pusharglist 2 ........................... <pMySlotProps, tClass>
  [406] objcall 34 .............................. <pMySlotProps[tClass]>
  [408] pushcons 25 ............................. <"count">
  [410] pusharglist 2 ........................... <pMySlotProps[tClass], "count">
  [412] objcall 34 .............................. <pMySlotProps[tClass]["count"]>
  [414] pusharglistnoret 2 ...................... <tWndObj.getElement("trading_mycount_" & tSlot), pMySlotProps[tClass]["count"]>
  [416] objcall 318 ............................. tWndObj.getElement("trading_mycount_" & tSlot).setText(pMySlotProps[tClass]["count"])
  [419] getprop 1182 ............................ <pMyStripItems>
  [422] getprop 1180 ............................ <pItemListMe>
  [425] getlocal 1 .............................. <i>
  [427] pusharglist 2 ........................... <pItemListMe, i>
  [429] objcall 34 .............................. <pItemListMe[i]>
  [431] pushsymb 470 ............................ <#stripId>
  [434] pusharglist 2 ........................... <pItemListMe[i], #stripId>
  [436] objcall 34 .............................. <pItemListMe[i][#stripId]>
  [438] pusharglistnoret 2 ...................... <pMyStripItems, pItemListMe[i][#stripId]>
  [440] objcall 88 .............................. pMyStripItems.add(pItemListMe[i][#stripId])
  [442] pushint8 1
  [444] getlocal 1
  [446] add
  [447] setlocal 1
  [449] endrepeat [ 63]
  [452] getparam 1 .............................. <tdata>
  [454] getprop 1189 ............................ <pTraderPal>
  [457] pusharglist 2 ........................... <tdata, pTraderPal>
  [459] objcall 34 .............................. <tdata[pTraderPal]>
  [461] pusharglist 0 ........................... <>
  [463] extcall 30 .............................. <VOID>
  [465] eq ...................................... <tdata[pTraderPal] = VOID>
  [466] jmpifz [474] ............................ if tdata[pTraderPal] = VOID then
  [469] pushzero ................................ <0>
  [470] pusharglistnoret 1 ...................... <0>
  [472] extcall 31 .............................. return 0
  [474] getparam 1 .............................. <tdata>
  [476] getprop 1189 ............................ <pTraderPal>
  [479] pusharglist 2 ........................... <tdata, pTraderPal>
  [481] objcall 34 .............................. <tdata[pTraderPal]>
  [483] pushsymb 708 ............................ <#items>
  [486] pusharglist 2 ........................... <tdata[pTraderPal], #items>
  [488] objcall 34 .............................. <tdata[pTraderPal][#items]>
  [490] setprop 1181 ............................ pItemListHe = tdata[pTraderPal][#items]
  [493] pusharglist 0 ........................... <[:]>
  [495] pushproplist ............................ <[:]>
  [496] setprop 1186 ............................ pHerSlotProps = [:]
  [499] pushint8 1 .............................. <1>
  [501] setlocal 1
  [503] getlocal 1
  [505] getprop 1181 ............................ <pItemListHe>
  [508] getobjprop 33 ........................... <pItemListHe.count>
  [510] lteq
  [511] jmpifz [866] ............................ repeat with i = 1 to pItemListHe.count
  [514] getprop 1181 ............................ <pItemListHe>
  [517] getlocal 1 .............................. <i>
  [519] pusharglist 2 ........................... <pItemListHe, i>
  [521] objcall 34 .............................. <pItemListHe[i]>
  [523] pushsymb 38 ............................. <#class>
  [525] pusharglist 2 ........................... <pItemListHe[i], #class>
  [527] objcall 34 .............................. <pItemListHe[i][#class]>
  [529] setlocal 2 .............................. tClass = pItemListHe[i][#class]
  [531] getprop 1181 ............................ <pItemListHe>
  [534] getlocal 1 .............................. <i>
  [536] pusharglist 2 ........................... <pItemListHe, i>
  [538] objcall 34 .............................. <pItemListHe[i]>
  [540] pushsymb 877 ............................ <#props>
  [543] pusharglist 2 ........................... <pItemListHe[i], #props>
  [545] objcall 34 .............................. <pItemListHe[i][#props]>
  [547] pusharglist 1 ........................... <pItemListHe[i][#props]>
  [549] extcall 120 ............................. <voidp(pItemListHe[i][#props])>
  [551] not ..................................... <not voidp(pItemListHe[i][#props])>
  [552] jmpifz [576] ............................ if not voidp(pItemListHe[i][#props]) then
  [555] getlocal 2 .............................. <tClass>
  [557] getprop 1181 ............................ <pItemListHe>
  [560] getlocal 1 .............................. <i>
  [562] pusharglist 2 ........................... <pItemListHe, i>
  [564] objcall 34 .............................. <pItemListHe[i]>
  [566] pushsymb 877 ............................ <#props>
  [569] pusharglist 2 ........................... <pItemListHe[i], #props>
  [571] objcall 34 .............................. <pItemListHe[i][#props]>
  [573] joinstr ................................. <tClass & pItemListHe[i][#props]>
  [574] setlocal 2 .............................. tClass = tClass & pItemListHe[i][#props]
  [576] getprop 1186 ............................ <pHerSlotProps>
  [579] getlocal 2 .............................. <tClass>
  [581] pusharglist 2 ........................... <pHerSlotProps, tClass>
  [583] objcall 34 .............................. <pHerSlotProps[tClass]>
  [585] pusharglist 1 ........................... <pHerSlotProps[tClass]>
  [587] extcall 120 ............................. <voidp(pHerSlotProps[tClass])>
  [589] jmpifz [770] ............................ if voidp(pHerSlotProps[tClass]) then
  [592] getprop 1186 ............................ <pHerSlotProps>
  [595] getobjprop 33 ........................... <pHerSlotProps.count>
  [597] pushint8 1 .............................. <1>
  [599] add ..................................... <pHerSlotProps.count + 1>
  [600] setlocal 3 .............................. tAddToSlot = pHerSlotProps.count + 1
  [602] getlocal 0 .............................. <tWndObj>
  [604] pushcons 16 ............................. <"trading_herstuff_">
  [606] getlocal 3 .............................. <tAddToSlot>
  [608] joinstr ................................. <"trading_herstuff_" & tAddToSlot>
  [609] pusharglist 2 ........................... <tWndObj, "trading_herstuff_" & tAddToSlot>
  [611] objcall 402 ............................. <tWndObj.elementExists("trading_herstuff_" & tAddToSlot)>
  [614] jmpifz [767] ............................ if tWndObj.elementExists("trading_herstuff_" & tAddToSlot) then
  [617] getprop 1186 ............................ <pHerSlotProps>
  [620] getlocal 2 .............................. <tClass>
  [622] pushcons 25 ............................. <"count">
  [624] pushint8 1 .............................. <1>
  [626] pushcons 26 ............................. <"slot">
  [628] getlocal 3 .............................. <tAddToSlot>
  [630] pushcons 27 ............................. <"name">
  [632] getprop 1181 ............................ <pItemListHe>
  [635] getlocal 1 .............................. <i>
  [637] pusharglist 2 ........................... <pItemListHe, i>
  [639] objcall 34 .............................. <pItemListHe[i]>
  [641] pushsymb 58 ............................. <#name>
  [643] pusharglist 2 ........................... <pItemListHe[i], #name>
  [645] objcall 34 .............................. <pItemListHe[i][#name]>
  [647] pusharglist 6 ........................... <["count": 1, "slot": tAddToSlot, "name": pItemListHe[i][#name]]>
  [649] pushproplist ............................ <["count": 1, "slot": tAddToSlot, "name": pItemListHe[i][#name]]>
  [650] pusharglistnoret 3 ...................... <pHerSlotProps, tClass, ["count": 1, "slot": tAddToSlot, "name": pItemListHe[i][#name]]>
  [652] objcall 744 ............................. pHerSlotProps.addProp(tClass, ["count": 1, "slot": tAddToSlot, "name": pItemListHe[i][#name]])
  [655] getlocal 0 .............................. <tWndObj>
  [657] pushcons 29 ............................. <"trading_hercount_">
  [659] getlocal 3 .............................. <tAddToSlot>
  [661] joinstr ................................. <"trading_hercount_" & tAddToSlot>
  [662] pusharglist 2 ........................... <tWndObj, "trading_hercount_" & tAddToSlot>
  [664] objcall 317 ............................. <tWndObj.getElement("trading_hercount_" & tAddToSlot)>
  [667] getprop 1186 ............................ <pHerSlotProps>
  [670] getlocal 2 .............................. <tClass>
  [672] pusharglist 2 ........................... <pHerSlotProps, tClass>
  [674] objcall 34 .............................. <pHerSlotProps[tClass]>
  [676] pushcons 25 ............................. <"count">
  [678] pusharglist 2 ........................... <pHerSlotProps[tClass], "count">
  [680] objcall 34 .............................. <pHerSlotProps[tClass]["count"]>
  [682] pusharglistnoret 2 ...................... <tWndObj.getElement("trading_hercount_" & tAddToSlot), pHerSlotProps[tClass]["count"]>
  [684] objcall 318 ............................. tWndObj.getElement("trading_hercount_" & tAddToSlot).setText(pHerSlotProps[tClass]["count"])
  [687] getparam 0 .............................. <me>
  [689] getprop 1181 ............................ <pItemListHe>
  [692] getlocal 1 .............................. <i>
  [694] pusharglist 2 ........................... <pItemListHe, i>
  [696] objcall 34 .............................. <pItemListHe[i]>
  [698] getprop 1181 ............................ <pItemListHe>
  [701] getlocal 1 .............................. <i>
  [703] pusharglist 2 ........................... <pItemListHe, i>
  [705] objcall 34 .............................. <pItemListHe[i]>
  [707] pushsymb 876 ............................ <#colors>
  [710] pusharglist 2 ........................... <pItemListHe[i], #colors>
  [712] objcall 34 .............................. <pItemListHe[i][#colors]>
  [714] pusharglist 3 ........................... <me, pItemListHe[i], pItemListHe[i][#colors]>
  [716] objcall 1169 ............................ <me.createItemImg(pItemListHe[i], pItemListHe[i][#colors])>
  [719] setlocal 4 .............................. tImage = me.createItemImg(pItemListHe[i], pItemListHe[i][#colors])
  [721] getlocal 0 .............................. <tWndObj>
  [723] pushcons 16 ............................. <"trading_herstuff_">
  [725] getlocal 3 .............................. <tAddToSlot>
  [727] joinstr ................................. <"trading_herstuff_" & tAddToSlot>
  [728] pusharglist 2 ........................... <tWndObj, "trading_herstuff_" & tAddToSlot>
  [730] objcall 317 ............................. <tWndObj.getElement("trading_herstuff_" & tAddToSlot)>
  [733] getlocal 4 .............................. <tImage>
  [735] pusharglistnoret 2 ...................... <tWndObj.getElement("trading_herstuff_" & tAddToSlot), tImage>
  [737] objcall 376 ............................. tWndObj.getElement("trading_herstuff_" & tAddToSlot).feedImage(tImage)
  [740] getlocal 0 .............................. <tWndObj>
  [742] pushcons 16 ............................. <"trading_herstuff_">
  [744] getlocal 3 .............................. <tAddToSlot>
  [746] joinstr ................................. <"trading_herstuff_" & tAddToSlot>
  [747] pusharglist 2 ........................... <tWndObj, "trading_herstuff_" & tAddToSlot>
  [749] objcall 317 ............................. <tWndObj.getElement("trading_herstuff_" & tAddToSlot)>
  [752] pushint8 64 ............................. <64>
  [754] pushint8 64 ............................. <64>
  [756] pushint8 64 ............................. <64>
  [758] pusharglist 3 ........................... <64, 64, 64>
  [760] extcall 94 .............................. <rgb(64, 64, 64)>
  [762] pusharglistnoret 2 ...................... <tWndObj.getElement("trading_herstuff_" & tAddToSlot), rgb(64, 64, 64)>
  [764] objcall 1190 ............................ tWndObj.getElement("trading_herstuff_" & tAddToSlot).draw(rgb(64, 64, 64))
  [767] jmp [856] ............................... next repeat
  [770] getprop 1186 ............................ <pHerSlotProps>
  [773] getlocal 2 .............................. <tClass>
  [775] pusharglist 2 ........................... <pHerSlotProps, tClass>
  [777] objcall 34 .............................. <pHerSlotProps[tClass]>
  [779] pushcons 25 ............................. <"count">
  [781] pusharglist 2 ........................... <pHerSlotProps[tClass], "count">
  [783] objcall 34 .............................. <pHerSlotProps[tClass]["count"]>
  [785] setlocal 5 .............................. tCount = pHerSlotProps[tClass]["count"]
  [787] getprop 1186 ............................ <pHerSlotProps>
  [790] getlocal 2 .............................. <tClass>
  [792] pusharglist 2 ........................... <pHerSlotProps, tClass>
  [794] objcall 34 .............................. <pHerSlotProps[tClass]>
  [796] pushcons 26 ............................. <"slot">
  [798] pusharglist 2 ........................... <pHerSlotProps[tClass], "slot">
  [800] objcall 34 .............................. <pHerSlotProps[tClass]["slot"]>
  [802] setlocal 6 .............................. tSlot = pHerSlotProps[tClass]["slot"]
  [804] getprop 1186 ............................ <pHerSlotProps>
  [807] getlocal 2 .............................. <tClass>
  [809] pusharglist 2 ........................... <pHerSlotProps, tClass>
  [811] objcall 34 .............................. <pHerSlotProps[tClass]>
  [813] pushcons 25 ............................. <"count">
  [815] getlocal 5 .............................. <tCount>
  [817] pushint8 1 .............................. <1>
  [819] add ..................................... <tCount + 1>
  [820] pusharglistnoret 3 ...................... <pHerSlotProps[tClass], "count", tCount + 1>
  [822] objcall 59 .............................. pHerSlotProps[tClass]["count"] = tCount + 1
  [824] getlocal 0 .............................. <tWndObj>
  [826] pushcons 29 ............................. <"trading_hercount_">
  [828] getlocal 6 .............................. <tSlot>
  [830] joinstr ................................. <"trading_hercount_" & tSlot>
  [831] pusharglist 2 ........................... <tWndObj, "trading_hercount_" & tSlot>
  [833] objcall 317 ............................. <tWndObj.getElement("trading_hercount_" & tSlot)>
  [836] getprop 1186 ............................ <pHerSlotProps>
  [839] getlocal 2 .............................. <tClass>
  [841] pusharglist 2 ........................... <pHerSlotProps, tClass>
  [843] objcall 34 .............................. <pHerSlotProps[tClass]>
  [845] pushcons 25 ............................. <"count">
  [847] pusharglist 2 ........................... <pHerSlotProps[tClass], "count">
  [849] objcall 34 .............................. <pHerSlotProps[tClass]["count"]>
  [851] pusharglistnoret 2 ...................... <tWndObj.getElement("trading_hercount_" & tSlot), pHerSlotProps[tClass]["count"]>
  [853] objcall 318 ............................. tWndObj.getElement("trading_hercount_" & tSlot).setText(pHerSlotProps[tClass]["count"])
  [856] pushint8 1
  [858] getlocal 1
  [860] add
  [861] setlocal 1
  [863] endrepeat [503]
  [866] getparam 0 .............................. <me>
  [868] getparam 1 .............................. <tdata>
  [870] pushint8 1 .............................. <1>
  [872] pusharglist 2 ........................... <tdata, 1>
  [874] objcall 423 ............................. <tdata.getPropAt(1)>
  [877] getparam 1 .............................. <tdata>
  [879] pushint8 1 .............................. <1>
  [881] pusharglist 2 ........................... <tdata, 1>
  [883] objcall 34 .............................. <tdata[1]>
  [885] pushsymb 915 ............................ <#accept>
  [888] pusharglist 2 ........................... <tdata[1], #accept>
  [890] objcall 34 .............................. <tdata[1][#accept]>
  [892] pusharglist 1 ........................... <tdata[1][#accept]>
  [894] extcall 480 ............................. <value(tdata[1][#accept])>
  [897] pusharglistnoret 3 ...................... <me, tdata.getPropAt(1), value(tdata[1][#accept])>
  [899] objcall 915 ............................. me.accept(tdata.getPropAt(1), value(tdata[1][#accept]))
  [902] getparam 0 .............................. <me>
  [904] getparam 1 .............................. <tdata>
  [906] pushint8 2 .............................. <2>
  [908] pusharglist 2 ........................... <tdata, 2>
  [910] objcall 423 ............................. <tdata.getPropAt(2)>
  [913] getparam 1 .............................. <tdata>
  [915] pushint8 2 .............................. <2>
  [917] pusharglist 2 ........................... <tdata, 2>
  [919] objcall 34 .............................. <tdata[2]>
  [921] pushsymb 915 ............................ <#accept>
  [924] pusharglist 2 ........................... <tdata[2], #accept>
  [926] objcall 34 .............................. <tdata[2][#accept]>
  [928] pusharglist 1 ........................... <tdata[2][#accept]>
  [930] extcall 480 ............................. <value(tdata[2][#accept])>
  [933] pusharglistnoret 3 ...................... <me, tdata.getPropAt(2), value(tdata[2][#accept])>
  [935] objcall 915 ............................. me.accept(tdata.getPropAt(2), value(tdata[2][#accept]))
  [938] ret
end

on complete me, tdata
  [  0] getparam 0 .............................. <me>
  [  2] pusharglist 1 ........................... <me>
  [  4] objcall 440 ............................. <me.close()>
  [  7] pusharglistnoret 1 ...................... <me.close()>
  [  9] extcall 31 .............................. return me.close()
  [ 11] ret
end

on isUnderTrade me, tStripID
  [  0] getprop 1182 ............................ <pMyStripItems>
  [  3] getparam 1 .............................. <tStripID>
  [  5] pusharglist 2 ........................... <pMyStripItems, tStripID>
  [  7] objcall 332 ............................. <pMyStripItems.getPos(tStripID)>
  [ 10] pushzero ................................ <0>
  [ 11] gt ...................................... <pMyStripItems.getPos(tStripID) > 0>
  [ 12] pusharglistnoret 1 ...................... <pMyStripItems.getPos(tStripID) > 0>
  [ 14] extcall 31 .............................. return pMyStripItems.getPos(tStripID) > 0
  [ 16] ret
end

on createItemImg me, tProps
  [  0] pushsymb 93 ............................. <#ink>
  [  2] pushint8 8 .............................. <8>
  [  4] pusharglist 2 ........................... <[#ink: 8]>
  [  6] pushproplist ............................ <[#ink: 8]>
  [  7] setlocal 0 .............................. tImgProps = [#ink: 8]
  [  9] getparam 1 .............................. <tProps>
  [ 11] pushsymb 877 ............................ <#props>
  [ 14] pusharglist 2 ........................... <tProps, #props>
  [ 16] objcall 34 .............................. <tProps[#props]>
  [ 18] pusharglist 1 ........................... <tProps[#props]>
  [ 20] extcall 120 ............................. <voidp(tProps[#props])>
  [ 22] jmpifz [ 36] ............................ if voidp(tProps[#props]) then
  [ 25] getparam 1 .............................. <tProps>
  [ 27] pushsymb 877 ............................ <#props>
  [ 30] pushcons 5 .............................. <EMPTY>
  [ 32] pusharglistnoret 3 ...................... <tProps, #props, EMPTY>
  [ 34] objcall 59 .............................. tProps[#props] = EMPTY
  [ 36] getparam 1 .............................. <tProps>
  [ 38] pushsymb 38 ............................. <#class>
  [ 40] pusharglist 2 ........................... <tProps, #class>
  [ 42] objcall 34 .............................. <tProps[#class]>
  [ 44] setlocal 1 .............................. tClass = tProps[#class]
  [ 46] getparam 1 .............................. <tProps>
  [ 48] pushsymb 38 ............................. <#class>
  [ 50] pusharglist 2 ........................... <tProps, #class>
  [ 52] objcall 34 .............................. <tProps[#class]>
  [ 54] pushcons 30 ............................. <"*">
  [ 56] containsstr ............................. <tProps[#class] contains "*">
  [ 57] jmpifz [ 96] ............................ if tProps[#class] contains "*" then
  [ 60] getparam 1 .............................. <tProps>
  [ 62] pushsymb 38 ............................. <#class>
  [ 64] pusharglist 2 ........................... <tProps, #class>
  [ 66] objcall 34 .............................. <tProps[#class]>
  [ 68] pushsymb 66 ............................. <#char>
  [ 70] pushint8 1 .............................. <1>
  [ 72] pushcons 30 ............................. <"*">
  [ 74] getparam 1 .............................. <tProps>
  [ 76] pushsymb 38 ............................. <#class>
  [ 78] pusharglist 2 ........................... <tProps, #class>
  [ 80] objcall 34 .............................. <tProps[#class]>
  [ 82] pusharglist 2 ........................... <"*", tProps[#class]>
  [ 84] extcall 674 ............................. <offset("*", tProps[#class])>
  [ 87] pushint8 1 .............................. <1>
  [ 89] sub ..................................... <offset("*", tProps[#class]) - 1>
  [ 90] pusharglist 4 ........................... <tProps[#class], #char, 1, offset("*", tProps[#class]) - 1>
  [ 92] objcall 68 .............................. <tProps[#class].char[1..offset("*", tProps[#class]) - 1]>
  [ 94] setlocal 1 .............................. tClass = tProps[#class].char[1..offset("*", tProps[#class]) - 1]
  [ 96] getlocal 1 .............................. <tClass>
  [ 98] pushcons 31 ............................. <"post.it">
  [100] containsstr ............................. <tClass contains "post.it">
  [101] jmpifz [220] ............................ if tClass contains "post.it" then / else
  [104] getparam 1 .............................. <tProps>
  [106] pushsymb 877 ............................ <#props>
  [109] pusharglist 2 ........................... <tProps, #props>
  [111] objcall 34 .............................. <tProps[#props]>
  [113] pusharglist 1 ........................... <tProps[#props]>
  [115] extcall 480 ............................. <value(tProps[#props])>
  [118] pushfloat32 20.0 ........................ <20.0>
  [123] pushfloat32 6.0 ......................... <6.0>
  [128] div ..................................... <20.0 / 6.0>
  [129] div ..................................... <value(tProps[#props]) / (20.0 / 6.0)>
  [130] pusharglist 1 ........................... <value(tProps[#props]) / (20.0 / 6.0)>
  [132] extcall 102 ............................. <integer(value(tProps[#props]) / (20.0 / 6.0))>
  [134] setlocal 2 .............................. tCount = integer(value(tProps[#props]) / (20.0 / 6.0))
  [136] getlocal 2 .............................. <tCount>
  [138] pushint8 6 .............................. <6>
  [140] gt ...................................... <tCount > 6>
  [141] jmpifz [148] ............................ if tCount > 6 then
  [144] pushint8 6 .............................. <6>
  [146] setlocal 2 .............................. tCount = 6
  [148] getlocal 2 .............................. <tCount>
  [150] pushint8 1 .............................. <1>
  [152] lt ...................................... <tCount < 1>
  [153] jmpifz [160] ............................ if tCount < 1 then
  [156] pushint8 1 .............................. <1>
  [158] setlocal 2 .............................. tCount = 1
  [160] getlocal 1 .............................. <tClass>
  [162] pushcons 24 ............................. <"_">
  [164] joinstr ................................. <tClass & "_">
  [165] getlocal 2 .............................. <tCount>
  [167] joinstr ................................. <tClass & "_" & tCount>
  [168] pushcons 24 ............................. <"_">
  [170] joinstr ................................. <tClass & "_" & tCount & "_">
  [171] pushcons 32 ............................. <"small">
  [173] joinstr ................................. <tClass & "_" & tCount & "_" & "small">
  [174] pusharglist 1 ........................... <tClass & "_" & tCount & "_" & "small">
  [176] extcall 62 .............................. <memberExists(tClass & "_" & tCount & "_" & "small")>
  [178] jmpifz [200] ............................ if memberExists(tClass & "_" & tCount & "_" & "small") then / else
  [181] getlocal 1 .............................. <tClass>
  [183] pushcons 24 ............................. <"_">
  [185] joinstr ................................. <tClass & "_">
  [186] getlocal 2 .............................. <tCount>
  [188] joinstr ................................. <tClass & "_" & tCount>
  [189] pushcons 24 ............................. <"_">
  [191] joinstr ................................. <tClass & "_" & tCount & "_">
  [192] pushcons 32 ............................. <"small">
  [194] joinstr ................................. <tClass & "_" & tCount & "_" & "small">
  [195] setlocal 3 .............................. tMemStr = tClass & "_" & tCount & "_" & "small"
  [197] jmp [217]
  [200] getparam 0 .............................. <me>
  [202] pushcons 33 ............................. <"Couldn't define member for trade item!">
  [204] pushcons 34 ............................. <RETURN>
  [206] joinstr ................................. <"Couldn't define member for trade item!" & RETURN>
  [207] getparam 1 .............................. <tProps>
  [209] joinstr ................................. <"Couldn't define member for trade item!" & RETURN & tProps>
  [210] pushsymb 1169 ........................... <#createItemImg>
  [213] pusharglistnoret 3 ...................... <me, "Couldn't define member for trade item!" & RETURN & tProps, #createItemImg>
  [215] extcall 72 .............................. error(me, "Couldn't define member for trade item!" & RETURN & tProps, #createItemImg)
  [217] jmp [437]
  [220] getparam 1 .............................. <tProps>
  [222] pushsymb 38 ............................. <#class>
  [224] pusharglist 2 ........................... <tProps, #class>
  [226] objcall 34 .............................. <tProps[#class]>
  [228] pushcons 24 ............................. <"_">
  [230] joinstr ................................. <tProps[#class] & "_">
  [231] getparam 1 .............................. <tProps>
  [233] pushsymb 877 ............................ <#props>
  [236] pusharglist 2 ........................... <tProps, #props>
  [238] objcall 34 .............................. <tProps[#props]>
  [240] joinstr ................................. <tProps[#class] & "_" & tProps[#props]>
  [241] pushcons 35 ............................. <"_small">
  [243] joinstr ................................. <tProps[#class] & "_" & tProps[#props] & "_small">
  [244] pusharglist 1 ........................... <tProps[#class] & "_" & tProps[#props] & "_small">
  [246] extcall 62 .............................. <memberExists(tProps[#class] & "_" & tProps[#props] & "_small")>
  [248] jmpifz [280] ............................ if memberExists(tProps[#class] & "_" & tProps[#props] & "_small") then / else
  [251] getparam 1 .............................. <tProps>
  [253] pushsymb 38 ............................. <#class>
  [255] pusharglist 2 ........................... <tProps, #class>
  [257] objcall 34 .............................. <tProps[#class]>
  [259] pushcons 24 ............................. <"_">
  [261] joinstr ................................. <tProps[#class] & "_">
  [262] getparam 1 .............................. <tProps>
  [264] pushsymb 877 ............................ <#props>
  [267] pusharglist 2 ........................... <tProps, #props>
  [269] objcall 34 .............................. <tProps[#props]>
  [271] joinstr ................................. <tProps[#class] & "_" & tProps[#props]>
  [272] pushcons 35 ............................. <"_small">
  [274] joinstr ................................. <tProps[#class] & "_" & tProps[#props] & "_small">
  [275] setlocal 3 .............................. tMemStr = tProps[#class] & "_" & tProps[#props] & "_small"
  [277] jmp [437]
  [280] getparam 1 .............................. <tProps>
  [282] pushsymb 38 ............................. <#class>
  [284] pusharglist 2 ........................... <tProps, #class>
  [286] objcall 34 .............................. <tProps[#class]>
  [288] pushcons 35 ............................. <"_small">
  [290] joinstr ................................. <tProps[#class] & "_small">
  [291] pusharglist 1 ........................... <tProps[#class] & "_small">
  [293] extcall 62 .............................. <memberExists(tProps[#class] & "_small")>
  [295] jmpifz [314] ............................ if memberExists(tProps[#class] & "_small") then / else
  [298] getparam 1 .............................. <tProps>
  [300] pushsymb 38 ............................. <#class>
  [302] pusharglist 2 ........................... <tProps, #class>
  [304] objcall 34 .............................. <tProps[#class]>
  [306] pushcons 35 ............................. <"_small">
  [308] joinstr ................................. <tProps[#class] & "_small">
  [309] setlocal 3 .............................. tMemStr = tProps[#class] & "_small"
  [311] jmp [437]
  [314] getlocal 1 .............................. <tClass>
  [316] getparam 1 .............................. <tProps>
  [318] pushsymb 877 ............................ <#props>
  [321] pusharglist 2 ........................... <tProps, #props>
  [323] objcall 34 .............................. <tProps[#props]>
  [325] joinpadstr .............................. <tClass && tProps[#props]>
  [326] pushcons 35 ............................. <"_small">
  [328] joinstr ................................. <tClass && tProps[#props] & "_small">
  [329] pusharglist 1 ........................... <tClass && tProps[#props] & "_small">
  [331] extcall 62 .............................. <memberExists(tClass && tProps[#props] & "_small")>
  [333] jmpifz [356] ............................ if memberExists(tClass && tProps[#props] & "_small") then / else
  [336] getlocal 1 .............................. <tClass>
  [338] getparam 1 .............................. <tProps>
  [340] pushsymb 877 ............................ <#props>
  [343] pusharglist 2 ........................... <tProps, #props>
  [345] objcall 34 .............................. <tProps[#props]>
  [347] joinpadstr .............................. <tClass && tProps[#props]>
  [348] pushcons 35 ............................. <"_small">
  [350] joinstr ................................. <tClass && tProps[#props] & "_small">
  [351] setlocal 3 .............................. tMemStr = tClass && tProps[#props] & "_small"
  [353] jmp [437]
  [356] getlocal 1 .............................. <tClass>
  [358] pushcons 35 ............................. <"_small">
  [360] joinstr ................................. <tClass & "_small">
  [361] pusharglist 1 ........................... <tClass & "_small">
  [363] extcall 62 .............................. <memberExists(tClass & "_small")>
  [365] jmpifz [378] ............................ if memberExists(tClass & "_small") then / else
  [368] getlocal 1 .............................. <tClass>
  [370] pushcons 35 ............................. <"_small">
  [372] joinstr ................................. <tClass & "_small">
  [373] setlocal 3 .............................. tMemStr = tClass & "_small"
  [375] jmp [437]
  [378] pushcons 36 ............................. <"rightwall">
  [380] getlocal 1 .............................. <tClass>
  [382] joinpadstr .............................. <"rightwall" && tClass>
  [383] getparam 1 .............................. <tProps>
  [385] pushsymb 877 ............................ <#props>
  [388] pusharglist 2 ........................... <tProps, #props>
  [390] objcall 34 .............................. <tProps[#props]>
  [392] joinpadstr .............................. <"rightwall" && tClass && tProps[#props]>
  [393] pusharglist 1 ........................... <"rightwall" && tClass && tProps[#props]>
  [395] extcall 62 .............................. <memberExists("rightwall" && tClass && tProps[#props])>
  [397] jmpifz [420] ............................ if memberExists("rightwall" && tClass && tProps[#props]) then / else
  [400] pushcons 36 ............................. <"rightwall">
  [402] getlocal 1 .............................. <tClass>
  [404] joinpadstr .............................. <"rightwall" && tClass>
  [405] getparam 1 .............................. <tProps>
  [407] pushsymb 877 ............................ <#props>
  [410] pusharglist 2 ........................... <tProps, #props>
  [412] objcall 34 .............................. <tProps[#props]>
  [414] joinpadstr .............................. <"rightwall" && tClass && tProps[#props]>
  [415] setlocal 3 .............................. tMemStr = "rightwall" && tClass && tProps[#props]
  [417] jmp [437]
  [420] getparam 0 .............................. <me>
  [422] pushcons 33 ............................. <"Couldn't define member for trade item!">
  [424] pushcons 34 ............................. <RETURN>
  [426] joinstr ................................. <"Couldn't define member for trade item!" & RETURN>
  [427] getparam 1 .............................. <tProps>
  [429] joinstr ................................. <"Couldn't define member for trade item!" & RETURN & tProps>
  [430] pushsymb 1169 ........................... <#createItemImg>
  [433] pusharglistnoret 3 ...................... <me, "Couldn't define member for trade item!" & RETURN & tProps, #createItemImg>
  [435] extcall 72 .............................. error(me, "Couldn't define member for trade item!" & RETURN & tProps, #createItemImg)
  [437] pushcons 37 ............................. <"Preview_renderer">
  [439] pusharglist 1 ........................... <"Preview_renderer">
  [441] extcall 130 ............................. <getObject("Preview_renderer")>
  [443] getlocal 3 .............................. <tMemStr>
  [445] pusharglist 0 ........................... <>
  [447] extcall 30 .............................. <VOID>
  [449] getparam 1 .............................. <tProps>
  [451] pushsymb 876 ............................ <#colors>
  [454] pusharglist 2 ........................... <tProps, #colors>
  [456] objcall 34 .............................. <tProps[#colors]>
  [458] getparam 1 .............................. <tProps>
  [460] pushsymb 38 ............................. <#class>
  [462] pusharglist 2 ........................... <tProps, #class>
  [464] objcall 34 .............................. <tProps[#class]>
  [466] pusharglist 5 ........................... <getObject("Preview_renderer"), tMemStr, VOID, tProps[#colors], tProps[#class]>
  [468] objcall 1156 ............................ <getObject("Preview_renderer").renderPreviewImage(tMemStr, VOID, tProps[#colors], tProps[#class])>
  [471] setlocal 4 .............................. tImage = getObject("Preview_renderer").renderPreviewImage(tMemStr, VOID, tProps[#colors], tProps[#class])
  [473] getlocal 0 .............................. <tImgProps>
  [475] pushsymb 1200 ........................... <#maskImage>
  [478] getlocal 4 .............................. <tImage>
  [480] pusharglist 1 ........................... <tImage>
  [482] objcall 1201 ............................ <tImage.createMatte()>
  [485] pusharglistnoret 3 ...................... <tImgProps, #maskImage, tImage.createMatte()>
  [487] objcall 59 .............................. tImgProps[#maskImage] = tImage.createMatte()
  [489] getlocal 4 .............................. <tImage>
  [491] getobjprop 80 ........................... <tImage.width>
  [493] getlocal 4 .............................. <tImage>
  [495] getobjprop 81 ........................... <tImage.height>
  [497] pushint8 32 ............................. <32>
  [499] pusharglist 3 ........................... <tImage.width, tImage.height, 32>
  [501] extcall 63 .............................. <image(tImage.width, tImage.height, 32)>
  [503] setlocal 5 .............................. tNewImg = image(tImage.width, tImage.height, 32)
  [505] getlocal 5 .............................. <tNewImg>
  [507] getlocal 4 .............................. <tImage>
  [509] getlocal 4 .............................. <tImage>
  [511] getobjprop 137 .......................... <tImage.rect>
  [513] getlocal 4 .............................. <tImage>
  [515] getobjprop 137 .......................... <tImage.rect>
  [517] getlocal 0 .............................. <tImgProps>
  [519] pusharglistnoret 5 ...................... <tNewImg, tImage, tImage.rect, tImage.rect, tImgProps>
  [521] objcall 400 ............................. tNewImg.copyPixels(tImage, tImage.rect, tImage.rect, tImgProps)
  [524] getparam 0 .............................. <me>
  [526] getlocal 5 .............................. <tNewImg>
  [528] pusharglist 2 ........................... <me, tNewImg>
  [530] objcall 1170 ............................ <me.cropToFit(tNewImg)>
  [533] pusharglistnoret 1 ...................... <me.cropToFit(tNewImg)>
  [535] extcall 31 .............................. return me.cropToFit(tNewImg)
  [537] ret
end

on cropToFit me, tImage
  [  0] pushzero ................................ <0>
  [  1] pushzero ................................ <0>
  [  2] pushzero ................................ <0>
  [  3] pushzero ................................ <0>
  [  4] pusharglist 4 ........................... <0, 0, 0, 0>
  [  6] extcall 137 ............................. <rect(0, 0, 0, 0)>
  [  8] setlocal 0 .............................. tOffset = rect(0, 0, 0, 0)
  [ 10] getparam 1 .............................. <tImage>
  [ 12] getobjprop 80 ........................... <tImage.width>
  [ 14] getprop 1184 ............................ <pItemSlotRect>
  [ 17] getobjprop 80 ........................... <pItemSlotRect.width>
  [ 19] lt ...................................... <tImage.width < pItemSlotRect.width>
  [ 20] jmpifz [ 64] ............................ if tImage.width < pItemSlotRect.width then
  [ 23] getlocal 0 .............................. <tOffset>
  [ 25] pushint8 1 .............................. <1>
  [ 27] getprop 1184 ............................ <pItemSlotRect>
  [ 30] getobjprop 80 ........................... <pItemSlotRect.width>
  [ 32] getparam 1 .............................. <tImage>
  [ 34] getobjprop 80 ........................... <tImage.width>
  [ 36] sub ..................................... <pItemSlotRect.width - tImage.width>
  [ 37] pushint8 2 .............................. <2>
  [ 39] div ..................................... <(pItemSlotRect.width - tImage.width) / 2>
  [ 40] pusharglist 1 ........................... <(pItemSlotRect.width - tImage.width) / 2>
  [ 42] extcall 102 ............................. <integer((pItemSlotRect.width - tImage.width) / 2)>
  [ 44] pusharglistnoret 3 ...................... <tOffset, 1, integer((pItemSlotRect.width - tImage.width) / 2)>
  [ 46] objcall 59 .............................. tOffset[1] = integer((pItemSlotRect.width - tImage.width) / 2)
  [ 48] getlocal 0 .............................. <tOffset>
  [ 50] pushint8 3 .............................. <3>
  [ 52] getlocal 0 .............................. <tOffset>
  [ 54] pushint8 1 .............................. <1>
  [ 56] pusharglist 2 ........................... <tOffset, 1>
  [ 58] objcall 34 .............................. <tOffset[1]>
  [ 60] pusharglistnoret 3 ...................... <tOffset, 3, tOffset[1]>
  [ 62] objcall 59 .............................. tOffset[3] = tOffset[1]
  [ 64] getparam 1 .............................. <tImage>
  [ 66] getobjprop 81 ........................... <tImage.height>
  [ 68] getprop 1184 ............................ <pItemSlotRect>
  [ 71] getobjprop 81 ........................... <pItemSlotRect.height>
  [ 73] lt ...................................... <tImage.height < pItemSlotRect.height>
  [ 74] jmpifz [118] ............................ if tImage.height < pItemSlotRect.height then
  [ 77] getlocal 0 .............................. <tOffset>
  [ 79] pushint8 2 .............................. <2>
  [ 81] getprop 1184 ............................ <pItemSlotRect>
  [ 84] getobjprop 81 ........................... <pItemSlotRect.height>
  [ 86] getparam 1 .............................. <tImage>
  [ 88] getobjprop 81 ........................... <tImage.height>
  [ 90] sub ..................................... <pItemSlotRect.height - tImage.height>
  [ 91] pushint8 2 .............................. <2>
  [ 93] div ..................................... <(pItemSlotRect.height - tImage.height) / 2>
  [ 94] pusharglist 1 ........................... <(pItemSlotRect.height - tImage.height) / 2>
  [ 96] extcall 102 ............................. <integer((pItemSlotRect.height - tImage.height) / 2)>
  [ 98] pusharglistnoret 3 ...................... <tOffset, 2, integer((pItemSlotRect.height - tImage.height) / 2)>
  [100] objcall 59 .............................. tOffset[2] = integer((pItemSlotRect.height - tImage.height) / 2)
  [102] getlocal 0 .............................. <tOffset>
  [104] pushint8 4 .............................. <4>
  [106] getlocal 0 .............................. <tOffset>
  [108] pushint8 2 .............................. <2>
  [110] pusharglist 2 ........................... <tOffset, 2>
  [112] objcall 34 .............................. <tOffset[2]>
  [114] pusharglistnoret 3 ...................... <tOffset, 4, tOffset[2]>
  [116] objcall 59 .............................. tOffset[4] = tOffset[2]
  [118] getprop 1184 ............................ <pItemSlotRect>
  [121] getobjprop 80 ........................... <pItemSlotRect.width>
  [123] getprop 1184 ............................ <pItemSlotRect>
  [126] getobjprop 81 ........................... <pItemSlotRect.height>
  [128] pushint8 32 ............................. <32>
  [130] pusharglist 3 ........................... <pItemSlotRect.width, pItemSlotRect.height, 32>
  [132] extcall 63 .............................. <image(pItemSlotRect.width, pItemSlotRect.height, 32)>
  [134] setlocal 1 .............................. tNewImg = image(pItemSlotRect.width, pItemSlotRect.height, 32)
  [136] getlocal 1 .............................. <tNewImg>
  [138] getparam 1 .............................. <tImage>
  [140] getparam 1 .............................. <tImage>
  [142] getobjprop 137 .......................... <tImage.rect>
  [144] getlocal 0 .............................. <tOffset>
  [146] add ..................................... <tImage.rect + tOffset>
  [147] getparam 1 .............................. <tImage>
  [149] getobjprop 137 .......................... <tImage.rect>
  [151] pusharglistnoret 4 ...................... <tNewImg, tImage, tImage.rect + tOffset, tImage.rect>
  [153] objcall 400 ............................. tNewImg.copyPixels(tImage, tImage.rect + tOffset, tImage.rect)
  [156] getlocal 1 .............................. <tNewImg>
  [158] pusharglistnoret 1 ...................... <tNewImg>
  [160] extcall 31 .............................. return tNewImg
  [162] ret
end

on showInfo me, tText
  [  0] getprop 1175 ............................ <pState>
  [  3] pushsymb 1176 ........................... <#closed>
  [  6] eq ...................................... <pState = #closed>
  [  7] jmpifz [ 15] ............................ if pState = #closed then
  [ 10] pushzero ................................ <0>
  [ 11] pusharglistnoret 1 ...................... <0>
  [ 13] extcall 31 .............................. return 0
  [ 15] getparam 1 .............................. <tText>
  [ 17] pusharglist 1 ........................... <tText>
  [ 19] extcall 120 ............................. <voidp(tText)>
  [ 21] jmpifz [ 32] ............................ if voidp(tText) then
  [ 24] pushcons 38 ............................. <"trading_additems">
  [ 26] pusharglist 1 ........................... <"trading_additems">
  [ 28] extcall 55 .............................. <getText("trading_additems")>
  [ 30] setparam 1 .............................. tText = getText("trading_additems")
  [ 32] getprop 1177 ............................ <pTraderWndID>
  [ 35] pusharglist 1 ........................... <pTraderWndID>
  [ 37] extcall 303 ............................. <getWindow(pTraderWndID)>
  [ 40] pushcons 39 ............................. <"trading_instructions_text">
  [ 42] pusharglist 2 ........................... <getWindow(pTraderWndID), "trading_instructions_text">
  [ 44] objcall 317 ............................. <getWindow(pTraderWndID).getElement("trading_instructions_text")>
  [ 47] getparam 1 .............................. <tText>
  [ 49] pusharglist 2 ........................... <getWindow(pTraderWndID).getElement("trading_instructions_text"), tText>
  [ 51] objcall 318 ............................. <getWindow(pTraderWndID).getElement("trading_instructions_text").setText(tText)>
  [ 54] pusharglistnoret 1 ...................... <getWindow(pTraderWndID).getElement("trading_instructions_text").setText(tText)>
  [ 56] extcall 31 .............................. return getWindow(pTraderWndID).getElement("trading_instructions_text").setText(tText)
  [ 58] ret
end

on blendLockedSlots me, tBoolean
  [  0] getprop 1175 ............................ <pState>
  [  3] pushsymb 1176 ........................... <#closed>
  [  6] eq ...................................... <pState = #closed>
  [  7] jmpifz [ 15] ............................ if pState = #closed then
  [ 10] pushzero ................................ <0>
  [ 11] pusharglistnoret 1 ...................... <0>
  [ 13] extcall 31 .............................. return 0
  [ 15] getparam 1 .............................. <tBoolean>
  [ 17] jmpifz [ 86] ............................ if tBoolean then / else
  [ 20] pushint8 1 .............................. <1>
  [ 22] setlocal 0
  [ 24] getlocal 0
  [ 26] getprop 1180 ............................ <pItemListMe>
  [ 29] getobjprop 33 ........................... <pItemListMe.count>
  [ 31] lteq
  [ 32] jmpifz [ 83] ............................ repeat with i = 1 to pItemListMe.count
  [ 35] getprop 1177 ............................ <pTraderWndID>
  [ 38] pusharglist 1 ........................... <pTraderWndID>
  [ 40] extcall 303 ............................. <getWindow(pTraderWndID)>
  [ 43] pushcons 15 ............................. <"trading_mystuff_">
  [ 45] getlocal 0 .............................. <i>
  [ 47] joinstr ................................. <"trading_mystuff_" & i>
  [ 48] pusharglist 2 ........................... <getWindow(pTraderWndID), "trading_mystuff_" & i>
  [ 50] objcall 317 ............................. <getWindow(pTraderWndID).getElement("trading_mystuff_" & i)>
  [ 53] pushsymb 436 ............................ <#blend>
  [ 56] pushint8 60 ............................. <60>
  [ 58] pusharglistnoret 3 ...................... <getWindow(pTraderWndID).getElement("trading_mystuff_" & i), #blend, 60>
  [ 60] objcall 191 ............................. getWindow(pTraderWndID).getElement("trading_mystuff_" & i).setProperty(#blend, 60)
  [ 62] getlocal 0 .............................. <i>
  [ 64] getprop 1183 ............................ <pMaxTradeItms>
  [ 67] eq ...................................... <i = pMaxTradeItms>
  [ 68] jmpifz [ 74] ............................ if i = pMaxTradeItms then
  [ 71] jmp [ 83] ............................... exit repeat
  [ 74] pushint8 1
  [ 76] getlocal 0
  [ 78] add
  [ 79] setlocal 0
  [ 81] endrepeat [ 24]
  [ 83] jmp [149]
  [ 86] pushint8 1 .............................. <1>
  [ 88] setlocal 0
  [ 90] getlocal 0
  [ 92] getprop 1180 ............................ <pItemListMe>
  [ 95] getobjprop 33 ........................... <pItemListMe.count>
  [ 97] lteq
  [ 98] jmpifz [149] ............................ repeat with i = 1 to pItemListMe.count
  [101] getprop 1177 ............................ <pTraderWndID>
  [104] pusharglist 1 ........................... <pTraderWndID>
  [106] extcall 303 ............................. <getWindow(pTraderWndID)>
  [109] pushcons 15 ............................. <"trading_mystuff_">
  [111] getlocal 0 .............................. <i>
  [113] joinstr ................................. <"trading_mystuff_" & i>
  [114] pusharglist 2 ........................... <getWindow(pTraderWndID), "trading_mystuff_" & i>
  [116] objcall 317 ............................. <getWindow(pTraderWndID).getElement("trading_mystuff_" & i)>
  [119] pushsymb 436 ............................ <#blend>
  [122] pushint8 100 ............................ <100>
  [124] pusharglistnoret 3 ...................... <getWindow(pTraderWndID).getElement("trading_mystuff_" & i), #blend, 100>
  [126] objcall 191 ............................. getWindow(pTraderWndID).getElement("trading_mystuff_" & i).setProperty(#blend, 100)
  [128] getlocal 0 .............................. <i>
  [130] getprop 1183 ............................ <pMaxTradeItms>
  [133] eq ...................................... <i = pMaxTradeItms>
  [134] jmpifz [140] ............................ if i = pMaxTradeItms then
  [137] jmp [149] ............................... exit repeat
  [140] pushint8 1
  [142] getlocal 0
  [144] add
  [145] setlocal 0
  [147] endrepeat [ 90]
  [149] ret
end

on eventProcTrading me, tEvent, tSprID, tParam
  [  0] getprop 1175 ............................ <pState>
  [  3] pushsymb 1176 ........................... <#closed>
  [  6] eq ...................................... <pState = #closed>
  [  7] jmpifz [ 15] ............................ if pState = #closed then
  [ 10] pushzero ................................ <0>
  [ 11] pusharglistnoret 1 ...................... <0>
  [ 13] extcall 31 .............................. return 0
  [ 15] getparam 1 .............................. <tEvent>
  [ 17] peek 0 .................................. case tEvent of
  [ 19] pushsymb 160 ............................ <#mouseUp>
  [ 21] eq
  [ 22] jmpifz [442] ............................ (case) #mouseUp:
  [ 25] getparam 2 .............................. <tSprID>
  [ 27] peek 0 .................................. case tSprID of
  [ 29] pushcons 22 ............................. <"trading_confirm_check">
  [ 31] eq
  [ 32] jmpifz [264] ............................ (case) "trading_confirm_check":
  [ 35] getprop 1178 ............................ <pAcceptFlagMe>
  [ 38] jmpifz [ 74] ............................ if pAcceptFlagMe then / else
  [ 41] pushzero ................................ <0>
  [ 42] setprop 1178 ............................ pAcceptFlagMe = 0
  [ 45] pop 2
  [ 47] pushsymb 52 ............................. <#room>
  [ 49] pusharglist 1 ........................... <#room>
  [ 51] extcall 51 .............................. <getThread(#room)>
  [ 53] pusharglist 1 ........................... <getThread(#room)>
  [ 55] objcall 115 ............................. <getThread(#room).getComponent()>
  [ 57] pusharglist 1 ........................... <getThread(#room).getComponent()>
  [ 59] objcall 134 ............................. <getThread(#room).getComponent().getRoomConnection()>
  [ 61] pushcons 40 ............................. <"TRADE_UNACCEPT">
  [ 63] pusharglist 2 ........................... <getThread(#room).getComponent().getRoomConnection(), "TRADE_UNACCEPT">
  [ 65] objcall 135 ............................. <getThread(#room).getComponent().getRoomConnection().send("TRADE_UNACCEPT")>
  [ 67] pusharglistnoret 1 ...................... <getThread(#room).getComponent().getRoomConnection().send("TRADE_UNACCEPT")>
  [ 69] extcall 31 .............................. return getThread(#room).getComponent().getRoomConnection().send("TRADE_UNACCEPT")
  [ 71] jmp [261]
  [ 74] getprop 1186 ............................ <pHerSlotProps>
  [ 77] getobjprop 33 ........................... <pHerSlotProps.count>
  [ 79] pushzero ................................ <0>
  [ 80] eq ...................................... <pHerSlotProps.count = 0>
  [ 81] jmpifz [230] ............................ if pHerSlotProps.count = 0 then / else
  [ 84] getprop 1187 ............................ <pConfirmationWndID>
  [ 87] pusharglist 0 ........................... <>
  [ 89] extcall 30 .............................. <VOID>
  [ 91] pushzero ................................ <0>
  [ 92] pushzero ................................ <0>
  [ 93] pushsymb 460 ............................ <#modal>
  [ 96] pusharglist 5 ........................... <pConfirmationWndID, VOID, 0, 0, #modal>
  [ 98] extcall 302 ............................. <createWindow(pConfirmationWndID, VOID, 0, 0, #modal)>
  [101] not ..................................... <not createWindow(pConfirmationWndID, VOID, 0, 0, #modal)>
  [102] jmpifz [112] ............................ if not createWindow(pConfirmationWndID, VOID, 0, 0, #modal) then
  [105] pop 2
  [107] pushzero ................................ <0>
  [108] pusharglistnoret 1 ...................... <0>
  [110] extcall 31 .............................. return 0
  [112] getprop 1187 ............................ <pConfirmationWndID>
  [115] pusharglist 1 ........................... <pConfirmationWndID>
  [117] extcall 303 ............................. <getWindow(pConfirmationWndID)>
  [120] setlocal 0 .............................. tWinObj = getWindow(pConfirmationWndID)
  [122] pushcons 41 ............................. <"win_error">
  [124] pushcons 42 ............................. <"Notice!">
  [126] pusharglist 2 ........................... <"win_error", "Notice!">
  [128] extcall 55 .............................. <getText("win_error", "Notice!")>
  [130] setlocal 1 .............................. tWindowTitleStr = getText("win_error", "Notice!")
  [132] getlocal 0 .............................. <tWinObj>
  [134] pushsymb 927 ............................ <#title>
  [137] getlocal 1 .............................. <tWindowTitleStr>
  [139] pusharglistnoret 3 ...................... <tWinObj, #title, tWindowTitleStr>
  [141] objcall 191 ............................. tWinObj.setProperty(#title, tWindowTitleStr)
  [143] getlocal 0 .............................. <tWinObj>
  [145] pushcons 7 .............................. <"habbo_basic.window">
  [147] pusharglist 2 ........................... <tWinObj, "habbo_basic.window">
  [149] objcall 307 ............................. <tWinObj.merge("habbo_basic.window")>
  [152] not ..................................... <not tWinObj.merge("habbo_basic.window")>
  [153] jmpifz [169] ............................ if not tWinObj.merge("habbo_basic.window") then
  [156] pop 2
  [158] getlocal 0 .............................. <tWinObj>
  [160] pusharglist 1 ........................... <tWinObj>
  [162] objcall 440 ............................. <tWinObj.close()>
  [165] pusharglistnoret 1 ...................... <tWinObj.close()>
  [167] extcall 31 .............................. return tWinObj.close()
  [169] getlocal 0 .............................. <tWinObj>
  [171] pushcons 43 ............................. <"habbo_tradingalert_dialog.window">
  [173] pusharglist 2 ........................... <tWinObj, "habbo_tradingalert_dialog.window">
  [175] objcall 307 ............................. <tWinObj.merge("habbo_tradingalert_dialog.window")>
  [178] not ..................................... <not tWinObj.merge("habbo_tradingalert_dialog.window")>
  [179] jmpifz [195] ............................ if not tWinObj.merge("habbo_tradingalert_dialog.window") then
  [182] pop 2
  [184] getlocal 0 .............................. <tWinObj>
  [186] pusharglist 1 ........................... <tWinObj>
  [188] objcall 440 ............................. <tWinObj.close()>
  [191] pusharglistnoret 1 ...................... <tWinObj.close()>
  [193] extcall 31 .............................. return tWinObj.close()
  [195] getlocal 0 .............................. <tWinObj>
  [197] pusharglistnoret 1 ...................... <tWinObj>
  [199] objcall 381 ............................. tWinObj.center()
  [202] getlocal 0 .............................. <tWinObj>
  [204] pushsymb 1174 ........................... <#eventProcTradingConfirmation>
  [207] getparam 0 .............................. <me>
  [209] pusharglist 1 ........................... <me>
  [211] objcall 75 .............................. <me.getID()>
  [213] pushsymb 160 ............................ <#mouseUp>
  [215] pusharglistnoret 4 ...................... <tWinObj, #eventProcTradingConfirmation, me.getID(), #mouseUp>
  [217] objcall 84 .............................. tWinObj.registerProcedure(#eventProcTradingConfirmation, me.getID(), #mouseUp)
  [219] pop 2
  [221] pushint8 1 .............................. <1>
  [223] pusharglistnoret 1 ...................... <1>
  [225] extcall 31 .............................. return 1
  [227] jmp [261]
  [230] pushint8 1 .............................. <1>
  [232] setprop 1178 ............................ pAcceptFlagMe = 1
  [235] pop 2
  [237] pushsymb 52 ............................. <#room>
  [239] pusharglist 1 ........................... <#room>
  [241] extcall 51 .............................. <getThread(#room)>
  [243] pusharglist 1 ........................... <getThread(#room)>
  [245] objcall 115 ............................. <getThread(#room).getComponent()>
  [247] pusharglist 1 ........................... <getThread(#room).getComponent()>
  [249] objcall 134 ............................. <getThread(#room).getComponent().getRoomConnection()>
  [251] pushcons 44 ............................. <"TRADE_ACCEPT">
  [253] pusharglist 2 ........................... <getThread(#room).getComponent().getRoomConnection(), "TRADE_ACCEPT">
  [255] objcall 135 ............................. <getThread(#room).getComponent().getRoomConnection().send("TRADE_ACCEPT")>
  [257] pusharglistnoret 1 ...................... <getThread(#room).getComponent().getRoomConnection().send("TRADE_ACCEPT")>
  [259] extcall 31 .............................. return getThread(#room).getComponent().getRoomConnection().send("TRADE_ACCEPT")
  [261] jmp [313]
  [264] peek 0
  [266] pushcons 45 ............................. <"close">
  [268] nteq
  [269] jmpifz [280] ............................ (case) "close", ...
  [272] peek 0
  [274] pushcons 46 ............................. <"trading_cancel">
  [276] eq
  [277] jmpifz [313] ............................ (case) ..., "trading_cancel":
  [280] pushsymb 52 ............................. <#room>
  [282] pusharglist 1 ........................... <#room>
  [284] extcall 51 .............................. <getThread(#room)>
  [286] pusharglist 1 ........................... <getThread(#room)>
  [288] objcall 115 ............................. <getThread(#room).getComponent()>
  [290] pusharglist 1 ........................... <getThread(#room).getComponent()>
  [292] objcall 134 ............................. <getThread(#room).getComponent().getRoomConnection()>
  [294] pushcons 47 ............................. <"TRADE_CLOSE">
  [296] pusharglistnoret 2 ...................... <getThread(#room).getComponent().getRoomConnection(), "TRADE_CLOSE">
  [298] objcall 135 ............................. getThread(#room).getComponent().getRoomConnection().send("TRADE_CLOSE")
  [300] pop 2
  [302] getparam 0 .............................. <me>
  [304] pusharglist 1 ........................... <me>
  [306] objcall 440 ............................. <me.close()>
  [309] pusharglistnoret 1 ...................... <me.close()>
  [311] extcall 31 .............................. return me.close()
  [313] pop 1 ................................... end case
  [315] getparam 2 .............................. <tSprID>
  [317] pushcons 48 ............................. <"trading_mystuff">
  [319] containsstr ............................. <tSprID contains "trading_mystuff">
  [320] jmpifz [439] ............................ if tSprID contains "trading_mystuff" then
  [323] pushsymb 52 ............................. <#room>
  [325] pusharglist 1 ........................... <#room>
  [327] extcall 51 .............................. <getThread(#room)>
  [329] pusharglist 1 ........................... <getThread(#room)>
  [331] objcall 53 .............................. <getThread(#room).getInterface()>
  [333] pusharglist 1 ........................... <getThread(#room).getInterface()>
  [335] objcall 136 ............................. <getThread(#room).getInterface().getObjectMover()>
  [337] setlocal 2 .............................. tObjMover = getThread(#room).getInterface().getObjectMover()
  [339] getlocal 2 .............................. <tObjMover>
  [341] pusharglist 1 ........................... <tObjMover>
  [343] extcall 139 ............................. <objectp(tObjMover)>
  [345] jmpifz [439] ............................ if objectp(tObjMover) then
  [348] getlocal 2 .............................. <tObjMover>
  [350] pushsymb 1076 ........................... <#clientID>
  [353] pusharglist 2 ........................... <tObjMover, #clientID>
  [355] objcall 124 ............................. <tObjMover.getProperty(#clientID)>
  [357] setlocal 3 .............................. tClientID = tObjMover.getProperty(#clientID)
  [359] getlocal 2 .............................. <tObjMover>
  [361] pushsymb 470 ............................ <#stripId>
  [364] pusharglist 2 ........................... <tObjMover, #stripId>
  [366] objcall 124 ............................. <tObjMover.getProperty(#stripId)>
  [368] setlocal 4 .............................. tStripID = tObjMover.getProperty(#stripId)
  [370] getlocal 4 .............................. <tStripID>
  [372] pushcons 5 .............................. <EMPTY>
  [374] nteq .................................... <tStripID <> EMPTY>
  [375] jmpifz [439] ............................ if tStripID <> EMPTY then
  [378] getprop 1178 ............................ <pAcceptFlagMe>
  [381] jmpifz [404] ............................ if pAcceptFlagMe then
  [384] pushsymb 52 ............................. <#room>
  [386] pusharglist 1 ........................... <#room>
  [388] extcall 51 .............................. <getThread(#room)>
  [390] pusharglist 1 ........................... <getThread(#room)>
  [392] objcall 115 ............................. <getThread(#room).getComponent()>
  [394] pusharglist 1 ........................... <getThread(#room).getComponent()>
  [396] objcall 134 ............................. <getThread(#room).getComponent().getRoomConnection()>
  [398] pushcons 40 ............................. <"TRADE_UNACCEPT">
  [400] pusharglistnoret 2 ...................... <getThread(#room).getComponent().getRoomConnection(), "TRADE_UNACCEPT">
  [402] objcall 135 ............................. getThread(#room).getComponent().getRoomConnection().send("TRADE_UNACCEPT")
  [404] pushsymb 52 ............................. <#room>
  [406] pusharglist 1 ........................... <#room>
  [408] extcall 51 .............................. <getThread(#room)>
  [410] pusharglist 1 ........................... <getThread(#room)>
  [412] objcall 115 ............................. <getThread(#room).getComponent()>
  [414] pusharglist 1 ........................... <getThread(#room).getComponent()>
  [416] objcall 134 ............................. <getThread(#room).getComponent().getRoomConnection()>
  [418] pushcons 49 ............................. <"TRADE_ADDITEM">
  [420] getlocal 4 .............................. <tStripID>
  [422] pusharglistnoret 3 ...................... <getThread(#room).getComponent().getRoomConnection(), "TRADE_ADDITEM", tStripID>
  [424] objcall 135 ............................. getThread(#room).getComponent().getRoomConnection().send("TRADE_ADDITEM", tStripID)
  [426] pop 1
  [428] getlocal 2 .............................. <tObjMover>
  [430] pusharglist 1 ........................... <tObjMover>
  [432] objcall 465 ............................. <tObjMover.clear()>
  [435] pusharglistnoret 1 ...................... <tObjMover.clear()>
  [437] extcall 31 .............................. return tObjMover.clear()
  [439] jmp [981]
  [442] peek 0
  [444] pushsymb 86 ............................. <#mouseEnter>
  [446] eq
  [447] jmpifz [742] ............................ (case) #mouseEnter:
  [450] pushsymb 52 ............................. <#room>
  [452] pusharglist 1 ........................... <#room>
  [454] extcall 51 .............................. <getThread(#room)>
  [456] pusharglist 1 ........................... <getThread(#room)>
  [458] objcall 53 .............................. <getThread(#room).getInterface()>
  [460] pusharglist 1 ........................... <getThread(#room).getInterface()>
  [462] objcall 136 ............................. <getThread(#room).getInterface().getObjectMover()>
  [464] setlocal 2 .............................. tObjMover = getThread(#room).getInterface().getObjectMover()
  [466] getlocal 2 .............................. <tObjMover>
  [468] pushzero ................................ <0>
  [469] nteq .................................... <tObjMover <> 0>
  [470] jmpifz [480] ............................ if tObjMover <> 0 then
  [473] getlocal 2 .............................. <tObjMover>
  [475] pusharglistnoret 1 ...................... <tObjMover>
  [477] objcall 466 ............................. tObjMover.moveTrade()
  [480] getparam 2 .............................. <tSprID>
  [482] peek 0 .................................. case tSprID of
  [484] pushcons 22 ............................. <"trading_confirm_check">
  [486] eq
  [487] jmpifz [512] ............................ (case) "trading_confirm_check":
  [490] pop 2
  [492] getparam 0 .............................. <me>
  [494] pushcons 50 ............................. <"trading_youagree">
  [496] pusharglist 1 ........................... <"trading_youagree">
  [498] extcall 55 .............................. <getText("trading_youagree")>
  [500] pusharglist 2 ........................... <me, getText("trading_youagree")>
  [502] objcall 1171 ............................ <me.showInfo(getText("trading_youagree"))>
  [505] pusharglistnoret 1 ...................... <me.showInfo(getText("trading_youagree"))>
  [507] extcall 31 .............................. return me.showInfo(getText("trading_youagree"))
  [509] jmp [547]
  [512] peek 0
  [514] pushcons 45 ............................. <"close">
  [516] nteq
  [517] jmpifz [528] ............................ (case) "close", ...
  [520] peek 0
  [522] pushcons 46 ............................. <"trading_cancel">
  [524] eq
  [525] jmpifz [547] ............................ (case) ..., "trading_cancel":
  [528] pop 2
  [530] getparam 0 .............................. <me>
  [532] pushcons 46 ............................. <"trading_cancel">
  [534] pusharglist 1 ........................... <"trading_cancel">
  [536] extcall 55 .............................. <getText("trading_cancel")>
  [538] pusharglist 2 ........................... <me, getText("trading_cancel")>
  [540] objcall 1171 ............................ <me.showInfo(getText("trading_cancel"))>
  [543] pusharglistnoret 1 ...................... <me.showInfo(getText("trading_cancel"))>
  [545] extcall 31 .............................. return me.showInfo(getText("trading_cancel"))
  [547] pop 1 ................................... end case
  [549] getparam 2 .............................. <tSprID>
  [551] pushcons 48 ............................. <"trading_mystuff">
  [553] containsstr ............................. <tSprID contains "trading_mystuff">
  [554] getprop 1178 ............................ <pAcceptFlagMe>
  [557] not ..................................... <not pAcceptFlagMe>
  [558] and ..................................... <(tSprID contains "trading_mystuff") and not pAcceptFlagMe>
  [559] jmpifz [666] ............................ if (tSprID contains "trading_mystuff") and not pAcceptFlagMe then / else
  [562] getparam 2 .............................. <tSprID>
  [564] pushsymb 66 ............................. <#char>
  [566] getparam 2 .............................. <tSprID>
  [568] pusharglist 1 ........................... <tSprID>
  [570] extcall 67 .............................. <length(tSprID)>
  [572] pusharglist 3 ........................... <tSprID, #char, length(tSprID)>
  [574] objcall 68 .............................. <tSprID.char[length(tSprID)]>
  [576] pusharglist 1 ........................... <tSprID.char[length(tSprID)]>
  [578] extcall 102 ............................. <integer(tSprID.char[length(tSprID)])>
  [580] getprop 1185 ............................ <pMySlotProps>
  [583] getobjprop 33 ........................... <pMySlotProps.count>
  [585] gt ...................................... <integer(tSprID.char[length(tSprID)]) > pMySlotProps.count>
  [586] jmpifz [625] ............................ if integer(tSprID.char[length(tSprID)]) > pMySlotProps.count then / else
  [589] getprop 1177 ............................ <pTraderWndID>
  [592] pusharglist 1 ........................... <pTraderWndID>
  [594] extcall 303 ............................. <getWindow(pTraderWndID)>
  [597] getparam 2 .............................. <tSprID>
  [599] pusharglist 2 ........................... <getWindow(pTraderWndID), tSprID>
  [601] objcall 317 ............................. <getWindow(pTraderWndID).getElement(tSprID)>
  [604] pushint16 200 ........................... <200>
  [607] pushint16 200 ........................... <200>
  [610] pushint16 200 ........................... <200>
  [613] pusharglist 3 ........................... <200, 200, 200>
  [615] extcall 94 .............................. <rgb(200, 200, 200)>
  [617] pusharglistnoret 2 ...................... <getWindow(pTraderWndID).getElement(tSprID), rgb(200, 200, 200)>
  [619] objcall 1190 ............................ getWindow(pTraderWndID).getElement(tSprID).draw(rgb(200, 200, 200))
  [622] jmp [663]
  [625] getparam 0 .............................. <me>
  [627] getprop 1185 ............................ <pMySlotProps>
  [630] getparam 2 .............................. <tSprID>
  [632] pushsymb 66 ............................. <#char>
  [634] getparam 2 .............................. <tSprID>
  [636] pusharglist 1 ........................... <tSprID>
  [638] extcall 67 .............................. <length(tSprID)>
  [640] pusharglist 3 ........................... <tSprID, #char, length(tSprID)>
  [642] objcall 68 .............................. <tSprID.char[length(tSprID)]>
  [644] pusharglist 1 ........................... <tSprID.char[length(tSprID)]>
  [646] extcall 102 ............................. <integer(tSprID.char[length(tSprID)])>
  [648] pusharglist 2 ........................... <pMySlotProps, integer(tSprID.char[length(tSprID)])>
  [650] objcall 34 .............................. <pMySlotProps[integer(tSprID.char[length(tSprID)])]>
  [652] pushsymb 58 ............................. <#name>
  [654] pusharglist 2 ........................... <pMySlotProps[integer(tSprID.char[length(tSprID)])], #name>
  [656] objcall 34 .............................. <pMySlotProps[integer(tSprID.char[length(tSprID)])][#name]>
  [658] pusharglistnoret 2 ...................... <me, pMySlotProps[integer(tSprID.char[length(tSprID)])][#name]>
  [660] objcall 1171 ............................ me.showInfo(pMySlotProps[integer(tSprID.char[length(tSprID)])][#name])
  [663] jmp [739]
  [666] getparam 2 .............................. <tSprID>
  [668] pushcons 51 ............................. <"trading_herstuff">
  [670] containsstr ............................. <tSprID contains "trading_herstuff">
  [671] jmpifz [739] ............................ if tSprID contains "trading_herstuff" then
  [674] getparam 2 .............................. <tSprID>
  [676] pushsymb 66 ............................. <#char>
  [678] getparam 2 .............................. <tSprID>
  [680] pusharglist 1 ........................... <tSprID>
  [682] extcall 67 .............................. <length(tSprID)>
  [684] pusharglist 3 ........................... <tSprID, #char, length(tSprID)>
  [686] objcall 68 .............................. <tSprID.char[length(tSprID)]>
  [688] pusharglist 1 ........................... <tSprID.char[length(tSprID)]>
  [690] extcall 102 ............................. <integer(tSprID.char[length(tSprID)])>
  [692] getprop 1186 ............................ <pHerSlotProps>
  [695] getobjprop 33 ........................... <pHerSlotProps.count>
  [697] lteq .................................... <integer(tSprID.char[length(tSprID)]) <= pHerSlotProps.count>
  [698] jmpifz [739] ............................ if integer(tSprID.char[length(tSprID)]) <= pHerSlotProps.count then
  [701] getparam 0 .............................. <me>
  [703] getprop 1186 ............................ <pHerSlotProps>
  [706] getparam 2 .............................. <tSprID>
  [708] pushsymb 66 ............................. <#char>
  [710] getparam 2 .............................. <tSprID>
  [712] pusharglist 1 ........................... <tSprID>
  [714] extcall 67 .............................. <length(tSprID)>
  [716] pusharglist 3 ........................... <tSprID, #char, length(tSprID)>
  [718] objcall 68 .............................. <tSprID.char[length(tSprID)]>
  [720] pusharglist 1 ........................... <tSprID.char[length(tSprID)]>
  [722] extcall 102 ............................. <integer(tSprID.char[length(tSprID)])>
  [724] pusharglist 2 ........................... <pHerSlotProps, integer(tSprID.char[length(tSprID)])>
  [726] objcall 34 .............................. <pHerSlotProps[integer(tSprID.char[length(tSprID)])]>
  [728] pushsymb 58 ............................. <#name>
  [730] pusharglist 2 ........................... <pHerSlotProps[integer(tSprID.char[length(tSprID)])], #name>
  [732] objcall 34 .............................. <pHerSlotProps[integer(tSprID.char[length(tSprID)])][#name]>
  [734] pusharglistnoret 2 ...................... <me, pHerSlotProps[integer(tSprID.char[length(tSprID)])][#name]>
  [736] objcall 1171 ............................ me.showInfo(pHerSlotProps[integer(tSprID.char[length(tSprID)])][#name])
  [739] jmp [981]
  [742] peek 0
  [744] pushsymb 87 ............................. <#mouseLeave>
  [746] eq
  [747] jmpifz [981] ............................ (case) #mouseLeave:
  [750] getparam 2 .............................. <tSprID>
  [752] peek 0 .................................. case tSprID of
  [754] pushcons 22 ............................. <"trading_confirm_check">
  [756] eq
  [757] jmpifz [780] ............................ (case) "trading_confirm_check":
  [760] pop 2
  [762] getparam 0 .............................. <me>
  [764] pusharglist 0 ........................... <>
  [766] extcall 30 .............................. <VOID>
  [768] pusharglist 2 ........................... <me, VOID>
  [770] objcall 1171 ............................ <me.showInfo(VOID)>
  [773] pusharglistnoret 1 ...................... <me.showInfo(VOID)>
  [775] extcall 31 .............................. return me.showInfo(VOID)
  [777] jmp [813]
  [780] peek 0
  [782] pushcons 45 ............................. <"close">
  [784] nteq
  [785] jmpifz [796] ............................ (case) "close", ...
  [788] peek 0
  [790] pushcons 46 ............................. <"trading_cancel">
  [792] eq
  [793] jmpifz [813] ............................ (case) ..., "trading_cancel":
  [796] pop 2
  [798] getparam 0 .............................. <me>
  [800] pusharglist 0 ........................... <>
  [802] extcall 30 .............................. <VOID>
  [804] pusharglist 2 ........................... <me, VOID>
  [806] objcall 1171 ............................ <me.showInfo(VOID)>
  [809] pusharglistnoret 1 ...................... <me.showInfo(VOID)>
  [811] extcall 31 .............................. return me.showInfo(VOID)
  [813] pop 1 ................................... end case
  [815] getparam 2 .............................. <tSprID>
  [817] pushcons 48 ............................. <"trading_mystuff">
  [819] containsstr ............................. <tSprID contains "trading_mystuff">
  [820] getprop 1178 ............................ <pAcceptFlagMe>
  [823] not ..................................... <not pAcceptFlagMe>
  [824] and ..................................... <(tSprID contains "trading_mystuff") and not pAcceptFlagMe>
  [825] jmpifz [962] ............................ if (tSprID contains "trading_mystuff") and not pAcceptFlagMe then / else
  [828] pushsymb 52 ............................. <#room>
  [830] pusharglist 1 ........................... <#room>
  [832] extcall 51 .............................. <getThread(#room)>
  [834] pusharglist 1 ........................... <getThread(#room)>
  [836] objcall 53 .............................. <getThread(#room).getInterface()>
  [838] pusharglist 1 ........................... <getThread(#room).getInterface()>
  [840] objcall 136 ............................. <getThread(#room).getInterface().getObjectMover()>
  [842] setlocal 2 .............................. tObjMover = getThread(#room).getInterface().getObjectMover()
  [844] getlocal 2 .............................. <tObjMover>
  [846] pushzero ................................ <0>
  [847] nteq .................................... <tObjMover <> 0>
  [848] jmpifz [858] ............................ if tObjMover <> 0 then
  [851] getlocal 2 .............................. <tObjMover>
  [853] pusharglistnoret 1 ...................... <tObjMover>
  [855] objcall 466 ............................. tObjMover.moveTrade()
  [858] getparam 2 .............................. <tSprID>
  [860] pushsymb 66 ............................. <#char>
  [862] getparam 2 .............................. <tSprID>
  [864] pusharglist 1 ........................... <tSprID>
  [866] extcall 67 .............................. <length(tSprID)>
  [868] pusharglist 3 ........................... <tSprID, #char, length(tSprID)>
  [870] objcall 68 .............................. <tSprID.char[length(tSprID)]>
  [872] pusharglist 1 ........................... <tSprID.char[length(tSprID)]>
  [874] extcall 102 ............................. <integer(tSprID.char[length(tSprID)])>
  [876] getprop 1185 ............................ <pMySlotProps>
  [879] getobjprop 33 ........................... <pMySlotProps.count>
  [881] lteq .................................... <integer(tSprID.char[length(tSprID)]) <= pMySlotProps.count>
  [882] jmpifz [918] ............................ if integer(tSprID.char[length(tSprID)]) <= pMySlotProps.count then / else
  [885] getprop 1177 ............................ <pTraderWndID>
  [888] pusharglist 1 ........................... <pTraderWndID>
  [890] extcall 303 ............................. <getWindow(pTraderWndID)>
  [893] getparam 2 .............................. <tSprID>
  [895] pusharglist 2 ........................... <getWindow(pTraderWndID), tSprID>
  [897] objcall 317 ............................. <getWindow(pTraderWndID).getElement(tSprID)>
  [900] pushint8 50 ............................. <50>
  [902] pushint8 50 ............................. <50>
  [904] pushint8 50 ............................. <50>
  [906] pusharglist 3 ........................... <50, 50, 50>
  [908] extcall 94 .............................. <rgb(50, 50, 50)>
  [910] pusharglistnoret 2 ...................... <getWindow(pTraderWndID).getElement(tSprID), rgb(50, 50, 50)>
  [912] objcall 1190 ............................ getWindow(pTraderWndID).getElement(tSprID).draw(rgb(50, 50, 50))
  [915] jmp [948]
  [918] getprop 1177 ............................ <pTraderWndID>
  [921] pusharglist 1 ........................... <pTraderWndID>
  [923] extcall 303 ............................. <getWindow(pTraderWndID)>
  [926] getparam 2 .............................. <tSprID>
  [928] pusharglist 2 ........................... <getWindow(pTraderWndID), tSprID>
  [930] objcall 317 ............................. <getWindow(pTraderWndID).getElement(tSprID)>
  [933] pushint8 100 ............................ <100>
  [935] pushint8 100 ............................ <100>
  [937] pushint8 100 ............................ <100>
  [939] pusharglist 3 ........................... <100, 100, 100>
  [941] extcall 94 .............................. <rgb(100, 100, 100)>
  [943] pusharglistnoret 2 ...................... <getWindow(pTraderWndID).getElement(tSprID), rgb(100, 100, 100)>
  [945] objcall 1190 ............................ getWindow(pTraderWndID).getElement(tSprID).draw(rgb(100, 100, 100))
  [948] getparam 0 .............................. <me>
  [950] pusharglist 0 ........................... <>
  [952] extcall 30 .............................. <VOID>
  [954] pusharglistnoret 2 ...................... <me, VOID>
  [956] objcall 1171 ............................ me.showInfo(VOID)
  [959] jmp [981]
  [962] getparam 2 .............................. <tSprID>
  [964] pushcons 51 ............................. <"trading_herstuff">
  [966] containsstr ............................. <tSprID contains "trading_herstuff">
  [967] jmpifz [981] ............................ if tSprID contains "trading_herstuff" then
  [970] getparam 0 .............................. <me>
  [972] pusharglist 0 ........................... <>
  [974] extcall 30 .............................. <VOID>
  [976] pusharglistnoret 2 ...................... <me, VOID>
  [978] objcall 1171 ............................ me.showInfo(VOID)
  [981] pop 1 ................................... end case
  [983] ret
end

on eventProcTradingConfirmation me, tEvent, tElement, arg3, tWndName
  [  0] getparam 2 .............................. <tElement>
  [  2] pushcons 52 ............................. <"habbo_tradingalert_ok">
  [  4] eq ...................................... <tElement = "habbo_tradingalert_ok">
  [  5] jmpifz [ 44] ............................ if tElement = "habbo_tradingalert_ok" then / else
  [  8] pushint8 1 .............................. <1>
  [ 10] setprop 1178 ............................ pAcceptFlagMe = 1
  [ 13] getparam 4 .............................. <tWndName>
  [ 15] pusharglistnoret 1 ...................... <tWndName>
  [ 17] extcall 327 ............................. removeWindow(tWndName)
  [ 20] pushcons 53 ............................. <"connection.info.id">
  [ 22] pusharglist 1 ........................... <"connection.info.id">
  [ 24] extcall 232 ............................. <getVariable("connection.info.id")>
  [ 26] pusharglist 1 ........................... <getVariable("connection.info.id")>
  [ 28] extcall 549 ............................. <getConnection(getVariable("connection.info.id"))>
  [ 31] pushcons 44 ............................. <"TRADE_ACCEPT">
  [ 33] pusharglist 2 ........................... <getConnection(getVariable("connection.info.id")), "TRADE_ACCEPT">
  [ 35] objcall 135 ............................. <getConnection(getVariable("connection.info.id")).send("TRADE_ACCEPT")>
  [ 37] pusharglistnoret 1 ...................... <getConnection(getVariable("connection.info.id")).send("TRADE_ACCEPT")>
  [ 39] extcall 31 .............................. return getConnection(getVariable("connection.info.id")).send("TRADE_ACCEPT")
  [ 41] jmp [ 65]
  [ 44] getparam 2 .............................. <tElement>
  [ 46] pushcons 54 ............................. <"habbo_tradingalert_cancel">
  [ 48] eq ...................................... <tElement = "habbo_tradingalert_cancel">
  [ 49] jmpifz [ 65] ............................ if tElement = "habbo_tradingalert_cancel" then
  [ 52] getparam 4 .............................. <tWndName>
  [ 54] pusharglistnoret 1 ...................... <tWndName>
  [ 56] extcall 327 ............................. removeWindow(tWndName)
  [ 59] pushint8 1 .............................. <1>
  [ 61] pusharglistnoret 1 ...................... <1>
  [ 63] extcall 31 .............................. return 1
  [ 65] ret
end
