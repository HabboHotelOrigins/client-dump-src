property pHubuWndID, pTimerStart, pTimerBarHeight, pTimerBarLocY

on construct me
  [  0] pushcons 0 .............................. <"hubu_win">
  [  2] pushcons 1 .............................. <"Hubu">
  [  4] pusharglist 2 ........................... <"hubu_win", "Hubu">
  [  6] extcall 10 .............................. <getText("hubu_win", "Hubu")>
  [  8] setprop 9 ............................... pHubuWndID = getText("hubu_win", "Hubu")
  [ 10] pushint8 1 .............................. <1>
  [ 12] pusharglistnoret 1 ...................... <1>
  [ 14] extcall 11 .............................. return 1
  [ 16] ret
end

on deconstruct me
  [  0] getparam 0 .............................. <me>
  [  2] pusharglist 1 ........................... <me>
  [  4] objcall 14 .............................. <me.getID()>
  [  6] pusharglistnoret 1 ...................... <me.getID()>
  [  8] extcall 13 .............................. removeUpdate(me.getID())
  [ 10] getprop 9 ............................... <pHubuWndID>
  [ 12] pusharglist 1 ........................... <pHubuWndID>
  [ 14] extcall 15 .............................. <windowExists(pHubuWndID)>
  [ 16] jmpifz [ 25] ............................ if windowExists(pHubuWndID) then
  [ 19] getprop 9 ............................... <pHubuWndID>
  [ 21] pusharglistnoret 1 ...................... <pHubuWndID>
  [ 23] extcall 16 .............................. removeWindow(pHubuWndID)
  [ 25] pushint8 1 .............................. <1>
  [ 27] pusharglistnoret 1 ...................... <1>
  [ 29] extcall 11 .............................. return 1
  [ 31] ret
end

on showBusClosed me, tMsg
  [  0] getprop 9 ............................... <pHubuWndID>
  [  2] pusharglist 1 ........................... <pHubuWndID>
  [  4] extcall 15 .............................. <windowExists(pHubuWndID)>
  [  6] jmpifz [ 15] ............................ if windowExists(pHubuWndID) then
  [  9] getprop 9 ............................... <pHubuWndID>
  [ 11] pusharglistnoret 1 ...................... <pHubuWndID>
  [ 13] extcall 16 .............................. removeWindow(pHubuWndID)
  [ 15] getprop 9 ............................... <pHubuWndID>
  [ 17] pushcons 2 .............................. <"habbo_basic.window">
  [ 19] pusharglistnoret 2 ...................... <pHubuWndID, "habbo_basic.window">
  [ 21] extcall 17 .............................. createWindow(pHubuWndID, "habbo_basic.window")
  [ 23] getprop 9 ............................... <pHubuWndID>
  [ 25] pusharglist 1 ........................... <pHubuWndID>
  [ 27] extcall 18 .............................. <getWindow(pHubuWndID)>
  [ 29] setlocal 0 .............................. tWndObj = getWindow(pHubuWndID)
  [ 31] getlocal 0 .............................. <tWndObj>
  [ 33] pushcons 3 .............................. <"hubu_bus_notopen.window">
  [ 35] pusharglistnoret 2 ...................... <tWndObj, "hubu_bus_notopen.window">
  [ 37] objcall 19 .............................. tWndObj.merge("hubu_bus_notopen.window")
  [ 39] getlocal 0 .............................. <tWndObj>
  [ 41] getparam 0 .............................. <me>
  [ 43] pusharglist 1 ........................... <me>
  [ 45] objcall 14 .............................. <me.getID()>
  [ 47] pusharglistnoret 2 ...................... <tWndObj, me.getID()>
  [ 49] objcall 20 .............................. tWndObj.registerClient(me.getID())
  [ 51] getlocal 0 .............................. <tWndObj>
  [ 53] pushsymb 8 .............................. <#eventProcHubu>
  [ 55] getparam 0 .............................. <me>
  [ 57] pusharglist 1 ........................... <me>
  [ 59] objcall 14 .............................. <me.getID()>
  [ 61] pushsymb 21 ............................. <#mouseUp>
  [ 63] pusharglistnoret 4 ...................... <tWndObj, #eventProcHubu, me.getID(), #mouseUp>
  [ 65] objcall 22 .............................. tWndObj.registerProcedure(#eventProcHubu, me.getID(), #mouseUp)
  [ 67] getlocal 0 .............................. <tWndObj>
  [ 69] pushcons 4 .............................. <"hubunote_txt">
  [ 71] pusharglist 2 ........................... <tWndObj, "hubunote_txt">
  [ 73] objcall 23 .............................. <tWndObj.getElement("hubunote_txt")>
  [ 75] getparam 1 .............................. <tMsg>
  [ 77] pusharglistnoret 2 ...................... <tWndObj.getElement("hubunote_txt"), tMsg>
  [ 79] objcall 24 .............................. tWndObj.getElement("hubunote_txt").setText(tMsg)
  [ 81] pushcons 5 .............................. <"hubu_info_url_1">
  [ 83] pusharglist 1 ........................... <"hubu_info_url_1">
  [ 85] extcall 10 .............................. <getText("hubu_info_url_1")>
  [ 87] pushcons 6 .............................. <"http://">
  [ 89] contains0str ............................ <getText("hubu_info_url_1") starts "http://">
  [ 90] not ..................................... <not (getText("hubu_info_url_1") starts "http://")>
  [ 91] jmpifz [109] ............................ if not (getText("hubu_info_url_1") starts "http://") then
  [ 94] getlocal 0 .............................. <tWndObj>
  [ 96] pushcons 7 .............................. <"hubu_info_link1">
  [ 98] pusharglist 2 ........................... <tWndObj, "hubu_info_link1">
  [100] objcall 23 .............................. <tWndObj.getElement("hubu_info_link1")>
  [102] pushsymb 25 ............................. <#visible>
  [104] pushzero ................................ <0>
  [105] pusharglistnoret 3 ...................... <tWndObj.getElement("hubu_info_link1"), #visible, 0>
  [107] objcall 26 .............................. tWndObj.getElement("hubu_info_link1").setProperty(#visible, 0)
  [109] pushcons 8 .............................. <"hubu_info_url_2">
  [111] pusharglist 1 ........................... <"hubu_info_url_2">
  [113] extcall 10 .............................. <getText("hubu_info_url_2")>
  [115] pushcons 6 .............................. <"http://">
  [117] contains0str ............................ <getText("hubu_info_url_2") starts "http://">
  [118] not ..................................... <not (getText("hubu_info_url_2") starts "http://")>
  [119] jmpifz [137] ............................ if not (getText("hubu_info_url_2") starts "http://") then
  [122] getlocal 0 .............................. <tWndObj>
  [124] pushcons 9 .............................. <"hubu_info_link2">
  [126] pusharglist 2 ........................... <tWndObj, "hubu_info_link2">
  [128] objcall 23 .............................. <tWndObj.getElement("hubu_info_link2")>
  [130] pushsymb 25 ............................. <#visible>
  [132] pushzero ................................ <0>
  [133] pusharglistnoret 3 ...................... <tWndObj.getElement("hubu_info_link2"), #visible, 0>
  [135] objcall 26 .............................. tWndObj.getElement("hubu_info_link2").setProperty(#visible, 0)
  [137] pushint8 1 .............................. <1>
  [139] pusharglistnoret 1 ...................... <1>
  [141] extcall 11 .............................. return 1
  [143] ret
end

on hideVoteScreen
  [  0] getprop 9 ............................... <pHubuWndID>
  [  2] pusharglist 1 ........................... <pHubuWndID>
  [  4] extcall 15 .............................. <windowExists(pHubuWndID)>
  [  6] jmpifz [ 15] ............................ if windowExists(pHubuWndID) then
  [  9] getprop 9 ............................... <pHubuWndID>
  [ 11] pusharglistnoret 1 ...................... <pHubuWndID>
  [ 13] extcall 16 .............................. removeWindow(pHubuWndID)
  [ 15] ret
end

on showVoteQuestion me, tQuestion, tChoiceList
  [  0] getprop 9 ............................... <pHubuWndID>
  [  2] pusharglist 1 ........................... <pHubuWndID>
  [  4] extcall 15 .............................. <windowExists(pHubuWndID)>
  [  6] jmpifz [ 15] ............................ if windowExists(pHubuWndID) then
  [  9] getprop 9 ............................... <pHubuWndID>
  [ 11] pusharglistnoret 1 ...................... <pHubuWndID>
  [ 13] extcall 16 .............................. removeWindow(pHubuWndID)
  [ 15] getprop 9 ............................... <pHubuWndID>
  [ 17] pushcons 10 ............................. <"hubu_poll.window">
  [ 19] pusharglistnoret 2 ...................... <pHubuWndID, "hubu_poll.window">
  [ 21] extcall 17 .............................. createWindow(pHubuWndID, "hubu_poll.window")
  [ 23] getprop 9 ............................... <pHubuWndID>
  [ 25] pusharglist 1 ........................... <pHubuWndID>
  [ 27] extcall 18 .............................. <getWindow(pHubuWndID)>
  [ 29] setlocal 0 .............................. tWndObj = getWindow(pHubuWndID)
  [ 31] getlocal 0 .............................. <tWndObj>
  [ 33] pushint8 6 .............................. <6>
  [ 35] pushint16 306 ........................... <306>
  [ 38] pusharglistnoret 3 ...................... <tWndObj, 6, 306>
  [ 40] objcall 29 .............................. tWndObj.moveTo(6, 306)
  [ 42] getlocal 0 .............................. <tWndObj>
  [ 44] getparam 0 .............................. <me>
  [ 46] pusharglist 1 ........................... <me>
  [ 48] objcall 14 .............................. <me.getID()>
  [ 50] pusharglistnoret 2 ...................... <tWndObj, me.getID()>
  [ 52] objcall 20 .............................. tWndObj.registerClient(me.getID())
  [ 54] getlocal 0 .............................. <tWndObj>
  [ 56] pushsymb 8 .............................. <#eventProcHubu>
  [ 58] getparam 0 .............................. <me>
  [ 60] pusharglist 1 ........................... <me>
  [ 62] objcall 14 .............................. <me.getID()>
  [ 64] pushsymb 21 ............................. <#mouseUp>
  [ 66] pusharglistnoret 4 ...................... <tWndObj, #eventProcHubu, me.getID(), #mouseUp>
  [ 68] objcall 22 .............................. tWndObj.registerProcedure(#eventProcHubu, me.getID(), #mouseUp)
  [ 70] getlocal 0 .............................. <tWndObj>
  [ 72] pushcons 11 ............................. <"hubu_q">
  [ 74] pusharglist 2 ........................... <tWndObj, "hubu_q">
  [ 76] objcall 23 .............................. <tWndObj.getElement("hubu_q")>
  [ 78] getparam 1 .............................. <tQuestion>
  [ 80] pusharglistnoret 2 ...................... <tWndObj.getElement("hubu_q"), tQuestion>
  [ 82] objcall 24 .............................. tWndObj.getElement("hubu_q").setText(tQuestion)
  [ 84] pushint8 1 .............................. <1>
  [ 86] setlocal 1
  [ 88] getlocal 1
  [ 90] getparam 2 .............................. <tChoiceList>
  [ 92] getobjprop 30 ........................... <tChoiceList.count>
  [ 94] lteq
  [ 95] jmpifz [149] ............................ repeat with i = 1 to tChoiceList.count
  [ 98] getlocal 0 .............................. <tWndObj>
  [100] pushcons 12 ............................. <"hubu_a">
  [102] getlocal 1 .............................. <i>
  [104] joinstr ................................. <"hubu_a" & i>
  [105] pusharglist 2 ........................... <tWndObj, "hubu_a" & i>
  [107] objcall 23 .............................. <tWndObj.getElement("hubu_a" & i)>
  [109] getparam 2 .............................. <tChoiceList>
  [111] getlocal 1 .............................. <i>
  [113] pusharglist 2 ........................... <tChoiceList, i>
  [115] objcall 31 .............................. <tChoiceList[i]>
  [117] pusharglistnoret 2 ...................... <tWndObj.getElement("hubu_a" & i), tChoiceList[i]>
  [119] objcall 24 .............................. tWndObj.getElement("hubu_a" & i).setText(tChoiceList[i])
  [121] getlocal 0 .............................. <tWndObj>
  [123] pushcons 13 ............................. <"button_">
  [125] getlocal 1 .............................. <i>
  [127] joinstr ................................. <"button_" & i>
  [128] pusharglist 2 ........................... <tWndObj, "button_" & i>
  [130] objcall 23 .............................. <tWndObj.getElement("button_" & i)>
  [132] pushsymb 32 ............................. <#blend>
  [134] pushint8 100 ............................ <100>
  [136] pusharglistnoret 3 ...................... <tWndObj.getElement("button_" & i), #blend, 100>
  [138] objcall 26 .............................. tWndObj.getElement("button_" & i).setProperty(#blend, 100)
  [140] pushint8 1
  [142] getlocal 1
  [144] add
  [145] setlocal 1
  [147] endrepeat [ 88]
  [149] getmovieprop 34 ......................... <the milliSeconds>
  [151] setprop 33 .............................. pTimerStart = the milliSeconds
  [153] getlocal 0 .............................. <tWndObj>
  [155] pushcons 14 ............................. <"time_bar">
  [157] pusharglist 2 ........................... <tWndObj, "time_bar">
  [159] objcall 23 .............................. <tWndObj.getElement("time_bar")>
  [161] pushsymb 36 ............................. <#height>
  [163] pusharglist 2 ........................... <tWndObj.getElement("time_bar"), #height>
  [165] objcall 37 .............................. <tWndObj.getElement("time_bar").getProperty(#height)>
  [167] setprop 35 .............................. pTimerBarHeight = tWndObj.getElement("time_bar").getProperty(#height)
  [169] getlocal 0 .............................. <tWndObj>
  [171] pushcons 14 ............................. <"time_bar">
  [173] pusharglist 2 ........................... <tWndObj, "time_bar">
  [175] objcall 23 .............................. <tWndObj.getElement("time_bar")>
  [177] pushsymb 39 ............................. <#locY>
  [179] pusharglist 2 ........................... <tWndObj.getElement("time_bar"), #locY>
  [181] objcall 37 .............................. <tWndObj.getElement("time_bar").getProperty(#locY)>
  [183] setprop 38 .............................. pTimerBarLocY = tWndObj.getElement("time_bar").getProperty(#locY)
  [185] getparam 0 .............................. <me>
  [187] pusharglist 1 ........................... <me>
  [189] objcall 14 .............................. <me.getID()>
  [191] pusharglistnoret 1 ...................... <me.getID()>
  [193] extcall 40 .............................. receiveUpdate(me.getID())
  [195] pushint8 1 .............................. <1>
  [197] pusharglistnoret 1 ...................... <1>
  [199] extcall 11 .............................. return 1
  [201] ret
end

on showVoteWait me
  [  0] getprop 9 ............................... <pHubuWndID>
  [  2] pusharglist 1 ........................... <pHubuWndID>
  [  4] extcall 18 .............................. <getWindow(pHubuWndID)>
  [  6] setlocal 0 .............................. tWndObj = getWindow(pHubuWndID)
  [  8] pushint8 1 .............................. <1>
  [ 10] setlocal 1
  [ 12] getlocal 1
  [ 14] pushint8 6 .............................. <6>
  [ 16] lteq
  [ 17] jmpifz [ 48] ............................ repeat with i = 1 to 6
  [ 20] getlocal 0 .............................. <tWndObj>
  [ 22] pushcons 13 ............................. <"button_">
  [ 24] getlocal 1 .............................. <i>
  [ 26] joinstr ................................. <"button_" & i>
  [ 27] pusharglist 2 ........................... <tWndObj, "button_" & i>
  [ 29] objcall 23 .............................. <tWndObj.getElement("button_" & i)>
  [ 31] pushsymb 32 ............................. <#blend>
  [ 33] pushint8 50 ............................. <50>
  [ 35] pusharglistnoret 3 ...................... <tWndObj.getElement("button_" & i), #blend, 50>
  [ 37] objcall 26 .............................. tWndObj.getElement("button_" & i).setProperty(#blend, 50)
  [ 39] pushint8 1
  [ 41] getlocal 1
  [ 43] add
  [ 44] setlocal 1
  [ 46] endrepeat [ 12]
  [ 48] pushint8 1 .............................. <1>
  [ 50] pusharglistnoret 1 ...................... <1>
  [ 52] extcall 11 .............................. return 1
  [ 54] ret
end

on showVoteResults me, tTotalVotes, tVoteResults
  [  0] getparam 0 .............................. <me>
  [  2] pusharglist 1 ........................... <me>
  [  4] objcall 14 .............................. <me.getID()>
  [  6] pusharglistnoret 1 ...................... <me.getID()>
  [  8] extcall 13 .............................. removeUpdate(me.getID())
  [ 10] getprop 9 ............................... <pHubuWndID>
  [ 12] pusharglist 1 ........................... <pHubuWndID>
  [ 14] extcall 15 .............................. <windowExists(pHubuWndID)>
  [ 16] not ..................................... <not windowExists(pHubuWndID)>
  [ 17] jmpifz [ 34] ............................ if not windowExists(pHubuWndID) then
  [ 20] getparam 0 .............................. <me>
  [ 22] pushcons 15 ............................. <"Vote window is closed!">
  [ 24] pushsymb 6 .............................. <#showVoteResults>
  [ 26] pusharglist 3 ........................... <me, "Vote window is closed!", #showVoteResults>
  [ 28] extcall 44 .............................. <error(me, "Vote window is closed!", #showVoteResults)>
  [ 30] pusharglistnoret 1 ...................... <error(me, "Vote window is closed!", #showVoteResults)>
  [ 32] extcall 11 .............................. return error(me, "Vote window is closed!", #showVoteResults)
  [ 34] getprop 9 ............................... <pHubuWndID>
  [ 36] pusharglist 1 ........................... <pHubuWndID>
  [ 38] extcall 18 .............................. <getWindow(pHubuWndID)>
  [ 40] setlocal 0 .............................. tWndObj = getWindow(pHubuWndID)
  [ 42] getlocal 0 .............................. <tWndObj>
  [ 44] pushcons 11 ............................. <"hubu_q">
  [ 46] pusharglist 2 ........................... <tWndObj, "hubu_q">
  [ 48] objcall 23 .............................. <tWndObj.getElement("hubu_q")>
  [ 50] pusharglist 1 ........................... <tWndObj.getElement("hubu_q")>
  [ 52] objcall 10 .............................. <tWndObj.getElement("hubu_q").getText()>
  [ 54] setlocal 1 .............................. tCurrentQuestionText = tWndObj.getElement("hubu_q").getText()
  [ 56] getlocal 0 .............................. <tWndObj>
  [ 58] pushcons 11 ............................. <"hubu_q">
  [ 60] pusharglist 2 ........................... <tWndObj, "hubu_q">
  [ 62] objcall 23 .............................. <tWndObj.getElement("hubu_q")>
  [ 64] pushcons 16 ............................. <"(">
  [ 66] getparam 1 .............................. <tTotalVotes>
  [ 68] joinstr ................................. <"(" & tTotalVotes>
  [ 69] pushcons 17 ............................. <" Votes) ">
  [ 71] joinstr ................................. <"(" & tTotalVotes & " Votes) ">
  [ 72] getlocal 1 .............................. <tCurrentQuestionText>
  [ 74] joinstr ................................. <"(" & tTotalVotes & " Votes) " & tCurrentQuestionText>
  [ 75] pusharglistnoret 2 ...................... <tWndObj.getElement("hubu_q"), "(" & tTotalVotes & " Votes) " & tCurrentQuestionText>
  [ 77] objcall 24 .............................. tWndObj.getElement("hubu_q").setText("(" & tTotalVotes & " Votes) " & tCurrentQuestionText)
  [ 79] getlocal 0 .............................. <tWndObj>
  [ 81] pushcons 18 ............................. <"time_bar_bg">
  [ 83] pusharglist 2 ........................... <tWndObj, "time_bar_bg">
  [ 85] objcall 23 .............................. <tWndObj.getElement("time_bar_bg")>
  [ 87] pusharglistnoret 1 ...................... <tWndObj.getElement("time_bar_bg")>
  [ 89] objcall 45 .............................. tWndObj.getElement("time_bar_bg").hide()
  [ 91] getlocal 0 .............................. <tWndObj>
  [ 93] pushcons 14 ............................. <"time_bar">
  [ 95] pusharglist 2 ........................... <tWndObj, "time_bar">
  [ 97] objcall 23 .............................. <tWndObj.getElement("time_bar")>
  [ 99] pusharglistnoret 1 ...................... <tWndObj.getElement("time_bar")>
  [101] objcall 45 .............................. tWndObj.getElement("time_bar").hide()
  [103] getlocal 0 .............................. <tWndObj>
  [105] pushcons 19 ............................. <"hubu_time">
  [107] pusharglist 2 ........................... <tWndObj, "hubu_time">
  [109] objcall 23 .............................. <tWndObj.getElement("hubu_time")>
  [111] pusharglistnoret 1 ...................... <tWndObj.getElement("hubu_time")>
  [113] objcall 45 .............................. tWndObj.getElement("hubu_time").hide()
  [115] getlocal 0 .............................. <tWndObj>
  [117] pushcons 20 ............................. <"hubu_statusbar">
  [119] pusharglist 2 ........................... <tWndObj, "hubu_statusbar">
  [121] objcall 23 .............................. <tWndObj.getElement("hubu_statusbar")>
  [123] pushcons 21 ............................. <EMPTY>
  [125] pusharglistnoret 2 ...................... <tWndObj.getElement("hubu_statusbar"), EMPTY>
  [127] objcall 24 .............................. tWndObj.getElement("hubu_statusbar").setText(EMPTY)
  [129] pushint8 1 .............................. <1>
  [131] setlocal 2
  [133] getlocal 2
  [135] getparam 2 .............................. <tVoteResults>
  [137] getobjprop 30 ........................... <tVoteResults.count>
  [139] lteq
  [140] jmpifz [426] ............................ repeat with i = 1 to tVoteResults.count
  [143] getparam 2 .............................. <tVoteResults>
  [145] getlocal 2 .............................. <i>
  [147] pusharglist 2 ........................... <tVoteResults, i>
  [149] objcall 31 .............................. <tVoteResults[i]>
  [151] setlocal 3 .............................. tVoteCount = tVoteResults[i]
  [153] getparam 1 .............................. <tTotalVotes>
  [155] pushzero ................................ <0>
  [156] gt ...................................... <tTotalVotes > 0>
  [157] jmpifz [197] ............................ if tTotalVotes > 0 then / else
  [160] getlocal 3 .............................. <tVoteCount>
  [162] getparam 1 .............................. <tTotalVotes>
  [164] div ..................................... <tVoteCount / tTotalVotes>
  [165] pushint8 100 ............................ <100>
  [167] mul ..................................... <tVoteCount / tTotalVotes * 100>
  [168] setlocal 4 .............................. tPercentage = tVoteCount / tTotalVotes * 100
  [170] getlocal 4 .............................. <tPercentage>
  [172] pushint8 100 ............................ <100>
  [174] mul ..................................... <tPercentage * 100>
  [175] pushfloat32 0.5 ......................... <0.5>
  [180] add ..................................... <(tPercentage * 100) + 0.5>
  [181] pusharglist 1 ........................... <(tPercentage * 100) + 0.5>
  [183] extcall 47 .............................. <integer((tPercentage * 100) + 0.5)>
  [185] pusharglist 1 ........................... <integer((tPercentage * 100) + 0.5)>
  [187] extcall 46 .............................. <float(integer((tPercentage * 100) + 0.5))>
  [189] pushint8 100 ............................ <100>
  [191] div ..................................... <float(integer((tPercentage * 100) + 0.5)) / 100>
  [192] setlocal 4 .............................. tPercentage = float(integer((tPercentage * 100) + 0.5)) / 100
  [194] jmp [200]
  [197] pushzero ................................ <0>
  [198] setlocal 4 .............................. tPercentage = 0
  [200] getlocal 4 .............................. <tPercentage>
  [202] pusharglist 1 ........................... <tPercentage>
  [204] extcall 48 .............................. <string(tPercentage)>
  [206] setlocal 5 .............................. tPercentageStr = string(tPercentage)
  [208] pushcons 22 ............................. <".">
  [210] getlocal 5 .............................. <tPercentageStr>
  [212] pusharglist 2 ........................... <".", tPercentageStr>
  [214] extcall 49 .............................. <offset(".", tPercentageStr)>
  [216] setlocal 6 .............................. tDotPosition = offset(".", tPercentageStr)
  [218] getlocal 6 .............................. <tDotPosition>
  [220] pushzero ................................ <0>
  [221] eq ...................................... <tDotPosition = 0>
  [222] jmpifz [235] ............................ if tDotPosition = 0 then / else
  [225] getlocal 5 .............................. <tPercentageStr>
  [227] pushcons 23 ............................. <".00">
  [229] joinstr ................................. <tPercentageStr & ".00">
  [230] setlocal 5 .............................. tPercentageStr = tPercentageStr & ".00"
  [232] jmp [261]
  [235] getlocal 5 .............................. <tPercentageStr>
  [237] pusharglist 1 ........................... <tPercentageStr>
  [239] extcall 50 .............................. <length(tPercentageStr)>
  [241] getlocal 6 .............................. <tDotPosition>
  [243] sub ..................................... <length(tPercentageStr) - tDotPosition>
  [244] setlocal 7 .............................. tDecimals = length(tPercentageStr) - tDotPosition
  [246] getlocal 7 .............................. <tDecimals>
  [248] pushint8 2 .............................. <2>
  [250] lt ...................................... <tDecimals < 2>
  [251] jmpifz [261] ............................ if tDecimals < 2 then
  [254] getlocal 5 .............................. <tPercentageStr>
  [256] pushcons 24 ............................. <"0">
  [258] joinstr ................................. <tPercentageStr & "0">
  [259] setlocal 5 .............................. tPercentageStr = tPercentageStr & "0"
  [261] getlocal 4 .............................. <tPercentage>
  [263] pusharglist 1 ........................... <tPercentage>
  [265] extcall 47 .............................. <integer(tPercentage)>
  [267] pusharglist 1 ........................... <integer(tPercentage)>
  [269] extcall 48 .............................. <string(integer(tPercentage))>
  [271] pushcons 25 ............................. <"%">
  [273] joinstr ................................. <string(integer(tPercentage)) & "%">
  [274] pushcons 16 ............................. <"(">
  [276] joinpadstr .............................. <string(integer(tPercentage)) & "%" && "(">
  [277] getlocal 3 .............................. <tVoteCount>
  [279] pusharglist 1 ........................... <tVoteCount>
  [281] extcall 48 .............................. <string(tVoteCount)>
  [283] joinstr ................................. <string(integer(tPercentage)) & "%" && "(" & string(tVoteCount)>
  [284] pushcons 26 ............................. <")">
  [286] joinstr ................................. <string(integer(tPercentage)) & "%" && "(" & string(tVoteCount) & ")">
  [287] setlocal 8 .............................. tDisplayText = string(integer(tPercentage)) & "%" && "(" & string(tVoteCount) & ")"
  [289] getlocal 0 .............................. <tWndObj>
  [291] pushcons 27 ............................. <"hubu_res_">
  [293] getlocal 2 .............................. <i>
  [295] joinstr ................................. <"hubu_res_" & i>
  [296] pusharglist 2 ........................... <tWndObj, "hubu_res_" & i>
  [298] objcall 23 .............................. <tWndObj.getElement("hubu_res_" & i)>
  [300] pushsymb 32 ............................. <#blend>
  [302] pushint8 100 ............................ <100>
  [304] pusharglistnoret 3 ...................... <tWndObj.getElement("hubu_res_" & i), #blend, 100>
  [306] objcall 26 .............................. tWndObj.getElement("hubu_res_" & i).setProperty(#blend, 100)
  [308] getlocal 0 .............................. <tWndObj>
  [310] pushcons 27 ............................. <"hubu_res_">
  [312] getlocal 2 .............................. <i>
  [314] joinstr ................................. <"hubu_res_" & i>
  [315] pusharglist 2 ........................... <tWndObj, "hubu_res_" & i>
  [317] objcall 23 .............................. <tWndObj.getElement("hubu_res_" & i)>
  [319] getlocal 8 .............................. <tDisplayText>
  [321] pusharglistnoret 2 ...................... <tWndObj.getElement("hubu_res_" & i), tDisplayText>
  [323] objcall 24 .............................. tWndObj.getElement("hubu_res_" & i).setText(tDisplayText)
  [325] getlocal 0 .............................. <tWndObj>
  [327] pushcons 28 ............................. <"hubu_answ_">
  [329] getlocal 2 .............................. <i>
  [331] joinstr ................................. <"hubu_answ_" & i>
  [332] pusharglist 2 ........................... <tWndObj, "hubu_answ_" & i>
  [334] objcall 23 .............................. <tWndObj.getElement("hubu_answ_" & i)>
  [336] pushsymb 51 ............................. <#width>
  [338] pusharglist 2 ........................... <tWndObj.getElement("hubu_answ_" & i), #width>
  [340] objcall 37 .............................. <tWndObj.getElement("hubu_answ_" & i).getProperty(#width)>
  [342] setlocal 9 .............................. tW = tWndObj.getElement("hubu_answ_" & i).getProperty(#width)
  [344] getparam 1 .............................. <tTotalVotes>
  [346] pushzero ................................ <0>
  [347] gt ...................................... <tTotalVotes > 0>
  [348] jmpifz [379] ............................ if tTotalVotes > 0 then / else
  [351] getlocal 0 .............................. <tWndObj>
  [353] pushcons 28 ............................. <"hubu_answ_">
  [355] getlocal 2 .............................. <i>
  [357] joinstr ................................. <"hubu_answ_" & i>
  [358] pusharglist 2 ........................... <tWndObj, "hubu_answ_" & i>
  [360] objcall 23 .............................. <tWndObj.getElement("hubu_answ_" & i)>
  [362] pushsymb 51 ............................. <#width>
  [364] getlocal 9 .............................. <tW>
  [366] getlocal 4 .............................. <tPercentage>
  [368] mul ..................................... <tW * tPercentage>
  [369] pushint8 100 ............................ <100>
  [371] div ..................................... <tW * tPercentage / 100>
  [372] pusharglistnoret 3 ...................... <tWndObj.getElement("hubu_answ_" & i), #width, tW * tPercentage / 100>
  [374] objcall 26 .............................. tWndObj.getElement("hubu_answ_" & i).setProperty(#width, tW * tPercentage / 100)
  [376] jmp [397]
  [379] getlocal 0 .............................. <tWndObj>
  [381] pushcons 28 ............................. <"hubu_answ_">
  [383] getlocal 2 .............................. <i>
  [385] joinstr ................................. <"hubu_answ_" & i>
  [386] pusharglist 2 ........................... <tWndObj, "hubu_answ_" & i>
  [388] objcall 23 .............................. <tWndObj.getElement("hubu_answ_" & i)>
  [390] pushsymb 51 ............................. <#width>
  [392] pushzero ................................ <0>
  [393] pusharglistnoret 3 ...................... <tWndObj.getElement("hubu_answ_" & i), #width, 0>
  [395] objcall 26 .............................. tWndObj.getElement("hubu_answ_" & i).setProperty(#width, 0)
  [397] getlocal 0 .............................. <tWndObj>
  [399] pushcons 28 ............................. <"hubu_answ_">
  [401] getlocal 2 .............................. <i>
  [403] joinstr ................................. <"hubu_answ_" & i>
  [404] pusharglist 2 ........................... <tWndObj, "hubu_answ_" & i>
  [406] objcall 23 .............................. <tWndObj.getElement("hubu_answ_" & i)>
  [408] pushsymb 32 ............................. <#blend>
  [410] pushint8 100 ............................ <100>
  [412] pusharglistnoret 3 ...................... <tWndObj.getElement("hubu_answ_" & i), #blend, 100>
  [414] objcall 26 .............................. tWndObj.getElement("hubu_answ_" & i).setProperty(#blend, 100)
  [416] pushint8 1
  [418] getlocal 2
  [420] add
  [421] setlocal 2
  [423] endrepeat [133]
  [426] pushint8 1 .............................. <1>
  [428] pusharglistnoret 1 ...................... <1>
  [430] extcall 11 .............................. return 1
  [432] ret
end

on update me
  [  0] getprop 9 ............................... <pHubuWndID>
  [  2] pusharglist 1 ........................... <pHubuWndID>
  [  4] extcall 18 .............................. <getWindow(pHubuWndID)>
  [  6] setlocal 0 .............................. tWndObj = getWindow(pHubuWndID)
  [  8] getlocal 0 .............................. <tWndObj>
  [ 10] pushzero ................................ <0>
  [ 11] eq ...................................... <tWndObj = 0>
  [ 12] jmpifz [ 29] ............................ if tWndObj = 0 then
  [ 15] getparam 0 .............................. <me>
  [ 17] pusharglist 1 ........................... <me>
  [ 19] objcall 14 .............................. <me.getID()>
  [ 21] pusharglist 1 ........................... <me.getID()>
  [ 23] extcall 13 .............................. <removeUpdate(me.getID())>
  [ 25] pusharglistnoret 1 ...................... <removeUpdate(me.getID())>
  [ 27] extcall 11 .............................. return removeUpdate(me.getID())
  [ 29] getmovieprop 34 ......................... <the milliSeconds>
  [ 31] getprop 33 .............................. <pTimerStart>
  [ 33] sub ..................................... <the milliSeconds - pTimerStart>
  [ 34] pusharglist 1 ........................... <the milliSeconds - pTimerStart>
  [ 36] extcall 46 .............................. <float(the milliSeconds - pTimerStart)>
  [ 38] pushfloat32 30000.0 ..................... <30000.0>
  [ 43] div ..................................... <float(the milliSeconds - pTimerStart) / 30000.0>
  [ 44] setlocal 1 .............................. tTime = float(the milliSeconds - pTimerStart) / 30000.0
  [ 46] getlocal 1 .............................. <tTime>
  [ 48] pushfloat32 1.0 ......................... <1.0>
  [ 53] gt ...................................... <tTime > 1.0>
  [ 54] jmpifz [ 64] ............................ if tTime > 1.0 then
  [ 57] pushfloat32 1.0 ......................... <1.0>
  [ 62] setlocal 1 .............................. tTime = 1.0
  [ 64] pushint8 30 ............................. <30>
  [ 66] getmovieprop 34 ......................... <the milliSeconds>
  [ 68] getprop 33 .............................. <pTimerStart>
  [ 70] sub ..................................... <the milliSeconds - pTimerStart>
  [ 71] pusharglist 1 ........................... <the milliSeconds - pTimerStart>
  [ 73] extcall 46 .............................. <float(the milliSeconds - pTimerStart)>
  [ 75] pushcons 29 ............................. <0.001>
  [ 77] mul ..................................... <float(the milliSeconds - pTimerStart) * 0.001>
  [ 78] sub ..................................... <30 - (float(the milliSeconds - pTimerStart) * 0.001)>
  [ 79] pusharglist 1 ........................... <30 - (float(the milliSeconds - pTimerStart) * 0.001)>
  [ 81] extcall 47 .............................. <integer(30 - (float(the milliSeconds - pTimerStart) * 0.001))>
  [ 83] setlocal 2 .............................. tSecsLeft = integer(30 - (float(the milliSeconds - pTimerStart) * 0.001))
  [ 85] getlocal 2 .............................. <tSecsLeft>
  [ 87] pushzero ................................ <0>
  [ 88] lt ...................................... <tSecsLeft < 0>
  [ 89] jmpifz [ 95] ............................ if tSecsLeft < 0 then
  [ 92] pushzero ................................ <0>
  [ 93] setlocal 2 .............................. tSecsLeft = 0
  [ 95] pushint8 1 .............................. <1>
  [ 97] getprop 35 .............................. <pTimerBarHeight>
  [ 99] mul ..................................... <1 * pTimerBarHeight>
  [100] setlocal 3 .............................. tNewHeight = 1 * pTimerBarHeight
  [102] getlocal 3 .............................. <tNewHeight>
  [104] pushzero ................................ <0>
  [105] lt ...................................... <tNewHeight < 0>
  [106] jmpifz [112] ............................ if tNewHeight < 0 then
  [109] pushzero ................................ <0>
  [110] setlocal 3 .............................. tNewHeight = 0
  [112] getlocal 0 .............................. <tWndObj>
  [114] pushcons 19 ............................. <"hubu_time">
  [116] pusharglist 2 ........................... <tWndObj, "hubu_time">
  [118] objcall 23 .............................. <tWndObj.getElement("hubu_time")>
  [120] pusharglistnoret 1 ...................... <tWndObj.getElement("hubu_time")>
  [122] objcall 45 .............................. tWndObj.getElement("hubu_time").hide()
  [124] getlocal 0 .............................. <tWndObj>
  [126] pushcons 20 ............................. <"hubu_statusbar">
  [128] pusharglist 2 ........................... <tWndObj, "hubu_statusbar">
  [130] objcall 23 .............................. <tWndObj.getElement("hubu_statusbar")>
  [132] pushcons 21 ............................. <EMPTY>
  [134] pusharglistnoret 2 ...................... <tWndObj.getElement("hubu_statusbar"), EMPTY>
  [136] objcall 24 .............................. tWndObj.getElement("hubu_statusbar").setText(EMPTY)
  [138] getlocal 0 .............................. <tWndObj>
  [140] pushcons 14 ............................. <"time_bar">
  [142] pusharglist 2 ........................... <tWndObj, "time_bar">
  [144] objcall 23 .............................. <tWndObj.getElement("time_bar")>
  [146] pushsymb 36 ............................. <#height>
  [148] getlocal 3 .............................. <tNewHeight>
  [150] pusharglistnoret 3 ...................... <tWndObj.getElement("time_bar"), #height, tNewHeight>
  [152] objcall 26 .............................. tWndObj.getElement("time_bar").setProperty(#height, tNewHeight)
  [154] getlocal 0 .............................. <tWndObj>
  [156] pushcons 14 ............................. <"time_bar">
  [158] pusharglist 2 ........................... <tWndObj, "time_bar">
  [160] objcall 23 .............................. <tWndObj.getElement("time_bar")>
  [162] pushsymb 39 ............................. <#locY>
  [164] getprop 38 .............................. <pTimerBarLocY>
  [166] getprop 35 .............................. <pTimerBarHeight>
  [168] add ..................................... <pTimerBarLocY + pTimerBarHeight>
  [169] getlocal 3 .............................. <tNewHeight>
  [171] sub ..................................... <pTimerBarLocY + pTimerBarHeight - tNewHeight>
  [172] pusharglistnoret 3 ...................... <tWndObj.getElement("time_bar"), #locY, pTimerBarLocY + pTimerBarHeight - tNewHeight>
  [174] objcall 26 .............................. tWndObj.getElement("time_bar").setProperty(#locY, pTimerBarLocY + pTimerBarHeight - tNewHeight)
  [176] ret
end

on eventProcHubu me, tEvent, tSprID, tParam
  [  0] getparam 1 .............................. <tEvent>
  [  2] pushsymb 21 ............................. <#mouseUp>
  [  4] nteq .................................... <tEvent <> #mouseUp>
  [  5] jmpifz [ 13] ............................ if tEvent <> #mouseUp then
  [  8] pushzero ................................ <0>
  [  9] pusharglistnoret 1 ...................... <0>
  [ 11] extcall 11 .............................. return 0
  [ 13] getparam 2 .............................. <tSprID>
  [ 15] pushcons 30 ............................. <"close">
  [ 17] eq ...................................... <tSprID = "close">
  [ 18] jmpifz [ 34] ............................ if tSprID = "close" then / else
  [ 21] getprop 9 ............................... <pHubuWndID>
  [ 23] pusharglist 1 ........................... <pHubuWndID>
  [ 25] extcall 16 .............................. <removeWindow(pHubuWndID)>
  [ 27] pusharglistnoret 1 ...................... <removeWindow(pHubuWndID)>
  [ 29] extcall 11 .............................. return removeWindow(pHubuWndID)
  [ 31] jmp [148]
  [ 34] getparam 2 .............................. <tSprID>
  [ 36] pushcons 7 .............................. <"hubu_info_link1">
  [ 38] eq ...................................... <tSprID = "hubu_info_link1">
  [ 39] jmpifz [ 55] ............................ if tSprID = "hubu_info_link1" then / else
  [ 42] pushcons 5 .............................. <"hubu_info_url_1">
  [ 44] pusharglist 1 ........................... <"hubu_info_url_1">
  [ 46] extcall 10 .............................. <getText("hubu_info_url_1")>
  [ 48] pusharglistnoret 1 ...................... <getText("hubu_info_url_1")>
  [ 50] extcall 65 .............................. openNetPage(getText("hubu_info_url_1"))
  [ 52] jmp [148]
  [ 55] getparam 2 .............................. <tSprID>
  [ 57] pushcons 9 .............................. <"hubu_info_link2">
  [ 59] eq ...................................... <tSprID = "hubu_info_link2">
  [ 60] jmpifz [ 76] ............................ if tSprID = "hubu_info_link2" then / else
  [ 63] pushcons 8 .............................. <"hubu_info_url_2">
  [ 65] pusharglist 1 ........................... <"hubu_info_url_2">
  [ 67] extcall 10 .............................. <getText("hubu_info_url_2")>
  [ 69] pusharglistnoret 1 ...................... <getText("hubu_info_url_2")>
  [ 71] extcall 65 .............................. openNetPage(getText("hubu_info_url_2"))
  [ 73] jmp [148]
  [ 76] getparam 2 .............................. <tSprID>
  [ 78] pushcons 13 ............................. <"button_">
  [ 80] containsstr ............................. <tSprID contains "button_">
  [ 81] jmpifz [148] ............................ if tSprID contains "button_" then
  [ 84] getprop 9 ............................... <pHubuWndID>
  [ 86] pusharglist 1 ........................... <pHubuWndID>
  [ 88] extcall 18 .............................. <getWindow(pHubuWndID)>
  [ 90] getparam 2 .............................. <tSprID>
  [ 92] pusharglist 2 ........................... <getWindow(pHubuWndID), tSprID>
  [ 94] objcall 23 .............................. <getWindow(pHubuWndID).getElement(tSprID)>
  [ 96] pushsymb 32 ............................. <#blend>
  [ 98] pusharglist 2 ........................... <getWindow(pHubuWndID).getElement(tSprID), #blend>
  [100] objcall 37 .............................. <getWindow(pHubuWndID).getElement(tSprID).getProperty(#blend)>
  [102] pushint8 100 ............................ <100>
  [104] eq ...................................... <getWindow(pHubuWndID).getElement(tSprID).getProperty(#blend) = 100>
  [105] jmpifz [148] ............................ if getWindow(pHubuWndID).getElement(tSprID).getProperty(#blend) = 100 then
  [108] getparam 0 .............................. <me>
  [110] pusharglistnoret 1 ...................... <me>
  [112] objcall 5 ............................... me.showVoteWait()
  [114] pushsymb 67 ............................. <#room>
  [116] pusharglist 1 ........................... <#room>
  [118] extcall 66 .............................. <getThread(#room)>
  [120] pusharglist 1 ........................... <getThread(#room)>
  [122] objcall 68 .............................. <getThread(#room).getComponent()>
  [124] pusharglist 1 ........................... <getThread(#room).getComponent()>
  [126] objcall 69 .............................. <getThread(#room).getComponent().getRoomConnection()>
  [128] pushcons 31 ............................. <"VOTE">
  [130] getparam 2 .............................. <tSprID>
  [132] pushsymb 70 ............................. <#char>
  [134] getparam 2 .............................. <tSprID>
  [136] pusharglist 1 ........................... <tSprID>
  [138] extcall 50 .............................. <length(tSprID)>
  [140] pusharglist 3 ........................... <tSprID, #char, length(tSprID)>
  [142] objcall 71 .............................. <tSprID.char[length(tSprID)]>
  [144] pusharglistnoret 3 ...................... <getThread(#room).getComponent().getRoomConnection(), "VOTE", tSprID.char[length(tSprID)]>
  [146] objcall 72 .............................. getThread(#room).getComponent().getRoomConnection().send("VOTE", tSprID.char[length(tSprID)])
  [148] ret
end
