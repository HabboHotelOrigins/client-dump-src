property pWindowTitle, pVoucherWindowTitle, pVoucherInputState, pOpenWindow, pPageView, pPages, pPageList, pPurseWriterID, pPageLineHeight, pPurseBigTextWriterID, pPurseBigTextWriter2ID, pItemObjList, pClickURL, pAdMemNum, pFrameCounter, pQuad, pAnimImage, pState, pValueField, pDataReceived

on construct me
  [  0] pushcons 0 .............................. <"win_purse">
  [  2] pushcons 1 .............................. <"Habbo Purse">
  [  4] pusharglist 2 ........................... <"win_purse", "Habbo Purse">
  [  6] extcall 27 .............................. <getText("win_purse", "Habbo Purse")>
  [  8] setprop 26 .............................. pWindowTitle = getText("win_purse", "Habbo Purse")
  [ 10] pushcons 2 .............................. <"win_voucher">
  [ 12] pushcons 3 .............................. <"Habbo Credit Code">
  [ 14] pusharglist 2 ........................... <"win_voucher", "Habbo Credit Code">
  [ 16] extcall 27 .............................. <getText("win_voucher", "Habbo Credit Code")>
  [ 18] setprop 28 .............................. pVoucherWindowTitle = getText("win_voucher", "Habbo Credit Code")
  [ 20] pushint8 1 .............................. <1>
  [ 22] setprop 29 .............................. pVoucherInputState = 1
  [ 24] pushint8 1 .............................. <1>
  [ 26] setprop 30 .............................. pPageView = 1
  [ 28] pushint8 20 ............................. <20>
  [ 30] setprop 31 .............................. pPageLineHeight = 20
  [ 32] pusharglist 0 ........................... <[]>
  [ 34] pushlist ................................ <[]>
  [ 35] setprop 32 .............................. pPageList = []
  [ 37] pushcons 4 .............................. <"purse_writer_id">
  [ 39] setprop 33 .............................. pPurseWriterID = "purse_writer_id"
  [ 41] pushcons 5 .............................. <"purse_writer_big_text_id">
  [ 43] setprop 35 .............................. pPurseBigTextWriterID = "purse_writer_big_text_id"
  [ 45] pushcons 6 .............................. <"purse_writer_big_text_id2">
  [ 47] setprop 36 .............................. pPurseBigTextWriter2ID = "purse_writer_big_text_id2"
  [ 49] pusharglist 0 ........................... <[]>
  [ 51] pushlist ................................ <[]>
  [ 52] setprop 37 .............................. pItemObjList = []
  [ 54] pushzero ................................ <0>
  [ 55] setprop 38 .............................. pFrameCounter = 0
  [ 57] pushzero ................................ <0>
  [ 58] setprop 39 .............................. pDataReceived = 0
  [ 60] pushcons 7 .............................. <"struct.font.plain">
  [ 62] pusharglist 1 ........................... <"struct.font.plain">
  [ 64] extcall 40 .............................. <getStructVariable("struct.font.plain")>
  [ 66] setlocal 0 .............................. tPlain = getStructVariable("struct.font.plain")
  [ 68] pushcons 8 .............................. <"struct.font.bold">
  [ 70] pusharglist 1 ........................... <"struct.font.bold">
  [ 72] extcall 40 .............................. <getStructVariable("struct.font.bold")>
  [ 74] setlocal 1 .............................. tBold = getStructVariable("struct.font.bold")
  [ 76] pushcons 9 .............................. <"struct.font.link">
  [ 78] pusharglist 1 ........................... <"struct.font.link">
  [ 80] extcall 40 .............................. <getStructVariable("struct.font.link")>
  [ 82] setlocal 2 .............................. tLink = getStructVariable("struct.font.link")
  [ 84] pushsymb 41 ............................. <#font>
  [ 86] getlocal 0 .............................. <tPlain>
  [ 88] pushsymb 41 ............................. <#font>
  [ 90] pusharglist 2 ........................... <tPlain, #font>
  [ 92] objcall 42 .............................. <tPlain.getaProp(#font)>
  [ 94] pushsymb 43 ............................. <#fontStyle>
  [ 96] getlocal 0 .............................. <tPlain>
  [ 98] pushsymb 43 ............................. <#fontStyle>
  [100] pusharglist 2 ........................... <tPlain, #fontStyle>
  [102] objcall 42 .............................. <tPlain.getaProp(#fontStyle)>
  [104] pushsymb 44 ............................. <#color>
  [106] pushcons 10 ............................. <"#000000">
  [108] pusharglist 1 ........................... <"#000000">
  [110] extcall 45 .............................. <rgb("#000000")>
  [112] pusharglist 6 ........................... <[#font: tPlain.getaProp(#font), #fontStyle: tPlain.getaProp(#fontStyle), #color: rgb("#000000")]>
  [114] pushproplist ............................ <[#font: tPlain.getaProp(#font), #fontStyle: tPlain.getaProp(#fontStyle), #color: rgb("#000000")]>
  [115] setlocal 3 .............................. tMetrics = [#font: tPlain.getaProp(#font), #fontStyle: tPlain.getaProp(#fontStyle), #color: rgb("#000000")]
  [117] getprop 33 .............................. <pPurseWriterID>
  [119] getlocal 3 .............................. <tMetrics>
  [121] pusharglistnoret 2 ...................... <pPurseWriterID, tMetrics>
  [123] extcall 46 .............................. createWriter(pPurseWriterID, tMetrics)
  [125] pushsymb 41 ............................. <#font>
  [127] getlocal 1 .............................. <tBold>
  [129] pushsymb 41 ............................. <#font>
  [131] pusharglist 2 ........................... <tBold, #font>
  [133] objcall 42 .............................. <tBold.getaProp(#font)>
  [135] pushsymb 43 ............................. <#fontStyle>
  [137] getlocal 0 .............................. <tPlain>
  [139] pushsymb 43 ............................. <#fontStyle>
  [141] pusharglist 2 ........................... <tPlain, #fontStyle>
  [143] objcall 42 .............................. <tPlain.getaProp(#fontStyle)>
  [145] pushsymb 44 ............................. <#color>
  [147] pushcons 11 ............................. <"#EEEEEE">
  [149] pusharglist 1 ........................... <"#EEEEEE">
  [151] extcall 45 .............................. <rgb("#EEEEEE")>
  [153] pushsymb 47 ............................. <#bgColor>
  [155] pushcons 12 ............................. <"#AF8349">
  [157] pusharglist 1 ........................... <"#AF8349">
  [159] extcall 45 .............................. <rgb("#AF8349")>
  [161] pushsymb 48 ............................. <#fontSize>
  [163] pushint8 18 ............................. <18>
  [165] pushsymb 49 ............................. <#topSpacing>
  [167] pushint8 3 .............................. <3>
  [169] pushsymb 50 ............................. <#fixedLineSpace>
  [171] pushint8 25 ............................. <25>
  [173] pusharglist 14 .......................... <[#font: tBold.getaProp(#font), #fontStyle: tPlain.getaProp(#fontStyle), #color: rgb("#EEEEEE"), #bgColor: rgb("#AF8349"), #fontSize: 18, #topSpacing: 3, #fixedLineSpace: 25]>
  [175] pushproplist ............................ <[#font: tBold.getaProp(#font), #fontStyle: tPlain.getaProp(#fontStyle), #color: rgb("#EEEEEE"), #bgColor: rgb("#AF8349"), #fontSize: 18, #topSpacing: 3, #fixedLineSpace: 25]>
  [176] setlocal 3 .............................. tMetrics = [#font: tBold.getaProp(#font), #fontStyle: tPlain.getaProp(#fontStyle), #color: rgb("#EEEEEE"), #bgColor: rgb("#AF8349"), #fontSize: 18, #topSpacing: 3, #fixedLineSpace: 25]
  [178] getprop 35 .............................. <pPurseBigTextWriterID>
  [180] getlocal 3 .............................. <tMetrics>
  [182] pusharglistnoret 2 ...................... <pPurseBigTextWriterID, tMetrics>
  [184] extcall 46 .............................. createWriter(pPurseBigTextWriterID, tMetrics)
  [186] pushsymb 41 ............................. <#font>
  [188] getlocal 1 .............................. <tBold>
  [190] pushsymb 41 ............................. <#font>
  [192] pusharglist 2 ........................... <tBold, #font>
  [194] objcall 42 .............................. <tBold.getaProp(#font)>
  [196] pushsymb 43 ............................. <#fontStyle>
  [198] getlocal 0 .............................. <tPlain>
  [200] pushsymb 43 ............................. <#fontStyle>
  [202] pusharglist 2 ........................... <tPlain, #fontStyle>
  [204] objcall 42 .............................. <tPlain.getaProp(#fontStyle)>
  [206] pushsymb 44 ............................. <#color>
  [208] pushcons 10 ............................. <"#000000">
  [210] pusharglist 1 ........................... <"#000000">
  [212] extcall 45 .............................. <rgb("#000000")>
  [214] pushsymb 47 ............................. <#bgColor>
  [216] pushcons 13 ............................. <"#6E6E6E">
  [218] pusharglist 1 ........................... <"#6E6E6E">
  [220] extcall 45 .............................. <rgb("#6E6E6E")>
  [222] pushsymb 48 ............................. <#fontSize>
  [224] pushint8 18 ............................. <18>
  [226] pushsymb 49 ............................. <#topSpacing>
  [228] pushint8 3 .............................. <3>
  [230] pushsymb 50 ............................. <#fixedLineSpace>
  [232] pushint8 21 ............................. <21>
  [234] pusharglist 14 .......................... <[#font: tBold.getaProp(#font), #fontStyle: tPlain.getaProp(#fontStyle), #color: rgb("#000000"), #bgColor: rgb("#6E6E6E"), #fontSize: 18, #topSpacing: 3, #fixedLineSpace: 21]>
  [236] pushproplist ............................ <[#font: tBold.getaProp(#font), #fontStyle: tPlain.getaProp(#fontStyle), #color: rgb("#000000"), #bgColor: rgb("#6E6E6E"), #fontSize: 18, #topSpacing: 3, #fixedLineSpace: 21]>
  [237] setlocal 3 .............................. tMetrics = [#font: tBold.getaProp(#font), #fontStyle: tPlain.getaProp(#fontStyle), #color: rgb("#000000"), #bgColor: rgb("#6E6E6E"), #fontSize: 18, #topSpacing: 3, #fixedLineSpace: 21]
  [239] getprop 36 .............................. <pPurseBigTextWriter2ID>
  [241] getlocal 3 .............................. <tMetrics>
  [243] pusharglistnoret 2 ...................... <pPurseBigTextWriter2ID, tMetrics>
  [245] extcall 46 .............................. createWriter(pPurseBigTextWriter2ID, tMetrics)
  [247] pushcons 14 ............................. <"purse_ad_url">
  [249] pusharglist 1 ........................... <"purse_ad_url">
  [251] extcall 51 .............................. <textExists("purse_ad_url")>
  [253] jmpifz [290] ............................ if textExists("purse_ad_url") then
  [256] pushcons 15 ............................. <"purse_Click_url">
  [258] pusharglist 0 ........................... <>
  [260] extcall 52 .............................. <VOID>
  [262] pusharglist 2 ........................... <"purse_Click_url", VOID>
  [264] extcall 27 .............................. <getText("purse_Click_url", VOID)>
  [266] setlocal 4 .............................. tClickURL = getText("purse_Click_url", VOID)
  [268] pushcons 14 ............................. <"purse_ad_url">
  [270] pusharglist 0 ........................... <>
  [272] extcall 52 .............................. <VOID>
  [274] pusharglist 2 ........................... <"purse_ad_url", VOID>
  [276] extcall 27 .............................. <getText("purse_ad_url", VOID)>
  [278] setlocal 5 .............................. tAdURL = getText("purse_ad_url", VOID)
  [280] getparam 0 .............................. <me>
  [282] getlocal 5 .............................. <tAdURL>
  [284] getlocal 4 .............................. <tClickURL>
  [286] pusharglistnoret 3 ...................... <me, tAdURL, tClickURL>
  [288] objcall 14 .............................. me.getPurseAd(tAdURL, tClickURL)
  [290] pushcons 16 ............................. <"purse.transactions.active">
  [292] pusharglist 1 ........................... <"purse.transactions.active">
  [294] extcall 53 .............................. <variableExists("purse.transactions.active")>
  [296] jmpifz [324] ............................ if variableExists("purse.transactions.active") then / else
  [299] pushcons 16 ............................. <"purse.transactions.active">
  [301] pusharglist 1 ........................... <"purse.transactions.active">
  [303] extcall 54 .............................. <getVariable("purse.transactions.active")>
  [305] setlocal 6 .............................. tActive = getVariable("purse.transactions.active")
  [307] pushsymb 56 ............................. <#session>
  [309] pusharglist 1 ........................... <#session>
  [311] extcall 55 .............................. <getObject(#session)>
  [313] pushcons 17 ............................. <"purse_transactions">
  [315] getlocal 6 .............................. <tActive>
  [317] pusharglistnoret 3 ...................... <getObject(#session), "purse_transactions", tActive>
  [319] objcall 57 .............................. getObject(#session).set("purse_transactions", tActive)
  [321] jmp [338]
  [324] pushsymb 56 ............................. <#session>
  [326] pusharglist 1 ........................... <#session>
  [328] extcall 55 .............................. <getObject(#session)>
  [330] pushcons 17 ............................. <"purse_transactions">
  [332] pushint8 1 .............................. <1>
  [334] pusharglistnoret 3 ...................... <getObject(#session), "purse_transactions", 1>
  [336] objcall 57 .............................. getObject(#session).set("purse_transactions", 1)
  [338] pushcons 18 ............................. <"purse.valuefield.active">
  [340] pusharglist 1 ........................... <"purse.valuefield.active">
  [342] extcall 53 .............................. <variableExists("purse.valuefield.active")>
  [344] jmpifz [358] ............................ if variableExists("purse.valuefield.active") then / else
  [347] pushcons 18 ............................. <"purse.valuefield.active">
  [349] pusharglist 1 ........................... <"purse.valuefield.active">
  [351] extcall 54 .............................. <getVariable("purse.valuefield.active")>
  [353] setprop 58 .............................. pValueField = getVariable("purse.valuefield.active")
  [355] jmp [361]
  [358] pushzero ................................ <0>
  [359] setprop 58 .............................. pValueField = 0
  [361] pushsymb 60 ............................. <#updateFilmCount>
  [363] getparam 0 .............................. <me>
  [365] pusharglist 1 ........................... <me>
  [367] objcall 61 .............................. <me.getID()>
  [369] pushsymb 24 ............................. <#updatePurseFilm>
  [371] pusharglistnoret 3 ...................... <#updateFilmCount, me.getID(), #updatePurseFilm>
  [373] extcall 59 .............................. registerMessage(#updateFilmCount, me.getID(), #updatePurseFilm)
  [375] pushint8 1 .............................. <1>
  [377] pusharglistnoret 1 ...................... <1>
  [379] extcall 62 .............................. return 1
  [381] ret
end

on deconstruct me
  [  0] pushsymb 60 ............................. <#updateFilmCount>
  [  2] getparam 0 .............................. <me>
  [  4] pusharglist 1 ........................... <me>
  [  6] objcall 61 .............................. <me.getID()>
  [  8] pusharglistnoret 2 ...................... <#updateFilmCount, me.getID()>
  [ 10] extcall 71 .............................. unregisterMessage(#updateFilmCount, me.getID())
  [ 12] getparam 0 .............................. <me>
  [ 14] pusharglist 1 ........................... <me>
  [ 16] objcall 61 .............................. <me.getID()>
  [ 18] pusharglistnoret 1 ...................... <me.getID()>
  [ 20] extcall 72 .............................. removeUpdate(me.getID())
  [ 22] getprop 26 .............................. <pWindowTitle>
  [ 24] pusharglistnoret 1 ...................... <pWindowTitle>
  [ 26] extcall 73 .............................. removeWindow(pWindowTitle)
  [ 28] getprop 28 .............................. <pVoucherWindowTitle>
  [ 30] pusharglistnoret 1 ...................... <pVoucherWindowTitle>
  [ 32] extcall 73 .............................. removeWindow(pVoucherWindowTitle)
  [ 34] getprop 33 .............................. <pPurseWriterID>
  [ 36] pusharglistnoret 1 ...................... <pPurseWriterID>
  [ 38] extcall 74 .............................. removeWriter(pPurseWriterID)
  [ 40] pushcons 19 ............................. <"flyTimer">
  [ 42] pusharglist 1 ........................... <"flyTimer">
  [ 44] extcall 75 .............................. <timeoutExists("flyTimer")>
  [ 46] jmpifz [ 55] ............................ if timeoutExists("flyTimer") then
  [ 49] pushcons 19 ............................. <"flyTimer">
  [ 51] pusharglistnoret 1 ...................... <"flyTimer">
  [ 53] extcall 76 .............................. removeTimeout("flyTimer")
  [ 55] pushint8 1 .............................. <1>
  [ 57] pusharglistnoret 1 ...................... <1>
  [ 59] extcall 62 .............................. return 1
  [ 61] ret
end

on showHidePurse me, tHideOrRemove
  [  0] getprop 26 .............................. <pWindowTitle>
  [  2] pusharglist 1 ........................... <pWindowTitle>
  [  4] extcall 77 .............................. <windowExists(pWindowTitle)>
  [  6] jmpifz [ 18] ............................ if windowExists(pWindowTitle) then / else
  [  9] getparam 0 .............................. <me>
  [ 11] pusharglistnoret 1 ...................... <me>
  [ 13] objcall 4 ............................... me.hidePurse()
  [ 15] jmp [ 24]
  [ 18] getparam 0 .............................. <me>
  [ 20] pusharglistnoret 1 ...................... <me>
  [ 22] objcall 3 ............................... me.showPurse()
  [ 24] ret
end

on showPurse me
  [  0] getprop 26 .............................. <pWindowTitle>
  [  2] pusharglist 1 ........................... <pWindowTitle>
  [  4] extcall 77 .............................. <windowExists(pWindowTitle)>
  [  6] not ..................................... <not windowExists(pWindowTitle)>
  [  7] jmpifz [ 27] ............................ if not windowExists(pWindowTitle) then / else
  [ 10] getparam 0 .............................. <me>
  [ 12] pushcons 20 ............................. <"purse.window">
  [ 14] pusharglistnoret 2 ...................... <me, "purse.window">
  [ 16] objcall 16 .............................. me.changePurseWindowView("purse.window")
  [ 18] pushint8 1 .............................. <1>
  [ 20] pusharglistnoret 1 ...................... <1>
  [ 22] extcall 62 .............................. return 1
  [ 24] jmp [ 32]
  [ 27] pushzero ................................ <0>
  [ 28] pusharglistnoret 1 ...................... <0>
  [ 30] extcall 62 .............................. return 0
  [ 32] ret
end

on hidePurse me, tHideOrRemove
  [  0] getparam 1 .............................. <tHideOrRemove>
  [  2] pusharglist 1 ........................... <tHideOrRemove>
  [  4] extcall 79 .............................. <voidp(tHideOrRemove)>
  [  6] jmpifz [ 13] ............................ if voidp(tHideOrRemove) then
  [  9] pushsymb 80 ............................. <#Remove>
  [ 11] setparam 1 .............................. tHideOrRemove = #Remove
  [ 13] getprop 26 .............................. <pWindowTitle>
  [ 15] pusharglist 1 ........................... <pWindowTitle>
  [ 17] extcall 77 .............................. <windowExists(pWindowTitle)>
  [ 19] jmpifz [ 49] ............................ if windowExists(pWindowTitle) then
  [ 22] getparam 1 .............................. <tHideOrRemove>
  [ 24] pushsymb 80 ............................. <#Remove>
  [ 26] eq ...................................... <tHideOrRemove = #Remove>
  [ 27] jmpifz [ 39] ............................ if tHideOrRemove = #Remove then / else
  [ 30] getprop 26 .............................. <pWindowTitle>
  [ 32] pusharglistnoret 1 ...................... <pWindowTitle>
  [ 34] extcall 73 .............................. removeWindow(pWindowTitle)
  [ 36] jmp [ 49]
  [ 39] getprop 26 .............................. <pWindowTitle>
  [ 41] pusharglist 1 ........................... <pWindowTitle>
  [ 43] extcall 81 .............................. <getWindow(pWindowTitle)>
  [ 45] pusharglistnoret 1 ...................... <getWindow(pWindowTitle)>
  [ 47] objcall 82 .............................. getWindow(pWindowTitle).hide()
  [ 49] pushcons 19 ............................. <"flyTimer">
  [ 51] pusharglist 1 ........................... <"flyTimer">
  [ 53] extcall 75 .............................. <timeoutExists("flyTimer")>
  [ 55] jmpifz [ 64] ............................ if timeoutExists("flyTimer") then
  [ 58] pushcons 19 ............................. <"flyTimer">
  [ 60] pusharglistnoret 1 ...................... <"flyTimer">
  [ 62] extcall 76 .............................. removeTimeout("flyTimer")
  [ 64] pushint8 1 .............................. <1>
  [ 66] pusharglistnoret 1 ...................... <1>
  [ 68] extcall 62 .............................. return 1
  [ 70] ret
end

on showPurseLoader me, tdata
  [  0] getprop 26 .............................. <pWindowTitle>
  [  2] pusharglist 1 ........................... <pWindowTitle>
  [  4] extcall 81 .............................. <getWindow(pWindowTitle)>
  [  6] setlocal 0 .............................. tWndObj = getWindow(pWindowTitle)
  [  8] getlocal 0 .............................. <tWndObj>
  [ 10] pushcons 21 ............................. <"loading_bg">
  [ 12] pusharglist 2 ........................... <tWndObj, "loading_bg">
  [ 14] objcall 83 .............................. <tWndObj.getElement("loading_bg")>
  [ 16] setlocal 1 .............................. tBg = tWndObj.getElement("loading_bg")
  [ 18] getlocal 0 .............................. <tWndObj>
  [ 20] pushcons 22 ............................. <"loading_anim">
  [ 22] pusharglist 2 ........................... <tWndObj, "loading_anim">
  [ 24] objcall 83 .............................. <tWndObj.getElement("loading_anim")>
  [ 26] setlocal 2 .............................. tAnim = tWndObj.getElement("loading_anim")
  [ 28] getlocal 0 .............................. <tWndObj>
  [ 30] pushcons 23 ............................. <"loading">
  [ 32] pusharglist 2 ........................... <tWndObj, "loading">
  [ 34] objcall 83 .............................. <tWndObj.getElement("loading")>
  [ 36] setlocal 3 .............................. tText = tWndObj.getElement("loading")
  [ 38] getlocal 0 .............................. <tWndObj>
  [ 40] pushcons 24 ............................. <"taction_prev">
  [ 42] pusharglist 2 ........................... <tWndObj, "taction_prev">
  [ 44] objcall 83 .............................. <tWndObj.getElement("taction_prev")>
  [ 46] setlocal 4 .............................. tPrev = tWndObj.getElement("taction_prev")
  [ 48] getlocal 0 .............................. <tWndObj>
  [ 50] pushcons 25 ............................. <"taction_pages">
  [ 52] pusharglist 2 ........................... <tWndObj, "taction_pages">
  [ 54] objcall 83 .............................. <tWndObj.getElement("taction_pages")>
  [ 56] setlocal 5 .............................. tPages = tWndObj.getElement("taction_pages")
  [ 58] getlocal 0 .............................. <tWndObj>
  [ 60] pushcons 26 ............................. <"taction_next">
  [ 62] pusharglist 2 ........................... <tWndObj, "taction_next">
  [ 64] objcall 83 .............................. <tWndObj.getElement("taction_next")>
  [ 66] setlocal 6 .............................. tNext = tWndObj.getElement("taction_next")
  [ 68] getparam 1 .............................. <tdata>
  [ 70] peek 0 .................................. case tdata of
  [ 72] pushzero ................................ <0>
  [ 73] eq
  [ 74] jmpifz [120] ............................ (case) 0:
  [ 77] getlocal 1 .............................. <tBg>
  [ 79] pushsymb 84 ............................. <#blend>
  [ 81] pushzero ................................ <0>
  [ 82] pusharglistnoret 3 ...................... <tBg, #blend, 0>
  [ 84] objcall 85 .............................. tBg.setProperty(#blend, 0)
  [ 86] getlocal 2 .............................. <tAnim>
  [ 88] pushsymb 84 ............................. <#blend>
  [ 90] pushzero ................................ <0>
  [ 91] pusharglistnoret 3 ...................... <tAnim, #blend, 0>
  [ 93] objcall 85 .............................. tAnim.setProperty(#blend, 0)
  [ 95] getlocal 3 .............................. <tText>
  [ 97] pushsymb 84 ............................. <#blend>
  [ 99] pushzero ................................ <0>
  [100] pusharglistnoret 3 ...................... <tText, #blend, 0>
  [102] objcall 85 .............................. tText.setProperty(#blend, 0)
  [104] getparam 0 .............................. <me>
  [106] pusharglist 1 ........................... <me>
  [108] objcall 61 .............................. <me.getID()>
  [110] pusharglistnoret 1 ...................... <me.getID()>
  [112] extcall 72 .............................. removeUpdate(me.getID())
  [114] pushzero ................................ <0>
  [115] setprop 86 .............................. pState = 0
  [117] jmp [195]
  [120] peek 0
  [122] pushint8 1 .............................. <1>
  [124] eq
  [125] jmpifz [195] ............................ (case) 1:
  [128] getlocal 1 .............................. <tBg>
  [130] pushsymb 84 ............................. <#blend>
  [132] pushint8 90 ............................. <90>
  [134] pusharglistnoret 3 ...................... <tBg, #blend, 90>
  [136] objcall 85 .............................. tBg.setProperty(#blend, 90)
  [138] getlocal 2 .............................. <tAnim>
  [140] pushsymb 84 ............................. <#blend>
  [142] pushint8 100 ............................ <100>
  [144] pusharglistnoret 3 ...................... <tAnim, #blend, 100>
  [146] objcall 85 .............................. tAnim.setProperty(#blend, 100)
  [148] getlocal 3 .............................. <tText>
  [150] pushsymb 84 ............................. <#blend>
  [152] pushint8 100 ............................ <100>
  [154] pusharglistnoret 3 ...................... <tText, #blend, 100>
  [156] objcall 85 .............................. tText.setProperty(#blend, 100)
  [158] getlocal 4 .............................. <tPrev>
  [160] pushsymb 84 ............................. <#blend>
  [162] pushzero ................................ <0>
  [163] pusharglistnoret 3 ...................... <tPrev, #blend, 0>
  [165] objcall 85 .............................. tPrev.setProperty(#blend, 0)
  [167] getlocal 5 .............................. <tPages>
  [169] pushsymb 84 ............................. <#blend>
  [171] pushzero ................................ <0>
  [172] pusharglistnoret 3 ...................... <tPages, #blend, 0>
  [174] objcall 85 .............................. tPages.setProperty(#blend, 0)
  [176] getlocal 6 .............................. <tNext>
  [178] pushsymb 84 ............................. <#blend>
  [180] pushzero ................................ <0>
  [181] pusharglistnoret 3 ...................... <tNext, #blend, 0>
  [183] objcall 85 .............................. tNext.setProperty(#blend, 0)
  [185] getparam 0 .............................. <me>
  [187] pusharglistnoret 1 ...................... <me>
  [189] objcall 6 ............................... me.showLoading()
  [191] pushint8 1 .............................. <1>
  [193] setprop 86 .............................. pState = 1
  [195] pop 1 ................................... end case
  [197] ret
end

on showLoading me
  [  0] getprop 26 .............................. <pWindowTitle>
  [  2] pusharglist 1 ........................... <pWindowTitle>
  [  4] extcall 81 .............................. <getWindow(pWindowTitle)>
  [  6] setlocal 0 .............................. tWndObj = getWindow(pWindowTitle)
  [  8] getlocal 0 .............................. <tWndObj>
  [ 10] not ..................................... <not tWndObj>
  [ 11] jmpifz [ 19] ............................ if not tWndObj then
  [ 14] pushzero ................................ <0>
  [ 15] pusharglistnoret 1 ...................... <0>
  [ 17] extcall 62 .............................. return 0
  [ 19] getlocal 0 .............................. <tWndObj>
  [ 21] pushcons 22 ............................. <"loading_anim">
  [ 23] pusharglist 2 ........................... <tWndObj, "loading_anim">
  [ 25] objcall 95 .............................. <tWndObj.elementExists("loading_anim")>
  [ 27] jmpifz [ 85] ............................ if tWndObj.elementExists("loading_anim") then
  [ 30] pushcons 27 ............................. <"loading_icon">
  [ 32] pusharglist 1 ........................... <"loading_icon">
  [ 34] extcall 98 .............................. <getmemnum("loading_icon")>
  [ 36] pusharglist 1 ........................... <getmemnum("loading_icon")>
  [ 38] extcall 97 .............................. <member(getmemnum("loading_icon"))>
  [ 40] getobjprop 99 ........................... <member(getmemnum("loading_icon")).image>
  [ 42] setprop 96 .............................. pAnimImage = member(getmemnum("loading_icon")).image
  [ 44] pushzero ................................ <0>
  [ 45] pushzero ................................ <0>
  [ 46] pusharglist 2 ........................... <0, 0>
  [ 48] extcall 101 ............................. <point(0, 0)>
  [ 50] getprop 96 .............................. <pAnimImage>
  [ 52] getobjprop 102 .......................... <pAnimImage.width>
  [ 54] pushzero ................................ <0>
  [ 55] pusharglist 2 ........................... <pAnimImage.width, 0>
  [ 57] extcall 101 ............................. <point(pAnimImage.width, 0)>
  [ 59] getprop 96 .............................. <pAnimImage>
  [ 61] getobjprop 102 .......................... <pAnimImage.width>
  [ 63] getprop 96 .............................. <pAnimImage>
  [ 65] getobjprop 103 .......................... <pAnimImage.height>
  [ 67] pusharglist 2 ........................... <pAnimImage.width, pAnimImage.height>
  [ 69] extcall 101 ............................. <point(pAnimImage.width, pAnimImage.height)>
  [ 71] pushzero ................................ <0>
  [ 72] getprop 96 .............................. <pAnimImage>
  [ 74] getobjprop 103 .......................... <pAnimImage.height>
  [ 76] pusharglist 2 ........................... <0, pAnimImage.height>
  [ 78] extcall 101 ............................. <point(0, pAnimImage.height)>
  [ 80] pusharglist 4 ........................... <[point(0, 0), point(pAnimImage.width, 0), point(pAnimImage.width, pAnimImage.height), point(0, pAnimImage.height)]>
  [ 82] pushlist ................................ <[point(0, 0), point(pAnimImage.width, 0), point(pAnimImage.width, pAnimImage.height), point(0, pAnimImage.height)]>
  [ 83] setprop 100 ............................. pQuad = [point(0, 0), point(pAnimImage.width, 0), point(pAnimImage.width, pAnimImage.height), point(0, pAnimImage.height)]
  [ 85] getparam 0 .............................. <me>
  [ 87] pusharglistnoret 1 ...................... <me>
  [ 89] localcall 10 ............................ update(me)
  [ 91] getparam 0 .............................. <me>
  [ 93] pusharglist 1 ........................... <me>
  [ 95] objcall 61 .............................. <me.getID()>
  [ 97] pusharglistnoret 1 ...................... <me.getID()>
  [ 99] extcall 104 ............................. receiveUpdate(me.getID())
  [101] ret
end

on setVoucherInput me, tstate
  [  0] getparam 1 .............................. <tstate>
  [  2] setprop 29 .............................. pVoucherInputState = tstate
  [  4] getprop 28 .............................. <pVoucherWindowTitle>
  [  6] pusharglist 1 ........................... <pVoucherWindowTitle>
  [  8] extcall 77 .............................. <windowExists(pVoucherWindowTitle)>
  [ 10] not ..................................... <not windowExists(pVoucherWindowTitle)>
  [ 11] jmpifz [ 20] ............................ if not windowExists(pVoucherWindowTitle) then
  [ 14] pushint8 1 .............................. <1>
  [ 16] pusharglistnoret 1 ...................... <1>
  [ 18] extcall 62 .............................. return 1
  [ 20] getprop 28 .............................. <pVoucherWindowTitle>
  [ 22] pusharglist 1 ........................... <pVoucherWindowTitle>
  [ 24] extcall 81 .............................. <getWindow(pVoucherWindowTitle)>
  [ 26] setlocal 0 .............................. tWndObj = getWindow(pVoucherWindowTitle)
  [ 28] getprop 29 .............................. <pVoucherInputState>
  [ 30] jmpifz [ 70] ............................ if pVoucherInputState then / else
  [ 33] getlocal 0 .............................. <tWndObj>
  [ 35] pushcons 28 ............................. <"voucher_statustext">
  [ 37] pusharglist 2 ........................... <tWndObj, "voucher_statustext">
  [ 39] objcall 83 .............................. <tWndObj.getElement("voucher_statustext")>
  [ 41] pushcons 29 ............................. <"purse_vouchers_entercode">
  [ 43] pusharglist 1 ........................... <"purse_vouchers_entercode">
  [ 45] extcall 27 .............................. <getText("purse_vouchers_entercode")>
  [ 47] pusharglistnoret 2 ...................... <tWndObj.getElement("voucher_statustext"), getText("purse_vouchers_entercode")>
  [ 49] objcall 105 ............................. tWndObj.getElement("voucher_statustext").setText(getText("purse_vouchers_entercode"))
  [ 51] getlocal 0 .............................. <tWndObj>
  [ 53] pushcons 21 ............................. <"loading_bg">
  [ 55] pusharglist 2 ........................... <tWndObj, "loading_bg">
  [ 57] objcall 83 .............................. <tWndObj.getElement("loading_bg")>
  [ 59] pusharglistnoret 1 ...................... <tWndObj.getElement("loading_bg")>
  [ 61] objcall 82 .............................. tWndObj.getElement("loading_bg").hide()
  [ 63] pushcons 30 ............................. <"cursor.finger">
  [ 65] setlocal 1 .............................. tCursor = "cursor.finger"
  [ 67] jmp [103]
  [ 70] getlocal 0 .............................. <tWndObj>
  [ 72] pushcons 28 ............................. <"voucher_statustext">
  [ 74] pusharglist 2 ........................... <tWndObj, "voucher_statustext">
  [ 76] objcall 83 .............................. <tWndObj.getElement("voucher_statustext")>
  [ 78] pushcons 31 ............................. <"purse_vouchers_checking">
  [ 80] pusharglist 1 ........................... <"purse_vouchers_checking">
  [ 82] extcall 27 .............................. <getText("purse_vouchers_checking")>
  [ 84] pusharglistnoret 2 ...................... <tWndObj.getElement("voucher_statustext"), getText("purse_vouchers_checking")>
  [ 86] objcall 105 ............................. tWndObj.getElement("voucher_statustext").setText(getText("purse_vouchers_checking"))
  [ 88] getlocal 0 .............................. <tWndObj>
  [ 90] pushcons 21 ............................. <"loading_bg">
  [ 92] pusharglist 2 ........................... <tWndObj, "loading_bg">
  [ 94] objcall 83 .............................. <tWndObj.getElement("loading_bg")>
  [ 96] pusharglistnoret 1 ...................... <tWndObj.getElement("loading_bg")>
  [ 98] objcall 106 ............................. tWndObj.getElement("loading_bg").show()
  [100] pushzero ................................ <0>
  [101] setlocal 1 .............................. tCursor = 0
  [103] getlocal 0 .............................. <tWndObj>
  [105] pushcons 32 ............................. <"voucher_code">
  [107] pusharglist 2 ........................... <tWndObj, "voucher_code">
  [109] objcall 83 .............................. <tWndObj.getElement("voucher_code")>
  [111] getprop 29 .............................. <pVoucherInputState>
  [113] pusharglistnoret 2 ...................... <tWndObj.getElement("voucher_code"), pVoucherInputState>
  [115] objcall 107 ............................. tWndObj.getElement("voucher_code").setEdit(pVoucherInputState)
  [117] getlocal 0 .............................. <tWndObj>
  [119] pushcons 33 ............................. <"voucher_exit">
  [121] pusharglist 2 ........................... <tWndObj, "voucher_exit">
  [123] objcall 83 .............................. <tWndObj.getElement("voucher_exit")>
  [125] pushsymb 108 ............................ <#cursor>
  [127] getlocal 1 .............................. <tCursor>
  [129] pusharglistnoret 3 ...................... <tWndObj.getElement("voucher_exit"), #cursor, tCursor>
  [131] objcall 85 .............................. tWndObj.getElement("voucher_exit").setProperty(#cursor, tCursor)
  [133] getlocal 0 .............................. <tWndObj>
  [135] pushcons 34 ............................. <"voucher_send">
  [137] pusharglist 2 ........................... <tWndObj, "voucher_send">
  [139] objcall 83 .............................. <tWndObj.getElement("voucher_send")>
  [141] pushsymb 108 ............................ <#cursor>
  [143] getlocal 1 .............................. <tCursor>
  [145] pusharglistnoret 3 ...................... <tWndObj.getElement("voucher_send"), #cursor, tCursor>
  [147] objcall 85 .............................. tWndObj.getElement("voucher_send").setProperty(#cursor, tCursor)
  [149] pushint8 1 .............................. <1>
  [151] pusharglistnoret 1 ...................... <1>
  [153] extcall 62 .............................. return 1
  [155] ret
end

on showVoucherWindow me
  [  0] getprop 28 .............................. <pVoucherWindowTitle>
  [  2] pusharglist 1 ........................... <pVoucherWindowTitle>
  [  4] extcall 77 .............................. <windowExists(pVoucherWindowTitle)>
  [  6] not ..................................... <not windowExists(pVoucherWindowTitle)>
  [  7] jmpifz [149] ............................ if not windowExists(pVoucherWindowTitle) then
  [ 10] getprop 28 .............................. <pVoucherWindowTitle>
  [ 12] pushcons 35 ............................. <"habbo_basic.window">
  [ 14] pusharglistnoret 2 ...................... <pVoucherWindowTitle, "habbo_basic.window">
  [ 16] extcall 111 ............................. createWindow(pVoucherWindowTitle, "habbo_basic.window")
  [ 18] getprop 28 .............................. <pVoucherWindowTitle>
  [ 20] pusharglist 1 ........................... <pVoucherWindowTitle>
  [ 22] extcall 81 .............................. <getWindow(pVoucherWindowTitle)>
  [ 24] setlocal 0 .............................. tWndObj = getWindow(pVoucherWindowTitle)
  [ 26] getlocal 0 .............................. <tWndObj>
  [ 28] not ..................................... <not tWndObj>
  [ 29] jmpifz [ 37] ............................ if not tWndObj then
  [ 32] pushzero ................................ <0>
  [ 33] pusharglistnoret 1 ...................... <0>
  [ 35] extcall 62 .............................. return 0
  [ 37] getlocal 0 .............................. <tWndObj>
  [ 39] pushcons 36 ............................. <"PurseVouchers.window">
  [ 41] pusharglist 2 ........................... <tWndObj, "PurseVouchers.window">
  [ 43] objcall 112 ............................. <tWndObj.merge("PurseVouchers.window")>
  [ 45] not ..................................... <not tWndObj.merge("PurseVouchers.window")>
  [ 46] jmpifz [ 59] ............................ if not tWndObj.merge("PurseVouchers.window") then
  [ 49] getlocal 0 .............................. <tWndObj>
  [ 51] pusharglist 1 ........................... <tWndObj>
  [ 53] objcall 113 ............................. <tWndObj.close()>
  [ 55] pusharglistnoret 1 ...................... <tWndObj.close()>
  [ 57] extcall 62 .............................. return tWndObj.close()
  [ 59] getlocal 0 .............................. <tWndObj>
  [ 61] pusharglistnoret 1 ...................... <tWndObj>
  [ 63] objcall 114 ............................. tWndObj.center()
  [ 65] getlocal 0 .............................. <tWndObj>
  [ 67] pushint8 80 ............................. <80>
  [ 69] pushint8 50 ............................. <50>
  [ 71] pusharglistnoret 3 ...................... <tWndObj, 80, 50>
  [ 73] objcall 115 ............................. tWndObj.moveBy(80, 50)
  [ 75] pushcons 37 ............................. <"purse_vouchers_helpurl">
  [ 77] pusharglist 1 ........................... <"purse_vouchers_helpurl">
  [ 79] extcall 27 .............................. <getText("purse_vouchers_helpurl")>
  [ 81] pushcons 38 ............................. <"http">
  [ 83] contains0str ............................ <getText("purse_vouchers_helpurl") starts "http">
  [ 84] not ..................................... <not (getText("purse_vouchers_helpurl") starts "http")>
  [ 85] jmpifz [100] ............................ if not (getText("purse_vouchers_helpurl") starts "http") then
  [ 88] getlocal 0 .............................. <tWndObj>
  [ 90] pushcons 39 ............................. <"voucher_help">
  [ 92] pusharglist 2 ........................... <tWndObj, "voucher_help">
  [ 94] objcall 83 .............................. <tWndObj.getElement("voucher_help")>
  [ 96] pusharglistnoret 1 ...................... <tWndObj.getElement("voucher_help")>
  [ 98] objcall 82 .............................. tWndObj.getElement("voucher_help").hide()
  [100] getparam 0 .............................. <me>
  [102] getprop 29 .............................. <pVoucherInputState>
  [104] pusharglistnoret 2 ...................... <me, pVoucherInputState>
  [106] objcall 7 ............................... me.setVoucherInput(pVoucherInputState)
  [108] getlocal 0 .............................. <tWndObj>
  [110] pushcons 32 ............................. <"voucher_code">
  [112] pusharglist 2 ........................... <tWndObj, "voucher_code">
  [114] objcall 95 .............................. <tWndObj.elementExists("voucher_code")>
  [116] jmpifz [133] ............................ if tWndObj.elementExists("voucher_code") then
  [119] getlocal 0 .............................. <tWndObj>
  [121] pushcons 32 ............................. <"voucher_code">
  [123] pusharglist 2 ........................... <tWndObj, "voucher_code">
  [125] objcall 83 .............................. <tWndObj.getElement("voucher_code")>
  [127] pushint8 1 .............................. <1>
  [129] pusharglistnoret 2 ...................... <tWndObj.getElement("voucher_code"), 1>
  [131] objcall 116 ............................. tWndObj.getElement("voucher_code").setFocus(1)
  [133] getlocal 0 .............................. <tWndObj>
  [135] pushsymb 25 ............................. <#eventProcPurse>
  [137] getparam 0 .............................. <me>
  [139] pusharglist 1 ........................... <me>
  [141] objcall 61 .............................. <me.getID()>
  [143] pushsymb 117 ............................ <#mouseUp>
  [145] pusharglistnoret 4 ...................... <tWndObj, #eventProcPurse, me.getID(), #mouseUp>
  [147] objcall 118 ............................. tWndObj.registerProcedure(#eventProcPurse, me.getID(), #mouseUp)
  [149] ret
end

on hideVoucherWindow me
  [  0] getprop 28 .............................. <pVoucherWindowTitle>
  [  2] pusharglist 1 ........................... <pVoucherWindowTitle>
  [  4] extcall 77 .............................. <windowExists(pVoucherWindowTitle)>
  [  6] jmpifz [ 15] ............................ if windowExists(pVoucherWindowTitle) then
  [  9] getprop 28 .............................. <pVoucherWindowTitle>
  [ 11] pusharglistnoret 1 ...................... <pVoucherWindowTitle>
  [ 13] extcall 73 .............................. removeWindow(pVoucherWindowTitle)
  [ 15] pushint8 1 .............................. <1>
  [ 17] pusharglistnoret 1 ...................... <1>
  [ 19] extcall 62 .............................. return 1
  [ 21] ret
end

on update me
  [  0] getprop 86 .............................. <pState>
  [  2] not ..................................... <not pState>
  [  3] jmpifz [ 10] ............................ if not pState then
  [  6] pusharglistnoret 0 ...................... <>
  [  8] extcall 62 .............................. return 
  [ 10] getprop 38 .............................. <pFrameCounter>
  [ 12] pushzero ................................ <0>
  [ 13] gt ...................................... <pFrameCounter > 0>
  [ 14] jmpifz [181] ............................ if pFrameCounter > 0 then
  [ 17] getprop 26 .............................. <pWindowTitle>
  [ 19] pusharglist 1 ........................... <pWindowTitle>
  [ 21] extcall 81 .............................. <getWindow(pWindowTitle)>
  [ 23] setlocal 0 .............................. tWinObj = getWindow(pWindowTitle)
  [ 25] getlocal 0 .............................. <tWinObj>
  [ 27] not ..................................... <not tWinObj>
  [ 28] jmpifz [ 41] ............................ if not tWinObj then
  [ 31] getparam 0 .............................. <me>
  [ 33] pusharglist 1 ........................... <me>
  [ 35] objcall 61 .............................. <me.getID()>
  [ 37] pusharglistnoret 1 ...................... <me.getID()>
  [ 39] extcall 72 .............................. removeUpdate(me.getID())
  [ 41] getlocal 0 .............................. <tWinObj>
  [ 43] not ..................................... <not tWinObj>
  [ 44] jmpifz [ 52] ............................ if not tWinObj then
  [ 47] pushzero ................................ <0>
  [ 48] pusharglistnoret 1 ...................... <0>
  [ 50] extcall 62 .............................. return 0
  [ 52] pushcons 22 ............................. <"loading_anim">
  [ 54] setlocal 1 .............................. tid = "loading_anim"
  [ 56] getlocal 0 .............................. <tWinObj>
  [ 58] getlocal 1 .............................. <tid>
  [ 60] pusharglist 2 ........................... <tWinObj, tid>
  [ 62] objcall 95 .............................. <tWinObj.elementExists(tid)>
  [ 64] jmpifz [167] ............................ if tWinObj.elementExists(tid) then / else
  [ 67] getprop 100 ............................. <pQuad>
  [ 69] pushint8 1 .............................. <1>
  [ 71] pusharglist 2 ........................... <pQuad, 1>
  [ 73] objcall 119 ............................. <pQuad[1]>
  [ 75] setlocal 2 .............................. t1 = pQuad[1]
  [ 77] getprop 100 ............................. <pQuad>
  [ 79] pushint8 2 .............................. <2>
  [ 81] pusharglist 2 ........................... <pQuad, 2>
  [ 83] objcall 119 ............................. <pQuad[2]>
  [ 85] setlocal 3 .............................. t2 = pQuad[2]
  [ 87] getprop 100 ............................. <pQuad>
  [ 89] pushint8 3 .............................. <3>
  [ 91] pusharglist 2 ........................... <pQuad, 3>
  [ 93] objcall 119 ............................. <pQuad[3]>
  [ 95] setlocal 4 .............................. t3 = pQuad[3]
  [ 97] getprop 100 ............................. <pQuad>
  [ 99] pushint8 4 .............................. <4>
  [101] pusharglist 2 ........................... <pQuad, 4>
  [103] objcall 119 ............................. <pQuad[4]>
  [105] setlocal 5 .............................. t4 = pQuad[4]
  [107] getlocal 3 .............................. <t2>
  [109] getlocal 4 .............................. <t3>
  [111] getlocal 5 .............................. <t4>
  [113] getlocal 2 .............................. <t1>
  [115] pusharglist 4 ........................... <[t2, t3, t4, t1]>
  [117] pushlist ................................ <[t2, t3, t4, t1]>
  [118] setprop 100 ............................. pQuad = [t2, t3, t4, t1]
  [120] getlocal 0 .............................. <tWinObj>
  [122] getlocal 1 .............................. <tid>
  [124] pusharglist 2 ........................... <tWinObj, tid>
  [126] objcall 83 .............................. <tWinObj.getElement(tid)>
  [128] pushsymb 99 ............................. <#image>
  [130] pusharglist 2 ........................... <tWinObj.getElement(tid), #image>
  [132] objcall 120 ............................. <tWinObj.getElement(tid).getProperty(#image)>
  [134] setlocal 6 .............................. tImage = tWinObj.getElement(tid).getProperty(#image)
  [136] getlocal 6 .............................. <tImage>
  [138] getprop 96 .............................. <pAnimImage>
  [140] getprop 100 ............................. <pQuad>
  [142] getprop 96 .............................. <pAnimImage>
  [144] getobjprop 121 .......................... <pAnimImage.rect>
  [146] pusharglistnoret 4 ...................... <tImage, pAnimImage, pQuad, pAnimImage.rect>
  [148] objcall 122 ............................. tImage.copyPixels(pAnimImage, pQuad, pAnimImage.rect)
  [150] getlocal 0 .............................. <tWinObj>
  [152] getlocal 1 .............................. <tid>
  [154] pusharglist 2 ........................... <tWinObj, tid>
  [156] objcall 83 .............................. <tWinObj.getElement(tid)>
  [158] getlocal 6 .............................. <tImage>
  [160] pusharglistnoret 2 ...................... <tWinObj.getElement(tid), tImage>
  [162] objcall 123 ............................. tWinObj.getElement(tid).feedImage(tImage)
  [164] jmp [177]
  [167] getparam 0 .............................. <me>
  [169] pusharglist 1 ........................... <me>
  [171] objcall 61 .............................. <me.getID()>
  [173] pusharglistnoret 1 ...................... <me.getID()>
  [175] extcall 72 .............................. removeUpdate(me.getID())
  [177] pushint8 1 .............................. <1>
  [179] setprop 38 .............................. pFrameCounter = 1
  [181] getprop 38 .............................. <pFrameCounter>
  [183] pushint8 1 .............................. <1>
  [185] add ..................................... <pFrameCounter + 1>
  [186] setprop 38 .............................. pFrameCounter = pFrameCounter + 1
  [188] ret
end

on showPages me, tList
  [  0] getparam 1 .............................. <tList>
  [  2] pusharglist 1 ........................... <tList>
  [  4] extcall 79 .............................. <voidp(tList)>
  [  6] not ..................................... <not voidp(tList)>
  [  7] jmpifz [ 40] ............................ if not voidp(tList) then / else
  [ 10] getparam 1 .............................. <tList>
  [ 12] setprop 32 .............................. pPageList = tList
  [ 14] getprop 32 .............................. <pPageList>
  [ 16] pusharglist 1 ........................... <pPageList>
  [ 18] extcall 132 ............................. <count(pPageList)>
  [ 20] setprop 131 ............................. pPages = count(pPageList)
  [ 22] getparam 0 .............................. <me>
  [ 24] pushint8 1 .............................. <1>
  [ 26] pusharglistnoret 2 ...................... <me, 1>
  [ 28] objcall 12 .............................. me.drawPage(1)
  [ 30] getparam 0 .............................. <me>
  [ 32] pushzero ................................ <0>
  [ 33] pusharglistnoret 2 ...................... <me, 0>
  [ 35] objcall 5 ............................... me.showPurseLoader(0)
  [ 37] jmp [ 55]
  [ 40] getparam 0 .............................. <me>
  [ 42] pushcons 40 ............................. <"PurseNoTransactions.window">
  [ 44] pusharglistnoret 2 ...................... <me, "PurseNoTransactions.window">
  [ 46] objcall 16 .............................. me.changePurseWindowView("PurseNoTransactions.window")
  [ 48] getparam 0 .............................. <me>
  [ 50] pushzero ................................ <0>
  [ 51] pusharglistnoret 2 ...................... <me, 0>
  [ 53] objcall 5 ............................... me.showPurseLoader(0)
  [ 55] ret
end

on drawPage me, tPageNo
  [  0] getparam 1 .............................. <tPageNo>
  [  2] getprop 131 ............................. <pPages>
  [  4] lteq .................................... <tPageNo <= pPages>
  [  5] getparam 1 .............................. <tPageNo>
  [  7] pushzero ................................ <0>
  [  8] gt ...................................... <tPageNo > 0>
  [  9] and ..................................... <(tPageNo <= pPages) and (tPageNo > 0)>
  [ 10] jmpifz [632] ............................ if (tPageNo <= pPages) and (tPageNo > 0) then / else
  [ 13] getprop 26 .............................. <pWindowTitle>
  [ 15] pusharglist 1 ........................... <pWindowTitle>
  [ 17] extcall 81 .............................. <getWindow(pWindowTitle)>
  [ 19] setlocal 0 .............................. tWndObj = getWindow(pWindowTitle)
  [ 21] pusharglist 0 ........................... <[]>
  [ 23] pushlist ................................ <[]>
  [ 24] setlocal 1 .............................. tDate = []
  [ 26] pusharglist 0 ........................... <[]>
  [ 28] pushlist ................................ <[]>
  [ 29] setlocal 2 .............................. tTime = []
  [ 31] pusharglist 0 ........................... <[]>
  [ 33] pushlist ................................ <[]>
  [ 34] setlocal 3 .............................. tEvent = []
  [ 36] pusharglist 0 ........................... <[]>
  [ 38] pushlist ................................ <[]>
  [ 39] setlocal 4 .............................. tDesc = []
  [ 41] pusharglist 0 ........................... <[]>
  [ 43] pushlist ................................ <[]>
  [ 44] setlocal 5 .............................. tValue = []
  [ 46] getprop 32 .............................. <pPageList>
  [ 48] getparam 1 .............................. <tPageNo>
  [ 50] pusharglist 2 ........................... <pPageList, tPageNo>
  [ 52] objcall 119 ............................. <pPageList[tPageNo]>
  [ 54] setlocal 6 .............................. tList = pPageList[tPageNo]
  [ 56] pusharglist 0 ........................... <[]>
  [ 58] pushlist ................................ <[]>
  [ 59] setlocal 7 .............................. tLista = []
  [ 61] pushint8 1 .............................. <1>
  [ 63] setlocal 8
  [ 65] getlocal 8
  [ 67] getlocal 6 .............................. <tList>
  [ 69] pusharglist 1 ........................... <tList>
  [ 71] extcall 132 ............................. <count(tList)>
  [ 73] lteq
  [ 74] jmpifz [209] ............................ repeat with i = 1 to count(tList)
  [ 77] getlocal 6 .............................. <tList>
  [ 79] getlocal 8 .............................. <i>
  [ 81] pusharglist 2 ........................... <tList, i>
  [ 83] objcall 119 ............................. <tList[i]>
  [ 85] pushcons 41 ............................. <"date">
  [ 87] pusharglist 2 ........................... <tList[i], "date">
  [ 89] objcall 119 ............................. <tList[i]["date"]>
  [ 91] pushcons 42 ............................. <"-">
  [ 93] pushcons 43 ............................. <".">
  [ 95] pusharglist 3 ........................... <tList[i]["date"], "-", ".">
  [ 97] extcall 134 ............................. <replaceChunks(tList[i]["date"], "-", ".")>
  [ 99] setlocal 9 .............................. tTxt = replaceChunks(tList[i]["date"], "-", ".")
  [101] getlocal 1 .............................. <tDate>
  [103] getlocal 9 .............................. <tTxt>
  [105] pusharglistnoret 2 ...................... <tDate, tTxt>
  [107] objcall 135 ............................. tDate.add(tTxt)
  [109] getlocal 2 .............................. <tTime>
  [111] getlocal 6 .............................. <tList>
  [113] getlocal 8 .............................. <i>
  [115] pusharglist 2 ........................... <tList, i>
  [117] objcall 119 ............................. <tList[i]>
  [119] pushcons 44 ............................. <"time">
  [121] pusharglist 2 ........................... <tList[i], "time">
  [123] objcall 119 ............................. <tList[i]["time"]>
  [125] pusharglistnoret 2 ...................... <tTime, tList[i]["time"]>
  [127] objcall 135 ............................. tTime.add(tList[i]["time"])
  [129] getlocal 3 .............................. <tEvent>
  [131] getlocal 6 .............................. <tList>
  [133] getlocal 8 .............................. <i>
  [135] pusharglist 2 ........................... <tList, i>
  [137] objcall 119 ............................. <tList[i]>
  [139] pushcons 45 ............................. <"credit_value">
  [141] pusharglist 2 ........................... <tList[i], "credit_value">
  [143] objcall 119 ............................. <tList[i]["credit_value"]>
  [145] pusharglistnoret 2 ...................... <tEvent, tList[i]["credit_value"]>
  [147] objcall 135 ............................. tEvent.add(tList[i]["credit_value"])
  [149] getlocal 6 .............................. <tList>
  [151] getlocal 8 .............................. <i>
  [153] pusharglist 2 ........................... <tList, i>
  [155] objcall 119 ............................. <tList[i]>
  [157] pushcons 46 ............................. <"transaction_system_name">
  [159] pusharglist 2 ........................... <tList[i], "transaction_system_name">
  [161] objcall 119 ............................. <tList[i]["transaction_system_name"]>
  [163] setlocal 10 ............................. tText = tList[i]["transaction_system_name"]
  [165] getlocal 4 .............................. <tDesc>
  [167] pushcons 47 ............................. <"transaction_system_">
  [169] getlocal 10 ............................. <tText>
  [171] joinstr ................................. <"transaction_system_" & tText>
  [172] pusharglist 1 ........................... <"transaction_system_" & tText>
  [174] extcall 27 .............................. <getText("transaction_system_" & tText)>
  [176] pusharglistnoret 2 ...................... <tDesc, getText("transaction_system_" & tText)>
  [178] objcall 135 ............................. tDesc.add(getText("transaction_system_" & tText))
  [180] getlocal 5 .............................. <tValue>
  [182] getlocal 6 .............................. <tList>
  [184] getlocal 8 .............................. <i>
  [186] pusharglist 2 ........................... <tList, i>
  [188] objcall 119 ............................. <tList[i]>
  [190] pushcons 48 ............................. <"real_value">
  [192] pusharglist 2 ........................... <tList[i], "real_value">
  [194] objcall 119 ............................. <tList[i]["real_value"]>
  [196] pusharglistnoret 2 ...................... <tValue, tList[i]["real_value"]>
  [198] objcall 135 ............................. tValue.add(tList[i]["real_value"])
  [200] pushint8 1
  [202] getlocal 8
  [204] add
  [205] setlocal 8
  [207] endrepeat [ 65]
  [209] getparam 0 .............................. <me>
  [211] pushcons 49 ............................. <"purse_field1">
  [213] getlocal 1 .............................. <tDate>
  [215] pushint8 8 .............................. <8>
  [217] pusharglistnoret 4 ...................... <me, "purse_field1", tDate, 8>
  [219] objcall 13 .............................. me.drawColumns("purse_field1", tDate, 8)
  [221] getparam 0 .............................. <me>
  [223] pushcons 50 ............................. <"purse_field2">
  [225] getlocal 2 .............................. <tTime>
  [227] pushint8 8 .............................. <8>
  [229] pusharglistnoret 4 ...................... <me, "purse_field2", tTime, 8>
  [231] objcall 13 .............................. me.drawColumns("purse_field2", tTime, 8)
  [233] getparam 0 .............................. <me>
  [235] pushcons 51 ............................. <"purse_field3">
  [237] getlocal 3 .............................. <tEvent>
  [239] pushint8 20 ............................. <20>
  [241] pusharglistnoret 4 ...................... <me, "purse_field3", tEvent, 20>
  [243] objcall 13 .............................. me.drawColumns("purse_field3", tEvent, 20)
  [245] getparam 0 .............................. <me>
  [247] pushcons 52 ............................. <"purse_field4">
  [249] getlocal 4 .............................. <tDesc>
  [251] pushint8 8 .............................. <8>
  [253] pusharglistnoret 4 ...................... <me, "purse_field4", tDesc, 8>
  [255] objcall 13 .............................. me.drawColumns("purse_field4", tDesc, 8)
  [257] getprop 58 .............................. <pValueField>
  [259] jmpifz [274] ............................ if pValueField then
  [262] getparam 0 .............................. <me>
  [264] pushcons 53 ............................. <"purse_field5">
  [266] getlocal 5 .............................. <tValue>
  [268] pushint8 20 ............................. <20>
  [270] pusharglistnoret 4 ...................... <me, "purse_field5", tValue, 20>
  [272] objcall 13 .............................. me.drawColumns("purse_field5", tValue, 20)
  [274] getparam 1 .............................. <tPageNo>
  [276] setprop 30 .............................. pPageView = tPageNo
  [278] getlocal 0 .............................. <tWndObj>
  [280] pushcons 24 ............................. <"taction_prev">
  [282] pusharglist 2 ........................... <tWndObj, "taction_prev">
  [284] objcall 83 .............................. <tWndObj.getElement("taction_prev")>
  [286] setlocal 11 ............................. tPrev = tWndObj.getElement("taction_prev")
  [288] getlocal 0 .............................. <tWndObj>
  [290] pushcons 25 ............................. <"taction_pages">
  [292] pusharglist 2 ........................... <tWndObj, "taction_pages">
  [294] objcall 83 .............................. <tWndObj.getElement("taction_pages")>
  [296] setlocal 12 ............................. tPages = tWndObj.getElement("taction_pages")
  [298] getlocal 0 .............................. <tWndObj>
  [300] pushcons 26 ............................. <"taction_next">
  [302] pusharglist 2 ........................... <tWndObj, "taction_next">
  [304] objcall 83 .............................. <tWndObj.getElement("taction_next")>
  [306] setlocal 13 ............................. tNext = tWndObj.getElement("taction_next")
  [308] getprop 30 .............................. <pPageView>
  [310] pushcons 54 ............................. <"/">
  [312] joinstr ................................. <pPageView & "/">
  [313] getprop 131 ............................. <pPages>
  [315] joinstr ................................. <pPageView & "/" & pPages>
  [316] setlocal 14 ............................. tPAgesTxt = pPageView & "/" & pPages
  [318] getlocal 12 ............................. <tPages>
  [320] pushsymb 84 ............................. <#blend>
  [322] pushint8 100 ............................ <100>
  [324] pusharglistnoret 3 ...................... <tPages, #blend, 100>
  [326] objcall 85 .............................. tPages.setProperty(#blend, 100)
  [328] getlocal 12 ............................. <tPages>
  [330] getlocal 14 ............................. <tPAgesTxt>
  [332] pusharglistnoret 2 ...................... <tPages, tPAgesTxt>
  [334] objcall 105 ............................. tPages.setText(tPAgesTxt)
  [336] pushcons 55 ............................. <"previous_onearrowed">
  [338] pushcons 56 ............................. <"< Previous">
  [340] pusharglist 2 ........................... <"previous_onearrowed", "< Previous">
  [342] extcall 27 .............................. <getText("previous_onearrowed", "< Previous")>
  [344] setlocal 15 ............................. tPrevTtx = getText("previous_onearrowed", "< Previous")
  [346] getlocal 11 ............................. <tPrev>
  [348] getlocal 15 ............................. <tPrevTtx>
  [350] pusharglistnoret 2 ...................... <tPrev, tPrevTtx>
  [352] objcall 105 ............................. tPrev.setText(tPrevTtx)
  [354] pushcons 57 ............................. <"next_onearrowed">
  [356] pushcons 58 ............................. <"Next >">
  [358] pusharglist 2 ........................... <"next_onearrowed", "Next >">
  [360] extcall 27 .............................. <getText("next_onearrowed", "Next >")>
  [362] setlocal 16 ............................. tNextTtx = getText("next_onearrowed", "Next >")
  [364] getlocal 13 ............................. <tNext>
  [366] getlocal 16 ............................. <tNextTtx>
  [368] pusharglistnoret 2 ...................... <tNext, tNextTtx>
  [370] objcall 105 ............................. tNext.setText(tNextTtx)
  [372] pushint8 1 .............................. <1>
  [374] peek 0 .................................. case 1 of
  [376] getprop 131 ............................. <pPages>
  [378] pushint8 1 .............................. <1>
  [380] eq ...................................... <pPages = 1>
  [381] eq
  [382] jmpifz [434] ............................ (case) (pPages = 1):
  [385] getlocal 11 ............................. <tPrev>
  [387] pushsymb 84 ............................. <#blend>
  [389] pushint8 50 ............................. <50>
  [391] pusharglistnoret 3 ...................... <tPrev, #blend, 50>
  [393] objcall 85 .............................. tPrev.setProperty(#blend, 50)
  [395] getlocal 11 ............................. <tPrev>
  [397] pushsymb 108 ............................ <#cursor>
  [399] pushzero ................................ <0>
  [400] pusharglistnoret 3 ...................... <tPrev, #cursor, 0>
  [402] objcall 85 .............................. tPrev.setProperty(#cursor, 0)
  [404] getlocal 13 ............................. <tNext>
  [406] pushsymb 84 ............................. <#blend>
  [408] pushint8 50 ............................. <50>
  [410] pusharglistnoret 3 ...................... <tNext, #blend, 50>
  [412] objcall 85 .............................. tNext.setProperty(#blend, 50)
  [414] getlocal 13 ............................. <tNext>
  [416] pushsymb 108 ............................ <#cursor>
  [418] pushzero ................................ <0>
  [419] pusharglistnoret 3 ...................... <tNext, #cursor, 0>
  [421] objcall 85 .............................. tNext.setProperty(#cursor, 0)
  [423] pop 1
  [425] pushint8 1 .............................. <1>
  [427] pusharglistnoret 1 ...................... <1>
  [429] extcall 62 .............................. return 1
  [431] jmp [627]
  [434] peek 0
  [436] getprop 30 .............................. <pPageView>
  [438] getprop 131 ............................. <pPages>
  [440] lt ...................................... <pPageView < pPages>
  [441] getprop 30 .............................. <pPageView>
  [443] pushint8 1 .............................. <1>
  [445] gt ...................................... <pPageView > 1>
  [446] and ..................................... <(pPageView < pPages) and (pPageView > 1)>
  [447] eq
  [448] jmpifz [502] ............................ (case) ((pPageView < pPages) and (pPageView > 1)):
  [451] getlocal 11 ............................. <tPrev>
  [453] pushsymb 84 ............................. <#blend>
  [455] pushint8 100 ............................ <100>
  [457] pusharglistnoret 3 ...................... <tPrev, #blend, 100>
  [459] objcall 85 .............................. tPrev.setProperty(#blend, 100)
  [461] getlocal 11 ............................. <tPrev>
  [463] pushsymb 108 ............................ <#cursor>
  [465] pushcons 30 ............................. <"cursor.finger">
  [467] pusharglistnoret 3 ...................... <tPrev, #cursor, "cursor.finger">
  [469] objcall 85 .............................. tPrev.setProperty(#cursor, "cursor.finger")
  [471] getlocal 13 ............................. <tNext>
  [473] pushsymb 84 ............................. <#blend>
  [475] pushint8 100 ............................ <100>
  [477] pusharglistnoret 3 ...................... <tNext, #blend, 100>
  [479] objcall 85 .............................. tNext.setProperty(#blend, 100)
  [481] getlocal 13 ............................. <tNext>
  [483] pushsymb 108 ............................ <#cursor>
  [485] pushcons 30 ............................. <"cursor.finger">
  [487] pusharglistnoret 3 ...................... <tNext, #cursor, "cursor.finger">
  [489] objcall 85 .............................. tNext.setProperty(#cursor, "cursor.finger")
  [491] pop 1
  [493] pushint8 1 .............................. <1>
  [495] pusharglistnoret 1 ...................... <1>
  [497] extcall 62 .............................. return 1
  [499] jmp [627]
  [502] peek 0
  [504] getprop 30 .............................. <pPageView>
  [506] getprop 131 ............................. <pPages>
  [508] lt ...................................... <pPageView < pPages>
  [509] getprop 30 .............................. <pPageView>
  [511] pushint8 1 .............................. <1>
  [513] eq ...................................... <pPageView = 1>
  [514] and ..................................... <(pPageView < pPages) and (pPageView = 1)>
  [515] eq
  [516] jmpifz [569] ............................ (case) ((pPageView < pPages) and (pPageView = 1)):
  [519] getlocal 11 ............................. <tPrev>
  [521] pushsymb 84 ............................. <#blend>
  [523] pushint8 50 ............................. <50>
  [525] pusharglistnoret 3 ...................... <tPrev, #blend, 50>
  [527] objcall 85 .............................. tPrev.setProperty(#blend, 50)
  [529] getlocal 11 ............................. <tPrev>
  [531] pushsymb 108 ............................ <#cursor>
  [533] pushzero ................................ <0>
  [534] pusharglistnoret 3 ...................... <tPrev, #cursor, 0>
  [536] objcall 85 .............................. tPrev.setProperty(#cursor, 0)
  [538] getlocal 13 ............................. <tNext>
  [540] pushsymb 84 ............................. <#blend>
  [542] pushint8 100 ............................ <100>
  [544] pusharglistnoret 3 ...................... <tNext, #blend, 100>
  [546] objcall 85 .............................. tNext.setProperty(#blend, 100)
  [548] getlocal 13 ............................. <tNext>
  [550] pushsymb 108 ............................ <#cursor>
  [552] pushcons 30 ............................. <"cursor.finger">
  [554] pusharglistnoret 3 ...................... <tNext, #cursor, "cursor.finger">
  [556] objcall 85 .............................. tNext.setProperty(#cursor, "cursor.finger")
  [558] pop 1
  [560] pushint8 1 .............................. <1>
  [562] pusharglistnoret 1 ...................... <1>
  [564] extcall 62 .............................. return 1
  [566] jmp [627]
  [569] peek 0
  [571] getprop 30 .............................. <pPageView>
  [573] getprop 131 ............................. <pPages>
  [575] eq ...................................... <pPageView = pPages>
  [576] eq
  [577] jmpifz [627] ............................ (case) (pPageView = pPages):
  [580] getlocal 11 ............................. <tPrev>
  [582] pushsymb 84 ............................. <#blend>
  [584] pushint8 100 ............................ <100>
  [586] pusharglistnoret 3 ...................... <tPrev, #blend, 100>
  [588] objcall 85 .............................. tPrev.setProperty(#blend, 100)
  [590] getlocal 11 ............................. <tPrev>
  [592] pushsymb 108 ............................ <#cursor>
  [594] pushcons 30 ............................. <"cursor.finger">
  [596] pusharglistnoret 3 ...................... <tPrev, #cursor, "cursor.finger">
  [598] objcall 85 .............................. tPrev.setProperty(#cursor, "cursor.finger")
  [600] getlocal 13 ............................. <tNext>
  [602] pushsymb 84 ............................. <#blend>
  [604] pushint8 50 ............................. <50>
  [606] pusharglistnoret 3 ...................... <tNext, #blend, 50>
  [608] objcall 85 .............................. tNext.setProperty(#blend, 50)
  [610] getlocal 13 ............................. <tNext>
  [612] pushsymb 108 ............................ <#cursor>
  [614] pushzero ................................ <0>
  [615] pusharglistnoret 3 ...................... <tNext, #cursor, 0>
  [617] objcall 85 .............................. tNext.setProperty(#cursor, 0)
  [619] pop 1
  [621] pushint8 1 .............................. <1>
  [623] pusharglistnoret 1 ...................... <1>
  [625] extcall 62 .............................. return 1
  [627] pop 1 ................................... end case
  [629] jmp [637]
  [632] pushzero ................................ <0>
  [633] pusharglistnoret 1 ...................... <0>
  [635] extcall 62 .............................. return 0
  [637] ret
end

on drawColumns me, tElementName, tList, tLeftMarg
  [  0] getprop 26 .............................. <pWindowTitle>
  [  2] pusharglist 1 ........................... <pWindowTitle>
  [  4] extcall 81 .............................. <getWindow(pWindowTitle)>
  [  6] setlocal 0 .............................. tWndObj = getWindow(pWindowTitle)
  [  8] getprop 33 .............................. <pPurseWriterID>
  [ 10] pusharglist 1 ........................... <pPurseWriterID>
  [ 12] extcall 148 ............................. <getWriter(pPurseWriterID)>
  [ 14] setlocal 1 .............................. tWriteObj = getWriter(pPurseWriterID)
  [ 16] getlocal 0 .............................. <tWndObj>
  [ 18] getparam 1 .............................. <tElementName>
  [ 20] pusharglist 2 ........................... <tWndObj, tElementName>
  [ 22] objcall 95 .............................. <tWndObj.elementExists(tElementName)>
  [ 24] jmpifz [271] ............................ if tWndObj.elementExists(tElementName) then
  [ 27] getlocal 0 .............................. <tWndObj>
  [ 29] getparam 1 .............................. <tElementName>
  [ 31] pusharglist 2 ........................... <tWndObj, tElementName>
  [ 33] objcall 83 .............................. <tWndObj.getElement(tElementName)>
  [ 35] setlocal 2 .............................. tElem = tWndObj.getElement(tElementName)
  [ 37] getlocal 2 .............................. <tElem>
  [ 39] pushsymb 102 ............................ <#width>
  [ 41] pusharglist 2 ........................... <tElem, #width>
  [ 43] objcall 120 ............................. <tElem.getProperty(#width)>
  [ 45] setlocal 3 .............................. tWidth = tElem.getProperty(#width)
  [ 47] getlocal 2 .............................. <tElem>
  [ 49] pushsymb 103 ............................ <#height>
  [ 51] pusharglist 2 ........................... <tElem, #height>
  [ 53] objcall 120 ............................. <tElem.getProperty(#height)>
  [ 55] setlocal 4 .............................. tHeight = tElem.getProperty(#height)
  [ 57] getprop 31 .............................. <pPageLineHeight>
  [ 59] getlocal 1 .............................. <tWriteObj>
  [ 61] pusharglist 1 ........................... <tWriteObj>
  [ 63] objcall 149 ............................. <tWriteObj.getFont()>
  [ 65] pushsymb 150 ............................ <#lineHeight>
  [ 67] pusharglist 2 ........................... <tWriteObj.getFont(), #lineHeight>
  [ 69] objcall 119 ............................. <tWriteObj.getFont()[#lineHeight]>
  [ 71] sub ..................................... <pPageLineHeight - tWriteObj.getFont()[#lineHeight]>
  [ 72] pushint8 2 .............................. <2>
  [ 74] div ..................................... <(pPageLineHeight - tWriteObj.getFont()[#lineHeight]) / 2>
  [ 75] setlocal 5 .............................. tVerticMarg = (pPageLineHeight - tWriteObj.getFont()[#lineHeight]) / 2
  [ 77] getparam 3 .............................. <tLeftMarg>
  [ 79] pusharglist 1 ........................... <tLeftMarg>
  [ 81] extcall 79 .............................. <voidp(tLeftMarg)>
  [ 83] jmpifz [ 90] ............................ if voidp(tLeftMarg) then
  [ 86] pushint8 8 .............................. <8>
  [ 88] setparam 3 .............................. tLeftMarg = 8
  [ 90] getparam 2 .............................. <tList>
  [ 92] getobjprop 132 .......................... <tList.count>
  [ 94] setlocal 6 .............................. tPageCounter = tList.count
  [ 96] getprop 31 .............................. <pPageLineHeight>
  [ 98] getlocal 6 .............................. <tPageCounter>
  [100] mul ..................................... <pPageLineHeight * tPageCounter>
  [101] pushint8 1 .............................. <1>
  [103] add ..................................... <(pPageLineHeight * tPageCounter) + 1>
  [104] setlocal 7 .............................. tImgHeight = (pPageLineHeight * tPageCounter) + 1
  [106] getlocal 3 .............................. <tWidth>
  [108] getparam 3 .............................. <tLeftMarg>
  [110] sub ..................................... <tWidth - tLeftMarg>
  [111] getlocal 7 .............................. <tImgHeight>
  [113] pushint8 8 .............................. <8>
  [115] pusharglist 3 ........................... <tWidth - tLeftMarg, tImgHeight, 8>
  [117] extcall 99 .............................. <image(tWidth - tLeftMarg, tImgHeight, 8)>
  [119] setlocal 8 .............................. tPageListImg = image(tWidth - tLeftMarg, tImgHeight, 8)
  [121] pushint8 1 .............................. <1>
  [123] setlocal 9
  [125] getlocal 9
  [127] getparam 2 .............................. <tList>
  [129] getobjprop 132 .......................... <tList.count>
  [131] lteq
  [132] jmpifz [259] ............................ repeat with f = 1 to tList.count
  [135] getparam 2 .............................. <tList>
  [137] getlocal 9 .............................. <f>
  [139] pusharglist 2 ........................... <tList, f>
  [141] objcall 119 ............................. <tList[f]>
  [143] setlocal 10 ............................. tText = tList[f]
  [145] getlocal 1 .............................. <tWriteObj>
  [147] getlocal 10 ............................. <tText>
  [149] pusharglist 2 ........................... <tWriteObj, tText>
  [151] objcall 151 ............................. <tWriteObj.render(tText)>
  [153] setlocal 11 ............................. tPageImg = tWriteObj.render(tText)
  [155] getparam 3 .............................. <tLeftMarg>
  [157] setlocal 12 ............................. tMarg = tLeftMarg
  [159] getlocal 10 ............................. <tText>
  [161] pusharglist 1 ........................... <tText>
  [163] extcall 152 ............................. <value(tText)>
  [165] pushzero ................................ <0>
  [166] lt ...................................... <value(tText) < 0>
  [167] getparam 1 .............................. <tElementName>
  [169] pushcons 51 ............................. <"purse_field3">
  [171] eq ...................................... <tElementName = "purse_field3">
  [172] and ..................................... <(value(tText) < 0) and (tElementName = "purse_field3")>
  [173] jmpifz [183] ............................ if (value(tText) < 0) and (tElementName = "purse_field3") then
  [176] getparam 3 .............................. <tLeftMarg>
  [178] pushint8 5 .............................. <5>
  [180] sub ..................................... <tLeftMarg - 5>
  [181] setparam 3 .............................. tLeftMarg = tLeftMarg - 5
  [183] getparam 3 .............................. <tLeftMarg>
  [185] setlocal 13 ............................. tX1 = tLeftMarg
  [187] getlocal 13 ............................. <tX1>
  [189] getlocal 11 ............................. <tPageImg>
  [191] getobjprop 102 .......................... <tPageImg.width>
  [193] add ..................................... <tX1 + tPageImg.width>
  [194] setlocal 14 ............................. tX2 = tX1 + tPageImg.width
  [196] getlocal 5 .............................. <tVerticMarg>
  [198] getprop 31 .............................. <pPageLineHeight>
  [200] getlocal 9 .............................. <f>
  [202] pushint8 1 .............................. <1>
  [204] sub ..................................... <f - 1>
  [205] mul ..................................... <pPageLineHeight * (f - 1)>
  [206] add ..................................... <tVerticMarg + (pPageLineHeight * (f - 1))>
  [207] setlocal 15 ............................. tY1 = tVerticMarg + (pPageLineHeight * (f - 1))
  [209] getlocal 15 ............................. <tY1>
  [211] getlocal 11 ............................. <tPageImg>
  [213] getobjprop 103 .......................... <tPageImg.height>
  [215] add ..................................... <tY1 + tPageImg.height>
  [216] setlocal 16 ............................. tY2 = tY1 + tPageImg.height
  [218] getlocal 13 ............................. <tX1>
  [220] getlocal 15 ............................. <tY1>
  [222] getlocal 14 ............................. <tX2>
  [224] getlocal 16 ............................. <tY2>
  [226] pusharglist 4 ........................... <tX1, tY1, tX2, tY2>
  [228] extcall 121 ............................. <rect(tX1, tY1, tX2, tY2)>
  [230] setlocal 17 ............................. tDstRect = rect(tX1, tY1, tX2, tY2)
  [232] getlocal 8 .............................. <tPageListImg>
  [234] getlocal 11 ............................. <tPageImg>
  [236] getlocal 17 ............................. <tDstRect>
  [238] getlocal 11 ............................. <tPageImg>
  [240] getobjprop 121 .......................... <tPageImg.rect>
  [242] pusharglistnoret 4 ...................... <tPageListImg, tPageImg, tDstRect, tPageImg.rect>
  [244] objcall 122 ............................. tPageListImg.copyPixels(tPageImg, tDstRect, tPageImg.rect)
  [246] getlocal 12 ............................. <tMarg>
  [248] setparam 3 .............................. tLeftMarg = tMarg
  [250] pushint8 1
  [252] getlocal 9
  [254] add
  [255] setlocal 9
  [257] endrepeat [125]
  [259] getlocal 2 .............................. <tElem>
  [261] getlocal 8 .............................. <tPageListImg>
  [263] pusharglist 1 ........................... <tPageListImg>
  [265] objcall 153 ............................. <tPageListImg.duplicate()>
  [267] pusharglistnoret 2 ...................... <tElem, tPageListImg.duplicate()>
  [269] objcall 123 ............................. tElem.feedImage(tPageListImg.duplicate())
  [271] ret
end

on getPurseAd me, tSourceURL, tClickURL
  [  0] getparam 1 .............................. <tSourceURL>
  [  2] pushcons 59 ............................. <EMPTY>
  [  4] eq ...................................... <tSourceURL = EMPTY>
  [  5] jmpifz [ 14] ............................ if tSourceURL = EMPTY then
  [  8] pusharglist 0 ........................... <>
  [ 10] extcall 52 .............................. <VOID>
  [ 12] setparam 1 .............................. tSourceURL = VOID
  [ 14] getparam 1 .............................. <tSourceURL>
  [ 16] pusharglist 1 ........................... <tSourceURL>
  [ 18] extcall 79 .............................. <voidp(tSourceURL)>
  [ 20] not ..................................... <not voidp(tSourceURL)>
  [ 21] jmpifz [ 96] ............................ if not voidp(tSourceURL) then
  [ 24] getparam 1 .............................. <tSourceURL>
  [ 26] pushcons 38 ............................. <"http">
  [ 28] contains0str ............................ <tSourceURL starts "http">
  [ 29] not ..................................... <not (tSourceURL starts "http")>
  [ 30] jmpifz [ 50] ............................ if not (tSourceURL starts "http") then
  [ 33] getparam 0 .............................. <me>
  [ 35] pushcons 60 ............................. <"Incorrect URL!">
  [ 37] pushsymb 14 ............................. <#getPurseAd>
  [ 39] pushsymb 318 ............................ <#minor>
  [ 42] pusharglist 4 ........................... <me, "Incorrect URL!", #getPurseAd, #minor>
  [ 44] extcall 172 ............................. <error(me, "Incorrect URL!", #getPurseAd, #minor)>
  [ 46] pusharglistnoret 1 ...................... <error(me, "Incorrect URL!", #getPurseAd, #minor)>
  [ 48] extcall 62 .............................. return error(me, "Incorrect URL!", #getPurseAd, #minor)
  [ 50] pushcons 61 ............................. <"purse-ad">
  [ 52] pusharglist 1 ........................... <"purse-ad">
  [ 54] extcall 173 ............................. <memberExists("purse-ad")>
  [ 56] not ..................................... <not memberExists("purse-ad")>
  [ 57] jmpifz [ 74] ............................ if not memberExists("purse-ad") then
  [ 60] getparam 1 .............................. <tSourceURL>
  [ 62] pushcons 61 ............................. <"purse-ad">
  [ 64] pushsymb 176 ............................ <#bitmap>
  [ 66] pushint8 1 .............................. <1>
  [ 68] pusharglist 4 ........................... <tSourceURL, "purse-ad", #bitmap, 1>
  [ 70] extcall 175 ............................. <queueDownload(tSourceURL, "purse-ad", #bitmap, 1)>
  [ 72] setprop 174 ............................. pAdMemNum = queueDownload(tSourceURL, "purse-ad", #bitmap, 1)
  [ 74] getparam 2 .............................. <tClickURL>
  [ 76] pushcons 38 ............................. <"http">
  [ 78] contains0str ............................ <tClickURL starts "http">
  [ 79] not ..................................... <not (tClickURL starts "http")>
  [ 80] jmpifz [ 92] ............................ if not (tClickURL starts "http") then / else
  [ 83] pusharglist 0 ........................... <>
  [ 85] extcall 52 .............................. <VOID>
  [ 87] setprop 177 ............................. pClickURL = VOID
  [ 89] jmp [ 96]
  [ 92] getparam 2 .............................. <tClickURL>
  [ 94] setprop 177 ............................. pClickURL = tClickURL
  [ 96] ret
end

on showPurseAd me
  [  0] getprop 26 .............................. <pWindowTitle>
  [  2] pusharglist 1 ........................... <pWindowTitle>
  [  4] extcall 81 .............................. <getWindow(pWindowTitle)>
  [  6] setlocal 0 .............................. tWndObj = getWindow(pWindowTitle)
  [  8] pushcons 61 ............................. <"purse-ad">
  [ 10] pusharglist 1 ........................... <"purse-ad">
  [ 12] extcall 173 ............................. <memberExists("purse-ad")>
  [ 14] getlocal 0 .............................. <tWndObj>
  [ 16] pushcons 62 ............................. <"trans_ad">
  [ 18] pusharglist 2 ........................... <tWndObj, "trans_ad">
  [ 20] objcall 95 .............................. <tWndObj.elementExists("trans_ad")>
  [ 22] and ..................................... <memberExists("purse-ad") and tWndObj.elementExists("trans_ad")>
  [ 23] jmpifz [333] ............................ if memberExists("purse-ad") and tWndObj.elementExists("trans_ad") then / else
  [ 26] getprop 26 .............................. <pWindowTitle>
  [ 28] pusharglist 1 ........................... <pWindowTitle>
  [ 30] extcall 81 .............................. <getWindow(pWindowTitle)>
  [ 32] setlocal 0 .............................. tWndObj = getWindow(pWindowTitle)
  [ 34] getlocal 0 .............................. <tWndObj>
  [ 36] pushcons 62 ............................. <"trans_ad">
  [ 38] pusharglist 2 ........................... <tWndObj, "trans_ad">
  [ 40] objcall 83 .............................. <tWndObj.getElement("trans_ad")>
  [ 42] setlocal 1 .............................. tElem = tWndObj.getElement("trans_ad")
  [ 44] getprop 174 ............................. <pAdMemNum>
  [ 46] pusharglist 1 ........................... <pAdMemNum>
  [ 48] extcall 97 .............................. <member(pAdMemNum)>
  [ 50] getobjprop 99 ........................... <member(pAdMemNum).image>
  [ 52] setlocal 2 .............................. tSourceImg = member(pAdMemNum).image
  [ 54] getlocal 1 .............................. <tElem>
  [ 56] pushsymb 99 ............................. <#image>
  [ 58] pusharglist 2 ........................... <tElem, #image>
  [ 60] objcall 120 ............................. <tElem.getProperty(#image)>
  [ 62] setlocal 3 .............................. tDestImg = tElem.getProperty(#image)
  [ 64] getlocal 3 .............................. <tDestImg>
  [ 66] getobjprop 121 .......................... <tDestImg.rect>
  [ 68] setlocal 4 .............................. tdestrect = tDestImg.rect
  [ 70] getlocal 2 .............................. <tSourceImg>
  [ 72] getobjprop 121 .......................... <tSourceImg.rect>
  [ 74] setlocal 5 .............................. tSourceRect = tSourceImg.rect
  [ 76] getlocal 4 .............................. <tdestrect>
  [ 78] pushint8 1 .............................. <1>
  [ 80] pusharglist 2 ........................... <tdestrect, 1>
  [ 82] objcall 119 ............................. <tdestrect[1]>
  [ 84] getlocal 4 .............................. <tdestrect>
  [ 86] pushint8 2 .............................. <2>
  [ 88] pusharglist 2 ........................... <tdestrect, 2>
  [ 90] objcall 119 ............................. <tdestrect[2]>
  [ 92] getlocal 4 .............................. <tdestrect>
  [ 94] pushint8 3 .............................. <3>
  [ 96] pusharglist 2 ........................... <tdestrect, 3>
  [ 98] objcall 119 ............................. <tdestrect[3]>
  [100] getlocal 4 .............................. <tdestrect>
  [102] pushint8 4 .............................. <4>
  [104] pusharglist 2 ........................... <tdestrect, 4>
  [106] objcall 119 ............................. <tdestrect[4]>
  [108] pusharglist 4 ........................... <tdestrect[1], tdestrect[2], tdestrect[3], tdestrect[4]>
  [110] extcall 121 ............................. <rect(tdestrect[1], tdestrect[2], tdestrect[3], tdestrect[4])>
  [112] setlocal 6 .............................. tRectList = rect(tdestrect[1], tdestrect[2], tdestrect[3], tdestrect[4])
  [114] getlocal 2 .............................. <tSourceImg>
  [116] getobjprop 102 .......................... <tSourceImg.width>
  [118] setlocal 7 .............................. tSrcWidth = tSourceImg.width
  [120] getlocal 3 .............................. <tDestImg>
  [122] getobjprop 102 .......................... <tDestImg.width>
  [124] setlocal 8 .............................. tDestWidth = tDestImg.width
  [126] getlocal 2 .............................. <tSourceImg>
  [128] getobjprop 103 .......................... <tSourceImg.height>
  [130] setlocal 9 .............................. tSrcHeight = tSourceImg.height
  [132] getlocal 3 .............................. <tDestImg>
  [134] getobjprop 103 .......................... <tDestImg.height>
  [136] setlocal 10 ............................. tDestHeight = tDestImg.height
  [138] getlocal 7 .............................. <tSrcWidth>
  [140] getlocal 8 .............................. <tDestWidth>
  [142] lt ...................................... <tSrcWidth < tDestWidth>
  [143] jmpifz [184] ............................ if tSrcWidth < tDestWidth then / else
  [146] getlocal 6 .............................. <tRectList>
  [148] pushint8 1 .............................. <1>
  [150] getlocal 8 .............................. <tDestWidth>
  [152] getlocal 7 .............................. <tSrcWidth>
  [154] sub ..................................... <tDestWidth - tSrcWidth>
  [155] pushint8 2 .............................. <2>
  [157] div ..................................... <(tDestWidth - tSrcWidth) / 2>
  [158] pusharglistnoret 3 ...................... <tRectList, 1, (tDestWidth - tSrcWidth) / 2>
  [160] objcall 179 ............................. tRectList[1] = (tDestWidth - tSrcWidth) / 2
  [162] getlocal 6 .............................. <tRectList>
  [164] pushint8 3 .............................. <3>
  [166] getlocal 8 .............................. <tDestWidth>
  [168] getlocal 8 .............................. <tDestWidth>
  [170] getlocal 7 .............................. <tSrcWidth>
  [172] sub ..................................... <tDestWidth - tSrcWidth>
  [173] pushint8 2 .............................. <2>
  [175] div ..................................... <(tDestWidth - tSrcWidth) / 2>
  [176] sub ..................................... <tDestWidth - ((tDestWidth - tSrcWidth) / 2)>
  [177] pusharglistnoret 3 ...................... <tRectList, 3, tDestWidth - ((tDestWidth - tSrcWidth) / 2)>
  [179] objcall 179 ............................. tRectList[3] = tDestWidth - ((tDestWidth - tSrcWidth) / 2)
  [181] jmp [224]
  [184] getlocal 7 .............................. <tSrcWidth>
  [186] getlocal 8 .............................. <tDestWidth>
  [188] gt ...................................... <tSrcWidth > tDestWidth>
  [189] jmpifz [224] ............................ if tSrcWidth > tDestWidth then
  [192] getlocal 5 .............................. <tSourceRect>
  [194] pushint8 1 .............................. <1>
  [196] getlocal 4 .............................. <tdestrect>
  [198] pushint8 1 .............................. <1>
  [200] pusharglist 2 ........................... <tdestrect, 1>
  [202] objcall 119 ............................. <tdestrect[1]>
  [204] pusharglistnoret 3 ...................... <tSourceRect, 1, tdestrect[1]>
  [206] objcall 179 ............................. tSourceRect[1] = tdestrect[1]
  [208] getlocal 5 .............................. <tSourceRect>
  [210] pushint8 3 .............................. <3>
  [212] getlocal 4 .............................. <tdestrect>
  [214] pushint8 3 .............................. <3>
  [216] pusharglist 2 ........................... <tdestrect, 3>
  [218] objcall 119 ............................. <tdestrect[3]>
  [220] pusharglistnoret 3 ...................... <tSourceRect, 3, tdestrect[3]>
  [222] objcall 179 ............................. tSourceRect[3] = tdestrect[3]
  [224] getlocal 9 .............................. <tSrcHeight>
  [226] getlocal 10 ............................. <tDestHeight>
  [228] lt ...................................... <tSrcHeight < tDestHeight>
  [229] jmpifz [270] ............................ if tSrcHeight < tDestHeight then / else
  [232] getlocal 6 .............................. <tRectList>
  [234] pushint8 2 .............................. <2>
  [236] getlocal 10 ............................. <tDestHeight>
  [238] getlocal 9 .............................. <tSrcHeight>
  [240] sub ..................................... <tDestHeight - tSrcHeight>
  [241] pushint8 2 .............................. <2>
  [243] div ..................................... <(tDestHeight - tSrcHeight) / 2>
  [244] pusharglistnoret 3 ...................... <tRectList, 2, (tDestHeight - tSrcHeight) / 2>
  [246] objcall 179 ............................. tRectList[2] = (tDestHeight - tSrcHeight) / 2
  [248] getlocal 6 .............................. <tRectList>
  [250] pushint8 4 .............................. <4>
  [252] getlocal 10 ............................. <tDestHeight>
  [254] getlocal 10 ............................. <tDestHeight>
  [256] getlocal 9 .............................. <tSrcHeight>
  [258] sub ..................................... <tDestHeight - tSrcHeight>
  [259] pushint8 2 .............................. <2>
  [261] div ..................................... <(tDestHeight - tSrcHeight) / 2>
  [262] sub ..................................... <tDestHeight - ((tDestHeight - tSrcHeight) / 2)>
  [263] pusharglistnoret 3 ...................... <tRectList, 4, tDestHeight - ((tDestHeight - tSrcHeight) / 2)>
  [265] objcall 179 ............................. tRectList[4] = tDestHeight - ((tDestHeight - tSrcHeight) / 2)
  [267] jmp [310]
  [270] getlocal 9 .............................. <tSrcHeight>
  [272] getlocal 10 ............................. <tDestHeight>
  [274] gt ...................................... <tSrcHeight > tDestHeight>
  [275] jmpifz [310] ............................ if tSrcHeight > tDestHeight then
  [278] getlocal 5 .............................. <tSourceRect>
  [280] pushint8 2 .............................. <2>
  [282] getlocal 4 .............................. <tdestrect>
  [284] pushint8 2 .............................. <2>
  [286] pusharglist 2 ........................... <tdestrect, 2>
  [288] objcall 119 ............................. <tdestrect[2]>
  [290] pusharglistnoret 3 ...................... <tSourceRect, 2, tdestrect[2]>
  [292] objcall 179 ............................. tSourceRect[2] = tdestrect[2]
  [294] getlocal 5 .............................. <tSourceRect>
  [296] pushint8 4 .............................. <4>
  [298] getlocal 4 .............................. <tdestrect>
  [300] pushint8 4 .............................. <4>
  [302] pusharglist 2 ........................... <tdestrect, 4>
  [304] objcall 119 ............................. <tdestrect[4]>
  [306] pusharglistnoret 3 ...................... <tSourceRect, 4, tdestrect[4]>
  [308] objcall 179 ............................. tSourceRect[4] = tdestrect[4]
  [310] getlocal 3 .............................. <tDestImg>
  [312] getlocal 2 .............................. <tSourceImg>
  [314] getlocal 6 .............................. <tRectList>
  [316] getlocal 5 .............................. <tSourceRect>
  [318] pusharglistnoret 4 ...................... <tDestImg, tSourceImg, tRectList, tSourceRect>
  [320] objcall 122 ............................. tDestImg.copyPixels(tSourceImg, tRectList, tSourceRect)
  [322] getlocal 1 .............................. <tElem>
  [324] getlocal 3 .............................. <tDestImg>
  [326] pusharglistnoret 2 ...................... <tElem, tDestImg>
  [328] objcall 123 ............................. tElem.feedImage(tDestImg)
  [330] jmp [338]
  [333] pushzero ................................ <0>
  [334] pusharglistnoret 1 ...................... <0>
  [336] extcall 62 .............................. return 0
  [338] ret
end

on changePurseWindowView me, tWindowName
  [  0] getparam 1 .............................. <tWindowName>
  [  2] pushcons 20 ............................. <"purse.window">
  [  4] eq ...................................... <tWindowName = "purse.window">
  [  5] jmpifz [ 28] ............................ if tWindowName = "purse.window" then / else
  [  8] getprop 26 .............................. <pWindowTitle>
  [ 10] getparam 1 .............................. <tWindowName>
  [ 12] pusharglist 2 ........................... <pWindowTitle, tWindowName>
  [ 14] extcall 111 ............................. <createWindow(pWindowTitle, tWindowName)>
  [ 16] not ..................................... <not createWindow(pWindowTitle, tWindowName)>
  [ 17] jmpifz [ 25] ............................ if not createWindow(pWindowTitle, tWindowName) then
  [ 20] pushzero ................................ <0>
  [ 21] pusharglistnoret 1 ...................... <0>
  [ 23] extcall 62 .............................. return 0
  [ 25] jmp [ 45]
  [ 28] getprop 26 .............................. <pWindowTitle>
  [ 30] pushcons 63 ............................. <"habbo_full.window">
  [ 32] pusharglist 2 ........................... <pWindowTitle, "habbo_full.window">
  [ 34] extcall 111 ............................. <createWindow(pWindowTitle, "habbo_full.window")>
  [ 36] not ..................................... <not createWindow(pWindowTitle, "habbo_full.window")>
  [ 37] jmpifz [ 45] ............................ if not createWindow(pWindowTitle, "habbo_full.window") then
  [ 40] pushzero ................................ <0>
  [ 41] pusharglistnoret 1 ...................... <0>
  [ 43] extcall 62 .............................. return 0
  [ 45] getprop 26 .............................. <pWindowTitle>
  [ 47] pusharglist 1 ........................... <pWindowTitle>
  [ 49] extcall 81 .............................. <getWindow(pWindowTitle)>
  [ 51] setlocal 0 .............................. tWndObj = getWindow(pWindowTitle)
  [ 53] getlocal 0 .............................. <tWndObj>
  [ 55] getparam 0 .............................. <me>
  [ 57] pusharglist 1 ........................... <me>
  [ 59] objcall 61 .............................. <me.getID()>
  [ 61] pusharglistnoret 2 ...................... <tWndObj, me.getID()>
  [ 63] objcall 189 ............................. tWndObj.registerClient(me.getID())
  [ 65] getlocal 0 .............................. <tWndObj>
  [ 67] pushsymb 25 ............................. <#eventProcPurse>
  [ 69] getparam 0 .............................. <me>
  [ 71] pusharglist 1 ........................... <me>
  [ 73] objcall 61 .............................. <me.getID()>
  [ 75] pushsymb 117 ............................ <#mouseUp>
  [ 77] pusharglistnoret 4 ...................... <tWndObj, #eventProcPurse, me.getID(), #mouseUp>
  [ 79] objcall 118 ............................. tWndObj.registerProcedure(#eventProcPurse, me.getID(), #mouseUp)
  [ 81] getlocal 0 .............................. <tWndObj>
  [ 83] pushsymb 25 ............................. <#eventProcPurse>
  [ 85] getparam 0 .............................. <me>
  [ 87] pusharglist 1 ........................... <me>
  [ 89] objcall 61 .............................. <me.getID()>
  [ 91] pushsymb 190 ............................ <#mouseDown>
  [ 93] pusharglistnoret 4 ...................... <tWndObj, #eventProcPurse, me.getID(), #mouseDown>
  [ 95] objcall 118 ............................. tWndObj.registerProcedure(#eventProcPurse, me.getID(), #mouseDown)
  [ 97] getlocal 0 .............................. <tWndObj>
  [ 99] pusharglistnoret 1 ...................... <tWndObj>
  [101] objcall 114 ............................. tWndObj.center()
  [103] getparam 1 .............................. <tWindowName>
  [105] setprop 191 ............................. pOpenWindow = tWindowName
  [107] getparam 1 .............................. <tWindowName>
  [109] peek 0 .................................. case tWindowName of
  [111] pushcons 20 ............................. <"purse.window">
  [113] eq
  [114] jmpifz [374] ............................ (case) "purse.window":
  [117] pushint8 1 .............................. <1>
  [119] setlocal 1 .............................. i = 1
  [121] pushint8 1 .............................. <1>
  [123] jmpifz [177] ............................ repeat while 1
  [126] getlocal 0 .............................. <tWndObj>
  [128] pushcons 64 ............................. <"fly_">
  [130] getlocal 1 .............................. <i>
  [132] joinstr ................................. <"fly_" & i>
  [133] pusharglist 2 ........................... <tWndObj, "fly_" & i>
  [135] objcall 95 .............................. <tWndObj.elementExists("fly_" & i)>
  [137] jmpifz [172] ............................ if tWndObj.elementExists("fly_" & i) then
  [140] getlocal 0 .............................. <tWndObj>
  [142] pushcons 64 ............................. <"fly_">
  [144] getlocal 1 .............................. <i>
  [146] joinstr ................................. <"fly_" & i>
  [147] pusharglist 2 ........................... <tWndObj, "fly_" & i>
  [149] objcall 83 .............................. <tWndObj.getElement("fly_" & i)>
  [151] setlocal 2 .............................. tElement = tWndObj.getElement("fly_" & i)
  [153] getlocal 2 .............................. <tElement>
  [155] pushsymb 192 ............................ <#visible>
  [157] pushzero ................................ <0>
  [158] pusharglistnoret 3 ...................... <tElement, #visible, 0>
  [160] objcall 85 .............................. tElement.setProperty(#visible, 0)
  [162] getlocal 1 .............................. <i>
  [164] pushint8 1 .............................. <1>
  [166] add ..................................... <i + 1>
  [167] setlocal 1 .............................. i = i + 1
  [169] jmp [175] ............................... next repeat
  [172] jmp [177] ............................... exit repeat
  [175] endrepeat [121]
  [177] pushcons 65 ............................. <"purse_youhave">
  [179] pushcons 66 ............................. <"You have">
  [181] pusharglist 2 ........................... <"purse_youhave", "You have">
  [183] extcall 27 .............................. <getText("purse_youhave", "You have")>
  [185] setlocal 3 .............................. tTxt1 = getText("purse_youhave", "You have")
  [187] getlocal 0 .............................. <tWndObj>
  [189] pushcons 67 ............................. <"youhave">
  [191] pusharglist 2 ........................... <tWndObj, "youhave">
  [193] objcall 95 .............................. <tWndObj.elementExists("youhave")>
  [195] jmpifz [212] ............................ if tWndObj.elementExists("youhave") then
  [198] getlocal 0 .............................. <tWndObj>
  [200] pushcons 67 ............................. <"youhave">
  [202] pusharglist 2 ........................... <tWndObj, "youhave">
  [204] objcall 83 .............................. <tWndObj.getElement("youhave")>
  [206] getlocal 3 .............................. <tTxt1>
  [208] pusharglistnoret 2 ...................... <tWndObj.getElement("youhave"), tTxt1>
  [210] objcall 105 ............................. tWndObj.getElement("youhave").setText(tTxt1)
  [212] getparam 0 .............................. <me>
  [214] pushcons 68 ............................. <"purse_amount">
  [216] pusharglist 2 ........................... <me, "purse_amount">
  [218] objcall 20 .............................. <me.checkSaldo("purse_amount")>
  [220] setlocal 4 .............................. tSaldo = me.checkSaldo("purse_amount")
  [222] pushcons 69 ............................. <"purse_coins">
  [224] pushcons 70 ............................. <"Habbo credits">
  [226] pusharglist 2 ........................... <"purse_coins", "Habbo credits">
  [228] extcall 27 .............................. <getText("purse_coins", "Habbo credits")>
  [230] setlocal 3 .............................. tTxt1 = getText("purse_coins", "Habbo credits")
  [232] getlocal 0 .............................. <tWndObj>
  [234] pushcons 71 ............................. <"coins">
  [236] pusharglist 2 ........................... <tWndObj, "coins">
  [238] objcall 95 .............................. <tWndObj.elementExists("coins")>
  [240] jmpifz [257] ............................ if tWndObj.elementExists("coins") then
  [243] getlocal 0 .............................. <tWndObj>
  [245] pushcons 71 ............................. <"coins">
  [247] pusharglist 2 ........................... <tWndObj, "coins">
  [249] objcall 83 .............................. <tWndObj.getElement("coins")>
  [251] getlocal 3 .............................. <tTxt1>
  [253] pusharglistnoret 2 ...................... <tWndObj.getElement("coins"), tTxt1>
  [255] objcall 105 ............................. tWndObj.getElement("coins").setText(tTxt1)
  [257] pushsymb 56 ............................. <#session>
  [259] pusharglist 1 ........................... <#session>
  [261] extcall 55 .............................. <getObject(#session)>
  [263] pushsymb 193 ............................ <#userName>
  [265] pusharglist 2 ........................... <getObject(#session), #userName>
  [267] objcall 194 ............................. <getObject(#session).get(#userName)>
  [269] setlocal 5 .............................. tMyName = getObject(#session).get(#userName)
  [271] getlocal 0 .............................. <tWndObj>
  [273] pushcons 72 ............................. <"purse_name">
  [275] pusharglist 2 ........................... <tWndObj, "purse_name">
  [277] objcall 95 .............................. <tWndObj.elementExists("purse_name")>
  [279] jmpifz [296] ............................ if tWndObj.elementExists("purse_name") then
  [282] getlocal 0 .............................. <tWndObj>
  [284] pushcons 72 ............................. <"purse_name">
  [286] pusharglist 2 ........................... <tWndObj, "purse_name">
  [288] objcall 83 .............................. <tWndObj.getElement("purse_name")>
  [290] getlocal 5 .............................. <tMyName>
  [292] pusharglistnoret 2 ...................... <tWndObj.getElement("purse_name"), tMyName>
  [294] objcall 105 ............................. tWndObj.getElement("purse_name").setText(tMyName)
  [296] pushsymb 56 ............................. <#session>
  [298] pusharglist 1 ........................... <#session>
  [300] extcall 55 .............................. <getObject(#session)>
  [302] pushcons 73 ............................. <"conf_voucher">
  [304] pusharglist 2 ........................... <getObject(#session), "conf_voucher">
  [306] objcall 194 ............................. <getObject(#session).get("conf_voucher")>
  [308] not ..................................... <not getObject(#session).get("conf_voucher")>
  [309] jmpifz [343] ............................ if not getObject(#session).get("conf_voucher") then
  [312] getlocal 0 .............................. <tWndObj>
  [314] pushcons 74 ............................. <"purse_voucher">
  [316] pusharglist 2 ........................... <tWndObj, "purse_voucher">
  [318] objcall 83 .............................. <tWndObj.getElement("purse_voucher")>
  [320] pushsymb 84 ............................. <#blend>
  [322] pushint8 50 ............................. <50>
  [324] pusharglistnoret 3 ...................... <tWndObj.getElement("purse_voucher"), #blend, 50>
  [326] objcall 85 .............................. tWndObj.getElement("purse_voucher").setProperty(#blend, 50)
  [328] getlocal 0 .............................. <tWndObj>
  [330] pushcons 74 ............................. <"purse_voucher">
  [332] pusharglist 2 ........................... <tWndObj, "purse_voucher">
  [334] objcall 83 .............................. <tWndObj.getElement("purse_voucher")>
  [336] pushsymb 108 ............................ <#cursor>
  [338] pushzero ................................ <0>
  [339] pusharglistnoret 3 ...................... <tWndObj.getElement("purse_voucher"), #cursor, 0>
  [341] objcall 85 .............................. tWndObj.getElement("purse_voucher").setProperty(#cursor, 0)
  [343] getparam 0 .............................. <me>
  [345] getlocal 4 .............................. <tSaldo>
  [347] pusharglistnoret 2 ...................... <me, tSaldo>
  [349] objcall 17 .............................. me.drawPurseCoins(tSaldo)
  [351] getparam 0 .............................. <me>
  [353] pusharglistnoret 1 ...................... <me>
  [355] objcall 23 .............................. me.updatePurseTickets()
  [357] getparam 0 .............................. <me>
  [359] pusharglistnoret 1 ...................... <me>
  [361] objcall 24 .............................. me.updatePurseFilm()
  [363] pop 1
  [365] pushint8 1 .............................. <1>
  [367] pusharglistnoret 1 ...................... <1>
  [369] extcall 62 .............................. return 1
  [371] jmp [1826]
  [374] peek 0
  [376] pushcons 75 ............................. <"PurseTransactions2.window">
  [378] eq
  [379] jmpifz [943] ............................ (case) "PurseTransactions2.window":
  [382] getlocal 0 .............................. <tWndObj>
  [384] pushcons 75 ............................. <"PurseTransactions2.window">
  [386] pusharglist 2 ........................... <tWndObj, "PurseTransactions2.window">
  [388] objcall 112 ............................. <tWndObj.merge("PurseTransactions2.window")>
  [390] not ..................................... <not tWndObj.merge("PurseTransactions2.window")>
  [391] jmpifz [406] ............................ if not tWndObj.merge("PurseTransactions2.window") then
  [394] pop 1
  [396] getlocal 0 .............................. <tWndObj>
  [398] pusharglist 1 ........................... <tWndObj>
  [400] objcall 113 ............................. <tWndObj.close()>
  [402] pusharglistnoret 1 ...................... <tWndObj.close()>
  [404] extcall 62 .............................. return tWndObj.close()
  [406] getlocal 0 .............................. <tWndObj>
  [408] pusharglistnoret 1 ...................... <tWndObj>
  [410] objcall 114 ............................. tWndObj.center()
  [412] getlocal 0 .............................. <tWndObj>
  [414] pushsymb 25 ............................. <#eventProcPurse>
  [416] getparam 0 .............................. <me>
  [418] pusharglist 1 ........................... <me>
  [420] objcall 61 .............................. <me.getID()>
  [422] pushsymb 195 ............................ <#mouseEnter>
  [424] pusharglistnoret 4 ...................... <tWndObj, #eventProcPurse, me.getID(), #mouseEnter>
  [426] objcall 118 ............................. tWndObj.registerProcedure(#eventProcPurse, me.getID(), #mouseEnter)
  [428] getlocal 0 .............................. <tWndObj>
  [430] pushsymb 25 ............................. <#eventProcPurse>
  [432] getparam 0 .............................. <me>
  [434] pusharglist 1 ........................... <me>
  [436] objcall 61 .............................. <me.getID()>
  [438] pushsymb 196 ............................ <#mouseWithin>
  [440] pusharglistnoret 4 ...................... <tWndObj, #eventProcPurse, me.getID(), #mouseWithin>
  [442] objcall 118 ............................. tWndObj.registerProcedure(#eventProcPurse, me.getID(), #mouseWithin)
  [444] getlocal 0 .............................. <tWndObj>
  [446] pushsymb 25 ............................. <#eventProcPurse>
  [448] getparam 0 .............................. <me>
  [450] pusharglist 1 ........................... <me>
  [452] objcall 61 .............................. <me.getID()>
  [454] pushsymb 197 ............................ <#mouseLeave>
  [456] pusharglistnoret 4 ...................... <tWndObj, #eventProcPurse, me.getID(), #mouseLeave>
  [458] objcall 118 ............................. tWndObj.registerProcedure(#eventProcPurse, me.getID(), #mouseLeave)
  [460] getparam 0 .............................. <me>
  [462] pusharglistnoret 1 ...................... <me>
  [464] objcall 15 .............................. me.showPurseAd()
  [466] pushcons 76 ............................. <"Figure_Preview">
  [468] pusharglist 1 ........................... <"Figure_Preview">
  [470] extcall 198 ............................. <objectExists("Figure_Preview")>
  [472] jmpifz [492] ............................ if objectExists("Figure_Preview") then
  [475] pushcons 76 ............................. <"Figure_Preview">
  [477] pusharglist 1 ........................... <"Figure_Preview">
  [479] extcall 55 .............................. <getObject("Figure_Preview")>
  [481] getprop 26 .............................. <pWindowTitle>
  [483] pushcons 77 ............................. <"habbo_head">
  [485] pushsymb 319 ............................ <#head>
  [488] pusharglistnoret 4 ...................... <getObject("Figure_Preview"), pWindowTitle, "habbo_head", #head>
  [490] objcall 199 ............................. getObject("Figure_Preview").createHumanPartPreview(pWindowTitle, "habbo_head", #head)
  [492] getlocal 0 .............................. <tWndObj>
  [494] pushcons 78 ............................. <"header_name">
  [496] pusharglist 2 ........................... <tWndObj, "header_name">
  [498] objcall 95 .............................. <tWndObj.elementExists("header_name")>
  [500] jmpifz [527] ............................ if tWndObj.elementExists("header_name") then
  [503] getlocal 0 .............................. <tWndObj>
  [505] pushcons 78 ............................. <"header_name">
  [507] pusharglist 2 ........................... <tWndObj, "header_name">
  [509] objcall 83 .............................. <tWndObj.getElement("header_name")>
  [511] pushsymb 56 ............................. <#session>
  [513] pusharglist 1 ........................... <#session>
  [515] extcall 55 .............................. <getObject(#session)>
  [517] pushcons 79 ............................. <"user_name">
  [519] pusharglist 2 ........................... <getObject(#session), "user_name">
  [521] objcall 194 ............................. <getObject(#session).get("user_name")>
  [523] pusharglistnoret 2 ...................... <tWndObj.getElement("header_name"), getObject(#session).get("user_name")>
  [525] objcall 105 ............................. tWndObj.getElement("header_name").setText(getObject(#session).get("user_name"))
  [527] pushcons 80 ............................. <"purse_date">
  [529] pushcons 81 ............................. <"DATE">
  [531] pusharglist 2 ........................... <"purse_date", "DATE">
  [533] extcall 27 .............................. <getText("purse_date", "DATE")>
  [535] setlocal 3 .............................. tTxt1 = getText("purse_date", "DATE")
  [537] getlocal 0 .............................. <tWndObj>
  [539] pushcons 82 ............................. <"taction_date">
  [541] pusharglist 2 ........................... <tWndObj, "taction_date">
  [543] objcall 95 .............................. <tWndObj.elementExists("taction_date")>
  [545] jmpifz [562] ............................ if tWndObj.elementExists("taction_date") then
  [548] getlocal 0 .............................. <tWndObj>
  [550] pushcons 82 ............................. <"taction_date">
  [552] pusharglist 2 ........................... <tWndObj, "taction_date">
  [554] objcall 83 .............................. <tWndObj.getElement("taction_date")>
  [556] getlocal 3 .............................. <tTxt1>
  [558] pusharglistnoret 2 ...................... <tWndObj.getElement("taction_date"), tTxt1>
  [560] objcall 105 ............................. tWndObj.getElement("taction_date").setText(tTxt1)
  [562] pushcons 83 ............................. <"purse_time">
  [564] pushcons 84 ............................. <"TIME">
  [566] pusharglist 2 ........................... <"purse_time", "TIME">
  [568] extcall 27 .............................. <getText("purse_time", "TIME")>
  [570] setlocal 3 .............................. tTxt1 = getText("purse_time", "TIME")
  [572] getlocal 0 .............................. <tWndObj>
  [574] pushcons 85 ............................. <"taction_time">
  [576] pusharglist 2 ........................... <tWndObj, "taction_time">
  [578] objcall 95 .............................. <tWndObj.elementExists("taction_time")>
  [580] jmpifz [597] ............................ if tWndObj.elementExists("taction_time") then
  [583] getlocal 0 .............................. <tWndObj>
  [585] pushcons 85 ............................. <"taction_time">
  [587] pusharglist 2 ........................... <tWndObj, "taction_time">
  [589] objcall 83 .............................. <tWndObj.getElement("taction_time")>
  [591] getlocal 3 .............................. <tTxt1>
  [593] pusharglistnoret 2 ...................... <tWndObj.getElement("taction_time"), tTxt1>
  [595] objcall 105 ............................. tWndObj.getElement("taction_time").setText(tTxt1)
  [597] pushcons 86 ............................. <"purse_event">
  [599] pushcons 87 ............................. <"EVENT">
  [601] pusharglist 2 ........................... <"purse_event", "EVENT">
  [603] extcall 27 .............................. <getText("purse_event", "EVENT")>
  [605] setlocal 3 .............................. tTxt1 = getText("purse_event", "EVENT")
  [607] getlocal 0 .............................. <tWndObj>
  [609] pushcons 88 ............................. <"taction_event">
  [611] pusharglist 2 ........................... <tWndObj, "taction_event">
  [613] objcall 95 .............................. <tWndObj.elementExists("taction_event")>
  [615] jmpifz [632] ............................ if tWndObj.elementExists("taction_event") then
  [618] getlocal 0 .............................. <tWndObj>
  [620] pushcons 88 ............................. <"taction_event">
  [622] pusharglist 2 ........................... <tWndObj, "taction_event">
  [624] objcall 83 .............................. <tWndObj.getElement("taction_event")>
  [626] getlocal 3 .............................. <tTxt1>
  [628] pusharglistnoret 2 ...................... <tWndObj.getElement("taction_event"), tTxt1>
  [630] objcall 105 ............................. tWndObj.getElement("taction_event").setText(tTxt1)
  [632] pushcons 89 ............................. <"purse_info">
  [634] pushcons 90 ............................. <"DESCRIPTION">
  [636] pusharglist 2 ........................... <"purse_info", "DESCRIPTION">
  [638] extcall 27 .............................. <getText("purse_info", "DESCRIPTION")>
  [640] setlocal 3 .............................. tTxt1 = getText("purse_info", "DESCRIPTION")
  [642] getlocal 0 .............................. <tWndObj>
  [644] pushcons 91 ............................. <"taction_info">
  [646] pusharglist 2 ........................... <tWndObj, "taction_info">
  [648] objcall 95 .............................. <tWndObj.elementExists("taction_info")>
  [650] jmpifz [667] ............................ if tWndObj.elementExists("taction_info") then
  [653] getlocal 0 .............................. <tWndObj>
  [655] pushcons 91 ............................. <"taction_info">
  [657] pusharglist 2 ........................... <tWndObj, "taction_info">
  [659] objcall 83 .............................. <tWndObj.getElement("taction_info")>
  [661] getlocal 3 .............................. <tTxt1>
  [663] pusharglistnoret 2 ...................... <tWndObj.getElement("taction_info"), tTxt1>
  [665] objcall 105 ............................. tWndObj.getElement("taction_info").setText(tTxt1)
  [667] pushcons 92 ............................. <"purse_value">
  [669] pushcons 93 ............................. <"VALUE">
  [671] pusharglist 2 ........................... <"purse_value", "VALUE">
  [673] extcall 27 .............................. <getText("purse_value", "VALUE")>
  [675] setlocal 3 .............................. tTxt1 = getText("purse_value", "VALUE")
  [677] getlocal 0 .............................. <tWndObj>
  [679] pushcons 94 ............................. <"taction_value">
  [681] pusharglist 2 ........................... <tWndObj, "taction_value">
  [683] objcall 95 .............................. <tWndObj.elementExists("taction_value")>
  [685] jmpifz [702] ............................ if tWndObj.elementExists("taction_value") then
  [688] getlocal 0 .............................. <tWndObj>
  [690] pushcons 94 ............................. <"taction_value">
  [692] pusharglist 2 ........................... <tWndObj, "taction_value">
  [694] objcall 83 .............................. <tWndObj.getElement("taction_value")>
  [696] getlocal 3 .............................. <tTxt1>
  [698] pusharglistnoret 2 ...................... <tWndObj.getElement("taction_value"), tTxt1>
  [700] objcall 105 ............................. tWndObj.getElement("taction_value").setText(tTxt1)
  [702] pushsymb 56 ............................. <#session>
  [704] pusharglist 1 ........................... <#session>
  [706] extcall 55 .............................. <getObject(#session)>
  [708] pushsymb 193 ............................ <#userName>
  [710] pusharglist 2 ........................... <getObject(#session), #userName>
  [712] objcall 194 ............................. <getObject(#session).get(#userName)>
  [714] setlocal 5 .............................. tMyName = getObject(#session).get(#userName)
  [716] getlocal 0 .............................. <tWndObj>
  [718] pushcons 95 ............................. <"taction_name">
  [720] pusharglist 2 ........................... <tWndObj, "taction_name">
  [722] objcall 95 .............................. <tWndObj.elementExists("taction_name")>
  [724] jmpifz [870] ............................ if tWndObj.elementExists("taction_name") then
  [727] getprop 35 .............................. <pPurseBigTextWriterID>
  [729] pusharglist 1 ........................... <pPurseBigTextWriterID>
  [731] extcall 148 ............................. <getWriter(pPurseBigTextWriterID)>
  [733] setlocal 6 .............................. tWriteObj = getWriter(pPurseBigTextWriterID)
  [735] getlocal 0 .............................. <tWndObj>
  [737] pushcons 95 ............................. <"taction_name">
  [739] pusharglist 2 ........................... <tWndObj, "taction_name">
  [741] objcall 83 .............................. <tWndObj.getElement("taction_name")>
  [743] setlocal 7 .............................. tElem = tWndObj.getElement("taction_name")
  [745] getlocal 7 .............................. <tElem>
  [747] pushsymb 102 ............................ <#width>
  [749] pusharglist 2 ........................... <tElem, #width>
  [751] objcall 120 ............................. <tElem.getProperty(#width)>
  [753] setlocal 8 .............................. tWidth = tElem.getProperty(#width)
  [755] getlocal 7 .............................. <tElem>
  [757] pushsymb 103 ............................ <#height>
  [759] pusharglist 2 ........................... <tElem, #height>
  [761] objcall 120 ............................. <tElem.getProperty(#height)>
  [763] setlocal 9 .............................. tHeight = tElem.getProperty(#height)
  [765] getlocal 5 .............................. <tMyName>
  [767] setlocal 10 ............................. tText = tMyName
  [769] getlocal 6 .............................. <tWriteObj>
  [771] getlocal 10 ............................. <tText>
  [773] pusharglist 2 ........................... <tWriteObj, tText>
  [775] objcall 151 ............................. <tWriteObj.render(tText)>
  [777] setlocal 11 ............................. tPageImg = tWriteObj.render(tText)
  [779] getlocal 11 ............................. <tPageImg>
  [781] getobjprop 103 .......................... <tPageImg.height>
  [783] setlocal 12 ............................. tImgHeight = tPageImg.height
  [785] getlocal 8 .............................. <tWidth>
  [787] getlocal 12 ............................. <tImgHeight>
  [789] pushint8 8 .............................. <8>
  [791] pusharglist 3 ........................... <tWidth, tImgHeight, 8>
  [793] extcall 99 .............................. <image(tWidth, tImgHeight, 8)>
  [795] setlocal 13 ............................. tPageListImg = image(tWidth, tImgHeight, 8)
  [797] getlocal 11 ............................. <tPageImg>
  [799] getobjprop 102 .......................... <tPageImg.width>
  [801] setlocal 14 ............................. tX2 = tPageImg.width
  [803] getlocal 9 .............................. <tHeight>
  [805] getlocal 11 ............................. <tPageImg>
  [807] getobjprop 103 .......................... <tPageImg.height>
  [809] sub ..................................... <tHeight - tPageImg.height>
  [810] pushint8 2 .............................. <2>
  [812] div ..................................... <(tHeight - tPageImg.height) / 2>
  [813] setlocal 15 ............................. tY1 = (tHeight - tPageImg.height) / 2
  [815] getlocal 15 ............................. <tY1>
  [817] getlocal 11 ............................. <tPageImg>
  [819] getobjprop 103 .......................... <tPageImg.height>
  [821] add ..................................... <tY1 + tPageImg.height>
  [822] setlocal 16 ............................. tY2 = tY1 + tPageImg.height
  [824] pushzero ................................ <0>
  [825] getlocal 15 ............................. <tY1>
  [827] getlocal 14 ............................. <tX2>
  [829] getlocal 16 ............................. <tY2>
  [831] pusharglist 4 ........................... <0, tY1, tX2, tY2>
  [833] extcall 121 ............................. <rect(0, tY1, tX2, tY2)>
  [835] setlocal 17 ............................. tDstRect = rect(0, tY1, tX2, tY2)
  [837] getlocal 13 ............................. <tPageListImg>
  [839] getlocal 11 ............................. <tPageImg>
  [841] getlocal 17 ............................. <tDstRect>
  [843] getlocal 11 ............................. <tPageImg>
  [845] getobjprop 121 .......................... <tPageImg.rect>
  [847] pushsymb 200 ............................ <#ink>
  [849] pushint8 36 ............................. <36>
  [851] pusharglist 2 ........................... <[#ink: 36]>
  [853] pushproplist ............................ <[#ink: 36]>
  [854] pusharglistnoret 5 ...................... <tPageListImg, tPageImg, tDstRect, tPageImg.rect, [#ink: 36]>
  [856] objcall 122 ............................. tPageListImg.copyPixels(tPageImg, tDstRect, tPageImg.rect, [#ink: 36])
  [858] getlocal 7 .............................. <tElem>
  [860] getlocal 13 ............................. <tPageListImg>
  [862] pusharglist 1 ........................... <tPageListImg>
  [864] objcall 153 ............................. <tPageListImg.duplicate()>
  [866] pusharglistnoret 2 ...................... <tElem, tPageListImg.duplicate()>
  [868] objcall 123 ............................. tElem.feedImage(tPageListImg.duplicate())
  [870] pushcons 96 ............................. <"purse_note">
  [872] pushcons 97 ............................. <"Note this!">
  [874] pusharglist 2 ........................... <"purse_note", "Note this!">
  [876] extcall 27 .............................. <getText("purse_note", "Note this!")>
  [878] setlocal 3 .............................. tTxt1 = getText("purse_note", "Note this!")
  [880] getlocal 0 .............................. <tWndObj>
  [882] pushcons 98 ............................. <"tactions_note">
  [884] pusharglist 2 ........................... <tWndObj, "tactions_note">
  [886] objcall 95 .............................. <tWndObj.elementExists("tactions_note")>
  [888] jmpifz [905] ............................ if tWndObj.elementExists("tactions_note") then
  [891] getlocal 0 .............................. <tWndObj>
  [893] pushcons 98 ............................. <"tactions_note">
  [895] pusharglist 2 ........................... <tWndObj, "tactions_note">
  [897] objcall 83 .............................. <tWndObj.getElement("tactions_note")>
  [899] getlocal 3 .............................. <tTxt1>
  [901] pusharglistnoret 2 ...................... <tWndObj.getElement("tactions_note"), tTxt1>
  [903] objcall 105 ............................. tWndObj.getElement("tactions_note").setText(tTxt1)
  [905] pushcons 23 ............................. <"loading">
  [907] pushcons 23 ............................. <"loading">
  [909] pusharglist 2 ........................... <"loading", "loading">
  [911] extcall 27 .............................. <getText("loading", "loading")>
  [913] setlocal 3 .............................. tTxt1 = getText("loading", "loading")
  [915] getlocal 0 .............................. <tWndObj>
  [917] pushcons 23 ............................. <"loading">
  [919] pusharglist 2 ........................... <tWndObj, "loading">
  [921] objcall 95 .............................. <tWndObj.elementExists("loading")>
  [923] jmpifz [940] ............................ if tWndObj.elementExists("loading") then
  [926] getlocal 0 .............................. <tWndObj>
  [928] pushcons 23 ............................. <"loading">
  [930] pusharglist 2 ........................... <tWndObj, "loading">
  [932] objcall 83 .............................. <tWndObj.getElement("loading")>
  [934] getlocal 3 .............................. <tTxt1>
  [936] pusharglistnoret 2 ...................... <tWndObj.getElement("loading"), tTxt1>
  [938] objcall 105 ............................. tWndObj.getElement("loading").setText(tTxt1)
  [940] jmp [1826]
  [943] peek 0
  [945] pushcons 99 ............................. <"PurseTransactions.window">
  [947] eq
  [948] jmpifz [1451] ........................... (case) "PurseTransactions.window":
  [951] getlocal 0 .............................. <tWndObj>
  [953] pushcons 99 ............................. <"PurseTransactions.window">
  [955] pusharglist 2 ........................... <tWndObj, "PurseTransactions.window">
  [957] objcall 112 ............................. <tWndObj.merge("PurseTransactions.window")>
  [959] not ..................................... <not tWndObj.merge("PurseTransactions.window")>
  [960] jmpifz [975] ............................ if not tWndObj.merge("PurseTransactions.window") then
  [963] pop 1
  [965] getlocal 0 .............................. <tWndObj>
  [967] pusharglist 1 ........................... <tWndObj>
  [969] objcall 113 ............................. <tWndObj.close()>
  [971] pusharglistnoret 1 ...................... <tWndObj.close()>
  [973] extcall 62 .............................. return tWndObj.close()
  [975] getlocal 0 .............................. <tWndObj>
  [977] pusharglistnoret 1 ...................... <tWndObj>
  [979] objcall 114 ............................. tWndObj.center()
  [981] getlocal 0 .............................. <tWndObj>
  [983] pushsymb 25 ............................. <#eventProcPurse>
  [985] getparam 0 .............................. <me>
  [987] pusharglist 1 ........................... <me>
  [989] objcall 61 .............................. <me.getID()>
  [991] pushsymb 195 ............................ <#mouseEnter>
  [993] pusharglistnoret 4 ...................... <tWndObj, #eventProcPurse, me.getID(), #mouseEnter>
  [995] objcall 118 ............................. tWndObj.registerProcedure(#eventProcPurse, me.getID(), #mouseEnter)
  [997] getlocal 0 .............................. <tWndObj>
  [999] pushsymb 25 ............................. <#eventProcPurse>
  [1001] getparam 0 ............................. <me>
  [1003] pusharglist 1 .......................... <me>
  [1005] objcall 61 ............................. <me.getID()>
  [1007] pushsymb 196 ........................... <#mouseWithin>
  [1009] pusharglistnoret 4 ..................... <tWndObj, #eventProcPurse, me.getID(), #mouseWithin>
  [1011] objcall 118 ............................ tWndObj.registerProcedure(#eventProcPurse, me.getID(), #mouseWithin)
  [1013] getlocal 0 ............................. <tWndObj>
  [1015] pushsymb 25 ............................ <#eventProcPurse>
  [1017] getparam 0 ............................. <me>
  [1019] pusharglist 1 .......................... <me>
  [1021] objcall 61 ............................. <me.getID()>
  [1023] pushsymb 197 ........................... <#mouseLeave>
  [1025] pusharglistnoret 4 ..................... <tWndObj, #eventProcPurse, me.getID(), #mouseLeave>
  [1027] objcall 118 ............................ tWndObj.registerProcedure(#eventProcPurse, me.getID(), #mouseLeave)
  [1029] getparam 0 ............................. <me>
  [1031] pusharglistnoret 1 ..................... <me>
  [1033] objcall 15 ............................. me.showPurseAd()
  [1035] pushcons 100 ........................... <"purse_head">
  [1037] pushcons 101 ........................... <"ACCOUNT TRANSACTIONS">
  [1039] pusharglist 2 .......................... <"purse_head", "ACCOUNT TRANSACTIONS">
  [1041] extcall 27 ............................. <getText("purse_head", "ACCOUNT TRANSACTIONS")>
  [1043] setlocal 3 ............................. tTxt1 = getText("purse_head", "ACCOUNT TRANSACTIONS")
  [1045] getlocal 0 ............................. <tWndObj>
  [1047] pushcons 102 ........................... <"header2">
  [1049] pusharglist 2 .......................... <tWndObj, "header2">
  [1051] objcall 95 ............................. <tWndObj.elementExists("header2")>
  [1053] jmpifz [1070] .......................... if tWndObj.elementExists("header2") then
  [1056] getlocal 0 ............................. <tWndObj>
  [1058] pushcons 102 ........................... <"header2">
  [1060] pusharglist 2 .......................... <tWndObj, "header2">
  [1062] objcall 83 ............................. <tWndObj.getElement("header2")>
  [1064] getlocal 3 ............................. <tTxt1>
  [1066] pusharglistnoret 2 ..................... <tWndObj.getElement("header2"), tTxt1>
  [1068] objcall 105 ............................ tWndObj.getElement("header2").setText(tTxt1)
  [1070] pushcons 80 ............................ <"purse_date">
  [1072] pushcons 81 ............................ <"DATE">
  [1074] pusharglist 2 .......................... <"purse_date", "DATE">
  [1076] extcall 27 ............................. <getText("purse_date", "DATE")>
  [1078] setlocal 3 ............................. tTxt1 = getText("purse_date", "DATE")
  [1080] getlocal 0 ............................. <tWndObj>
  [1082] pushcons 82 ............................ <"taction_date">
  [1084] pusharglist 2 .......................... <tWndObj, "taction_date">
  [1086] objcall 95 ............................. <tWndObj.elementExists("taction_date")>
  [1088] jmpifz [1105] .......................... if tWndObj.elementExists("taction_date") then
  [1091] getlocal 0 ............................. <tWndObj>
  [1093] pushcons 82 ............................ <"taction_date">
  [1095] pusharglist 2 .......................... <tWndObj, "taction_date">
  [1097] objcall 83 ............................. <tWndObj.getElement("taction_date")>
  [1099] getlocal 3 ............................. <tTxt1>
  [1101] pusharglistnoret 2 ..................... <tWndObj.getElement("taction_date"), tTxt1>
  [1103] objcall 105 ............................ tWndObj.getElement("taction_date").setText(tTxt1)
  [1105] pushcons 83 ............................ <"purse_time">
  [1107] pushcons 84 ............................ <"TIME">
  [1109] pusharglist 2 .......................... <"purse_time", "TIME">
  [1111] extcall 27 ............................. <getText("purse_time", "TIME")>
  [1113] setlocal 3 ............................. tTxt1 = getText("purse_time", "TIME")
  [1115] getlocal 0 ............................. <tWndObj>
  [1117] pushcons 85 ............................ <"taction_time">
  [1119] pusharglist 2 .......................... <tWndObj, "taction_time">
  [1121] objcall 95 ............................. <tWndObj.elementExists("taction_time")>
  [1123] jmpifz [1140] .......................... if tWndObj.elementExists("taction_time") then
  [1126] getlocal 0 ............................. <tWndObj>
  [1128] pushcons 85 ............................ <"taction_time">
  [1130] pusharglist 2 .......................... <tWndObj, "taction_time">
  [1132] objcall 83 ............................. <tWndObj.getElement("taction_time")>
  [1134] getlocal 3 ............................. <tTxt1>
  [1136] pusharglistnoret 2 ..................... <tWndObj.getElement("taction_time"), tTxt1>
  [1138] objcall 105 ............................ tWndObj.getElement("taction_time").setText(tTxt1)
  [1140] pushcons 86 ............................ <"purse_event">
  [1142] pushcons 87 ............................ <"EVENT">
  [1144] pusharglist 2 .......................... <"purse_event", "EVENT">
  [1146] extcall 27 ............................. <getText("purse_event", "EVENT")>
  [1148] setlocal 3 ............................. tTxt1 = getText("purse_event", "EVENT")
  [1150] getlocal 0 ............................. <tWndObj>
  [1152] pushcons 88 ............................ <"taction_event">
  [1154] pusharglist 2 .......................... <tWndObj, "taction_event">
  [1156] objcall 95 ............................. <tWndObj.elementExists("taction_event")>
  [1158] jmpifz [1175] .......................... if tWndObj.elementExists("taction_event") then
  [1161] getlocal 0 ............................. <tWndObj>
  [1163] pushcons 88 ............................ <"taction_event">
  [1165] pusharglist 2 .......................... <tWndObj, "taction_event">
  [1167] objcall 83 ............................. <tWndObj.getElement("taction_event")>
  [1169] getlocal 3 ............................. <tTxt1>
  [1171] pusharglistnoret 2 ..................... <tWndObj.getElement("taction_event"), tTxt1>
  [1173] objcall 105 ............................ tWndObj.getElement("taction_event").setText(tTxt1)
  [1175] pushcons 89 ............................ <"purse_info">
  [1177] pushcons 90 ............................ <"DESCRIPTION">
  [1179] pusharglist 2 .......................... <"purse_info", "DESCRIPTION">
  [1181] extcall 27 ............................. <getText("purse_info", "DESCRIPTION")>
  [1183] setlocal 3 ............................. tTxt1 = getText("purse_info", "DESCRIPTION")
  [1185] getlocal 0 ............................. <tWndObj>
  [1187] pushcons 91 ............................ <"taction_info">
  [1189] pusharglist 2 .......................... <tWndObj, "taction_info">
  [1191] objcall 95 ............................. <tWndObj.elementExists("taction_info")>
  [1193] jmpifz [1210] .......................... if tWndObj.elementExists("taction_info") then
  [1196] getlocal 0 ............................. <tWndObj>
  [1198] pushcons 91 ............................ <"taction_info">
  [1200] pusharglist 2 .......................... <tWndObj, "taction_info">
  [1202] objcall 83 ............................. <tWndObj.getElement("taction_info")>
  [1204] getlocal 3 ............................. <tTxt1>
  [1206] pusharglistnoret 2 ..................... <tWndObj.getElement("taction_info"), tTxt1>
  [1208] objcall 105 ............................ tWndObj.getElement("taction_info").setText(tTxt1)
  [1210] pushsymb 56 ............................ <#session>
  [1212] pusharglist 1 .......................... <#session>
  [1214] extcall 55 ............................. <getObject(#session)>
  [1216] pushsymb 193 ........................... <#userName>
  [1218] pusharglist 2 .......................... <getObject(#session), #userName>
  [1220] objcall 194 ............................ <getObject(#session).get(#userName)>
  [1222] setlocal 5 ............................. tMyName = getObject(#session).get(#userName)
  [1224] getlocal 0 ............................. <tWndObj>
  [1226] pushcons 95 ............................ <"taction_name">
  [1228] pusharglist 2 .......................... <tWndObj, "taction_name">
  [1230] objcall 95 ............................. <tWndObj.elementExists("taction_name")>
  [1232] jmpifz [1378] .......................... if tWndObj.elementExists("taction_name") then
  [1235] getprop 35 ............................. <pPurseBigTextWriterID>
  [1237] pusharglist 1 .......................... <pPurseBigTextWriterID>
  [1239] extcall 148 ............................ <getWriter(pPurseBigTextWriterID)>
  [1241] setlocal 6 ............................. tWriteObj = getWriter(pPurseBigTextWriterID)
  [1243] getlocal 0 ............................. <tWndObj>
  [1245] pushcons 95 ............................ <"taction_name">
  [1247] pusharglist 2 .......................... <tWndObj, "taction_name">
  [1249] objcall 83 ............................. <tWndObj.getElement("taction_name")>
  [1251] setlocal 7 ............................. tElem = tWndObj.getElement("taction_name")
  [1253] getlocal 7 ............................. <tElem>
  [1255] pushsymb 102 ........................... <#width>
  [1257] pusharglist 2 .......................... <tElem, #width>
  [1259] objcall 120 ............................ <tElem.getProperty(#width)>
  [1261] setlocal 8 ............................. tWidth = tElem.getProperty(#width)
  [1263] getlocal 7 ............................. <tElem>
  [1265] pushsymb 103 ........................... <#height>
  [1267] pusharglist 2 .......................... <tElem, #height>
  [1269] objcall 120 ............................ <tElem.getProperty(#height)>
  [1271] setlocal 9 ............................. tHeight = tElem.getProperty(#height)
  [1273] getlocal 5 ............................. <tMyName>
  [1275] setlocal 10 ............................ tText = tMyName
  [1277] getlocal 6 ............................. <tWriteObj>
  [1279] getlocal 10 ............................ <tText>
  [1281] pusharglist 2 .......................... <tWriteObj, tText>
  [1283] objcall 151 ............................ <tWriteObj.render(tText)>
  [1285] setlocal 11 ............................ tPageImg = tWriteObj.render(tText)
  [1287] getlocal 11 ............................ <tPageImg>
  [1289] getobjprop 103 ......................... <tPageImg.height>
  [1291] setlocal 12 ............................ tImgHeight = tPageImg.height
  [1293] getlocal 8 ............................. <tWidth>
  [1295] getlocal 12 ............................ <tImgHeight>
  [1297] pushint8 8 ............................. <8>
  [1299] pusharglist 3 .......................... <tWidth, tImgHeight, 8>
  [1301] extcall 99 ............................. <image(tWidth, tImgHeight, 8)>
  [1303] setlocal 13 ............................ tPageListImg = image(tWidth, tImgHeight, 8)
  [1305] getlocal 11 ............................ <tPageImg>
  [1307] getobjprop 102 ......................... <tPageImg.width>
  [1309] setlocal 14 ............................ tX2 = tPageImg.width
  [1311] getlocal 9 ............................. <tHeight>
  [1313] getlocal 11 ............................ <tPageImg>
  [1315] getobjprop 103 ......................... <tPageImg.height>
  [1317] sub .................................... <tHeight - tPageImg.height>
  [1318] pushint8 2 ............................. <2>
  [1320] div .................................... <(tHeight - tPageImg.height) / 2>
  [1321] setlocal 15 ............................ tY1 = (tHeight - tPageImg.height) / 2
  [1323] getlocal 15 ............................ <tY1>
  [1325] getlocal 11 ............................ <tPageImg>
  [1327] getobjprop 103 ......................... <tPageImg.height>
  [1329] add .................................... <tY1 + tPageImg.height>
  [1330] setlocal 16 ............................ tY2 = tY1 + tPageImg.height
  [1332] pushzero ............................... <0>
  [1333] getlocal 15 ............................ <tY1>
  [1335] getlocal 14 ............................ <tX2>
  [1337] getlocal 16 ............................ <tY2>
  [1339] pusharglist 4 .......................... <0, tY1, tX2, tY2>
  [1341] extcall 121 ............................ <rect(0, tY1, tX2, tY2)>
  [1343] setlocal 17 ............................ tDstRect = rect(0, tY1, tX2, tY2)
  [1345] getlocal 13 ............................ <tPageListImg>
  [1347] getlocal 11 ............................ <tPageImg>
  [1349] getlocal 17 ............................ <tDstRect>
  [1351] getlocal 11 ............................ <tPageImg>
  [1353] getobjprop 121 ......................... <tPageImg.rect>
  [1355] pushsymb 200 ........................... <#ink>
  [1357] pushint8 36 ............................ <36>
  [1359] pusharglist 2 .......................... <[#ink: 36]>
  [1361] pushproplist ........................... <[#ink: 36]>
  [1362] pusharglistnoret 5 ..................... <tPageListImg, tPageImg, tDstRect, tPageImg.rect, [#ink: 36]>
  [1364] objcall 122 ............................ tPageListImg.copyPixels(tPageImg, tDstRect, tPageImg.rect, [#ink: 36])
  [1366] getlocal 7 ............................. <tElem>
  [1368] getlocal 13 ............................ <tPageListImg>
  [1370] pusharglist 1 .......................... <tPageListImg>
  [1372] objcall 153 ............................ <tPageListImg.duplicate()>
  [1374] pusharglistnoret 2 ..................... <tElem, tPageListImg.duplicate()>
  [1376] objcall 123 ............................ tElem.feedImage(tPageListImg.duplicate())
  [1378] pushcons 96 ............................ <"purse_note">
  [1380] pushcons 97 ............................ <"Note this!">
  [1382] pusharglist 2 .......................... <"purse_note", "Note this!">
  [1384] extcall 27 ............................. <getText("purse_note", "Note this!")>
  [1386] setlocal 3 ............................. tTxt1 = getText("purse_note", "Note this!")
  [1388] getlocal 0 ............................. <tWndObj>
  [1390] pushcons 98 ............................ <"tactions_note">
  [1392] pusharglist 2 .......................... <tWndObj, "tactions_note">
  [1394] objcall 95 ............................. <tWndObj.elementExists("tactions_note")>
  [1396] jmpifz [1413] .......................... if tWndObj.elementExists("tactions_note") then
  [1399] getlocal 0 ............................. <tWndObj>
  [1401] pushcons 98 ............................ <"tactions_note">
  [1403] pusharglist 2 .......................... <tWndObj, "tactions_note">
  [1405] objcall 83 ............................. <tWndObj.getElement("tactions_note")>
  [1407] getlocal 3 ............................. <tTxt1>
  [1409] pusharglistnoret 2 ..................... <tWndObj.getElement("tactions_note"), tTxt1>
  [1411] objcall 105 ............................ tWndObj.getElement("tactions_note").setText(tTxt1)
  [1413] pushcons 23 ............................ <"loading">
  [1415] pushcons 23 ............................ <"loading">
  [1417] pusharglist 2 .......................... <"loading", "loading">
  [1419] extcall 27 ............................. <getText("loading", "loading")>
  [1421] setlocal 3 ............................. tTxt1 = getText("loading", "loading")
  [1423] getlocal 0 ............................. <tWndObj>
  [1425] pushcons 23 ............................ <"loading">
  [1427] pusharglist 2 .......................... <tWndObj, "loading">
  [1429] objcall 95 ............................. <tWndObj.elementExists("loading")>
  [1431] jmpifz [1448] .......................... if tWndObj.elementExists("loading") then
  [1434] getlocal 0 ............................. <tWndObj>
  [1436] pushcons 23 ............................ <"loading">
  [1438] pusharglist 2 .......................... <tWndObj, "loading">
  [1440] objcall 83 ............................. <tWndObj.getElement("loading")>
  [1442] getlocal 3 ............................. <tTxt1>
  [1444] pusharglistnoret 2 ..................... <tWndObj.getElement("loading"), tTxt1>
  [1446] objcall 105 ............................ tWndObj.getElement("loading").setText(tTxt1)
  [1448] jmp [1826]
  [1451] peek 0
  [1453] pushcons 40 ............................ <"PurseNoTransactions.window">
  [1455] eq
  [1456] jmpifz [1826] .......................... (case) "PurseNoTransactions.window":
  [1459] getlocal 0 ............................. <tWndObj>
  [1461] pushcons 40 ............................ <"PurseNoTransactions.window">
  [1463] pusharglist 2 .......................... <tWndObj, "PurseNoTransactions.window">
  [1465] objcall 112 ............................ <tWndObj.merge("PurseNoTransactions.window")>
  [1467] not .................................... <not tWndObj.merge("PurseNoTransactions.window")>
  [1468] jmpifz [1483] .......................... if not tWndObj.merge("PurseNoTransactions.window") then
  [1471] pop 1
  [1473] getlocal 0 ............................. <tWndObj>
  [1475] pusharglist 1 .......................... <tWndObj>
  [1477] objcall 113 ............................ <tWndObj.close()>
  [1479] pusharglistnoret 1 ..................... <tWndObj.close()>
  [1481] extcall 62 ............................. return tWndObj.close()
  [1483] getlocal 0 ............................. <tWndObj>
  [1485] pusharglistnoret 1 ..................... <tWndObj>
  [1487] objcall 114 ............................ tWndObj.center()
  [1489] getlocal 0 ............................. <tWndObj>
  [1491] pushsymb 25 ............................ <#eventProcPurse>
  [1493] getparam 0 ............................. <me>
  [1495] pusharglist 1 .......................... <me>
  [1497] objcall 61 ............................. <me.getID()>
  [1499] pushsymb 195 ........................... <#mouseEnter>
  [1501] pusharglistnoret 4 ..................... <tWndObj, #eventProcPurse, me.getID(), #mouseEnter>
  [1503] objcall 118 ............................ tWndObj.registerProcedure(#eventProcPurse, me.getID(), #mouseEnter)
  [1505] getlocal 0 ............................. <tWndObj>
  [1507] pushsymb 25 ............................ <#eventProcPurse>
  [1509] getparam 0 ............................. <me>
  [1511] pusharglist 1 .......................... <me>
  [1513] objcall 61 ............................. <me.getID()>
  [1515] pushsymb 196 ........................... <#mouseWithin>
  [1517] pusharglistnoret 4 ..................... <tWndObj, #eventProcPurse, me.getID(), #mouseWithin>
  [1519] objcall 118 ............................ tWndObj.registerProcedure(#eventProcPurse, me.getID(), #mouseWithin)
  [1521] getlocal 0 ............................. <tWndObj>
  [1523] pushsymb 25 ............................ <#eventProcPurse>
  [1525] getparam 0 ............................. <me>
  [1527] pusharglist 1 .......................... <me>
  [1529] objcall 61 ............................. <me.getID()>
  [1531] pushsymb 197 ........................... <#mouseLeave>
  [1533] pusharglistnoret 4 ..................... <tWndObj, #eventProcPurse, me.getID(), #mouseLeave>
  [1535] objcall 118 ............................ tWndObj.registerProcedure(#eventProcPurse, me.getID(), #mouseLeave)
  [1537] getparam 0 ............................. <me>
  [1539] pusharglistnoret 1 ..................... <me>
  [1541] objcall 15 ............................. me.showPurseAd()
  [1543] pushcons 100 ........................... <"purse_head">
  [1545] pushcons 101 ........................... <"ACCOUNT TRANSACTIONS">
  [1547] pusharglist 2 .......................... <"purse_head", "ACCOUNT TRANSACTIONS">
  [1549] extcall 27 ............................. <getText("purse_head", "ACCOUNT TRANSACTIONS")>
  [1551] setlocal 3 ............................. tTxt1 = getText("purse_head", "ACCOUNT TRANSACTIONS")
  [1553] getlocal 0 ............................. <tWndObj>
  [1555] pushcons 102 ........................... <"header2">
  [1557] pusharglist 2 .......................... <tWndObj, "header2">
  [1559] objcall 95 ............................. <tWndObj.elementExists("header2")>
  [1561] jmpifz [1578] .......................... if tWndObj.elementExists("header2") then
  [1564] getlocal 0 ............................. <tWndObj>
  [1566] pushcons 102 ........................... <"header2">
  [1568] pusharglist 2 .......................... <tWndObj, "header2">
  [1570] objcall 83 ............................. <tWndObj.getElement("header2")>
  [1572] getlocal 3 ............................. <tTxt1>
  [1574] pusharglistnoret 2 ..................... <tWndObj.getElement("header2"), tTxt1>
  [1576] objcall 105 ............................ tWndObj.getElement("header2").setText(tTxt1)
  [1578] pushsymb 56 ............................ <#session>
  [1580] pusharglist 1 .......................... <#session>
  [1582] extcall 55 ............................. <getObject(#session)>
  [1584] pushsymb 193 ........................... <#userName>
  [1586] pusharglist 2 .......................... <getObject(#session), #userName>
  [1588] objcall 194 ............................ <getObject(#session).get(#userName)>
  [1590] setlocal 5 ............................. tMyName = getObject(#session).get(#userName)
  [1592] getlocal 0 ............................. <tWndObj>
  [1594] pushcons 95 ............................ <"taction_name">
  [1596] pusharglist 2 .......................... <tWndObj, "taction_name">
  [1598] objcall 95 ............................. <tWndObj.elementExists("taction_name")>
  [1600] jmpifz [1746] .......................... if tWndObj.elementExists("taction_name") then
  [1603] getprop 35 ............................. <pPurseBigTextWriterID>
  [1605] pusharglist 1 .......................... <pPurseBigTextWriterID>
  [1607] extcall 148 ............................ <getWriter(pPurseBigTextWriterID)>
  [1609] setlocal 6 ............................. tWriteObj = getWriter(pPurseBigTextWriterID)
  [1611] getlocal 0 ............................. <tWndObj>
  [1613] pushcons 95 ............................ <"taction_name">
  [1615] pusharglist 2 .......................... <tWndObj, "taction_name">
  [1617] objcall 83 ............................. <tWndObj.getElement("taction_name")>
  [1619] setlocal 7 ............................. tElem = tWndObj.getElement("taction_name")
  [1621] getlocal 7 ............................. <tElem>
  [1623] pushsymb 102 ........................... <#width>
  [1625] pusharglist 2 .......................... <tElem, #width>
  [1627] objcall 120 ............................ <tElem.getProperty(#width)>
  [1629] setlocal 8 ............................. tWidth = tElem.getProperty(#width)
  [1631] getlocal 7 ............................. <tElem>
  [1633] pushsymb 103 ........................... <#height>
  [1635] pusharglist 2 .......................... <tElem, #height>
  [1637] objcall 120 ............................ <tElem.getProperty(#height)>
  [1639] setlocal 9 ............................. tHeight = tElem.getProperty(#height)
  [1641] getlocal 5 ............................. <tMyName>
  [1643] setlocal 10 ............................ tText = tMyName
  [1645] getlocal 6 ............................. <tWriteObj>
  [1647] getlocal 10 ............................ <tText>
  [1649] pusharglist 2 .......................... <tWriteObj, tText>
  [1651] objcall 151 ............................ <tWriteObj.render(tText)>
  [1653] setlocal 11 ............................ tPageImg = tWriteObj.render(tText)
  [1655] getlocal 11 ............................ <tPageImg>
  [1657] getobjprop 103 ......................... <tPageImg.height>
  [1659] setlocal 12 ............................ tImgHeight = tPageImg.height
  [1661] getlocal 8 ............................. <tWidth>
  [1663] getlocal 12 ............................ <tImgHeight>
  [1665] pushint8 8 ............................. <8>
  [1667] pusharglist 3 .......................... <tWidth, tImgHeight, 8>
  [1669] extcall 99 ............................. <image(tWidth, tImgHeight, 8)>
  [1671] setlocal 13 ............................ tPageListImg = image(tWidth, tImgHeight, 8)
  [1673] getlocal 11 ............................ <tPageImg>
  [1675] getobjprop 102 ......................... <tPageImg.width>
  [1677] setlocal 14 ............................ tX2 = tPageImg.width
  [1679] getlocal 9 ............................. <tHeight>
  [1681] getlocal 11 ............................ <tPageImg>
  [1683] getobjprop 103 ......................... <tPageImg.height>
  [1685] sub .................................... <tHeight - tPageImg.height>
  [1686] pushint8 2 ............................. <2>
  [1688] div .................................... <(tHeight - tPageImg.height) / 2>
  [1689] setlocal 15 ............................ tY1 = (tHeight - tPageImg.height) / 2
  [1691] getlocal 15 ............................ <tY1>
  [1693] getlocal 11 ............................ <tPageImg>
  [1695] getobjprop 103 ......................... <tPageImg.height>
  [1697] add .................................... <tY1 + tPageImg.height>
  [1698] setlocal 16 ............................ tY2 = tY1 + tPageImg.height
  [1700] pushzero ............................... <0>
  [1701] getlocal 15 ............................ <tY1>
  [1703] getlocal 14 ............................ <tX2>
  [1705] getlocal 16 ............................ <tY2>
  [1707] pusharglist 4 .......................... <0, tY1, tX2, tY2>
  [1709] extcall 121 ............................ <rect(0, tY1, tX2, tY2)>
  [1711] setlocal 17 ............................ tDstRect = rect(0, tY1, tX2, tY2)
  [1713] getlocal 13 ............................ <tPageListImg>
  [1715] getlocal 11 ............................ <tPageImg>
  [1717] getlocal 17 ............................ <tDstRect>
  [1719] getlocal 11 ............................ <tPageImg>
  [1721] getobjprop 121 ......................... <tPageImg.rect>
  [1723] pushsymb 200 ........................... <#ink>
  [1725] pushint8 36 ............................ <36>
  [1727] pusharglist 2 .......................... <[#ink: 36]>
  [1729] pushproplist ........................... <[#ink: 36]>
  [1730] pusharglistnoret 5 ..................... <tPageListImg, tPageImg, tDstRect, tPageImg.rect, [#ink: 36]>
  [1732] objcall 122 ............................ tPageListImg.copyPixels(tPageImg, tDstRect, tPageImg.rect, [#ink: 36])
  [1734] getlocal 7 ............................. <tElem>
  [1736] getlocal 13 ............................ <tPageListImg>
  [1738] pusharglist 1 .......................... <tPageListImg>
  [1740] objcall 153 ............................ <tPageListImg.duplicate()>
  [1742] pusharglistnoret 2 ..................... <tElem, tPageListImg.duplicate()>
  [1744] objcall 123 ............................ tElem.feedImage(tPageListImg.duplicate())
  [1746] pushcons 103 ........................... <"purse_buy_coins">
  [1748] pushcons 104 ........................... <"Buy Coins">
  [1750] pusharglist 2 .......................... <"purse_buy_coins", "Buy Coins">
  [1752] extcall 27 ............................. <getText("purse_buy_coins", "Buy Coins")>
  [1754] setlocal 3 ............................. tTxt1 = getText("purse_buy_coins", "Buy Coins")
  [1756] getlocal 0 ............................. <tWndObj>
  [1758] pushcons 105 ........................... <"purse_buy">
  [1760] pusharglist 2 .......................... <tWndObj, "purse_buy">
  [1762] objcall 95 ............................. <tWndObj.elementExists("purse_buy")>
  [1764] jmpifz [1779] .......................... if tWndObj.elementExists("purse_buy") then
  [1767] getlocal 0 ............................. <tWndObj>
  [1769] pushcons 105 ........................... <"purse_buy">
  [1771] pusharglist 2 .......................... <tWndObj, "purse_buy">
  [1773] objcall 83 ............................. <tWndObj.getElement("purse_buy")>
  [1775] pusharglistnoret 1 ..................... <tWndObj.getElement("purse_buy")>
  [1777] objcall 201 ............................ tWndObj.getElement("purse_buy").prepare()
  [1779] pushcons 106 ........................... <"purse_noevents">
  [1781] pushcons 107 ........................... <"Text.....">
  [1783] pusharglist 2 .......................... <"purse_noevents", "Text.....">
  [1785] extcall 27 ............................. <getText("purse_noevents", "Text.....")>
  [1787] setlocal 3 ............................. tTxt1 = getText("purse_noevents", "Text.....")
  [1789] getlocal 0 ............................. <tWndObj>
  [1791] pushcons 108 ........................... <"no_tactions">
  [1793] pusharglist 2 .......................... <tWndObj, "no_tactions">
  [1795] objcall 95 ............................. <tWndObj.elementExists("no_tactions")>
  [1797] jmpifz [1826] .......................... if tWndObj.elementExists("no_tactions") then
  [1800] getlocal 3 ............................. <tTxt1>
  [1802] pushcons 109 ........................... <"\\r">
  [1804] pushcons 110 ........................... <RETURN>
  [1806] pusharglist 3 .......................... <tTxt1, "\\r", RETURN>
  [1808] extcall 134 ............................ <replaceChunks(tTxt1, "\\r", RETURN)>
  [1810] setlocal 3 ............................. tTxt1 = replaceChunks(tTxt1, "\\r", RETURN)
  [1812] getlocal 0 ............................. <tWndObj>
  [1814] pushcons 108 ........................... <"no_tactions">
  [1816] pusharglist 2 .......................... <tWndObj, "no_tactions">
  [1818] objcall 83 ............................. <tWndObj.getElement("no_tactions")>
  [1820] getlocal 3 ............................. <tTxt1>
  [1822] pusharglistnoret 2 ..................... <tWndObj.getElement("no_tactions"), tTxt1>
  [1824] objcall 105 ............................ tWndObj.getElement("no_tactions").setText(tTxt1)
  [1826] pop 1 .................................. end case
  [1828] ret
end

on drawPurseCoins me, tCoinAmount
  [  0] getprop 26 .............................. <pWindowTitle>
  [  2] pusharglist 1 ........................... <pWindowTitle>
  [  4] extcall 81 .............................. <getWindow(pWindowTitle)>
  [  6] setlocal 0 .............................. tWndObj = getWindow(pWindowTitle)
  [  8] getlocal 0 .............................. <tWndObj>
  [ 10] pushzero ................................ <0>
  [ 11] eq ...................................... <tWndObj = 0>
  [ 12] jmpifz [ 20] ............................ if tWndObj = 0 then
  [ 15] pushzero ................................ <0>
  [ 16] pusharglistnoret 1 ...................... <0>
  [ 18] extcall 62 .............................. return 0
  [ 20] pushcons 111 ............................ <"purse_main">
  [ 22] setlocal 1 .............................. tElemID = "purse_main"
  [ 24] pushcons 112 ............................ <"purse_coin">
  [ 26] setlocal 2 .............................. tImage = "purse_coin"
  [ 28] pushcons 113 ............................ <"purse_coin_sd">
  [ 30] setlocal 3 .............................. tImage1 = "purse_coin_sd"
  [ 32] pushcons 69 ............................. <"purse_coins">
  [ 34] setlocal 4 .............................. tImage2 = "purse_coins"
  [ 36] getlocal 0 .............................. <tWndObj>
  [ 38] getlocal 1 .............................. <tElemID>
  [ 40] pusharglist 2 ........................... <tWndObj, tElemID>
  [ 42] objcall 83 .............................. <tWndObj.getElement(tElemID)>
  [ 44] setlocal 5 .............................. tElem = tWndObj.getElement(tElemID)
  [ 46] getlocal 5 .............................. <tElem>
  [ 48] pushsymb 99 ............................. <#image>
  [ 50] pusharglist 2 ........................... <tElem, #image>
  [ 52] objcall 120 ............................. <tElem.getProperty(#image)>
  [ 54] setlocal 6 .............................. tDestImg = tElem.getProperty(#image)
  [ 56] getlocal 2 .............................. <tImage>
  [ 58] pusharglist 1 ........................... <tImage>
  [ 60] extcall 98 .............................. <getmemnum(tImage)>
  [ 62] pusharglist 1 ........................... <getmemnum(tImage)>
  [ 64] extcall 97 .............................. <member(getmemnum(tImage))>
  [ 66] getobjprop 99 ........................... <member(getmemnum(tImage)).image>
  [ 68] setlocal 7 .............................. tSourceImg = member(getmemnum(tImage)).image
  [ 70] getlocal 3 .............................. <tImage1>
  [ 72] pusharglist 1 ........................... <tImage1>
  [ 74] extcall 98 .............................. <getmemnum(tImage1)>
  [ 76] pusharglist 1 ........................... <getmemnum(tImage1)>
  [ 78] extcall 97 .............................. <member(getmemnum(tImage1))>
  [ 80] getobjprop 99 ........................... <member(getmemnum(tImage1)).image>
  [ 82] setlocal 8 .............................. tSourceImg1 = member(getmemnum(tImage1)).image
  [ 84] getlocal 4 .............................. <tImage2>
  [ 86] pusharglist 1 ........................... <tImage2>
  [ 88] extcall 98 .............................. <getmemnum(tImage2)>
  [ 90] pusharglist 1 ........................... <getmemnum(tImage2)>
  [ 92] extcall 97 .............................. <member(getmemnum(tImage2))>
  [ 94] getobjprop 99 ........................... <member(getmemnum(tImage2)).image>
  [ 96] setlocal 9 .............................. tSourceImg2 = member(getmemnum(tImage2)).image
  [ 98] getlocal 6 .............................. <tDestImg>
  [100] getobjprop 121 .......................... <tDestImg.rect>
  [102] setlocal 10 ............................. tdestrect = tDestImg.rect
  [104] pushint8 1 .............................. <1>
  [106] peek 0 .................................. case 1 of
  [108] getparam 1 .............................. <tCoinAmount>
  [110] pushzero ................................ <0>
  [111] eq ...................................... <tCoinAmount = 0>
  [112] nteq
  [113] jmpifz [129] ............................ (case) (tCoinAmount = 0), ...
  [116] peek 0
  [118] getparam 1 .............................. <tCoinAmount>
  [120] pusharglist 0 ........................... <>
  [122] extcall 52 .............................. <VOID>
  [124] eq ...................................... <tCoinAmount = VOID>
  [125] eq
  [126] jmpifz [150] ............................ (case) ..., (tCoinAmount = VOID):
  [129] getlocal 5 .............................. <tElem>
  [131] pusharglistnoret 1 ...................... <tElem>
  [133] objcall 207 ............................. tElem.clearBuffer()
  [135] getlocal 5 .............................. <tElem>
  [137] pusharglistnoret 1 ...................... <tElem>
  [139] objcall 208 ............................. tElem.clearImage()
  [141] getparam 0 .............................. <me>
  [143] pusharglistnoret 1 ...................... <me>
  [145] objcall 18 .............................. me.drawFlies()
  [147] jmp [522]
  [150] peek 0
  [152] getparam 1 .............................. <tCoinAmount>
  [154] pushint8 100 ............................ <100>
  [156] gt ...................................... <tCoinAmount > 100>
  [157] eq
  [158] jmpifz [263] ............................ (case) (tCoinAmount > 100):
  [161] pushcons 19 ............................. <"flyTimer">
  [163] pusharglist 1 ........................... <"flyTimer">
  [165] extcall 75 .............................. <timeoutExists("flyTimer")>
  [167] jmpifz [184] ............................ if timeoutExists("flyTimer") then
  [170] pushcons 19 ............................. <"flyTimer">
  [172] pusharglistnoret 1 ...................... <"flyTimer">
  [174] extcall 76 .............................. removeTimeout("flyTimer")
  [176] pushsymb 210 ............................ <#hideFlies>
  [178] getprop 37 .............................. <pItemObjList>
  [180] pusharglistnoret 2 ...................... <#hideFlies, pItemObjList>
  [182] extcall 209 ............................. call(#hideFlies, pItemObjList)
  [184] getlocal 5 .............................. <tElem>
  [186] pusharglistnoret 1 ...................... <tElem>
  [188] objcall 207 ............................. tElem.clearBuffer()
  [190] getlocal 5 .............................. <tElem>
  [192] pusharglistnoret 1 ...................... <tElem>
  [194] objcall 208 ............................. tElem.clearImage()
  [196] getlocal 9 .............................. <tSourceImg2>
  [198] getobjprop 121 .......................... <tSourceImg2.rect>
  [200] setlocal 11 ............................. tRect = tSourceImg2.rect
  [202] getlocal 10 ............................. <tdestrect>
  [204] pushint8 1 .............................. <1>
  [206] pusharglist 2 ........................... <tdestrect, 1>
  [208] objcall 119 ............................. <tdestrect[1]>
  [210] getlocal 10 ............................. <tdestrect>
  [212] pushint8 2 .............................. <2>
  [214] pusharglist 2 ........................... <tdestrect, 2>
  [216] objcall 119 ............................. <tdestrect[2]>
  [218] getlocal 11 ............................. <tRect>
  [220] pushint8 3 .............................. <3>
  [222] pusharglist 2 ........................... <tRect, 3>
  [224] objcall 119 ............................. <tRect[3]>
  [226] getlocal 11 ............................. <tRect>
  [228] pushint8 4 .............................. <4>
  [230] pusharglist 2 ........................... <tRect, 4>
  [232] objcall 119 ............................. <tRect[4]>
  [234] pusharglist 4 ........................... <tdestrect[1], tdestrect[2], tRect[3], tRect[4]>
  [236] extcall 121 ............................. <rect(tdestrect[1], tdestrect[2], tRect[3], tRect[4])>
  [238] setlocal 12 ............................. tRectList = rect(tdestrect[1], tdestrect[2], tRect[3], tRect[4])
  [240] getlocal 6 .............................. <tDestImg>
  [242] getlocal 9 .............................. <tSourceImg2>
  [244] getlocal 12 ............................. <tRectList>
  [246] getlocal 11 ............................. <tRect>
  [248] pusharglistnoret 4 ...................... <tDestImg, tSourceImg2, tRectList, tRect>
  [250] objcall 122 ............................. tDestImg.copyPixels(tSourceImg2, tRectList, tRect)
  [252] getlocal 5 .............................. <tElem>
  [254] getlocal 6 .............................. <tDestImg>
  [256] pusharglistnoret 2 ...................... <tElem, tDestImg>
  [258] objcall 123 ............................. tElem.feedImage(tDestImg)
  [260] jmp [522]
  [263] peek 0
  [265] getparam 1 .............................. <tCoinAmount>
  [267] pushzero ................................ <0>
  [268] gt ...................................... <tCoinAmount > 0>
  [269] getparam 1 .............................. <tCoinAmount>
  [271] pushint8 100 ............................ <100>
  [273] lteq .................................... <tCoinAmount <= 100>
  [274] and ..................................... <(tCoinAmount > 0) and (tCoinAmount <= 100)>
  [275] eq
  [276] jmpifz [522] ............................ (case) ((tCoinAmount > 0) and (tCoinAmount <= 100)):
  [279] getlocal 5 .............................. <tElem>
  [281] pusharglistnoret 1 ...................... <tElem>
  [283] objcall 207 ............................. tElem.clearBuffer()
  [285] getlocal 5 .............................. <tElem>
  [287] pusharglistnoret 1 ...................... <tElem>
  [289] objcall 208 ............................. tElem.clearImage()
  [291] pushcons 19 ............................. <"flyTimer">
  [293] pusharglist 1 ........................... <"flyTimer">
  [295] extcall 75 .............................. <timeoutExists("flyTimer")>
  [297] jmpifz [314] ............................ if timeoutExists("flyTimer") then
  [300] pushcons 19 ............................. <"flyTimer">
  [302] pusharglistnoret 1 ...................... <"flyTimer">
  [304] extcall 76 .............................. removeTimeout("flyTimer")
  [306] pushsymb 210 ............................ <#hideFlies>
  [308] getprop 37 .............................. <pItemObjList>
  [310] pusharglistnoret 2 ...................... <#hideFlies, pItemObjList>
  [312] extcall 209 ............................. call(#hideFlies, pItemObjList)
  [314] pushzero ................................ <0>
  [315] setlocal 13 ............................. tStackCount = 0
  [317] pushint8 10 ............................. <10>
  [319] setlocal 14 ............................. tV = 10
  [321] pushint8 31 ............................. <31>
  [323] setlocal 15 ............................. tW = 31
  [325] getlocal 6 .............................. <tDestImg>
  [327] getlocal 8 .............................. <tSourceImg1>
  [329] getlocal 14 ............................. <tV>
  [331] pushint8 80 ............................. <80>
  [333] getlocal 15 ............................. <tW>
  [335] pushint8 92 ............................. <92>
  [337] pusharglist 4 ........................... <tV, 80, tW, 92>
  [339] extcall 121 ............................. <rect(tV, 80, tW, 92)>
  [341] getlocal 8 .............................. <tSourceImg1>
  [343] getobjprop 121 .......................... <tSourceImg1.rect>
  [345] pushsymb 84 ............................. <#blend>
  [347] pushint8 70 ............................. <70>
  [349] pusharglist 2 ........................... <[#blend: 70]>
  [351] pushproplist ............................ <[#blend: 70]>
  [352] pusharglistnoret 5 ...................... <tDestImg, tSourceImg1, rect(tV, 80, tW, 92), tSourceImg1.rect, [#blend: 70]>
  [354] objcall 122 ............................. tDestImg.copyPixels(tSourceImg1, rect(tV, 80, tW, 92), tSourceImg1.rect, [#blend: 70])
  [356] pushint8 1 .............................. <1>
  [358] setlocal 16
  [360] getlocal 16
  [362] getparam 1 .............................. <tCoinAmount>
  [364] lteq
  [365] jmpifz [514] ............................ repeat with i = 1 to tCoinAmount
  [368] pushint8 82 ............................. <82>
  [370] setlocal 17 ............................. tX = 82
  [372] pushint8 97 ............................. <97>
  [374] setlocal 18 ............................. tY = 97
  [376] getlocal 13 ............................. <tStackCount>
  [378] pushint8 1 .............................. <1>
  [380] add ..................................... <tStackCount + 1>
  [381] setlocal 13 ............................. tStackCount = tStackCount + 1
  [383] getlocal 13 ............................. <tStackCount>
  [385] pushint8 11 ............................. <11>
  [387] eq ...................................... <tStackCount = 11>
  [388] jmpifz [454] ............................ if tStackCount = 11 then
  [391] getlocal 14 ............................. <tV>
  [393] pushint8 25 ............................. <25>
  [395] add ..................................... <tV + 25>
  [396] setlocal 14 ............................. tV = tV + 25
  [398] getlocal 15 ............................. <tW>
  [400] pushint8 25 ............................. <25>
  [402] add ..................................... <tW + 25>
  [403] setlocal 15 ............................. tW = tW + 25
  [405] pushint8 82 ............................. <82>
  [407] setlocal 17 ............................. tX = 82
  [409] pushint8 97 ............................. <97>
  [411] setlocal 18 ............................. tY = 97
  [413] pushint8 1 .............................. <1>
  [415] setlocal 13 ............................. tStackCount = 1
  [417] getlocal 6 .............................. <tDestImg>
  [419] getlocal 8 .............................. <tSourceImg1>
  [421] getlocal 14 ............................. <tV>
  [423] getlocal 17 ............................. <tX>
  [425] pushint8 2 .............................. <2>
  [427] sub ..................................... <tX - 2>
  [428] getlocal 15 ............................. <tW>
  [430] getlocal 18 ............................. <tY>
  [432] pushint8 5 .............................. <5>
  [434] sub ..................................... <tY - 5>
  [435] pusharglist 4 ........................... <tV, tX - 2, tW, tY - 5>
  [437] extcall 121 ............................. <rect(tV, tX - 2, tW, tY - 5)>
  [439] getlocal 8 .............................. <tSourceImg1>
  [441] getobjprop 121 .......................... <tSourceImg1.rect>
  [443] pushsymb 84 ............................. <#blend>
  [445] pushint8 70 ............................. <70>
  [447] pusharglist 2 ........................... <[#blend: 70]>
  [449] pushproplist ............................ <[#blend: 70]>
  [450] pusharglistnoret 5 ...................... <tDestImg, tSourceImg1, rect(tV, tX - 2, tW, tY - 5), tSourceImg1.rect, [#blend: 70]>
  [452] objcall 122 ............................. tDestImg.copyPixels(tSourceImg1, rect(tV, tX - 2, tW, tY - 5), tSourceImg1.rect, [#blend: 70])
  [454] getlocal 17 ............................. <tX>
  [456] pushint8 7 .............................. <7>
  [458] getlocal 13 ............................. <tStackCount>
  [460] mul ..................................... <7 * tStackCount>
  [461] sub ..................................... <tX - (7 * tStackCount)>
  [462] setlocal 17 ............................. tX = tX - (7 * tStackCount)
  [464] getlocal 18 ............................. <tY>
  [466] pushint8 7 .............................. <7>
  [468] getlocal 13 ............................. <tStackCount>
  [470] mul ..................................... <7 * tStackCount>
  [471] sub ..................................... <tY - (7 * tStackCount)>
  [472] setlocal 18 ............................. tY = tY - (7 * tStackCount)
  [474] getlocal 6 .............................. <tDestImg>
  [476] getlocal 7 .............................. <tSourceImg>
  [478] getlocal 14 ............................. <tV>
  [480] getlocal 17 ............................. <tX>
  [482] getlocal 15 ............................. <tW>
  [484] getlocal 18 ............................. <tY>
  [486] pusharglist 4 ........................... <tV, tX, tW, tY>
  [488] extcall 121 ............................. <rect(tV, tX, tW, tY)>
  [490] getlocal 7 .............................. <tSourceImg>
  [492] getobjprop 121 .......................... <tSourceImg.rect>
  [494] pushsymb 200 ............................ <#ink>
  [496] pushint8 36 ............................. <36>
  [498] pusharglist 2 ........................... <[#ink: 36]>
  [500] pushproplist ............................ <[#ink: 36]>
  [501] pusharglistnoret 5 ...................... <tDestImg, tSourceImg, rect(tV, tX, tW, tY), tSourceImg.rect, [#ink: 36]>
  [503] objcall 122 ............................. tDestImg.copyPixels(tSourceImg, rect(tV, tX, tW, tY), tSourceImg.rect, [#ink: 36])
  [505] pushint8 1
  [507] getlocal 16
  [509] add
  [510] setlocal 16
  [512] endrepeat [360]
  [514] getlocal 5 .............................. <tElem>
  [516] getlocal 6 .............................. <tDestImg>
  [518] pusharglistnoret 2 ...................... <tElem, tDestImg>
  [520] objcall 123 ............................. tElem.feedImage(tDestImg)
  [522] pop 1 ................................... end case
  [524] ret
end

on drawFlies me
  [  0] getprop 26 .............................. <pWindowTitle>
  [  2] pusharglist 1 ........................... <pWindowTitle>
  [  4] extcall 81 .............................. <getWindow(pWindowTitle)>
  [  6] setlocal 0 .............................. tWndObj = getWindow(pWindowTitle)
  [  8] pusharglist 0 ........................... <[]>
  [ 10] pushlist ................................ <[]>
  [ 11] setprop 37 .............................. pItemObjList = []
  [ 13] pushint8 1 .............................. <1>
  [ 15] setlocal 1 .............................. i = 1
  [ 17] pushint8 1 .............................. <1>
  [ 19] jmpifz [ 85] ............................ repeat while 1
  [ 22] getlocal 0 .............................. <tWndObj>
  [ 24] pushcons 64 ............................. <"fly_">
  [ 26] getlocal 1 .............................. <i>
  [ 28] joinstr ................................. <"fly_" & i>
  [ 29] pusharglist 2 ........................... <tWndObj, "fly_" & i>
  [ 31] objcall 83 .............................. <tWndObj.getElement("fly_" & i)>
  [ 33] setlocal 2 .............................. tSpr = tWndObj.getElement("fly_" & i)
  [ 35] getlocal 2 .............................. <tSpr>
  [ 37] pushzero ................................ <0>
  [ 38] nteq .................................... <tSpr <> 0>
  [ 39] jmpifz [ 73] ............................ if tSpr <> 0 then / else
  [ 42] pushsymb 224 ............................ <#temp>
  [ 44] pushcons 114 ............................ <"Purse Fly Class">
  [ 46] pusharglist 2 ........................... <#temp, "Purse Fly Class">
  [ 48] extcall 223 ............................. <createObject(#temp, "Purse Fly Class")>
  [ 50] setlocal 3 .............................. tObj = createObject(#temp, "Purse Fly Class")
  [ 52] getlocal 3 .............................. <tObj>
  [ 54] getlocal 2 .............................. <tSpr>
  [ 56] getlocal 1 .............................. <i>
  [ 58] pusharglistnoret 3 ...................... <tObj, tSpr, i>
  [ 60] objcall 225 ............................. tObj.define(tSpr, i)
  [ 62] getprop 37 .............................. <pItemObjList>
  [ 64] getlocal 3 .............................. <tObj>
  [ 66] pusharglistnoret 2 ...................... <pItemObjList, tObj>
  [ 68] objcall 135 ............................. pItemObjList.add(tObj)
  [ 70] jmp [ 76]
  [ 73] jmp [ 85] ............................... exit repeat
  [ 76] getlocal 1 .............................. <i>
  [ 78] pushint8 1 .............................. <1>
  [ 80] add ..................................... <i + 1>
  [ 81] setlocal 1 .............................. i = i + 1
  [ 83] endrepeat [ 17]
  [ 85] pushcons 19 ............................. <"flyTimer">
  [ 87] pusharglist 1 ........................... <"flyTimer">
  [ 89] extcall 75 .............................. <timeoutExists("flyTimer")>
  [ 91] not ..................................... <not timeoutExists("flyTimer")>
  [ 92] jmpifz [116] ............................ if not timeoutExists("flyTimer") then
  [ 95] pushcons 19 ............................. <"flyTimer">
  [ 97] pushint8 120 ............................ <120>
  [ 99] pushsymb 19 ............................. <#fliesFly>
  [101] getparam 0 .............................. <me>
  [103] pusharglist 1 ........................... <me>
  [105] objcall 61 .............................. <me.getID()>
  [107] pusharglist 0 ........................... <>
  [109] extcall 52 .............................. <VOID>
  [111] pushzero ................................ <0>
  [112] pusharglistnoret 6 ...................... <"flyTimer", 120, #fliesFly, me.getID(), VOID, 0>
  [114] extcall 226 ............................. createTimeout("flyTimer", 120, #fliesFly, me.getID(), VOID, 0)
  [116] ret
end

on fliesFly me
  [  0] getprop 191 ............................. <pOpenWindow>
  [  2] pushcons 20 ............................. <"purse.window">
  [  4] eq ...................................... <pOpenWindow = "purse.window">
  [  5] jmpifz [ 16] ............................ if pOpenWindow = "purse.window" then
  [  8] pushsymb 229 ............................ <#animateFly>
  [ 10] getprop 37 .............................. <pItemObjList>
  [ 12] pusharglistnoret 2 ...................... <#animateFly, pItemObjList>
  [ 14] extcall 209 ............................. call(#animateFly, pItemObjList)
  [ 16] ret
end

on checkSaldo me, tElement
  [  0] pushsymb 56 ............................. <#session>
  [  2] pusharglist 1 ........................... <#session>
  [  4] extcall 55 .............................. <getObject(#session)>
  [  6] pushcons 115 ............................ <"user_walletbalance">
  [  8] pusharglist 2 ........................... <getObject(#session), "user_walletbalance">
  [ 10] objcall 230 ............................. <getObject(#session).exists("user_walletbalance")>
  [ 12] jmpifz [ 32] ............................ if getObject(#session).exists("user_walletbalance") then / else
  [ 15] pushsymb 56 ............................. <#session>
  [ 17] pusharglist 1 ........................... <#session>
  [ 19] extcall 55 .............................. <getObject(#session)>
  [ 21] pushcons 115 ............................ <"user_walletbalance">
  [ 23] pusharglist 2 ........................... <getObject(#session), "user_walletbalance">
  [ 25] objcall 194 ............................. <getObject(#session).get("user_walletbalance")>
  [ 27] setlocal 0 .............................. tSaldo = getObject(#session).get("user_walletbalance")
  [ 29] jmp [ 38]
  [ 32] pusharglist 0 ........................... <>
  [ 34] extcall 52 .............................. <VOID>
  [ 36] setlocal 0 .............................. tSaldo = VOID
  [ 38] getprop 26 .............................. <pWindowTitle>
  [ 40] pusharglist 1 ........................... <pWindowTitle>
  [ 42] extcall 77 .............................. <windowExists(pWindowTitle)>
  [ 44] jmpifz [229] ............................ if windowExists(pWindowTitle) then
  [ 47] getprop 26 .............................. <pWindowTitle>
  [ 49] pusharglist 1 ........................... <pWindowTitle>
  [ 51] extcall 81 .............................. <getWindow(pWindowTitle)>
  [ 53] setlocal 1 .............................. tWndObj = getWindow(pWindowTitle)
  [ 55] getlocal 1 .............................. <tWndObj>
  [ 57] getparam 1 .............................. <tElement>
  [ 59] pusharglist 2 ........................... <tWndObj, tElement>
  [ 61] objcall 95 .............................. <tWndObj.elementExists(tElement)>
  [ 63] jmpifz [229] ............................ if tWndObj.elementExists(tElement) then
  [ 66] getprop 36 .............................. <pPurseBigTextWriter2ID>
  [ 68] pusharglist 1 ........................... <pPurseBigTextWriter2ID>
  [ 70] extcall 148 ............................. <getWriter(pPurseBigTextWriter2ID)>
  [ 72] setlocal 2 .............................. tWriteObj = getWriter(pPurseBigTextWriter2ID)
  [ 74] getlocal 1 .............................. <tWndObj>
  [ 76] getparam 1 .............................. <tElement>
  [ 78] pusharglist 2 ........................... <tWndObj, tElement>
  [ 80] objcall 83 .............................. <tWndObj.getElement(tElement)>
  [ 82] setlocal 3 .............................. tElem = tWndObj.getElement(tElement)
  [ 84] getlocal 3 .............................. <tElem>
  [ 86] pushsymb 102 ............................ <#width>
  [ 88] pusharglist 2 ........................... <tElem, #width>
  [ 90] objcall 120 ............................. <tElem.getProperty(#width)>
  [ 92] setlocal 4 .............................. tWidth = tElem.getProperty(#width)
  [ 94] getlocal 3 .............................. <tElem>
  [ 96] pushsymb 103 ............................ <#height>
  [ 98] pusharglist 2 ........................... <tElem, #height>
  [100] objcall 120 ............................. <tElem.getProperty(#height)>
  [102] setlocal 5 .............................. tHeight = tElem.getProperty(#height)
  [104] getlocal 0 .............................. <tSaldo>
  [106] pusharglist 1 ........................... <tSaldo>
  [108] extcall 231 ............................. <string(tSaldo)>
  [110] setlocal 6 .............................. tText = string(tSaldo)
  [112] getlocal 2 .............................. <tWriteObj>
  [114] getlocal 6 .............................. <tText>
  [116] pusharglist 2 ........................... <tWriteObj, tText>
  [118] objcall 151 ............................. <tWriteObj.render(tText)>
  [120] setlocal 7 .............................. tPageImg = tWriteObj.render(tText)
  [122] getlocal 7 .............................. <tPageImg>
  [124] getobjprop 103 .......................... <tPageImg.height>
  [126] setlocal 8 .............................. tImgHeight = tPageImg.height
  [128] getlocal 4 .............................. <tWidth>
  [130] getlocal 8 .............................. <tImgHeight>
  [132] pushint8 8 .............................. <8>
  [134] pusharglist 3 ........................... <tWidth, tImgHeight, 8>
  [136] extcall 99 .............................. <image(tWidth, tImgHeight, 8)>
  [138] setlocal 9 .............................. tPageListImg = image(tWidth, tImgHeight, 8)
  [140] getlocal 4 .............................. <tWidth>
  [142] getlocal 7 .............................. <tPageImg>
  [144] getobjprop 102 .......................... <tPageImg.width>
  [146] sub ..................................... <tWidth - tPageImg.width>
  [147] pushint8 2 .............................. <2>
  [149] div ..................................... <(tWidth - tPageImg.width) / 2>
  [150] setlocal 10 ............................. tX1 = (tWidth - tPageImg.width) / 2
  [152] getlocal 10 ............................. <tX1>
  [154] getlocal 7 .............................. <tPageImg>
  [156] getobjprop 102 .......................... <tPageImg.width>
  [158] add ..................................... <tX1 + tPageImg.width>
  [159] setlocal 11 ............................. tX2 = tX1 + tPageImg.width
  [161] getlocal 5 .............................. <tHeight>
  [163] getlocal 7 .............................. <tPageImg>
  [165] getobjprop 103 .......................... <tPageImg.height>
  [167] sub ..................................... <tHeight - tPageImg.height>
  [168] pushint8 2 .............................. <2>
  [170] div ..................................... <(tHeight - tPageImg.height) / 2>
  [171] setlocal 12 ............................. tY1 = (tHeight - tPageImg.height) / 2
  [173] getlocal 12 ............................. <tY1>
  [175] getlocal 7 .............................. <tPageImg>
  [177] getobjprop 103 .......................... <tPageImg.height>
  [179] add ..................................... <tY1 + tPageImg.height>
  [180] setlocal 13 ............................. tY2 = tY1 + tPageImg.height
  [182] getlocal 10 ............................. <tX1>
  [184] getlocal 12 ............................. <tY1>
  [186] getlocal 11 ............................. <tX2>
  [188] getlocal 13 ............................. <tY2>
  [190] pusharglist 4 ........................... <tX1, tY1, tX2, tY2>
  [192] extcall 121 ............................. <rect(tX1, tY1, tX2, tY2)>
  [194] setlocal 14 ............................. tDstRect = rect(tX1, tY1, tX2, tY2)
  [196] getlocal 9 .............................. <tPageListImg>
  [198] getlocal 7 .............................. <tPageImg>
  [200] getlocal 14 ............................. <tDstRect>
  [202] getlocal 7 .............................. <tPageImg>
  [204] getobjprop 121 .......................... <tPageImg.rect>
  [206] pushsymb 200 ............................ <#ink>
  [208] pushint8 36 ............................. <36>
  [210] pusharglist 2 ........................... <[#ink: 36]>
  [212] pushproplist ............................ <[#ink: 36]>
  [213] pusharglistnoret 5 ...................... <tPageListImg, tPageImg, tDstRect, tPageImg.rect, [#ink: 36]>
  [215] objcall 122 ............................. tPageListImg.copyPixels(tPageImg, tDstRect, tPageImg.rect, [#ink: 36])
  [217] getlocal 3 .............................. <tElem>
  [219] getlocal 9 .............................. <tPageListImg>
  [221] pusharglist 1 ........................... <tPageListImg>
  [223] objcall 153 ............................. <tPageListImg.duplicate()>
  [225] pusharglistnoret 2 ...................... <tElem, tPageListImg.duplicate()>
  [227] objcall 123 ............................. tElem.feedImage(tPageListImg.duplicate())
  [229] getlocal 0 .............................. <tSaldo>
  [231] pusharglistnoret 1 ...................... <tSaldo>
  [233] extcall 62 .............................. return tSaldo
  [235] ret
end

on dataReceived me
  [  0] pushint8 1 .............................. <1>
  [  2] setprop 39 .............................. pDataReceived = 1
  [  4] ret
end

on updatePurseSaldo me
  [  0] getprop 26 .............................. <pWindowTitle>
  [  2] pusharglist 1 ........................... <pWindowTitle>
  [  4] extcall 81 .............................. <getWindow(pWindowTitle)>
  [  6] setlocal 0 .............................. tWndObj = getWindow(pWindowTitle)
  [  8] getlocal 0 .............................. <tWndObj>
  [ 10] pushzero ................................ <0>
  [ 11] eq ...................................... <tWndObj = 0>
  [ 12] jmpifz [ 20] ............................ if tWndObj = 0 then
  [ 15] pushzero ................................ <0>
  [ 16] pusharglistnoret 1 ...................... <0>
  [ 18] extcall 62 .............................. return 0
  [ 20] getprop 191 ............................. <pOpenWindow>
  [ 22] pushcons 20 ............................. <"purse.window">
  [ 24] nteq .................................... <pOpenWindow <> "purse.window">
  [ 25] jmpifz [ 33] ............................ if pOpenWindow <> "purse.window" then
  [ 28] pushzero ................................ <0>
  [ 29] pusharglistnoret 1 ...................... <0>
  [ 31] extcall 62 .............................. return 0
  [ 33] getparam 0 .............................. <me>
  [ 35] pushcons 68 ............................. <"purse_amount">
  [ 37] pusharglist 2 ........................... <me, "purse_amount">
  [ 39] objcall 20 .............................. <me.checkSaldo("purse_amount")>
  [ 41] setlocal 1 .............................. tSaldo = me.checkSaldo("purse_amount")
  [ 43] getparam 0 .............................. <me>
  [ 45] getlocal 1 .............................. <tSaldo>
  [ 47] pusharglistnoret 2 ...................... <me, tSaldo>
  [ 49] objcall 17 .............................. me.drawPurseCoins(tSaldo)
  [ 51] pushint8 1 .............................. <1>
  [ 53] pusharglistnoret 1 ...................... <1>
  [ 55] extcall 62 .............................. return 1
  [ 57] ret
end

on updatePurseTickets me
  [  0] ret
end

on updatePurseFilm me
  [  0] getprop 26 .............................. <pWindowTitle>
  [  2] pusharglist 1 ........................... <pWindowTitle>
  [  4] extcall 81 .............................. <getWindow(pWindowTitle)>
  [  6] setlocal 0 .............................. tWndObj = getWindow(pWindowTitle)
  [  8] getlocal 0 .............................. <tWndObj>
  [ 10] pushzero ................................ <0>
  [ 11] eq ...................................... <tWndObj = 0>
  [ 12] jmpifz [ 20] ............................ if tWndObj = 0 then
  [ 15] pushzero ................................ <0>
  [ 16] pusharglistnoret 1 ...................... <0>
  [ 18] extcall 62 .............................. return 0
  [ 20] getlocal 0 .............................. <tWndObj>
  [ 22] pushcons 116 ............................ <"purse_info_film">
  [ 24] pusharglist 2 ........................... <tWndObj, "purse_info_film">
  [ 26] objcall 95 .............................. <tWndObj.elementExists("purse_info_film")>
  [ 28] jmpifz [ 66] ............................ if tWndObj.elementExists("purse_info_film") then
  [ 31] pushsymb 56 ............................. <#session>
  [ 33] pusharglist 1 ........................... <#session>
  [ 35] extcall 55 .............................. <getObject(#session)>
  [ 37] pushcons 117 ............................ <"user_photo_film">
  [ 39] pusharglist 2 ........................... <getObject(#session), "user_photo_film">
  [ 41] objcall 194 ............................. <getObject(#session).get("user_photo_film")>
  [ 43] pushcons 116 ............................ <"purse_info_film">
  [ 45] pusharglist 1 ........................... <"purse_info_film">
  [ 47] extcall 27 .............................. <getText("purse_info_film")>
  [ 49] joinpadstr .............................. <getObject(#session).get("user_photo_film") && getText("purse_info_film")>
  [ 50] setlocal 1 .............................. tFieldTxt = getObject(#session).get("user_photo_film") && getText("purse_info_film")
  [ 52] getlocal 0 .............................. <tWndObj>
  [ 54] pushcons 116 ............................ <"purse_info_film">
  [ 56] pusharglist 2 ........................... <tWndObj, "purse_info_film">
  [ 58] objcall 83 .............................. <tWndObj.getElement("purse_info_film")>
  [ 60] getlocal 1 .............................. <tFieldTxt>
  [ 62] pusharglistnoret 2 ...................... <tWndObj.getElement("purse_info_film"), tFieldTxt>
  [ 64] objcall 105 ............................. tWndObj.getElement("purse_info_film").setText(tFieldTxt)
  [ 66] pushint8 1 .............................. <1>
  [ 68] pusharglistnoret 1 ...................... <1>
  [ 70] extcall 62 .............................. return 1
  [ 72] ret
end

on eventProcPurse me, tEvent, tElemID, tParm
  [  0] getprop 177 ............................. <pClickURL>
  [  2] pusharglist 1 ........................... <pClickURL>
  [  4] extcall 79 .............................. <voidp(pClickURL)>
  [  6] not ..................................... <not voidp(pClickURL)>
  [  7] jmpifz [ 85] ............................ if not voidp(pClickURL) then
  [ 10] getprop 26 .............................. <pWindowTitle>
  [ 12] pusharglist 1 ........................... <pWindowTitle>
  [ 14] extcall 81 .............................. <getWindow(pWindowTitle)>
  [ 16] setlocal 0 .............................. tWndObj = getWindow(pWindowTitle)
  [ 18] getlocal 0 .............................. <tWndObj>
  [ 20] pushcons 62 ............................. <"trans_ad">
  [ 22] pusharglist 2 ........................... <tWndObj, "trans_ad">
  [ 24] objcall 83 .............................. <tWndObj.getElement("trans_ad")>
  [ 26] setlocal 1 .............................. tElem = tWndObj.getElement("trans_ad")
  [ 28] getparam 1 .............................. <tEvent>
  [ 30] pushsymb 195 ............................ <#mouseEnter>
  [ 32] eq ...................................... <tEvent = #mouseEnter>
  [ 33] getparam 1 .............................. <tEvent>
  [ 35] pushsymb 196 ............................ <#mouseWithin>
  [ 37] eq ...................................... <tEvent = #mouseWithin>
  [ 38] or ...................................... <(tEvent = #mouseEnter) or (tEvent = #mouseWithin)>
  [ 39] jmpifz [ 60] ............................ if (tEvent = #mouseEnter) or (tEvent = #mouseWithin) then
  [ 42] getparam 2 .............................. <tElemID>
  [ 44] pushcons 62 ............................. <"trans_ad">
  [ 46] eq ...................................... <tElemID = "trans_ad">
  [ 47] jmpifz [ 60] ............................ if tElemID = "trans_ad" then
  [ 50] getlocal 1 .............................. <tElem>
  [ 52] pushsymb 108 ............................ <#cursor>
  [ 54] pushcons 30 ............................. <"cursor.finger">
  [ 56] pusharglistnoret 3 ...................... <tElem, #cursor, "cursor.finger">
  [ 58] objcall 85 .............................. tElem.setProperty(#cursor, "cursor.finger")
  [ 60] getparam 1 .............................. <tEvent>
  [ 62] pushsymb 197 ............................ <#mouseLeave>
  [ 64] eq ...................................... <tEvent = #mouseLeave>
  [ 65] jmpifz [ 85] ............................ if tEvent = #mouseLeave then
  [ 68] getparam 2 .............................. <tElemID>
  [ 70] pushcons 62 ............................. <"trans_ad">
  [ 72] eq ...................................... <tElemID = "trans_ad">
  [ 73] jmpifz [ 85] ............................ if tElemID = "trans_ad" then
  [ 76] getlocal 1 .............................. <tElem>
  [ 78] pushsymb 108 ............................ <#cursor>
  [ 80] pushzero ................................ <0>
  [ 81] pusharglistnoret 3 ...................... <tElem, #cursor, 0>
  [ 83] objcall 85 .............................. tElem.setProperty(#cursor, 0)
  [ 85] getparam 1 .............................. <tEvent>
  [ 87] pushsymb 117 ............................ <#mouseUp>
  [ 89] eq ...................................... <tEvent = #mouseUp>
  [ 90] jmpifz [528] ............................ if tEvent = #mouseUp then
  [ 93] getparam 2 .............................. <tElemID>
  [ 95] peek 0 .................................. case tElemID of
  [ 97] pushcons 62 ............................. <"trans_ad">
  [ 99] eq
  [100] jmpifz [122] ............................ (case) "trans_ad":
  [103] getprop 177 ............................. <pClickURL>
  [105] pusharglist 1 ........................... <pClickURL>
  [107] extcall 79 .............................. <voidp(pClickURL)>
  [109] not ..................................... <not voidp(pClickURL)>
  [110] jmpifz [119] ............................ if not voidp(pClickURL) then
  [113] getprop 177 ............................. <pClickURL>
  [115] pusharglistnoret 1 ...................... <pClickURL>
  [117] extcall 233 ............................. openNetPage(pClickURL)
  [119] jmp [526]
  [122] peek 0
  [124] pushcons 118 ............................ <"purse_view">
  [126] eq
  [127] jmpifz [246] ............................ (case) "purse_view":
  [130] getprop 58 .............................. <pValueField>
  [132] jmpifz [142] ............................ if pValueField then / else
  [135] pushcons 99 ............................. <"PurseTransactions.window">
  [137] setlocal 2 .............................. tWnd = "PurseTransactions.window"
  [139] jmp [146]
  [142] pushcons 75 ............................. <"PurseTransactions2.window">
  [144] setlocal 2 .............................. tWnd = "PurseTransactions2.window"
  [146] getprop 32 .............................. <pPageList>
  [148] pusharglist 1 ........................... <pPageList>
  [150] extcall 132 ............................. <count(pPageList)>
  [152] pushzero ................................ <0>
  [153] eq ...................................... <count(pPageList) = 0>
  [154] getprop 39 .............................. <pDataReceived>
  [156] pushzero ................................ <0>
  [157] eq ...................................... <pDataReceived = 0>
  [158] and ..................................... <(count(pPageList) = 0) and (pDataReceived = 0)>
  [159] jmpifz [197] ............................ if (count(pPageList) = 0) and (pDataReceived = 0) then / else
  [162] getparam 0 .............................. <me>
  [164] getlocal 2 .............................. <tWnd>
  [166] pusharglistnoret 2 ...................... <me, tWnd>
  [168] objcall 16 .............................. me.changePurseWindowView(tWnd)
  [170] getparam 0 .............................. <me>
  [172] pushint8 1 .............................. <1>
  [174] pusharglistnoret 2 ...................... <me, 1>
  [176] objcall 5 ............................... me.showPurseLoader(1)
  [178] pushcons 119 ............................ <"connection.info.id">
  [180] pusharglist 1 ........................... <"connection.info.id">
  [182] extcall 235 ............................. <getVariableValue("connection.info.id")>
  [184] pusharglist 1 ........................... <getVariableValue("connection.info.id")>
  [186] extcall 234 ............................. <getConnection(getVariableValue("connection.info.id"))>
  [188] pushcons 120 ............................ <"GETUSERCREDITLOG">
  [190] pusharglistnoret 2 ...................... <getConnection(getVariableValue("connection.info.id")), "GETUSERCREDITLOG">
  [192] objcall 236 ............................. getConnection(getVariableValue("connection.info.id")).send("GETUSERCREDITLOG")
  [194] jmp [228]
  [197] getprop 32 .............................. <pPageList>
  [199] pusharglist 1 ........................... <pPageList>
  [201] extcall 132 ............................. <count(pPageList)>
  [203] pushzero ................................ <0>
  [204] eq ...................................... <count(pPageList) = 0>
  [205] jmpifz [212] ............................ if count(pPageList) = 0 then
  [208] pushcons 40 ............................. <"PurseNoTransactions.window">
  [210] setlocal 2 .............................. tWnd = "PurseNoTransactions.window"
  [212] getparam 0 .............................. <me>
  [214] getlocal 2 .............................. <tWnd>
  [216] pusharglistnoret 2 ...................... <me, tWnd>
  [218] objcall 16 .............................. me.changePurseWindowView(tWnd)
  [220] getparam 0 .............................. <me>
  [222] getprop 32 .............................. <pPageList>
  [224] pusharglistnoret 2 ...................... <me, pPageList>
  [226] objcall 11 .............................. me.showPages(pPageList)
  [228] pushcons 19 ............................. <"flyTimer">
  [230] pusharglist 1 ........................... <"flyTimer">
  [232] extcall 75 .............................. <timeoutExists("flyTimer")>
  [234] jmpifz [243] ............................ if timeoutExists("flyTimer") then
  [237] pushcons 19 ............................. <"flyTimer">
  [239] pusharglistnoret 1 ...................... <"flyTimer">
  [241] extcall 76 .............................. removeTimeout("flyTimer")
  [243] jmp [526]
  [246] peek 0
  [248] pushcons 121 ............................ <"show_credits">
  [250] eq
  [251] jmpifz [265] ............................ (case) "show_credits":
  [254] getparam 0 .............................. <me>
  [256] pushcons 20 ............................. <"purse.window">
  [258] pusharglistnoret 2 ...................... <me, "purse.window">
  [260] objcall 16 .............................. me.changePurseWindowView("purse.window")
  [262] jmp [526]
  [265] peek 0
  [267] pushcons 26 ............................. <"taction_next">
  [269] eq
  [270] jmpifz [287] ............................ (case) "taction_next":
  [273] getparam 0 .............................. <me>
  [275] getprop 30 .............................. <pPageView>
  [277] pushint8 1 .............................. <1>
  [279] add ..................................... <pPageView + 1>
  [280] pusharglistnoret 2 ...................... <me, pPageView + 1>
  [282] objcall 12 .............................. me.drawPage(pPageView + 1)
  [284] jmp [526]
  [287] peek 0
  [289] pushcons 24 ............................. <"taction_prev">
  [291] eq
  [292] jmpifz [309] ............................ (case) "taction_prev":
  [295] getparam 0 .............................. <me>
  [297] getprop 30 .............................. <pPageView>
  [299] pushint8 1 .............................. <1>
  [301] sub ..................................... <pPageView - 1>
  [302] pusharglistnoret 2 ...................... <me, pPageView - 1>
  [304] objcall 12 .............................. me.drawPage(pPageView - 1)
  [306] jmp [526]
  [309] peek 0
  [311] pushcons 105 ............................ <"purse_buy">
  [313] eq
  [314] jmpifz [342] ............................ (case) "purse_buy":
  [317] pushsymb 56 ............................. <#session>
  [319] pusharglist 1 ........................... <#session>
  [321] extcall 55 .............................. <getObject(#session)>
  [323] setlocal 3 .............................. tSession = getObject(#session)
  [325] pushcons 122 ............................ <"url_purselink">
  [327] pusharglist 1 ........................... <"url_purselink">
  [329] extcall 27 .............................. <getText("url_purselink")>
  [331] setlocal 4 .............................. tURL = getText("url_purselink")
  [333] getlocal 4 .............................. <tURL>
  [335] pusharglistnoret 1 ...................... <tURL>
  [337] extcall 233 ............................. openNetPage(tURL)
  [339] jmp [526]
  [342] peek 0
  [344] pushcons 74 ............................. <"purse_voucher">
  [346] eq
  [347] jmpifz [374] ............................ (case) "purse_voucher":
  [350] pushsymb 56 ............................. <#session>
  [352] pusharglist 1 ........................... <#session>
  [354] extcall 55 .............................. <getObject(#session)>
  [356] pushcons 73 ............................. <"conf_voucher">
  [358] pusharglist 2 ........................... <getObject(#session), "conf_voucher">
  [360] objcall 194 ............................. <getObject(#session).get("conf_voucher")>
  [362] jmpifz [371] ............................ if getObject(#session).get("conf_voucher") then
  [365] getparam 0 .............................. <me>
  [367] pusharglistnoret 1 ...................... <me>
  [369] objcall 8 ............................... me.showVoucherWindow()
  [371] jmp [526]
  [374] peek 0
  [376] pushcons 34 ............................. <"voucher_send">
  [378] eq
  [379] jmpifz [474] ............................ (case) "voucher_send":
  [382] getprop 29 .............................. <pVoucherInputState>
  [384] not ..................................... <not pVoucherInputState>
  [385] jmpifz [395] ............................ if not pVoucherInputState then
  [388] pop 1
  [390] pushzero ................................ <0>
  [391] pusharglistnoret 1 ...................... <0>
  [393] extcall 62 .............................. return 0
  [395] getprop 28 .............................. <pVoucherWindowTitle>
  [397] pusharglist 1 ........................... <pVoucherWindowTitle>
  [399] extcall 81 .............................. <getWindow(pVoucherWindowTitle)>
  [401] pushcons 32 ............................. <"voucher_code">
  [403] pusharglist 2 ........................... <getWindow(pVoucherWindowTitle), "voucher_code">
  [405] objcall 83 .............................. <getWindow(pVoucherWindowTitle).getElement("voucher_code")>
  [407] not ..................................... <not getWindow(pVoucherWindowTitle).getElement("voucher_code")>
  [408] jmpifz [418] ............................ if not getWindow(pVoucherWindowTitle).getElement("voucher_code") then
  [411] pop 1
  [413] pushzero ................................ <0>
  [414] pusharglistnoret 1 ...................... <0>
  [416] extcall 62 .............................. return 0
  [418] getprop 28 .............................. <pVoucherWindowTitle>
  [420] pusharglist 1 ........................... <pVoucherWindowTitle>
  [422] extcall 81 .............................. <getWindow(pVoucherWindowTitle)>
  [424] pushcons 32 ............................. <"voucher_code">
  [426] pusharglist 2 ........................... <getWindow(pVoucherWindowTitle), "voucher_code">
  [428] objcall 83 .............................. <getWindow(pVoucherWindowTitle).getElement("voucher_code")>
  [430] pusharglist 1 ........................... <getWindow(pVoucherWindowTitle).getElement("voucher_code")>
  [432] objcall 27 .............................. <getWindow(pVoucherWindowTitle).getElement("voucher_code").getText()>
  [434] setlocal 5 .............................. tCode = getWindow(pVoucherWindowTitle).getElement("voucher_code").getText()
  [436] getlocal 5 .............................. <tCode>
  [438] getobjprop 239 .......................... <tCode.length>
  [440] pushzero ................................ <0>
  [441] eq ...................................... <tCode.length = 0>
  [442] jmpifz [452] ............................ if tCode.length = 0 then
  [445] pop 1
  [447] pushzero ................................ <0>
  [448] pusharglistnoret 1 ...................... <0>
  [450] extcall 62 .............................. return 0
  [452] getparam 0 .............................. <me>
  [454] pushzero ................................ <0>
  [455] pusharglistnoret 2 ...................... <me, 0>
  [457] objcall 7 ............................... me.setVoucherInput(0)
  [459] getparam 0 .............................. <me>
  [461] pusharglist 1 ........................... <me>
  [463] objcall 240 ............................. <me.getComponent()>
  [465] getlocal 5 .............................. <tCode>
  [467] pusharglistnoret 2 ...................... <me.getComponent(), tCode>
  [469] objcall 241 ............................. me.getComponent().sendVoucherCode(tCode)
  [471] jmp [526]
  [474] peek 0
  [476] pushcons 39 ............................. <"voucher_help">
  [478] eq
  [479] jmpifz [495] ............................ (case) "voucher_help":
  [482] pushcons 37 ............................. <"purse_vouchers_helpurl">
  [484] pusharglist 1 ........................... <"purse_vouchers_helpurl">
  [486] extcall 27 .............................. <getText("purse_vouchers_helpurl")>
  [488] pusharglistnoret 1 ...................... <getText("purse_vouchers_helpurl")>
  [490] extcall 233 ............................. openNetPage(getText("purse_vouchers_helpurl"))
  [492] jmp [526]
  [495] peek 0
  [497] pushcons 33 ............................. <"voucher_exit">
  [499] eq
  [500] jmpifz [512] ............................ (case) "voucher_exit":
  [503] getparam 0 .............................. <me>
  [505] pusharglistnoret 1 ...................... <me>
  [507] objcall 9 ............................... me.hideVoucherWindow()
  [509] jmp [526]
  [512] peek 0
  [514] pushcons 123 ............................ <"close">
  [516] eq
  [517] jmpifz [526] ............................ (case) "close":
  [520] getparam 0 .............................. <me>
  [522] pusharglistnoret 1 ...................... <me>
  [524] objcall 4 ............................... me.hidePurse()
  [526] pop 1 ................................... end case
  [528] ret
end
