property pConnectionId, pUpdateInterval

on construct me
  [  0] pushcons 0 .............................. <"connection.info.id">
  [  2] pusharglist 1 ........................... <"connection.info.id">
  [  4] extcall 264 ............................. <getVariableValue("connection.info.id")>
  [  7] setprop 263 ............................. pConnectionId = getVariableValue("connection.info.id")
  [ 10] pushcons 1 .............................. <"gamesystem.instancelist.updatetime">
  [ 12] pushint16 15000 ......................... <15000>
  [ 15] pusharglist 2 ........................... <"gamesystem.instancelist.updatetime", 15000>
  [ 17] extcall 266 ............................. <getIntVariable("gamesystem.instancelist.updatetime", 15000)>
  [ 20] setprop 265 ............................. pUpdateInterval = getIntVariable("gamesystem.instancelist.updatetime", 15000)
  [ 23] pushint8 1 .............................. <1>
  [ 25] pusharglistnoret 1 ...................... <1>
  [ 27] extcall 53 .............................. return 1
  [ 29] ret
end

on deconstruct me
  [  0] getparam 0 .............................. <me>
  [  2] pushzero ................................ <0>
  [  3] pusharglistnoret 2 ...................... <me, 0>
  [  5] objcall 11 .............................. me.setInstanceListUpdates(0)
  [  7] pushint8 1 .............................. <1>
  [  9] pusharglistnoret 1 ...................... <1>
  [ 11] extcall 53 .............................. return 1
  [ 13] ret
end

on setInstanceListUpdates me, tBoolean
  [  0] pushsymb 267 ............................ <#gamesystem_update>
  [  3] setlocal 0 .............................. tTimeOutId = #gamesystem_update
  [  5] getparam 0 .............................. <me>
  [  7] pusharglist 1 ........................... <me>
  [  9] objcall 124 ............................. <me.getVariableManager()>
  [ 11] setlocal 1 .............................. tVarMgrObj = me.getVariableManager()
  [ 13] getlocal 1 .............................. <tVarMgrObj>
  [ 15] pushsymb 221 ............................ <#instancelist_timestamp>
  [ 17] pusharglist 2 ........................... <tVarMgrObj, #instancelist_timestamp>
  [ 19] objcall 79 .............................. <tVarMgrObj.exists(#instancelist_timestamp)>
  [ 21] not ..................................... <not tVarMgrObj.exists(#instancelist_timestamp)>
  [ 22] jmpifz [ 34] ............................ if not tVarMgrObj.exists(#instancelist_timestamp) then
  [ 25] getlocal 1 .............................. <tVarMgrObj>
  [ 27] pushsymb 221 ............................ <#instancelist_timestamp>
  [ 29] pushzero ................................ <0>
  [ 30] pusharglistnoret 3 ...................... <tVarMgrObj, #instancelist_timestamp, 0>
  [ 32] objcall 193 ............................. tVarMgrObj.set(#instancelist_timestamp, 0)
  [ 34] getparam 1 .............................. <tBoolean>
  [ 36] jmpifz [113] ............................ if tBoolean then / else
  [ 39] getmovieprop 222 ........................ <the milliSeconds>
  [ 41] getlocal 1 .............................. <tVarMgrObj>
  [ 43] pushsymb 221 ............................ <#instancelist_timestamp>
  [ 45] pusharglist 2 ........................... <tVarMgrObj, #instancelist_timestamp>
  [ 47] objcall 73 .............................. <tVarMgrObj.get(#instancelist_timestamp)>
  [ 49] sub ..................................... <the milliSeconds - tVarMgrObj.get(#instancelist_timestamp)>
  [ 50] pusharglist 1 ........................... <the milliSeconds - tVarMgrObj.get(#instancelist_timestamp)>
  [ 52] extcall 268 ............................. <abs(the milliSeconds - tVarMgrObj.get(#instancelist_timestamp))>
  [ 55] getprop 265 ............................. <pUpdateInterval>
  [ 58] gt ...................................... <abs(the milliSeconds - tVarMgrObj.get(#instancelist_timestamp)) > pUpdateInterval>
  [ 59] jmpifz [ 72] ............................ if abs(the milliSeconds - tVarMgrObj.get(#instancelist_timestamp)) > pUpdateInterval then
  [ 62] getparam 0 .............................. <me>
  [ 64] pusharglist 1 ........................... <me>
  [ 66] objcall 81 .............................. <me.getMessageSender()>
  [ 68] pusharglistnoret 1 ...................... <me.getMessageSender()>
  [ 70] objcall 12 .............................. me.getMessageSender().sendGetInstanceList()
  [ 72] getlocal 0 .............................. <tTimeOutId>
  [ 74] pusharglist 1 ........................... <tTimeOutId>
  [ 76] extcall 269 ............................. <timeoutExists(tTimeOutId)>
  [ 79] jmpifz [ 88] ............................ if timeoutExists(tTimeOutId) then
  [ 82] pushint8 1 .............................. <1>
  [ 84] pusharglistnoret 1 ...................... <1>
  [ 86] extcall 53 .............................. return 1
  [ 88] getlocal 0 .............................. <tTimeOutId>
  [ 90] getprop 265 ............................. <pUpdateInterval>
  [ 93] pushsymb 12 ............................. <#sendGetInstanceList>
  [ 95] getparam 0 .............................. <me>
  [ 97] pusharglist 1 ........................... <me>
  [ 99] objcall 63 .............................. <me.getID()>
  [101] pusharglist 4 ........................... <tTimeOutId, pUpdateInterval, #sendGetInstanceList, me.getID()>
  [103] extcall 270 ............................. <createTimeout(tTimeOutId, pUpdateInterval, #sendGetInstanceList, me.getID())>
  [106] pusharglistnoret 1 ...................... <createTimeout(tTimeOutId, pUpdateInterval, #sendGetInstanceList, me.getID())>
  [108] extcall 53 .............................. return createTimeout(tTimeOutId, pUpdateInterval, #sendGetInstanceList, me.getID())
  [110] jmp [145]
  [113] getlocal 1 .............................. <tVarMgrObj>
  [115] pushsymb 221 ............................ <#instancelist_timestamp>
  [117] pushzero ................................ <0>
  [118] pusharglistnoret 3 ...................... <tVarMgrObj, #instancelist_timestamp, 0>
  [120] objcall 193 ............................. tVarMgrObj.set(#instancelist_timestamp, 0)
  [122] getlocal 0 .............................. <tTimeOutId>
  [124] pusharglist 1 ........................... <tTimeOutId>
  [126] extcall 269 ............................. <timeoutExists(tTimeOutId)>
  [129] jmpifz [139] ............................ if timeoutExists(tTimeOutId) then
  [132] getlocal 0 .............................. <tTimeOutId>
  [134] pusharglistnoret 1 ...................... <tTimeOutId>
  [136] extcall 271 ............................. removeTimeout(tTimeOutId)
  [139] pushint8 1 .............................. <1>
  [141] pusharglistnoret 1 ...................... <1>
  [143] extcall 53 .............................. return 1
  [145] ret
end

on sendGetInstanceList me
  [  0] getprop 263 ............................. <pConnectionId>
  [  3] pusharglist 1 ........................... <pConnectionId>
  [  5] extcall 274 ............................. <connectionExists(pConnectionId)>
  [  8] not ..................................... <not connectionExists(pConnectionId)>
  [  9] jmpifz [ 30] ............................ if not connectionExists(pConnectionId) then
  [ 12] getparam 0 .............................. <me>
  [ 14] pushcons 2 .............................. <"Connection not found:">
  [ 16] getprop 263 ............................. <pConnectionId>
  [ 19] joinpadstr .............................. <"Connection not found:" && pConnectionId>
  [ 20] pushsymb 12 ............................. <#sendGetInstanceList>
  [ 22] pusharglist 3 ........................... <me, "Connection not found:" && pConnectionId, #sendGetInstanceList>
  [ 24] extcall 62 .............................. <error(me, "Connection not found:" && pConnectionId, #sendGetInstanceList)>
  [ 26] pusharglistnoret 1 ...................... <error(me, "Connection not found:" && pConnectionId, #sendGetInstanceList)>
  [ 28] extcall 53 .............................. return error(me, "Connection not found:" && pConnectionId, #sendGetInstanceList)
  [ 30] getparam 0 .............................. <me>
  [ 32] pusharglist 1 ........................... <me>
  [ 34] objcall 124 ............................. <me.getVariableManager()>
  [ 36] pushsymb 191 ............................ <#game_status>
  [ 38] pushsymb 192 ............................ <#none>
  [ 40] pusharglistnoret 3 ...................... <me.getVariableManager(), #game_status, #none>
  [ 42] objcall 193 ............................. me.getVariableManager().set(#game_status, #none)
  [ 44] getprop 263 ............................. <pConnectionId>
  [ 47] pusharglist 1 ........................... <pConnectionId>
  [ 49] extcall 275 ............................. <getConnection(pConnectionId)>
  [ 52] pushcons 3 .............................. <"GETINSTANCELIST">
  [ 54] pusharglist 2 ........................... <getConnection(pConnectionId), "GETINSTANCELIST">
  [ 56] objcall 276 ............................. <getConnection(pConnectionId).send("GETINSTANCELIST")>
  [ 59] pusharglistnoret 1 ...................... <getConnection(pConnectionId).send("GETINSTANCELIST")>
  [ 61] extcall 53 .............................. return getConnection(pConnectionId).send("GETINSTANCELIST")
  [ 63] ret
end

on sendObserveInstance me, tid
  [  0] getprop 263 ............................. <pConnectionId>
  [  3] pusharglist 1 ........................... <pConnectionId>
  [  5] extcall 274 ............................. <connectionExists(pConnectionId)>
  [  8] not ..................................... <not connectionExists(pConnectionId)>
  [  9] jmpifz [ 30] ............................ if not connectionExists(pConnectionId) then
  [ 12] getparam 0 .............................. <me>
  [ 14] pushcons 2 .............................. <"Connection not found:">
  [ 16] getprop 263 ............................. <pConnectionId>
  [ 19] joinpadstr .............................. <"Connection not found:" && pConnectionId>
  [ 20] pushsymb 83 ............................. <#sendObserveInstance>
  [ 22] pusharglist 3 ........................... <me, "Connection not found:" && pConnectionId, #sendObserveInstance>
  [ 24] extcall 62 .............................. <error(me, "Connection not found:" && pConnectionId, #sendObserveInstance)>
  [ 26] pusharglistnoret 1 ...................... <error(me, "Connection not found:" && pConnectionId, #sendObserveInstance)>
  [ 28] extcall 53 .............................. return error(me, "Connection not found:" && pConnectionId, #sendObserveInstance)
  [ 30] getprop 263 ............................. <pConnectionId>
  [ 33] pusharglist 1 ........................... <pConnectionId>
  [ 35] extcall 275 ............................. <getConnection(pConnectionId)>
  [ 38] pushcons 4 .............................. <"OBSERVEINSTANCE">
  [ 40] pushsymb 277 ............................ <#integer>
  [ 43] getparam 1 .............................. <tid>
  [ 45] pusharglist 2 ........................... <[#integer: tid]>
  [ 47] pushproplist ............................ <[#integer: tid]>
  [ 48] pusharglist 3 ........................... <getConnection(pConnectionId), "OBSERVEINSTANCE", [#integer: tid]>
  [ 50] objcall 276 ............................. <getConnection(pConnectionId).send("OBSERVEINSTANCE", [#integer: tid])>
  [ 53] pusharglistnoret 1 ...................... <getConnection(pConnectionId).send("OBSERVEINSTANCE", [#integer: tid])>
  [ 55] extcall 53 .............................. return getConnection(pConnectionId).send("OBSERVEINSTANCE", [#integer: tid])
  [ 57] ret
end

on sendUnobserveInstance me
  [  0] getprop 263 ............................. <pConnectionId>
  [  3] pusharglist 1 ........................... <pConnectionId>
  [  5] extcall 274 ............................. <connectionExists(pConnectionId)>
  [  8] not ..................................... <not connectionExists(pConnectionId)>
  [  9] jmpifz [ 30] ............................ if not connectionExists(pConnectionId) then
  [ 12] getparam 0 .............................. <me>
  [ 14] pushcons 2 .............................. <"Connection not found:">
  [ 16] getprop 263 ............................. <pConnectionId>
  [ 19] joinpadstr .............................. <"Connection not found:" && pConnectionId>
  [ 20] pushsymb 85 ............................. <#sendUnobserveInstance>
  [ 22] pusharglist 3 ........................... <me, "Connection not found:" && pConnectionId, #sendUnobserveInstance>
  [ 24] extcall 62 .............................. <error(me, "Connection not found:" && pConnectionId, #sendUnobserveInstance)>
  [ 26] pusharglistnoret 1 ...................... <error(me, "Connection not found:" && pConnectionId, #sendUnobserveInstance)>
  [ 28] extcall 53 .............................. return error(me, "Connection not found:" && pConnectionId, #sendUnobserveInstance)
  [ 30] getparam 0 .............................. <me>
  [ 32] pusharglist 1 ........................... <me>
  [ 34] objcall 124 ............................. <me.getVariableManager()>
  [ 36] pushsymb 77 ............................. <#observed_instance_data>
  [ 38] pusharglist 0 ........................... <[:]>
  [ 40] pushproplist ............................ <[:]>
  [ 41] pusharglistnoret 3 ...................... <me.getVariableManager(), #observed_instance_data, [:]>
  [ 43] objcall 193 ............................. me.getVariableManager().set(#observed_instance_data, [:])
  [ 45] getparam 0 .............................. <me>
  [ 47] pusharglist 1 ........................... <me>
  [ 49] objcall 124 ............................. <me.getVariableManager()>
  [ 51] pushsymb 191 ............................ <#game_status>
  [ 53] pushsymb 192 ............................ <#none>
  [ 55] pusharglistnoret 3 ...................... <me.getVariableManager(), #game_status, #none>
  [ 57] objcall 193 ............................. me.getVariableManager().set(#game_status, #none)
  [ 59] getparam 0 .............................. <me>
  [ 61] pushint8 1 .............................. <1>
  [ 63] pusharglistnoret 2 ...................... <me, 1>
  [ 65] objcall 11 .............................. me.setInstanceListUpdates(1)
  [ 67] getprop 263 ............................. <pConnectionId>
  [ 70] pusharglist 1 ........................... <pConnectionId>
  [ 72] extcall 275 ............................. <getConnection(pConnectionId)>
  [ 75] pushcons 5 .............................. <"UNOBSERVEINSTANCE">
  [ 77] pusharglist 2 ........................... <getConnection(pConnectionId), "UNOBSERVEINSTANCE">
  [ 79] objcall 276 ............................. <getConnection(pConnectionId).send("UNOBSERVEINSTANCE")>
  [ 82] pusharglistnoret 1 ...................... <getConnection(pConnectionId).send("UNOBSERVEINSTANCE")>
  [ 84] extcall 53 .............................. return getConnection(pConnectionId).send("UNOBSERVEINSTANCE")
  [ 86] ret
end

on sendInitiateCreateGame me, tTeamId
  [  0] getprop 263 ............................. <pConnectionId>
  [  3] pusharglist 1 ........................... <pConnectionId>
  [  5] extcall 274 ............................. <connectionExists(pConnectionId)>
  [  8] not ..................................... <not connectionExists(pConnectionId)>
  [  9] jmpifz [ 30] ............................ if not connectionExists(pConnectionId) then
  [ 12] getparam 0 .............................. <me>
  [ 14] pushcons 2 .............................. <"Connection not found:">
  [ 16] getprop 263 ............................. <pConnectionId>
  [ 19] joinpadstr .............................. <"Connection not found:" && pConnectionId>
  [ 20] pushsymb 86 ............................. <#sendInitiateCreateGame>
  [ 22] pusharglist 3 ........................... <me, "Connection not found:" && pConnectionId, #sendInitiateCreateGame>
  [ 24] extcall 62 .............................. <error(me, "Connection not found:" && pConnectionId, #sendInitiateCreateGame)>
  [ 26] pusharglistnoret 1 ...................... <error(me, "Connection not found:" && pConnectionId, #sendInitiateCreateGame)>
  [ 28] extcall 53 .............................. return error(me, "Connection not found:" && pConnectionId, #sendInitiateCreateGame)
  [ 30] getparam 0 .............................. <me>
  [ 32] pushzero ................................ <0>
  [ 33] pusharglistnoret 2 ...................... <me, 0>
  [ 35] objcall 11 .............................. me.setInstanceListUpdates(0)
  [ 37] getparam 0 .............................. <me>
  [ 39] pusharglist 1 ........................... <me>
  [ 41] objcall 124 ............................. <me.getVariableManager()>
  [ 43] pushsymb 191 ............................ <#game_status>
  [ 45] pushsymb 192 ............................ <#none>
  [ 47] pusharglistnoret 3 ...................... <me.getVariableManager(), #game_status, #none>
  [ 49] objcall 193 ............................. me.getVariableManager().set(#game_status, #none)
  [ 51] getparam 1 .............................. <tTeamId>
  [ 53] pusharglist 0 ........................... <>
  [ 55] extcall 61 .............................. <VOID>
  [ 57] nteq .................................... <tTeamId <> VOID>
  [ 58] jmpifz [103] ............................ if tTeamId <> VOID then / else
  [ 61] getparam 1 .............................. <tTeamId>
  [ 63] pushint8 1 .............................. <1>
  [ 65] sub ..................................... <tTeamId - 1>
  [ 66] setparam 1 .............................. tTeamId = tTeamId - 1
  [ 68] getprop 263 ............................. <pConnectionId>
  [ 71] pusharglist 1 ........................... <pConnectionId>
  [ 73] extcall 275 ............................. <getConnection(pConnectionId)>
  [ 76] pushcons 6 .............................. <"INITIATECREATEGAME">
  [ 78] pushsymb 277 ............................ <#integer>
  [ 81] getparam 1 .............................. <tTeamId>
  [ 83] pusharglist 1 ........................... <tTeamId>
  [ 85] extcall 277 ............................. <integer(tTeamId)>
  [ 88] pusharglist 2 ........................... <[#integer: integer(tTeamId)]>
  [ 90] pushproplist ............................ <[#integer: integer(tTeamId)]>
  [ 91] pusharglist 3 ........................... <getConnection(pConnectionId), "INITIATECREATEGAME", [#integer: integer(tTeamId)]>
  [ 93] objcall 276 ............................. <getConnection(pConnectionId).send("INITIATECREATEGAME", [#integer: integer(tTeamId)])>
  [ 96] pusharglistnoret 1 ...................... <getConnection(pConnectionId).send("INITIATECREATEGAME", [#integer: integer(tTeamId)])>
  [ 98] extcall 53 .............................. return getConnection(pConnectionId).send("INITIATECREATEGAME", [#integer: integer(tTeamId)])
  [100] jmp [122]
  [103] getprop 263 ............................. <pConnectionId>
  [106] pusharglist 1 ........................... <pConnectionId>
  [108] extcall 275 ............................. <getConnection(pConnectionId)>
  [111] pushcons 6 .............................. <"INITIATECREATEGAME">
  [113] pusharglist 2 ........................... <getConnection(pConnectionId), "INITIATECREATEGAME">
  [115] objcall 276 ............................. <getConnection(pConnectionId).send("INITIATECREATEGAME")>
  [118] pusharglistnoret 1 ...................... <getConnection(pConnectionId).send("INITIATECREATEGAME")>
  [120] extcall 53 .............................. return getConnection(pConnectionId).send("INITIATECREATEGAME")
  [122] ret
end

on sendGameParameterValues me, tParamList, tTeamId
  [  0] getparam 0 .............................. <me>
  [  2] pusharglist 1 ........................... <me>
  [  4] objcall 57 .............................. <me.getBaseLogic()>
  [  6] pusharglist 1 ........................... <me.getBaseLogic()>
  [  8] objcall 5 ............................... <me.getBaseLogic().getGamestatus()>
  [ 10] pushsymb 231 ............................ <#create_requested>
  [ 12] eq ...................................... <me.getBaseLogic().getGamestatus() = #create_requested>
  [ 13] jmpifz [ 21] ............................ if me.getBaseLogic().getGamestatus() = #create_requested then
  [ 16] pushzero ................................ <0>
  [ 17] pusharglistnoret 1 ...................... <0>
  [ 19] extcall 53 .............................. return 0
  [ 21] getparam 2 .............................. <tTeamId>
  [ 23] pushint8 1 .............................. <1>
  [ 25] sub ..................................... <tTeamId - 1>
  [ 26] setparam 2 .............................. tTeamId = tTeamId - 1
  [ 28] getprop 263 ............................. <pConnectionId>
  [ 31] pusharglist 1 ........................... <pConnectionId>
  [ 33] extcall 274 ............................. <connectionExists(pConnectionId)>
  [ 36] not ..................................... <not connectionExists(pConnectionId)>
  [ 37] jmpifz [ 58] ............................ if not connectionExists(pConnectionId) then
  [ 40] getparam 0 .............................. <me>
  [ 42] pushcons 2 .............................. <"Connection not found:">
  [ 44] getprop 263 ............................. <pConnectionId>
  [ 47] joinpadstr .............................. <"Connection not found:" && pConnectionId>
  [ 48] pushsymb 88 ............................. <#sendGameParameterValues>
  [ 50] pusharglist 3 ........................... <me, "Connection not found:" && pConnectionId, #sendGameParameterValues>
  [ 52] extcall 62 .............................. <error(me, "Connection not found:" && pConnectionId, #sendGameParameterValues)>
  [ 54] pusharglistnoret 1 ...................... <error(me, "Connection not found:" && pConnectionId, #sendGameParameterValues)>
  [ 56] extcall 53 .............................. return error(me, "Connection not found:" && pConnectionId, #sendGameParameterValues)
  [ 58] getparam 0 .............................. <me>
  [ 60] pushzero ................................ <0>
  [ 61] pusharglistnoret 2 ...................... <me, 0>
  [ 63] objcall 11 .............................. me.setInstanceListUpdates(0)
  [ 65] getparam 0 .............................. <me>
  [ 67] pusharglist 1 ........................... <me>
  [ 69] objcall 124 ............................. <me.getVariableManager()>
  [ 71] pushsymb 78 ............................. <#gameparametervalues_format>
  [ 73] pusharglist 2 ........................... <me.getVariableManager(), #gameparametervalues_format>
  [ 75] objcall 73 .............................. <me.getVariableManager().get(#gameparametervalues_format)>
  [ 77] setlocal 0 .............................. tStruct = me.getVariableManager().get(#gameparametervalues_format)
  [ 79] pushsymb 277 ............................ <#integer>
  [ 82] getlocal 0 .............................. <tStruct>
  [ 84] getobjprop 143 .......................... <tStruct.count>
  [ 86] pusharglist 2 ........................... <[#integer: tStruct.count]>
  [ 88] pushproplist ............................ <[#integer: tStruct.count]>
  [ 89] setlocal 1 .............................. tOutput = [#integer: tStruct.count]
  [ 91] pushint8 1 .............................. <1>
  [ 93] setlocal 2
  [ 95] getlocal 2
  [ 97] getlocal 0 .............................. <tStruct>
  [ 99] getobjprop 143 .......................... <tStruct.count>
  [101] lteq
  [102] jmpifz [268] ............................ repeat with i = 1 to tStruct.count
  [105] getlocal 0 .............................. <tStruct>
  [107] getlocal 2 .............................. <i>
  [109] pusharglist 2 ........................... <tStruct, i>
  [111] objcall 99 .............................. <tStruct[i]>
  [113] setlocal 3 .............................. tValueData = tStruct[i]
  [115] getparam 1 .............................. <tParamList>
  [117] getlocal 3 .............................. <tValueData>
  [119] pushsymb 254 ............................ <#name>
  [121] pusharglist 2 ........................... <tValueData, #name>
  [123] objcall 99 .............................. <tValueData[#name]>
  [125] pusharglist 2 ........................... <tParamList, tValueData[#name]>
  [127] objcall 281 ............................. <tParamList.findPos(tValueData[#name])>
  [130] pushzero ................................ <0>
  [131] eq ...................................... <tParamList.findPos(tValueData[#name]) = 0>
  [132] jmpifz [149] ............................ if tParamList.findPos(tValueData[#name]) = 0 then
  [135] getparam 0 .............................. <me>
  [137] pushcons 7 .............................. <"Invalid game parameter values!">
  [139] pushsymb 88 ............................. <#sendGameParameterValues>
  [141] pusharglist 3 ........................... <me, "Invalid game parameter values!", #sendGameParameterValues>
  [143] extcall 62 .............................. <error(me, "Invalid game parameter values!", #sendGameParameterValues)>
  [145] pusharglistnoret 1 ...................... <error(me, "Invalid game parameter values!", #sendGameParameterValues)>
  [147] extcall 53 .............................. return error(me, "Invalid game parameter values!", #sendGameParameterValues)
  [149] getparam 1 .............................. <tParamList>
  [151] getlocal 3 .............................. <tValueData>
  [153] pushsymb 254 ............................ <#name>
  [155] pusharglist 2 ........................... <tValueData, #name>
  [157] objcall 99 .............................. <tValueData[#name]>
  [159] pusharglist 2 ........................... <tParamList, tValueData[#name]>
  [161] objcall 99 .............................. <tParamList[tValueData[#name]]>
  [163] setlocal 4 .............................. tValue = tParamList[tValueData[#name]]
  [165] getlocal 1 .............................. <tOutput>
  [167] pushsymb 224 ............................ <#string>
  [169] getlocal 3 .............................. <tValueData>
  [171] pushsymb 254 ............................ <#name>
  [173] pusharglist 2 ........................... <tValueData, #name>
  [175] objcall 99 .............................. <tValueData[#name]>
  [177] pusharglistnoret 3 ...................... <tOutput, #string, tValueData[#name]>
  [179] objcall 240 ............................. tOutput.addProp(#string, tValueData[#name])
  [181] getlocal 3 .............................. <tValueData>
  [183] pushsymb 203 ............................ <#type>
  [185] pusharglist 2 ........................... <tValueData, #type>
  [187] objcall 99 .............................. <tValueData[#type]>
  [189] pushsymb 277 ............................ <#integer>
  [192] eq ...................................... <tValueData[#type] = #integer>
  [193] jmpifz [220] ............................ if tValueData[#type] = #integer then
  [196] getlocal 1 .............................. <tOutput>
  [198] pushsymb 277 ............................ <#integer>
  [201] pushzero ................................ <0>
  [202] pusharglistnoret 3 ...................... <tOutput, #integer, 0>
  [204] objcall 240 ............................. tOutput.addProp(#integer, 0)
  [206] getlocal 1 .............................. <tOutput>
  [208] pushsymb 277 ............................ <#integer>
  [211] getlocal 4 .............................. <tValue>
  [213] pusharglistnoret 3 ...................... <tOutput, #integer, tValue>
  [215] objcall 240 ............................. tOutput.addProp(#integer, tValue)
  [217] jmp [259] ............................... next repeat
  [220] getlocal 3 .............................. <tValueData>
  [222] pushsymb 203 ............................ <#type>
  [224] pusharglist 2 ........................... <tValueData, #type>
  [226] objcall 99 .............................. <tValueData[#type]>
  [228] pushsymb 224 ............................ <#string>
  [230] eq ...................................... <tValueData[#type] = #string>
  [231] jmpifz [259] ............................ if tValueData[#type] = #string then
  [234] getlocal 1 .............................. <tOutput>
  [236] pushsymb 277 ............................ <#integer>
  [239] pushint8 1 .............................. <1>
  [241] pusharglistnoret 3 ...................... <tOutput, #integer, 1>
  [243] objcall 240 ............................. tOutput.addProp(#integer, 1)
  [245] getlocal 1 .............................. <tOutput>
  [247] pushsymb 224 ............................ <#string>
  [249] getlocal 4 .............................. <tValue>
  [251] pusharglist 1 ........................... <tValue>
  [253] extcall 224 ............................. <string(tValue)>
  [255] pusharglistnoret 3 ...................... <tOutput, #string, string(tValue)>
  [257] objcall 240 ............................. tOutput.addProp(#string, string(tValue))
  [259] pushint8 1
  [261] getlocal 2
  [263] add
  [264] setlocal 2
  [266] endrepeat [ 95]
  [268] getparam 0 .............................. <me>
  [270] pusharglist 1 ........................... <me>
  [272] objcall 124 ............................. <me.getVariableManager()>
  [274] pushsymb 191 ............................ <#game_status>
  [276] pushsymb 231 ............................ <#create_requested>
  [278] pusharglistnoret 3 ...................... <me.getVariableManager(), #game_status, #create_requested>
  [280] objcall 193 ............................. me.getVariableManager().set(#game_status, #create_requested)
  [282] getlocal 1 .............................. <tOutput>
  [284] pushsymb 277 ............................ <#integer>
  [287] getparam 2 .............................. <tTeamId>
  [289] pusharglistnoret 3 ...................... <tOutput, #integer, tTeamId>
  [291] objcall 240 ............................. tOutput.addProp(#integer, tTeamId)
  [293] getprop 263 ............................. <pConnectionId>
  [296] pusharglist 1 ........................... <pConnectionId>
  [298] extcall 275 ............................. <getConnection(pConnectionId)>
  [301] pushcons 8 .............................. <"GAMEPARAMETERVALUES">
  [303] getlocal 1 .............................. <tOutput>
  [305] pusharglist 3 ........................... <getConnection(pConnectionId), "GAMEPARAMETERVALUES", tOutput>
  [307] objcall 276 ............................. <getConnection(pConnectionId).send("GAMEPARAMETERVALUES", tOutput)>
  [310] pusharglistnoret 1 ...................... <getConnection(pConnectionId).send("GAMEPARAMETERVALUES", tOutput)>
  [312] extcall 53 .............................. return getConnection(pConnectionId).send("GAMEPARAMETERVALUES", tOutput)
  [314] ret
end

on sendDeleteGame me
  [  0] getprop 263 ............................. <pConnectionId>
  [  3] pusharglist 1 ........................... <pConnectionId>
  [  5] extcall 274 ............................. <connectionExists(pConnectionId)>
  [  8] not ..................................... <not connectionExists(pConnectionId)>
  [  9] jmpifz [ 30] ............................ if not connectionExists(pConnectionId) then
  [ 12] getparam 0 .............................. <me>
  [ 14] pushcons 2 .............................. <"Connection not found:">
  [ 16] getprop 263 ............................. <pConnectionId>
  [ 19] joinpadstr .............................. <"Connection not found:" && pConnectionId>
  [ 20] pushsymb 90 ............................. <#sendDeleteGame>
  [ 22] pusharglist 3 ........................... <me, "Connection not found:" && pConnectionId, #sendDeleteGame>
  [ 24] extcall 62 .............................. <error(me, "Connection not found:" && pConnectionId, #sendDeleteGame)>
  [ 26] pusharglistnoret 1 ...................... <error(me, "Connection not found:" && pConnectionId, #sendDeleteGame)>
  [ 28] extcall 53 .............................. return error(me, "Connection not found:" && pConnectionId, #sendDeleteGame)
  [ 30] getparam 0 .............................. <me>
  [ 32] pusharglist 1 ........................... <me>
  [ 34] objcall 124 ............................. <me.getVariableManager()>
  [ 36] pushsymb 77 ............................. <#observed_instance_data>
  [ 38] pusharglist 0 ........................... <[:]>
  [ 40] pushproplist ............................ <[:]>
  [ 41] pusharglistnoret 3 ...................... <me.getVariableManager(), #observed_instance_data, [:]>
  [ 43] objcall 193 ............................. me.getVariableManager().set(#observed_instance_data, [:])
  [ 45] getparam 0 .............................. <me>
  [ 47] pusharglist 1 ........................... <me>
  [ 49] objcall 124 ............................. <me.getVariableManager()>
  [ 51] pushsymb 191 ............................ <#game_status>
  [ 53] pushsymb 192 ............................ <#none>
  [ 55] pusharglistnoret 3 ...................... <me.getVariableManager(), #game_status, #none>
  [ 57] objcall 193 ............................. me.getVariableManager().set(#game_status, #none)
  [ 59] getparam 0 .............................. <me>
  [ 61] pushint8 1 .............................. <1>
  [ 63] pusharglistnoret 2 ...................... <me, 1>
  [ 65] objcall 11 .............................. me.setInstanceListUpdates(1)
  [ 67] getprop 263 ............................. <pConnectionId>
  [ 70] pusharglist 1 ........................... <pConnectionId>
  [ 72] extcall 275 ............................. <getConnection(pConnectionId)>
  [ 75] pushcons 9 .............................. <"DELETEGAME">
  [ 77] pusharglist 2 ........................... <getConnection(pConnectionId), "DELETEGAME">
  [ 79] objcall 276 ............................. <getConnection(pConnectionId).send("DELETEGAME")>
  [ 82] pusharglistnoret 1 ...................... <getConnection(pConnectionId).send("DELETEGAME")>
  [ 84] extcall 53 .............................. return getConnection(pConnectionId).send("DELETEGAME")
  [ 86] ret
end

on sendInitiateJoinGame me, tInstanceId, tTeamId
  [  0] getprop 263 ............................. <pConnectionId>
  [  3] pusharglist 1 ........................... <pConnectionId>
  [  5] extcall 274 ............................. <connectionExists(pConnectionId)>
  [  8] not ..................................... <not connectionExists(pConnectionId)>
  [  9] jmpifz [ 30] ............................ if not connectionExists(pConnectionId) then
  [ 12] getparam 0 .............................. <me>
  [ 14] pushcons 2 .............................. <"Connection not found:">
  [ 16] getprop 263 ............................. <pConnectionId>
  [ 19] joinpadstr .............................. <"Connection not found:" && pConnectionId>
  [ 20] pushsymb 92 ............................. <#sendInitiateJoinGame>
  [ 22] pusharglist 3 ........................... <me, "Connection not found:" && pConnectionId, #sendInitiateJoinGame>
  [ 24] extcall 62 .............................. <error(me, "Connection not found:" && pConnectionId, #sendInitiateJoinGame)>
  [ 26] pusharglistnoret 1 ...................... <error(me, "Connection not found:" && pConnectionId, #sendInitiateJoinGame)>
  [ 28] extcall 53 .............................. return error(me, "Connection not found:" && pConnectionId, #sendInitiateJoinGame)
  [ 30] getparam 0 .............................. <me>
  [ 32] pusharglist 1 ........................... <me>
  [ 34] objcall 124 ............................. <me.getVariableManager()>
  [ 36] pushsymb 77 ............................. <#observed_instance_data>
  [ 38] pusharglist 2 ........................... <me.getVariableManager(), #observed_instance_data>
  [ 40] objcall 73 .............................. <me.getVariableManager().get(#observed_instance_data)>
  [ 42] setlocal 0 .............................. tdata = me.getVariableManager().get(#observed_instance_data)
  [ 44] getlocal 0 .............................. <tdata>
  [ 46] pushsymb 98 ............................. <#id>
  [ 48] pusharglist 2 ........................... <tdata, #id>
  [ 50] objcall 281 ............................. <tdata.findPos(#id)>
  [ 53] pushzero ................................ <0>
  [ 54] eq ...................................... <tdata.findPos(#id) = 0>
  [ 55] jmpifz [ 63] ............................ if tdata.findPos(#id) = 0 then
  [ 58] pushzero ................................ <0>
  [ 59] pusharglistnoret 1 ...................... <0>
  [ 61] extcall 53 .............................. return 0
  [ 63] getparam 1 .............................. <tInstanceId>
  [ 65] pusharglist 0 ........................... <>
  [ 67] extcall 61 .............................. <VOID>
  [ 69] eq ...................................... <tInstanceId = VOID>
  [ 70] jmpifz [ 83] ............................ if tInstanceId = VOID then
  [ 73] getlocal 0 .............................. <tdata>
  [ 75] pushsymb 98 ............................. <#id>
  [ 77] pusharglist 2 ........................... <tdata, #id>
  [ 79] objcall 99 .............................. <tdata[#id]>
  [ 81] setparam 1 .............................. tInstanceId = tdata[#id]
  [ 83] getparam 2 .............................. <tTeamId>
  [ 85] pusharglist 0 ........................... <>
  [ 87] extcall 61 .............................. <VOID>
  [ 89] eq ...................................... <tTeamId = VOID>
  [ 90] jmpifz [ 98] ............................ if tTeamId = VOID then
  [ 93] pushzero ................................ <0>
  [ 94] pusharglistnoret 1 ...................... <0>
  [ 96] extcall 53 .............................. return 0
  [ 98] getparam 2 .............................. <tTeamId>
  [100] pushint8 1 .............................. <1>
  [102] sub ..................................... <tTeamId - 1>
  [103] setparam 2 .............................. tTeamId = tTeamId - 1
  [105] getparam 0 .............................. <me>
  [107] pushzero ................................ <0>
  [108] pusharglistnoret 2 ...................... <me, 0>
  [110] objcall 11 .............................. me.setInstanceListUpdates(0)
  [112] getparam 0 .............................. <me>
  [114] pusharglist 1 ........................... <me>
  [116] objcall 124 ............................. <me.getVariableManager()>
  [118] pushsymb 191 ............................ <#game_status>
  [120] pushsymb 192 ............................ <#none>
  [122] pusharglistnoret 3 ...................... <me.getVariableManager(), #game_status, #none>
  [124] objcall 193 ............................. me.getVariableManager().set(#game_status, #none)
  [126] getprop 263 ............................. <pConnectionId>
  [129] pusharglist 1 ........................... <pConnectionId>
  [131] extcall 275 ............................. <getConnection(pConnectionId)>
  [134] pushcons 10 ............................. <"INITIATEJOINGAME">
  [136] pushsymb 277 ............................ <#integer>
  [139] getparam 1 .............................. <tInstanceId>
  [141] pushsymb 277 ............................ <#integer>
  [144] getparam 2 .............................. <tTeamId>
  [146] pusharglist 4 ........................... <[#integer: tInstanceId, #integer: tTeamId]>
  [148] pushproplist ............................ <[#integer: tInstanceId, #integer: tTeamId]>
  [149] pusharglist 3 ........................... <getConnection(pConnectionId), "INITIATEJOINGAME", [#integer: tInstanceId, #integer: tTeamId]>
  [151] objcall 276 ............................. <getConnection(pConnectionId).send("INITIATEJOINGAME", [#integer: tInstanceId, #integer: tTeamId])>
  [154] pusharglistnoret 1 ...................... <getConnection(pConnectionId).send("INITIATEJOINGAME", [#integer: tInstanceId, #integer: tTeamId])>
  [156] extcall 53 .............................. return getConnection(pConnectionId).send("INITIATEJOINGAME", [#integer: tInstanceId, #integer: tTeamId])
  [158] ret
end

on sendJoinParameterValues me, tInstanceId, tTeamId, tParamList
  [  0] getparam 0 .............................. <me>
  [  2] pusharglist 1 ........................... <me>
  [  4] objcall 57 .............................. <me.getBaseLogic()>
  [  6] pusharglist 1 ........................... <me.getBaseLogic()>
  [  8] objcall 5 ............................... <me.getBaseLogic().getGamestatus()>
  [ 10] pushsymb 228 ............................ <#join_requested>
  [ 12] eq ...................................... <me.getBaseLogic().getGamestatus() = #join_requested>
  [ 13] jmpifz [ 21] ............................ if me.getBaseLogic().getGamestatus() = #join_requested then
  [ 16] pushzero ................................ <0>
  [ 17] pusharglistnoret 1 ...................... <0>
  [ 19] extcall 53 .............................. return 0
  [ 21] getprop 263 ............................. <pConnectionId>
  [ 24] pusharglist 1 ........................... <pConnectionId>
  [ 26] extcall 274 ............................. <connectionExists(pConnectionId)>
  [ 29] not ..................................... <not connectionExists(pConnectionId)>
  [ 30] jmpifz [ 51] ............................ if not connectionExists(pConnectionId) then
  [ 33] getparam 0 .............................. <me>
  [ 35] pushcons 2 .............................. <"Connection not found:">
  [ 37] getprop 263 ............................. <pConnectionId>
  [ 40] joinpadstr .............................. <"Connection not found:" && pConnectionId>
  [ 41] pushsymb 94 ............................. <#sendJoinParameterValues>
  [ 43] pusharglist 3 ........................... <me, "Connection not found:" && pConnectionId, #sendJoinParameterValues>
  [ 45] extcall 62 .............................. <error(me, "Connection not found:" && pConnectionId, #sendJoinParameterValues)>
  [ 47] pusharglistnoret 1 ...................... <error(me, "Connection not found:" && pConnectionId, #sendJoinParameterValues)>
  [ 49] extcall 53 .............................. return error(me, "Connection not found:" && pConnectionId, #sendJoinParameterValues)
  [ 51] getparam 0 .............................. <me>
  [ 53] pusharglist 1 ........................... <me>
  [ 55] objcall 124 ............................. <me.getVariableManager()>
  [ 57] pushsymb 77 ............................. <#observed_instance_data>
  [ 59] pusharglist 2 ........................... <me.getVariableManager(), #observed_instance_data>
  [ 61] objcall 73 .............................. <me.getVariableManager().get(#observed_instance_data)>
  [ 63] setlocal 0 .............................. tdata = me.getVariableManager().get(#observed_instance_data)
  [ 65] getparam 1 .............................. <tInstanceId>
  [ 67] pusharglist 0 ........................... <>
  [ 69] extcall 61 .............................. <VOID>
  [ 71] eq ...................................... <tInstanceId = VOID>
  [ 72] jmpifz [ 85] ............................ if tInstanceId = VOID then
  [ 75] getlocal 0 .............................. <tdata>
  [ 77] pushsymb 98 ............................. <#id>
  [ 79] pusharglist 2 ........................... <tdata, #id>
  [ 81] objcall 99 .............................. <tdata[#id]>
  [ 83] setparam 1 .............................. tInstanceId = tdata[#id]
  [ 85] getparam 1 .............................. <tInstanceId>
  [ 87] pusharglist 0 ........................... <>
  [ 89] extcall 61 .............................. <VOID>
  [ 91] eq ...................................... <tInstanceId = VOID>
  [ 92] jmpifz [100] ............................ if tInstanceId = VOID then
  [ 95] pushzero ................................ <0>
  [ 96] pusharglistnoret 1 ...................... <0>
  [ 98] extcall 53 .............................. return 0
  [100] getparam 2 .............................. <tTeamId>
  [102] pusharglist 0 ........................... <>
  [104] extcall 61 .............................. <VOID>
  [106] eq ...................................... <tTeamId = VOID>
  [107] jmpifz [115] ............................ if tTeamId = VOID then
  [110] pushzero ................................ <0>
  [111] pusharglistnoret 1 ...................... <0>
  [113] extcall 53 .............................. return 0
  [115] getparam 2 .............................. <tTeamId>
  [117] pushint8 1 .............................. <1>
  [119] sub ..................................... <tTeamId - 1>
  [120] setparam 2 .............................. tTeamId = tTeamId - 1
  [122] pushsymb 277 ............................ <#integer>
  [125] getparam 1 .............................. <tInstanceId>
  [127] pushsymb 277 ............................ <#integer>
  [130] getparam 2 .............................. <tTeamId>
  [132] pushsymb 277 ............................ <#integer>
  [135] getparam 3 .............................. <tParamList>
  [137] getobjprop 143 .......................... <tParamList.count>
  [139] pusharglist 6 ........................... <[#integer: tInstanceId, #integer: tTeamId, #integer: tParamList.count]>
  [141] pushproplist ............................ <[#integer: tInstanceId, #integer: tTeamId, #integer: tParamList.count]>
  [142] setlocal 1 .............................. tOutput = [#integer: tInstanceId, #integer: tTeamId, #integer: tParamList.count]
  [144] pushint8 1 .............................. <1>
  [146] setlocal 2
  [148] getlocal 2
  [150] getparam 3 .............................. <tParamList>
  [152] getobjprop 143 .......................... <tParamList.count>
  [154] lteq
  [155] jmpifz [260] ............................ repeat with i = 1 to tParamList.count
  [158] getlocal 1 .............................. <tOutput>
  [160] pushsymb 224 ............................ <#string>
  [162] getparam 3 .............................. <tParamList>
  [164] getlocal 2 .............................. <i>
  [166] pusharglist 2 ........................... <tParamList, i>
  [168] objcall 245 ............................. <tParamList.getPropAt(i)>
  [170] pusharglistnoret 3 ...................... <tOutput, #string, tParamList.getPropAt(i)>
  [172] objcall 240 ............................. tOutput.addProp(#string, tParamList.getPropAt(i))
  [174] getparam 3 .............................. <tParamList>
  [176] getlocal 2 .............................. <i>
  [178] pusharglist 2 ........................... <tParamList, i>
  [180] objcall 99 .............................. <tParamList[i]>
  [182] pusharglist 1 ........................... <tParamList[i]>
  [184] extcall 282 ............................. <ilk(tParamList[i])>
  [187] pushsymb 277 ............................ <#integer>
  [190] eq ...................................... <ilk(tParamList[i]) = #integer>
  [191] jmpifz [224] ............................ if ilk(tParamList[i]) = #integer then
  [194] getlocal 1 .............................. <tOutput>
  [196] pushsymb 277 ............................ <#integer>
  [199] pushzero ................................ <0>
  [200] pusharglistnoret 3 ...................... <tOutput, #integer, 0>
  [202] objcall 240 ............................. tOutput.addProp(#integer, 0)
  [204] getlocal 1 .............................. <tOutput>
  [206] pushsymb 277 ............................ <#integer>
  [209] getparam 3 .............................. <tParamList>
  [211] getlocal 2 .............................. <i>
  [213] pusharglist 2 ........................... <tParamList, i>
  [215] objcall 99 .............................. <tParamList[i]>
  [217] pusharglistnoret 3 ...................... <tOutput, #integer, tParamList[i]>
  [219] objcall 240 ............................. tOutput.addProp(#integer, tParamList[i])
  [221] jmp [251] ............................... next repeat
  [224] getlocal 1 .............................. <tOutput>
  [226] pushsymb 277 ............................ <#integer>
  [229] pushint8 1 .............................. <1>
  [231] pusharglistnoret 3 ...................... <tOutput, #integer, 1>
  [233] objcall 240 ............................. tOutput.addProp(#integer, 1)
  [235] getlocal 1 .............................. <tOutput>
  [237] pushsymb 224 ............................ <#string>
  [239] getparam 3 .............................. <tParamList>
  [241] getlocal 2 .............................. <i>
  [243] pusharglist 2 ........................... <tParamList, i>
  [245] objcall 99 .............................. <tParamList[i]>
  [247] pusharglistnoret 3 ...................... <tOutput, #string, tParamList[i]>
  [249] objcall 240 ............................. tOutput.addProp(#string, tParamList[i])
  [251] pushint8 1
  [253] getlocal 2
  [255] add
  [256] setlocal 2
  [258] endrepeat [148]
  [260] getparam 0 .............................. <me>
  [262] pushzero ................................ <0>
  [263] pusharglistnoret 2 ...................... <me, 0>
  [265] objcall 11 .............................. me.setInstanceListUpdates(0)
  [267] getparam 0 .............................. <me>
  [269] pusharglist 1 ........................... <me>
  [271] objcall 124 ............................. <me.getVariableManager()>
  [273] pushsymb 191 ............................ <#game_status>
  [275] pushsymb 228 ............................ <#join_requested>
  [277] pusharglistnoret 3 ...................... <me.getVariableManager(), #game_status, #join_requested>
  [279] objcall 193 ............................. me.getVariableManager().set(#game_status, #join_requested)
  [281] getprop 263 ............................. <pConnectionId>
  [284] pusharglist 1 ........................... <pConnectionId>
  [286] extcall 275 ............................. <getConnection(pConnectionId)>
  [289] pushcons 11 ............................. <"JOINPARAMETERVALUES">
  [291] getlocal 1 .............................. <tOutput>
  [293] pusharglist 3 ........................... <getConnection(pConnectionId), "JOINPARAMETERVALUES", tOutput>
  [295] objcall 276 ............................. <getConnection(pConnectionId).send("JOINPARAMETERVALUES", tOutput)>
  [298] pusharglistnoret 1 ...................... <getConnection(pConnectionId).send("JOINPARAMETERVALUES", tOutput)>
  [300] extcall 53 .............................. return getConnection(pConnectionId).send("JOINPARAMETERVALUES", tOutput)
  [302] ret
end

on sendLeaveGame me
  [  0] getprop 263 ............................. <pConnectionId>
  [  3] pusharglist 1 ........................... <pConnectionId>
  [  5] extcall 274 ............................. <connectionExists(pConnectionId)>
  [  8] not ..................................... <not connectionExists(pConnectionId)>
  [  9] jmpifz [ 30] ............................ if not connectionExists(pConnectionId) then
  [ 12] getparam 0 .............................. <me>
  [ 14] pushcons 2 .............................. <"Connection not found:">
  [ 16] getprop 263 ............................. <pConnectionId>
  [ 19] joinpadstr .............................. <"Connection not found:" && pConnectionId>
  [ 20] pushsymb 95 ............................. <#sendLeaveGame>
  [ 22] pusharglist 3 ........................... <me, "Connection not found:" && pConnectionId, #sendLeaveGame>
  [ 24] extcall 62 .............................. <error(me, "Connection not found:" && pConnectionId, #sendLeaveGame)>
  [ 26] pusharglistnoret 1 ...................... <error(me, "Connection not found:" && pConnectionId, #sendLeaveGame)>
  [ 28] extcall 53 .............................. return error(me, "Connection not found:" && pConnectionId, #sendLeaveGame)
  [ 30] getparam 0 .............................. <me>
  [ 32] pusharglist 1 ........................... <me>
  [ 34] objcall 124 ............................. <me.getVariableManager()>
  [ 36] pushsymb 191 ............................ <#game_status>
  [ 38] pushsymb 192 ............................ <#none>
  [ 40] pusharglistnoret 3 ...................... <me.getVariableManager(), #game_status, #none>
  [ 42] objcall 193 ............................. me.getVariableManager().set(#game_status, #none)
  [ 44] getprop 263 ............................. <pConnectionId>
  [ 47] pusharglist 1 ........................... <pConnectionId>
  [ 49] extcall 275 ............................. <getConnection(pConnectionId)>
  [ 52] pushcons 12 ............................. <"LEAVEGAME">
  [ 54] pusharglist 2 ........................... <getConnection(pConnectionId), "LEAVEGAME">
  [ 56] objcall 276 ............................. <getConnection(pConnectionId).send("LEAVEGAME")>
  [ 59] pusharglistnoret 1 ...................... <getConnection(pConnectionId).send("LEAVEGAME")>
  [ 61] extcall 53 .............................. return getConnection(pConnectionId).send("LEAVEGAME")
  [ 63] ret
end

on sendKickPlayer me, tPlayerId
  [  0] getparam 1 .............................. <tPlayerId>
  [  2] pusharglist 1 ........................... <tPlayerId>
  [  4] extcall 277 ............................. <integer(tPlayerId)>
  [  7] setparam 1 .............................. tPlayerId = integer(tPlayerId)
  [  9] getparam 1 .............................. <tPlayerId>
  [ 11] pusharglist 1 ........................... <tPlayerId>
  [ 13] extcall 283 ............................. <integerp(tPlayerId)>
  [ 16] not ..................................... <not integerp(tPlayerId)>
  [ 17] jmpifz [ 34] ............................ if not integerp(tPlayerId) then
  [ 20] getparam 0 .............................. <me>
  [ 22] pushcons 13 ............................. <"Integer expected!">
  [ 24] pushsymb 96 ............................. <#sendKickPlayer>
  [ 26] pusharglist 3 ........................... <me, "Integer expected!", #sendKickPlayer>
  [ 28] extcall 62 .............................. <error(me, "Integer expected!", #sendKickPlayer)>
  [ 30] pusharglistnoret 1 ...................... <error(me, "Integer expected!", #sendKickPlayer)>
  [ 32] extcall 53 .............................. return error(me, "Integer expected!", #sendKickPlayer)
  [ 34] getprop 263 ............................. <pConnectionId>
  [ 37] pusharglist 1 ........................... <pConnectionId>
  [ 39] extcall 274 ............................. <connectionExists(pConnectionId)>
  [ 42] not ..................................... <not connectionExists(pConnectionId)>
  [ 43] jmpifz [ 65] ............................ if not connectionExists(pConnectionId) then
  [ 46] getparam 0 .............................. <me>
  [ 48] pushcons 2 .............................. <"Connection not found:">
  [ 50] getprop 263 ............................. <pConnectionId>
  [ 53] joinpadstr .............................. <"Connection not found:" && pConnectionId>
  [ 54] pushsymb 284 ............................ <#sendNavigate>
  [ 57] pusharglist 3 ........................... <me, "Connection not found:" && pConnectionId, #sendNavigate>
  [ 59] extcall 62 .............................. <error(me, "Connection not found:" && pConnectionId, #sendNavigate)>
  [ 61] pusharglistnoret 1 ...................... <error(me, "Connection not found:" && pConnectionId, #sendNavigate)>
  [ 63] extcall 53 .............................. return error(me, "Connection not found:" && pConnectionId, #sendNavigate)
  [ 65] getprop 263 ............................. <pConnectionId>
  [ 68] pusharglist 1 ........................... <pConnectionId>
  [ 70] extcall 275 ............................. <getConnection(pConnectionId)>
  [ 73] pushcons 14 ............................. <"KICKPLAYER">
  [ 75] pushsymb 277 ............................ <#integer>
  [ 78] getparam 1 .............................. <tPlayerId>
  [ 80] pusharglist 2 ........................... <[#integer: tPlayerId]>
  [ 82] pushproplist ............................ <[#integer: tPlayerId]>
  [ 83] pusharglist 3 ........................... <getConnection(pConnectionId), "KICKPLAYER", [#integer: tPlayerId]>
  [ 85] objcall 276 ............................. <getConnection(pConnectionId).send("KICKPLAYER", [#integer: tPlayerId])>
  [ 88] pusharglistnoret 1 ...................... <getConnection(pConnectionId).send("KICKPLAYER", [#integer: tPlayerId])>
  [ 90] extcall 53 .............................. return getConnection(pConnectionId).send("KICKPLAYER", [#integer: tPlayerId])
  [ 92] ret
end

on sendWatchGame me, tInstanceId
  [  0] getprop 263 ............................. <pConnectionId>
  [  3] pusharglist 1 ........................... <pConnectionId>
  [  5] extcall 274 ............................. <connectionExists(pConnectionId)>
  [  8] not ..................................... <not connectionExists(pConnectionId)>
  [  9] jmpifz [ 30] ............................ if not connectionExists(pConnectionId) then
  [ 12] getparam 0 .............................. <me>
  [ 14] pushcons 2 .............................. <"Connection not found:">
  [ 16] getprop 263 ............................. <pConnectionId>
  [ 19] joinpadstr .............................. <"Connection not found:" && pConnectionId>
  [ 20] pushsymb 100 ............................ <#sendWatchGame>
  [ 22] pusharglist 3 ........................... <me, "Connection not found:" && pConnectionId, #sendWatchGame>
  [ 24] extcall 62 .............................. <error(me, "Connection not found:" && pConnectionId, #sendWatchGame)>
  [ 26] pusharglistnoret 1 ...................... <error(me, "Connection not found:" && pConnectionId, #sendWatchGame)>
  [ 28] extcall 53 .............................. return error(me, "Connection not found:" && pConnectionId, #sendWatchGame)
  [ 30] getparam 0 .............................. <me>
  [ 32] pushzero ................................ <0>
  [ 33] pusharglistnoret 2 ...................... <me, 0>
  [ 35] objcall 11 .............................. me.setInstanceListUpdates(0)
  [ 37] getparam 0 .............................. <me>
  [ 39] pusharglist 1 ........................... <me>
  [ 41] objcall 124 ............................. <me.getVariableManager()>
  [ 43] pushsymb 191 ............................ <#game_status>
  [ 45] pushsymb 225 ............................ <#watch_requested>
  [ 47] pusharglistnoret 3 ...................... <me.getVariableManager(), #game_status, #watch_requested>
  [ 49] objcall 193 ............................. me.getVariableManager().set(#game_status, #watch_requested)
  [ 51] getprop 263 ............................. <pConnectionId>
  [ 54] pusharglist 1 ........................... <pConnectionId>
  [ 56] extcall 275 ............................. <getConnection(pConnectionId)>
  [ 59] pushcons 15 ............................. <"WATCHGAME">
  [ 61] pushsymb 277 ............................ <#integer>
  [ 64] getparam 1 .............................. <tInstanceId>
  [ 66] pusharglist 2 ........................... <[#integer: tInstanceId]>
  [ 68] pushproplist ............................ <[#integer: tInstanceId]>
  [ 69] pusharglist 3 ........................... <getConnection(pConnectionId), "WATCHGAME", [#integer: tInstanceId]>
  [ 71] objcall 276 ............................. <getConnection(pConnectionId).send("WATCHGAME", [#integer: tInstanceId])>
  [ 74] pusharglistnoret 1 ...................... <getConnection(pConnectionId).send("WATCHGAME", [#integer: tInstanceId])>
  [ 76] extcall 53 .............................. return getConnection(pConnectionId).send("WATCHGAME", [#integer: tInstanceId])
  [ 78] ret
end

on sendStartGame me
  [  0] getprop 263 ............................. <pConnectionId>
  [  3] pusharglist 1 ........................... <pConnectionId>
  [  5] extcall 274 ............................. <connectionExists(pConnectionId)>
  [  8] not ..................................... <not connectionExists(pConnectionId)>
  [  9] jmpifz [ 30] ............................ if not connectionExists(pConnectionId) then
  [ 12] getparam 0 .............................. <me>
  [ 14] pushcons 2 .............................. <"Connection not found:">
  [ 16] getprop 263 ............................. <pConnectionId>
  [ 19] joinpadstr .............................. <"Connection not found:" && pConnectionId>
  [ 20] pushsymb 102 ............................ <#sendStartGame>
  [ 22] pusharglist 3 ........................... <me, "Connection not found:" && pConnectionId, #sendStartGame>
  [ 24] extcall 62 .............................. <error(me, "Connection not found:" && pConnectionId, #sendStartGame)>
  [ 26] pusharglistnoret 1 ...................... <error(me, "Connection not found:" && pConnectionId, #sendStartGame)>
  [ 28] extcall 53 .............................. return error(me, "Connection not found:" && pConnectionId, #sendStartGame)
  [ 30] getprop 263 ............................. <pConnectionId>
  [ 33] pusharglist 1 ........................... <pConnectionId>
  [ 35] extcall 275 ............................. <getConnection(pConnectionId)>
  [ 38] pushcons 16 ............................. <"STARTGAME">
  [ 40] pusharglist 2 ........................... <getConnection(pConnectionId), "STARTGAME">
  [ 42] objcall 276 ............................. <getConnection(pConnectionId).send("STARTGAME")>
  [ 45] pusharglistnoret 1 ...................... <getConnection(pConnectionId).send("STARTGAME")>
  [ 47] extcall 53 .............................. return getConnection(pConnectionId).send("STARTGAME")
  [ 49] ret
end

on sendRejoinGame me
  [  0] getprop 263 ............................. <pConnectionId>
  [  3] pusharglist 1 ........................... <pConnectionId>
  [  5] extcall 274 ............................. <connectionExists(pConnectionId)>
  [  8] not ..................................... <not connectionExists(pConnectionId)>
  [  9] jmpifz [ 30] ............................ if not connectionExists(pConnectionId) then
  [ 12] getparam 0 .............................. <me>
  [ 14] pushcons 2 .............................. <"Connection not found:">
  [ 16] getprop 263 ............................. <pConnectionId>
  [ 19] joinpadstr .............................. <"Connection not found:" && pConnectionId>
  [ 20] pushsymb 103 ............................ <#sendRejoinGame>
  [ 22] pusharglist 3 ........................... <me, "Connection not found:" && pConnectionId, #sendRejoinGame>
  [ 24] extcall 62 .............................. <error(me, "Connection not found:" && pConnectionId, #sendRejoinGame)>
  [ 26] pusharglistnoret 1 ...................... <error(me, "Connection not found:" && pConnectionId, #sendRejoinGame)>
  [ 28] extcall 53 .............................. return error(me, "Connection not found:" && pConnectionId, #sendRejoinGame)
  [ 30] getprop 263 ............................. <pConnectionId>
  [ 33] pusharglist 1 ........................... <pConnectionId>
  [ 35] extcall 275 ............................. <getConnection(pConnectionId)>
  [ 38] pushcons 17 ............................. <"REJOINGAME">
  [ 40] pusharglist 2 ........................... <getConnection(pConnectionId), "REJOINGAME">
  [ 42] objcall 276 ............................. <getConnection(pConnectionId).send("REJOINGAME")>
  [ 45] pusharglistnoret 1 ...................... <getConnection(pConnectionId).send("REJOINGAME")>
  [ 47] extcall 53 .............................. return getConnection(pConnectionId).send("REJOINGAME")
  [ 49] ret
end

on sendRequestFullStatusUpdate me
  [  0] getprop 263 ............................. <pConnectionId>
  [  3] pusharglist 1 ........................... <pConnectionId>
  [  5] extcall 274 ............................. <connectionExists(pConnectionId)>
  [  8] not ..................................... <not connectionExists(pConnectionId)>
  [  9] jmpifz [ 31] ............................ if not connectionExists(pConnectionId) then
  [ 12] getparam 0 .............................. <me>
  [ 14] pushcons 2 .............................. <"Connection not found:">
  [ 16] getprop 263 ............................. <pConnectionId>
  [ 19] joinpadstr .............................. <"Connection not found:" && pConnectionId>
  [ 20] pushsymb 262 ............................ <#sendRequestFullStatusUpdate>
  [ 23] pusharglist 3 ........................... <me, "Connection not found:" && pConnectionId, #sendRequestFullStatusUpdate>
  [ 25] extcall 62 .............................. <error(me, "Connection not found:" && pConnectionId, #sendRequestFullStatusUpdate)>
  [ 27] pusharglistnoret 1 ...................... <error(me, "Connection not found:" && pConnectionId, #sendRequestFullStatusUpdate)>
  [ 29] extcall 53 .............................. return error(me, "Connection not found:" && pConnectionId, #sendRequestFullStatusUpdate)
  [ 31] getprop 263 ............................. <pConnectionId>
  [ 34] pusharglist 1 ........................... <pConnectionId>
  [ 36] extcall 275 ............................. <getConnection(pConnectionId)>
  [ 39] pushcons 18 ............................. <"REQUESTFULLSTATUSUPDATE">
  [ 41] pusharglist 2 ........................... <getConnection(pConnectionId), "REQUESTFULLSTATUSUPDATE">
  [ 43] objcall 276 ............................. <getConnection(pConnectionId).send("REQUESTFULLSTATUSUPDATE")>
  [ 46] pusharglistnoret 1 ...................... <getConnection(pConnectionId).send("REQUESTFULLSTATUSUPDATE")>
  [ 48] extcall 53 .............................. return getConnection(pConnectionId).send("REQUESTFULLSTATUSUPDATE")
  [ 50] ret
end

on sendGameEventMessage me, tdata
  [  0] getprop 263 ............................. <pConnectionId>
  [  3] pusharglist 1 ........................... <pConnectionId>
  [  5] extcall 274 ............................. <connectionExists(pConnectionId)>
  [  8] not ..................................... <not connectionExists(pConnectionId)>
  [  9] jmpifz [ 31] ............................ if not connectionExists(pConnectionId) then
  [ 12] getparam 0 .............................. <me>
  [ 14] pushcons 2 .............................. <"Connection not found:">
  [ 16] getprop 263 ............................. <pConnectionId>
  [ 19] joinpadstr .............................. <"Connection not found:" && pConnectionId>
  [ 20] pushsymb 284 ............................ <#sendNavigate>
  [ 23] pusharglist 3 ........................... <me, "Connection not found:" && pConnectionId, #sendNavigate>
  [ 25] extcall 62 .............................. <error(me, "Connection not found:" && pConnectionId, #sendNavigate)>
  [ 27] pusharglistnoret 1 ...................... <error(me, "Connection not found:" && pConnectionId, #sendNavigate)>
  [ 29] extcall 53 .............................. return error(me, "Connection not found:" && pConnectionId, #sendNavigate)
  [ 31] getparam 1 .............................. <tdata>
  [ 33] pusharglist 1 ........................... <tdata>
  [ 35] extcall 199 ............................. <listp(tdata)>
  [ 37] not ..................................... <not listp(tdata)>
  [ 38] jmpifz [ 55] ............................ if not listp(tdata) then
  [ 41] getparam 0 .............................. <me>
  [ 43] pushcons 19 ............................. <"Message struct in wrong format">
  [ 45] pushsymb 27 ............................. <#sendGameEventMessage>
  [ 47] pusharglist 3 ........................... <me, "Message struct in wrong format", #sendGameEventMessage>
  [ 49] extcall 62 .............................. <error(me, "Message struct in wrong format", #sendGameEventMessage)>
  [ 51] pusharglistnoret 1 ...................... <error(me, "Message struct in wrong format", #sendGameEventMessage)>
  [ 53] extcall 53 .............................. return error(me, "Message struct in wrong format", #sendGameEventMessage)
  [ 55] getparam 1 .............................. <tdata>
  [ 57] pushint8 1 .............................. <1>
  [ 59] pusharglist 2 ........................... <tdata, 1>
  [ 61] objcall 245 ............................. <tdata.getPropAt(1)>
  [ 63] pushsymb 277 ............................ <#integer>
  [ 66] nteq .................................... <tdata.getPropAt(1) <> #integer>
  [ 67] jmpifz [ 84] ............................ if tdata.getPropAt(1) <> #integer then
  [ 70] getparam 0 .............................. <me>
  [ 72] pushcons 19 ............................. <"Message struct in wrong format">
  [ 74] pushsymb 27 ............................. <#sendGameEventMessage>
  [ 76] pusharglist 3 ........................... <me, "Message struct in wrong format", #sendGameEventMessage>
  [ 78] extcall 62 .............................. <error(me, "Message struct in wrong format", #sendGameEventMessage)>
  [ 80] pusharglistnoret 1 ...................... <error(me, "Message struct in wrong format", #sendGameEventMessage)>
  [ 82] extcall 53 .............................. return error(me, "Message struct in wrong format", #sendGameEventMessage)
  [ 84] getprop 263 ............................. <pConnectionId>
  [ 87] pusharglist 1 ........................... <pConnectionId>
  [ 89] extcall 275 ............................. <getConnection(pConnectionId)>
  [ 92] pushcons 20 ............................. <"GAMEEVENT">
  [ 94] getparam 1 .............................. <tdata>
  [ 96] pusharglist 3 ........................... <getConnection(pConnectionId), "GAMEEVENT", tdata>
  [ 98] objcall 276 ............................. <getConnection(pConnectionId).send("GAMEEVENT", tdata)>
  [101] pusharglistnoret 1 ...................... <getConnection(pConnectionId).send("GAMEEVENT", tdata)>
  [103] extcall 53 .............................. return getConnection(pConnectionId).send("GAMEEVENT", tdata)
  [105] ret
end

on sendHabboRoomMove me, tLocX, tLocY
  [  0] getprop 263 ............................. <pConnectionId>
  [  3] pusharglist 1 ........................... <pConnectionId>
  [  5] extcall 274 ............................. <connectionExists(pConnectionId)>
  [  8] not ..................................... <not connectionExists(pConnectionId)>
  [  9] jmpifz [ 30] ............................ if not connectionExists(pConnectionId) then
  [ 12] getparam 0 .............................. <me>
  [ 14] pushcons 2 .............................. <"Connection not found:">
  [ 16] getprop 263 ............................. <pConnectionId>
  [ 19] joinpadstr .............................. <"Connection not found:" && pConnectionId>
  [ 20] pushsymb 29 ............................. <#sendHabboRoomMove>
  [ 22] pusharglist 3 ........................... <me, "Connection not found:" && pConnectionId, #sendHabboRoomMove>
  [ 24] extcall 62 .............................. <error(me, "Connection not found:" && pConnectionId, #sendHabboRoomMove)>
  [ 26] pusharglistnoret 1 ...................... <error(me, "Connection not found:" && pConnectionId, #sendHabboRoomMove)>
  [ 28] extcall 53 .............................. return error(me, "Connection not found:" && pConnectionId, #sendHabboRoomMove)
  [ 30] getprop 263 ............................. <pConnectionId>
  [ 33] pusharglist 1 ........................... <pConnectionId>
  [ 35] extcall 275 ............................. <getConnection(pConnectionId)>
  [ 38] pushcons 21 ............................. <"MOVE">
  [ 40] pushsymb 285 ............................ <#short>
  [ 43] getparam 1 .............................. <tLocX>
  [ 45] pushsymb 285 ............................ <#short>
  [ 48] getparam 2 .............................. <tLocY>
  [ 50] pusharglist 4 ........................... <[#short: tLocX, #short: tLocY]>
  [ 52] pushproplist ............................ <[#short: tLocX, #short: tLocY]>
  [ 53] pusharglist 3 ........................... <getConnection(pConnectionId), "MOVE", [#short: tLocX, #short: tLocY]>
  [ 55] objcall 276 ............................. <getConnection(pConnectionId).send("MOVE", [#short: tLocX, #short: tLocY])>
  [ 58] pusharglistnoret 1 ...................... <getConnection(pConnectionId).send("MOVE", [#short: tLocX, #short: tLocY])>
  [ 60] extcall 53 .............................. return getConnection(pConnectionId).send("MOVE", [#short: tLocX, #short: tLocY])
  [ 62] ret
end
