property pCatAliases

on construct me
  [  0] pusharglist 0 ........................... <[:]>
  [  2] pushproplist ............................ <[:]>
  [  3] setprop 412 ............................. pCatAliases = [:]
  [  6] getparam 0 .............................. <me>
  [  8] pushint8 1 .............................. <1>
  [ 10] pusharglist 2 ........................... <me, 1>
  [ 12] objcall 411 ............................. <me.regMsgList(1)>
  [ 15] pusharglistnoret 1 ...................... <me.regMsgList(1)>
  [ 17] extcall 63 .............................. return me.regMsgList(1)
  [ 19] ret
end

on deconstruct me
  [  0] getparam 0 .............................. <me>
  [  2] pushzero ................................ <0>
  [  3] pusharglist 2 ........................... <me, 0>
  [  5] objcall 411 ............................. <me.regMsgList(0)>
  [  8] pusharglistnoret 1 ...................... <me.regMsgList(0)>
  [ 10] extcall 63 .............................. return me.regMsgList(0)
  [ 12] ret
end

on clearCatAliases me
  [  0] pusharglist 0 ........................... <[:]>
  [  2] pushproplist ............................ <[:]>
  [  3] setprop 412 ............................. pCatAliases = [:]
  [  6] ret
end

on getSlotCatAlias me, tUniqueCatID
  [  0] getparam 1 .............................. <tUniqueCatID>
  [  2] pusharglist 1 ........................... <tUniqueCatID>
  [  4] extcall 160 ............................. <string(tUniqueCatID)>
  [  6] setparam 1 .............................. tUniqueCatID = string(tUniqueCatID)
  [  8] getparam 1 .............................. <tUniqueCatID>
  [ 10] pushzero ................................ <0>
  [ 11] lteq .................................... <tUniqueCatID <= 0>
  [ 12] jmpifz [ 21] ............................ if tUniqueCatID <= 0 then
  [ 15] getparam 1 .............................. <tUniqueCatID>
  [ 17] pusharglistnoret 1 ...................... <tUniqueCatID>
  [ 19] extcall 63 .............................. return tUniqueCatID
  [ 21] getprop 412 ............................. <pCatAliases>
  [ 24] getparam 1 .............................. <tUniqueCatID>
  [ 26] pusharglist 2 ........................... <pCatAliases, tUniqueCatID>
  [ 28] objcall 375 ............................. <pCatAliases.findPos(tUniqueCatID)>
  [ 31] jmpifz [ 47] ............................ if pCatAliases.findPos(tUniqueCatID) then
  [ 34] getprop 412 ............................. <pCatAliases>
  [ 37] getparam 1 .............................. <tUniqueCatID>
  [ 39] pusharglist 2 ........................... <pCatAliases, tUniqueCatID>
  [ 41] objcall 93 .............................. <pCatAliases[tUniqueCatID]>
  [ 43] pusharglistnoret 1 ...................... <pCatAliases[tUniqueCatID]>
  [ 45] extcall 63 .............................. return pCatAliases[tUniqueCatID]
  [ 47] pushcons 0 .............................. <"fr.window.max.free.categories">
  [ 49] pushint8 5 .............................. <5>
  [ 51] pusharglist 2 ........................... <"fr.window.max.free.categories", 5>
  [ 53] extcall 46 .............................. <getVariable("fr.window.max.free.categories", 5)>
  [ 55] setlocal 0 .............................. tMaxFreeCount = getVariable("fr.window.max.free.categories", 5)
  [ 57] pushint8 1 .............................. <1>
  [ 59] setlocal 1
  [ 61] getlocal 1
  [ 63] getlocal 0 .............................. <tMaxFreeCount>
  [ 65] lteq
  [ 66] jmpifz [121] ............................ repeat with tSlotNo = 1 to tMaxFreeCount
  [ 69] getlocal 1 .............................. <tSlotNo>
  [ 71] pusharglist 1 ........................... <tSlotNo>
  [ 73] extcall 160 ............................. <string(tSlotNo)>
  [ 75] setlocal 2 .............................. tSlotStr = string(tSlotNo)
  [ 77] getprop 412 ............................. <pCatAliases>
  [ 80] getlocal 2 .............................. <tSlotStr>
  [ 82] pusharglist 2 ........................... <pCatAliases, tSlotStr>
  [ 84] objcall 101 ............................. <pCatAliases.getOne(tSlotStr)>
  [ 86] setlocal 3 .............................. tPropID = pCatAliases.getOne(tSlotStr)
  [ 88] getlocal 3 .............................. <tPropID>
  [ 90] pushzero ................................ <0>
  [ 91] eq ...................................... <tPropID = 0>
  [ 92] jmpifz [112] ............................ if tPropID = 0 then
  [ 95] getprop 412 ............................. <pCatAliases>
  [ 98] getparam 1 .............................. <tUniqueCatID>
  [100] getlocal 2 .............................. <tSlotStr>
  [102] pusharglistnoret 3 ...................... <pCatAliases, tUniqueCatID, tSlotStr>
  [104] objcall 165 ............................. pCatAliases[tUniqueCatID] = tSlotStr
  [106] getlocal 2 .............................. <tSlotStr>
  [108] pusharglistnoret 1 ...................... <tSlotStr>
  [110] extcall 63 .............................. return tSlotStr
  [112] pushint8 1
  [114] getlocal 1
  [116] add
  [117] setlocal 1
  [119] endrepeat [ 61]
  [121] getparam 0 .............................. <me>
  [123] pushcons 1 .............................. <"Could not map category id to a slot: ">
  [125] getparam 1 .............................. <tUniqueCatID>
  [127] joinstr ................................. <"Could not map category id to a slot: " & tUniqueCatID>
  [128] pushsymb 395 ............................ <#getSlotCatAlias>
  [131] pushsymb 124 ............................ <#major>
  [133] pusharglistnoret 4 ...................... <me, "Could not map category id to a slot: " & tUniqueCatID, #getSlotCatAlias, #major>
  [135] extcall 123 ............................. error(me, "Could not map category id to a slot: " & tUniqueCatID, #getSlotCatAlias, #major)
  [137] pushzero ................................ <0>
  [138] pusharglistnoret 1 ...................... <0>
  [140] extcall 63 .............................. return 0
  [142] ret
end

on removeUnusedCategories me, tIdsInUse
  [  0] getprop 412 ............................. <pCatAliases>
  [  3] pusharglist 1 ........................... <pCatAliases>
  [  5] objcall 282 ............................. <pCatAliases.duplicate()>
  [  8] setlocal 0 .............................. tAliasList = pCatAliases.duplicate()
  [ 10] pushint8 1 .............................. <1>
  [ 12] setlocal 1
  [ 14] getlocal 1
  [ 16] getlocal 0 .............................. <tAliasList>
  [ 18] getobjprop 114 .......................... <tAliasList.count>
  [ 20] lteq
  [ 21] jmpifz [ 66] ............................ repeat with tNo = 1 to tAliasList.count
  [ 24] getlocal 0 .............................. <tAliasList>
  [ 26] getlocal 1 .............................. <tNo>
  [ 28] pusharglist 2 ........................... <tAliasList, tNo>
  [ 30] objcall 380 ............................. <tAliasList.getPropAt(tNo)>
  [ 33] setlocal 2 .............................. tID = tAliasList.getPropAt(tNo)
  [ 35] getparam 1 .............................. <tIdsInUse>
  [ 37] getlocal 2 .............................. <tID>
  [ 39] pusharglist 2 ........................... <tIdsInUse, tID>
  [ 41] objcall 101 ............................. <tIdsInUse.getOne(tID)>
  [ 43] not ..................................... <not tIdsInUse.getOne(tID)>
  [ 44] jmpifz [ 57] ............................ if not tIdsInUse.getOne(tID) then
  [ 47] getprop 412 ............................. <pCatAliases>
  [ 50] getlocal 2 .............................. <tID>
  [ 52] pusharglistnoret 2 ...................... <pCatAliases, tID>
  [ 54] objcall 418 ............................. pCatAliases.deleteProp(tID)
  [ 57] pushint8 1
  [ 59] getlocal 1
  [ 61] add
  [ 62] setlocal 1
  [ 64] endrepeat [ 14]
  [ 66] ret
end

on handleOk me, tMsg
  [  0] getparam 1 .............................. <tMsg>
  [  2] getobjprop 421 .......................... <tMsg.connection>
  [  5] setlocal 0 .............................. tConn = tMsg.connection
  [  7] getlocal 0 .............................. <tConn>
  [  9] pushcons 2 .............................. <"FRIENDLIST_INIT">
  [ 11] pusharglistnoret 2 ...................... <tConn, "FRIENDLIST_INIT">
  [ 13] objcall 252 ............................. tConn.send("FRIENDLIST_INIT")
  [ 15] ret
end

on handleFriendListInit me, tMsg
  [  0] getparam 1 .............................. <tMsg>
  [  2] getobjprop 421 .......................... <tMsg.connection>
  [  5] setlocal 0 .............................. tConn = tMsg.connection
  [  7] getlocal 0 .............................. <tConn>
  [  9] pushzero ................................ <0>
  [ 10] eq ...................................... <tConn = 0>
  [ 11] jmpifz [ 19] ............................ if tConn = 0 then
  [ 14] pushzero ................................ <0>
  [ 15] pusharglistnoret 1 ...................... <0>
  [ 17] extcall 63 .............................. return 0
  [ 19] getlocal 0 .............................. <tConn>
  [ 21] pusharglist 1 ........................... <tConn>
  [ 23] objcall 422 ............................. <tConn.GetIntFrom()>
  [ 26] setlocal 1 .............................. tUserLimit = tConn.GetIntFrom()
  [ 28] getlocal 0 .............................. <tConn>
  [ 30] pusharglist 1 ........................... <tConn>
  [ 32] objcall 422 ............................. <tConn.GetIntFrom()>
  [ 35] setlocal 2 .............................. tNormalLimit = tConn.GetIntFrom()
  [ 37] getlocal 0 .............................. <tConn>
  [ 39] pusharglist 1 ........................... <tConn>
  [ 41] objcall 422 ............................. <tConn.GetIntFrom()>
  [ 44] setlocal 3 .............................. tExtendedLimit = tConn.GetIntFrom()
  [ 46] getlocal 0 .............................. <tConn>
  [ 48] pusharglist 1 ........................... <tConn>
  [ 50] objcall 422 ............................. <tConn.GetIntFrom()>
  [ 53] setlocal 4 .............................. tCategoryCount = tConn.GetIntFrom()
  [ 55] pusharglist 0 ........................... <[:]>
  [ 57] pushproplist ............................ <[:]>
  [ 58] setlocal 5 .............................. tCategories = [:]
  [ 60] pushint8 1 .............................. <1>
  [ 62] setlocal 6
  [ 64] getlocal 6
  [ 66] getlocal 4 .............................. <tCategoryCount>
  [ 68] lteq
  [ 69] jmpifz [131] ............................ repeat with tCatNo = 1 to tCategoryCount
  [ 72] getlocal 0 .............................. <tConn>
  [ 74] pusharglist 1 ........................... <tConn>
  [ 76] objcall 422 ............................. <tConn.GetIntFrom()>
  [ 79] pusharglist 1 ........................... <tConn.GetIntFrom()>
  [ 81] extcall 160 ............................. <string(tConn.GetIntFrom())>
  [ 83] setlocal 7 .............................. tUniqueId = string(tConn.GetIntFrom())
  [ 85] getlocal 0 .............................. <tConn>
  [ 87] pusharglist 1 ........................... <tConn>
  [ 89] objcall 423 ............................. <tConn.GetStrFrom()>
  [ 92] setlocal 8 .............................. tName = tConn.GetStrFrom()
  [ 94] getparam 0 .............................. <me>
  [ 96] getlocal 7 .............................. <tUniqueId>
  [ 98] pusharglist 2 ........................... <me, tUniqueId>
  [100] objcall 395 ............................. <me.getSlotCatAlias(tUniqueId)>
  [103] setlocal 9 .............................. tID = me.getSlotCatAlias(tUniqueId)
  [105] getlocal 9 .............................. <tID>
  [107] pushzero ................................ <0>
  [108] nteq .................................... <tID <> 0>
  [109] jmpifz [122] ............................ if tID <> 0 then
  [112] getlocal 5 .............................. <tCategories>
  [114] getlocal 9 .............................. <tID>
  [116] getlocal 8 .............................. <tName>
  [118] pusharglistnoret 3 ...................... <tCategories, tID, tName>
  [120] objcall 165 ............................. tCategories[tID] = tName
  [122] pushint8 1
  [124] getlocal 6
  [126] add
  [127] setlocal 6
  [129] endrepeat [ 64]
  [131] getlocal 0 .............................. <tConn>
  [133] pusharglist 1 ........................... <tConn>
  [135] objcall 422 ............................. <tConn.GetIntFrom()>
  [138] setlocal 10 ............................. tFriendCount = tConn.GetIntFrom()
  [140] pusharglist 0 ........................... <[:]>
  [142] pushproplist ............................ <[:]>
  [143] setlocal 11 ............................. tFriendList = [:]
  [145] pushint8 1 .............................. <1>
  [147] setlocal 12
  [149] getlocal 12
  [151] getlocal 10 ............................. <tFriendCount>
  [153] lteq
  [154] jmpifz [197] ............................ repeat with tFriendNo = 1 to tFriendCount
  [157] getparam 0 .............................. <me>
  [159] getparam 1 .............................. <tMsg>
  [161] pusharglist 2 ........................... <me, tMsg>
  [163] objcall 409 ............................. <me.parseFriendData(tMsg)>
  [166] setlocal 13 ............................. tFriend = me.parseFriendData(tMsg)
  [168] getlocal 11 ............................. <tFriendList>
  [170] getlocal 13 ............................. <tFriend>
  [172] pushsymb 115 ............................ <#id>
  [174] pusharglist 2 ........................... <tFriend, #id>
  [176] objcall 93 .............................. <tFriend[#id]>
  [178] pusharglist 1 ........................... <tFriend[#id]>
  [180] extcall 160 ............................. <string(tFriend[#id])>
  [182] getlocal 13 ............................. <tFriend>
  [184] pusharglistnoret 3 ...................... <tFriendList, string(tFriend[#id]), tFriend>
  [186] objcall 165 ............................. tFriendList[string(tFriend[#id])] = tFriend
  [188] pushint8 1
  [190] getlocal 12
  [192] add
  [193] setlocal 12
  [195] endrepeat [149]
  [197] getlocal 0 .............................. <tConn>
  [199] pusharglist 1 ........................... <tConn>
  [201] objcall 422 ............................. <tConn.GetIntFrom()>
  [204] setlocal 14 ............................. tFriendRequestLimit = tConn.GetIntFrom()
  [206] getlocal 0 .............................. <tConn>
  [208] pusharglist 1 ........................... <tConn>
  [210] objcall 422 ............................. <tConn.GetIntFrom()>
  [213] setlocal 15 ............................. tFriendRequestCount = tConn.GetIntFrom()
  [215] getparam 0 .............................. <me>
  [217] pusharglist 1 ........................... <me>
  [219] objcall 70 .............................. <me.getComponent()>
  [221] setlocal 16 ............................. tComponent = me.getComponent()
  [223] getlocal 16 ............................. <tComponent>
  [225] getlocal 1 .............................. <tUserLimit>
  [227] getlocal 2 .............................. <tNormalLimit>
  [229] getlocal 3 .............................. <tExtendedLimit>
  [231] pusharglistnoret 4 ...................... <tComponent, tUserLimit, tNormalLimit, tExtendedLimit>
  [233] objcall 306 ............................. tComponent.setFriendLimits(tUserLimit, tNormalLimit, tExtendedLimit)
  [236] getlocal 16 ............................. <tComponent>
  [238] getlocal 5 .............................. <tCategories>
  [240] pusharglistnoret 2 ...................... <tComponent, tCategories>
  [242] objcall 300 ............................. tComponent.populateCategoryData(tCategories)
  [245] getlocal 16 ............................. <tComponent>
  [247] getlocal 11 ............................. <tFriendList>
  [249] pusharglistnoret 2 ...................... <tComponent, tFriendList>
  [251] objcall 301 ............................. tComponent.populateFriendData(tFriendList)
  [254] getlocal 16 ............................. <tComponent>
  [256] pusharglistnoret 1 ...................... <tComponent>
  [258] objcall 311 ............................. tComponent.sendAskForFriendRequests()
  [261] getlocal 16 ............................. <tComponent>
  [263] pusharglist 1 ........................... <tComponent>
  [265] objcall 299 ............................. <tComponent.setFriendListInited()>
  [268] pusharglistnoret 1 ...................... <tComponent.setFriendListInited()>
  [270] extcall 63 .............................. return tComponent.setFriendListInited()
  [272] ret
end

on handleFriendListUpdate me, tMsg
  [  0] getparam 1 .............................. <tMsg>
  [  2] getobjprop 421 .......................... <tMsg.connection>
  [  5] setlocal 0 .............................. tConn = tMsg.connection
  [  7] getlocal 0 .............................. <tConn>
  [  9] pushzero ................................ <0>
  [ 10] eq ...................................... <tConn = 0>
  [ 11] jmpifz [ 19] ............................ if tConn = 0 then
  [ 14] pushzero ................................ <0>
  [ 15] pusharglistnoret 1 ...................... <0>
  [ 17] extcall 63 .............................. return 0
  [ 19] getlocal 0 .............................. <tConn>
  [ 21] pusharglist 1 ........................... <tConn>
  [ 23] objcall 422 ............................. <tConn.GetIntFrom()>
  [ 26] setlocal 1 .............................. tCategoryCount = tConn.GetIntFrom()
  [ 28] getlocal 1 .............................. <tCategoryCount>
  [ 30] pushzero ................................ <0>
  [ 31] gt ...................................... <tCategoryCount > 0>
  [ 32] jmpifz [205] ............................ if tCategoryCount > 0 then
  [ 35] pusharglist 0 ........................... <[:]>
  [ 37] pushproplist ............................ <[:]>
  [ 38] setlocal 2 .............................. tCategoriesTemp = [:]
  [ 40] pusharglist 0 ........................... <[]>
  [ 42] pushlist ................................ <[]>
  [ 43] setlocal 3 .............................. tUsedIds = []
  [ 45] pushint8 1 .............................. <1>
  [ 47] setlocal 4
  [ 49] getlocal 4
  [ 51] getlocal 1 .............................. <tCategoryCount>
  [ 53] lteq
  [ 54] jmpifz [106] ............................ repeat with tCatNo = 1 to tCategoryCount
  [ 57] getlocal 0 .............................. <tConn>
  [ 59] pusharglist 1 ........................... <tConn>
  [ 61] objcall 422 ............................. <tConn.GetIntFrom()>
  [ 64] pusharglist 1 ........................... <tConn.GetIntFrom()>
  [ 66] extcall 160 ............................. <string(tConn.GetIntFrom())>
  [ 68] setlocal 5 .............................. tID = string(tConn.GetIntFrom())
  [ 70] getlocal 0 .............................. <tConn>
  [ 72] pusharglist 1 ........................... <tConn>
  [ 74] objcall 423 ............................. <tConn.GetStrFrom()>
  [ 77] setlocal 6 .............................. tName = tConn.GetStrFrom()
  [ 79] getlocal 2 .............................. <tCategoriesTemp>
  [ 81] getlocal 5 .............................. <tID>
  [ 83] getlocal 6 .............................. <tName>
  [ 85] pusharglistnoret 3 ...................... <tCategoriesTemp, tID, tName>
  [ 87] objcall 165 ............................. tCategoriesTemp[tID] = tName
  [ 89] getlocal 3 .............................. <tUsedIds>
  [ 91] getlocal 5 .............................. <tID>
  [ 93] pusharglistnoret 2 ...................... <tUsedIds, tID>
  [ 95] objcall 102 ............................. tUsedIds.add(tID)
  [ 97] pushint8 1
  [ 99] getlocal 4
  [101] add
  [102] setlocal 4
  [104] endrepeat [ 49]
  [106] getparam 0 .............................. <me>
  [108] getlocal 3 .............................. <tUsedIds>
  [110] pusharglistnoret 2 ...................... <me, tUsedIds>
  [112] objcall 396 ............................. me.removeUnusedCategories(tUsedIds)
  [115] pusharglist 0 ........................... <[:]>
  [117] pushproplist ............................ <[:]>
  [118] setlocal 7 .............................. tCategories = [:]
  [120] pushint8 1 .............................. <1>
  [122] setlocal 8
  [124] getlocal 8
  [126] getlocal 2 .............................. <tCategoriesTemp>
  [128] getobjprop 114 .......................... <tCategoriesTemp.count>
  [130] lteq
  [131] jmpifz [192] ............................ repeat with tNo = 1 to tCategoriesTemp.count
  [134] getlocal 2 .............................. <tCategoriesTemp>
  [136] getlocal 8 .............................. <tNo>
  [138] pusharglist 2 ........................... <tCategoriesTemp, tNo>
  [140] objcall 380 ............................. <tCategoriesTemp.getPropAt(tNo)>
  [143] setlocal 9 .............................. tUniqueId = tCategoriesTemp.getPropAt(tNo)
  [145] getlocal 2 .............................. <tCategoriesTemp>
  [147] getlocal 8 .............................. <tNo>
  [149] pusharglist 2 ........................... <tCategoriesTemp, tNo>
  [151] objcall 93 .............................. <tCategoriesTemp[tNo]>
  [153] setlocal 6 .............................. tName = tCategoriesTemp[tNo]
  [155] getparam 0 .............................. <me>
  [157] getlocal 9 .............................. <tUniqueId>
  [159] pusharglist 2 ........................... <me, tUniqueId>
  [161] objcall 395 ............................. <me.getSlotCatAlias(tUniqueId)>
  [164] setlocal 10 ............................. tSlotID = me.getSlotCatAlias(tUniqueId)
  [166] getlocal 10 ............................. <tSlotID>
  [168] pushzero ................................ <0>
  [169] nteq .................................... <tSlotID <> 0>
  [170] jmpifz [183] ............................ if tSlotID <> 0 then
  [173] getlocal 7 .............................. <tCategories>
  [175] getlocal 10 ............................. <tSlotID>
  [177] getlocal 6 .............................. <tName>
  [179] pusharglistnoret 3 ...................... <tCategories, tSlotID, tName>
  [181] objcall 165 ............................. tCategories[tSlotID] = tName
  [183] pushint8 1
  [185] getlocal 8
  [187] add
  [188] setlocal 8
  [190] endrepeat [124]
  [192] getparam 0 .............................. <me>
  [194] pusharglist 1 ........................... <me>
  [196] objcall 70 .............................. <me.getComponent()>
  [198] getlocal 7 .............................. <tCategories>
  [200] pusharglistnoret 2 ...................... <me.getComponent(), tCategories>
  [202] objcall 300 ............................. me.getComponent().populateCategoryData(tCategories)
  [205] getlocal 0 .............................. <tConn>
  [207] pusharglist 1 ........................... <tConn>
  [209] objcall 422 ............................. <tConn.GetIntFrom()>
  [212] setlocal 11 ............................. tFriendCount = tConn.GetIntFrom()
  [214] pushint8 1 .............................. <1>
  [216] setlocal 8
  [218] getlocal 8
  [220] getlocal 11 ............................. <tFriendCount>
  [222] lteq
  [223] jmpifz [561] ............................ repeat with tNo = 1 to tFriendCount
  [226] getlocal 0 .............................. <tConn>
  [228] pusharglist 1 ........................... <tConn>
  [230] objcall 422 ............................. <tConn.GetIntFrom()>
  [233] setlocal 12 ............................. tUpdateType = tConn.GetIntFrom()
  [235] getlocal 12 ............................. <tUpdateType>
  [237] peek 0 .................................. case tUpdateType of
  [239] pushint8 1 .............................. <1>
  [241] inv ..................................... <-1>
  [242] eq
  [243] jmpifz [272] ............................ (case) (-1):
  [246] getlocal 0 .............................. <tConn>
  [248] pusharglist 1 ........................... <tConn>
  [250] objcall 422 ............................. <tConn.GetIntFrom()>
  [253] setlocal 13 ............................. tFriendID = tConn.GetIntFrom()
  [255] getparam 0 .............................. <me>
  [257] pusharglist 1 ........................... <me>
  [259] objcall 70 .............................. <me.getComponent()>
  [261] getlocal 13 ............................. <tFriendID>
  [263] pushint8 1 .............................. <1>
  [265] pusharglistnoret 3 ...................... <me.getComponent(), tFriendID, 1>
  [267] objcall 13 .............................. me.getComponent().removeFriend(tFriendID, 1)
  [269] jmp [549]
  [272] peek 0
  [274] pushzero ................................ <0>
  [275] eq
  [276] jmpifz [516] ............................ (case) 0:
  [279] pusharglist 0 ........................... <[:]>
  [281] pushproplist ............................ <[:]>
  [282] setlocal 14 ............................. tFriend = [:]
  [284] getlocal 14 ............................. <tFriend>
  [286] pushsymb 115 ............................ <#id>
  [288] getlocal 0 .............................. <tConn>
  [290] pusharglist 1 ........................... <tConn>
  [292] objcall 422 ............................. <tConn.GetIntFrom()>
  [295] pusharglistnoret 3 ...................... <tFriend, #id, tConn.GetIntFrom()>
  [297] objcall 165 ............................. tFriend[#id] = tConn.GetIntFrom()
  [299] getlocal 14 ............................. <tFriend>
  [301] pushsymb 125 ............................ <#name>
  [303] getlocal 0 .............................. <tConn>
  [305] pusharglist 1 ........................... <tConn>
  [307] objcall 423 ............................. <tConn.GetStrFrom()>
  [310] pusharglistnoret 3 ...................... <tFriend, #name, tConn.GetStrFrom()>
  [312] objcall 165 ............................. tFriend[#name] = tConn.GetStrFrom()
  [314] getlocal 14 ............................. <tFriend>
  [316] pushsymb 434 ............................ <#sex>
  [319] getlocal 0 .............................. <tConn>
  [321] pusharglist 1 ........................... <tConn>
  [323] objcall 422 ............................. <tConn.GetIntFrom()>
  [326] pusharglistnoret 3 ...................... <tFriend, #sex, tConn.GetIntFrom()>
  [328] objcall 165 ............................. tFriend[#sex] = tConn.GetIntFrom()
  [330] getlocal 14 ............................. <tFriend>
  [332] pushsymb 435 ............................ <#online>
  [335] getlocal 0 .............................. <tConn>
  [337] pusharglist 1 ........................... <tConn>
  [339] objcall 422 ............................. <tConn.GetIntFrom()>
  [342] pusharglistnoret 3 ...................... <tFriend, #online, tConn.GetIntFrom()>
  [344] objcall 165 ............................. tFriend[#online] = tConn.GetIntFrom()
  [346] getlocal 14 ............................. <tFriend>
  [348] pushsymb 436 ............................ <#canfollow>
  [351] getlocal 0 .............................. <tConn>
  [353] pusharglist 1 ........................... <tConn>
  [355] objcall 422 ............................. <tConn.GetIntFrom()>
  [358] pusharglistnoret 3 ...................... <tFriend, #canfollow, tConn.GetIntFrom()>
  [360] objcall 165 ............................. tFriend[#canfollow] = tConn.GetIntFrom()
  [362] getlocal 14 ............................. <tFriend>
  [364] pushsymb 437 ............................ <#figure>
  [367] getlocal 0 .............................. <tConn>
  [369] pusharglist 1 ........................... <tConn>
  [371] objcall 423 ............................. <tConn.GetStrFrom()>
  [374] pusharglistnoret 3 ...................... <tFriend, #figure, tConn.GetStrFrom()>
  [376] objcall 165 ............................. tFriend[#figure] = tConn.GetStrFrom()
  [378] getlocal 14 ............................. <tFriend>
  [380] pushsymb 92 ............................. <#categoryId>
  [382] getparam 0 .............................. <me>
  [384] getlocal 0 .............................. <tConn>
  [386] pusharglist 1 ........................... <tConn>
  [388] objcall 422 ............................. <tConn.GetIntFrom()>
  [391] pusharglist 2 ........................... <me, tConn.GetIntFrom()>
  [393] objcall 395 ............................. <me.getSlotCatAlias(tConn.GetIntFrom())>
  [396] pusharglistnoret 3 ...................... <tFriend, #categoryId, me.getSlotCatAlias(tConn.GetIntFrom())>
  [398] objcall 165 ............................. tFriend[#categoryId] = me.getSlotCatAlias(tConn.GetIntFrom())
  [400] getlocal 14 ............................. <tFriend>
  [402] pushsymb 92 ............................. <#categoryId>
  [404] pusharglist 2 ........................... <tFriend, #categoryId>
  [406] objcall 93 .............................. <tFriend[#categoryId]>
  [408] pushzero ................................ <0>
  [409] lt ...................................... <tFriend[#categoryId] < 0>
  [410] jmpifz [423] ............................ if tFriend[#categoryId] < 0 then
  [413] getlocal 14 ............................. <tFriend>
  [415] pushsymb 92 ............................. <#categoryId>
  [417] pushcons 3 .............................. <"0">
  [419] pusharglistnoret 3 ...................... <tFriend, #categoryId, "0">
  [421] objcall 165 ............................. tFriend[#categoryId] = "0"
  [423] getlocal 14 ............................. <tFriend>
  [425] pushsymb 435 ............................ <#online>
  [428] pusharglist 2 ........................... <tFriend, #online>
  [430] objcall 93 .............................. <tFriend[#online]>
  [432] pushzero ................................ <0>
  [433] eq ...................................... <tFriend[#online] = 0>
  [434] jmpifz [447] ............................ if tFriend[#online] = 0 then
  [437] getlocal 14 ............................. <tFriend>
  [439] pushsymb 92 ............................. <#categoryId>
  [441] pushcons 4 .............................. <"-1">
  [443] pusharglistnoret 3 ...................... <tFriend, #categoryId, "-1">
  [445] objcall 165 ............................. tFriend[#categoryId] = "-1"
  [447] getlocal 14 ............................. <tFriend>
  [449] pushsymb 92 ............................. <#categoryId>
  [451] getlocal 14 ............................. <tFriend>
  [453] pushsymb 92 ............................. <#categoryId>
  [455] pusharglist 2 ........................... <tFriend, #categoryId>
  [457] objcall 93 .............................. <tFriend[#categoryId]>
  [459] pusharglist 1 ........................... <tFriend[#categoryId]>
  [461] extcall 160 ............................. <string(tFriend[#categoryId])>
  [463] pusharglistnoret 3 ...................... <tFriend, #categoryId, string(tFriend[#categoryId])>
  [465] objcall 165 ............................. tFriend[#categoryId] = string(tFriend[#categoryId])
  [467] getlocal 14 ............................. <tFriend>
  [469] pushsymb 438 ............................ <#mission>
  [472] getlocal 0 .............................. <tConn>
  [474] pusharglist 1 ........................... <tConn>
  [476] objcall 423 ............................. <tConn.GetStrFrom()>
  [479] pusharglistnoret 3 ...................... <tFriend, #mission, tConn.GetStrFrom()>
  [481] objcall 165 ............................. tFriend[#mission] = tConn.GetStrFrom()
  [483] getlocal 14 ............................. <tFriend>
  [485] pushsymb 439 ............................ <#lastAccess>
  [488] getlocal 0 .............................. <tConn>
  [490] pusharglist 1 ........................... <tConn>
  [492] objcall 423 ............................. <tConn.GetStrFrom()>
  [495] pusharglistnoret 3 ...................... <tFriend, #lastAccess, tConn.GetStrFrom()>
  [497] objcall 165 ............................. tFriend[#lastAccess] = tConn.GetStrFrom()
  [499] getparam 0 .............................. <me>
  [501] pusharglist 1 ........................... <me>
  [503] objcall 70 .............................. <me.getComponent()>
  [505] getlocal 14 ............................. <tFriend>
  [507] pushint8 1 .............................. <1>
  [509] pusharglistnoret 3 ...................... <me.getComponent(), tFriend, 1>
  [511] objcall 12 .............................. me.getComponent().updateFriend(tFriend, 1)
  [513] jmp [549]
  [516] peek 0
  [518] pushint8 1 .............................. <1>
  [520] eq
  [521] jmpifz [549] ............................ (case) 1:
  [524] getparam 0 .............................. <me>
  [526] getparam 1 .............................. <tMsg>
  [528] pusharglist 2 ........................... <me, tMsg>
  [530] objcall 409 ............................. <me.parseFriendData(tMsg)>
  [533] setlocal 14 ............................. tFriend = me.parseFriendData(tMsg)
  [535] getparam 0 .............................. <me>
  [537] pusharglist 1 ........................... <me>
  [539] objcall 70 .............................. <me.getComponent()>
  [541] getlocal 14 ............................. <tFriend>
  [543] pushint8 1 .............................. <1>
  [545] pusharglistnoret 3 ...................... <me.getComponent(), tFriend, 1>
  [547] objcall 8 ............................... me.getComponent().addFriend(tFriend, 1)
  [549] pop 1 ................................... end case
  [551] pushint8 1
  [553] getlocal 8
  [555] add
  [556] setlocal 8
  [558] endrepeat [218]
  [561] getlocal 11 ............................. <tFriendCount>
  [563] pushzero ................................ <0>
  [564] gt ...................................... <tFriendCount > 0>
  [565] getlocal 1 .............................. <tCategoryCount>
  [567] pushzero ................................ <0>
  [568] gt ...................................... <tCategoryCount > 0>
  [569] or ...................................... <(tFriendCount > 0) or (tCategoryCount > 0)>
  [570] jmpifz [602] ............................ if (tFriendCount > 0) or (tCategoryCount > 0) then
  [573] getparam 0 .............................. <me>
  [575] pusharglist 1 ........................... <me>
  [577] objcall 338 ............................. <me.getInterface()>
  [580] pusharglistnoret 1 ...................... <me.getInterface()>
  [582] objcall 14 .............................. me.getInterface().updateCategoryCounts()
  [584] getparam 0 .............................. <me>
  [586] pusharglist 1 ........................... <me>
  [588] objcall 338 ............................. <me.getInterface()>
  [591] pusharglistnoret 1 ...................... <me.getInterface()>
  [593] objcall 17 .............................. me.getInterface().updateOpenCategoryPanel()
  [595] pushcons 5 .............................. <"friendListUpdate">
  [597] pusharglistnoret 1 ...................... <"friendListUpdate">
  [599] extcall 440 ............................. callJavaScriptFunction("friendListUpdate")
  [602] ret
end

on handleError me, tMsg
  [  0] getparam 1 .............................. <tMsg>
  [  2] getobjprop 421 .......................... <tMsg.connection>
  [  5] setlocal 0 .............................. tConn = tMsg.connection
  [  7] getlocal 0 .............................. <tConn>
  [  9] pushzero ................................ <0>
  [ 10] eq ...................................... <tConn = 0>
  [ 11] jmpifz [ 19] ............................ if tConn = 0 then
  [ 14] pushzero ................................ <0>
  [ 15] pusharglistnoret 1 ...................... <0>
  [ 17] extcall 63 .............................. return 0
  [ 19] getlocal 0 .............................. <tConn>
  [ 21] pusharglist 1 ........................... <tConn>
  [ 23] objcall 422 ............................. <tConn.GetIntFrom()>
  [ 26] setlocal 1 .............................. tClientMessageId = tConn.GetIntFrom()
  [ 28] getlocal 0 .............................. <tConn>
  [ 30] pusharglist 1 ........................... <tConn>
  [ 32] objcall 422 ............................. <tConn.GetIntFrom()>
  [ 35] setlocal 2 .............................. tErrorCode = tConn.GetIntFrom()
  [ 37] getlocal 2 .............................. <tErrorCode>
  [ 39] peek 0 .................................. case tErrorCode of
  [ 41] pushzero ................................ <0>
  [ 42] eq
  [ 43] jmpifz [ 68] ............................ (case) 0:
  [ 46] pop 1
  [ 48] getparam 0 .............................. <me>
  [ 50] pushcons 6 .............................. <"Undefined friend list error!">
  [ 52] pushsymb 400 ............................ <#handleError>
  [ 55] pushsymb 124 ............................ <#major>
  [ 57] pusharglist 4 ........................... <me, "Undefined friend list error!", #handleError, #major>
  [ 59] extcall 123 ............................. <error(me, "Undefined friend list error!", #handleError, #major)>
  [ 61] pusharglistnoret 1 ...................... <error(me, "Undefined friend list error!", #handleError, #major)>
  [ 63] extcall 63 .............................. return error(me, "Undefined friend list error!", #handleError, #major)
  [ 65] jmp [375]
  [ 68] peek 0
  [ 70] pushint8 2 .............................. <2>
  [ 72] eq
  [ 73] jmpifz [104] ............................ (case) 2:
  [ 76] pop 1
  [ 78] pushsymb 374 ............................ <#alert>
  [ 81] pushsymb 381 ............................ <#Msg>
  [ 84] pushcons 7 .............................. <"console_target_friend_list_full">
  [ 86] pusharglist 1 ........................... <"console_target_friend_list_full">
  [ 88] extcall 42 .............................. <getText("console_target_friend_list_full")>
  [ 90] pusharglist 2 ........................... <[#Msg: getText("console_target_friend_list_full")]>
  [ 92] pushproplist ............................ <[#Msg: getText("console_target_friend_list_full")]>
  [ 93] pusharglist 2 ........................... <#alert, [#Msg: getText("console_target_friend_list_full")]>
  [ 95] extcall 126 ............................. <executeMessage(#alert, [#Msg: getText("console_target_friend_list_full")])>
  [ 97] pusharglistnoret 1 ...................... <executeMessage(#alert, [#Msg: getText("console_target_friend_list_full")])>
  [ 99] extcall 63 .............................. return executeMessage(#alert, [#Msg: getText("console_target_friend_list_full")])
  [101] jmp [375]
  [104] peek 0
  [106] pushint8 3 .............................. <3>
  [108] eq
  [109] jmpifz [140] ............................ (case) 3:
  [112] pop 1
  [114] pushsymb 374 ............................ <#alert>
  [117] pushsymb 381 ............................ <#Msg>
  [120] pushcons 8 .............................. <"console_target_does_not_accept">
  [122] pusharglist 1 ........................... <"console_target_does_not_accept">
  [124] extcall 42 .............................. <getText("console_target_does_not_accept")>
  [126] pusharglist 2 ........................... <[#Msg: getText("console_target_does_not_accept")]>
  [128] pushproplist ............................ <[#Msg: getText("console_target_does_not_accept")]>
  [129] pusharglist 2 ........................... <#alert, [#Msg: getText("console_target_does_not_accept")]>
  [131] extcall 126 ............................. <executeMessage(#alert, [#Msg: getText("console_target_does_not_accept")])>
  [133] pusharglistnoret 1 ...................... <executeMessage(#alert, [#Msg: getText("console_target_does_not_accept")])>
  [135] extcall 63 .............................. return executeMessage(#alert, [#Msg: getText("console_target_does_not_accept")])
  [137] jmp [375]
  [140] peek 0
  [142] pushint8 4 .............................. <4>
  [144] eq
  [145] jmpifz [176] ............................ (case) 4:
  [148] pop 1
  [150] pushsymb 374 ............................ <#alert>
  [153] pushsymb 381 ............................ <#Msg>
  [156] pushcons 9 .............................. <"console_friend_request_not_found">
  [158] pusharglist 1 ........................... <"console_friend_request_not_found">
  [160] extcall 42 .............................. <getText("console_friend_request_not_found")>
  [162] pusharglist 2 ........................... <[#Msg: getText("console_friend_request_not_found")]>
  [164] pushproplist ............................ <[#Msg: getText("console_friend_request_not_found")]>
  [165] pusharglist 2 ........................... <#alert, [#Msg: getText("console_friend_request_not_found")]>
  [167] extcall 126 ............................. <executeMessage(#alert, [#Msg: getText("console_friend_request_not_found")])>
  [169] pusharglistnoret 1 ...................... <executeMessage(#alert, [#Msg: getText("console_friend_request_not_found")])>
  [171] extcall 63 .............................. return executeMessage(#alert, [#Msg: getText("console_friend_request_not_found")])
  [173] jmp [375]
  [176] peek 0
  [178] pushint8 37 ............................. <37>
  [180] eq
  [181] jmpifz [300] ............................ (case) 37:
  [184] getlocal 0 .............................. <tConn>
  [186] pusharglist 1 ........................... <tConn>
  [188] objcall 422 ............................. <tConn.GetIntFrom()>
  [191] setlocal 3 .............................. tReason = tConn.GetIntFrom()
  [193] getlocal 3 .............................. <tReason>
  [195] peek 0 .................................. case tReason of
  [197] pushint8 1 .............................. <1>
  [199] eq
  [200] jmpifz [206] ............................ (case) 1:
  [203] jmp [295]
  [206] peek 0
  [208] pushint8 2 .............................. <2>
  [210] eq
  [211] jmpifz [237] ............................ (case) 2:
  [214] pushsymb 374 ............................ <#alert>
  [217] pushsymb 381 ............................ <#Msg>
  [220] pushcons 10 ............................. <"console_buddylimit_requester">
  [222] pushsymb 445 ............................ <#modal>
  [225] pushint8 1 .............................. <1>
  [227] pusharglist 4 ........................... <[#Msg: "console_buddylimit_requester", #modal: 1]>
  [229] pushproplist ............................ <[#Msg: "console_buddylimit_requester", #modal: 1]>
  [230] pusharglistnoret 2 ...................... <#alert, [#Msg: "console_buddylimit_requester", #modal: 1]>
  [232] extcall 126 ............................. executeMessage(#alert, [#Msg: "console_buddylimit_requester", #modal: 1])
  [234] jmp [295]
  [237] peek 0
  [239] pushint8 42 ............................. <42>
  [241] eq
  [242] jmpifz [295] ............................ (case) 42:
  [245] pushsymb 374 ............................ <#alert>
  [248] pushsymb 381 ............................ <#Msg>
  [251] pushcons 11 ............................. <"console_buddylist_concurrency">
  [253] pushsymb 445 ............................ <#modal>
  [256] pushint8 1 .............................. <1>
  [258] pusharglist 4 ........................... <[#Msg: "console_buddylist_concurrency", #modal: 1]>
  [260] pushproplist ............................ <[#Msg: "console_buddylist_concurrency", #modal: 1]>
  [261] pusharglistnoret 2 ...................... <#alert, [#Msg: "console_buddylist_concurrency", #modal: 1]>
  [263] extcall 126 ............................. executeMessage(#alert, [#Msg: "console_buddylist_concurrency", #modal: 1])
  [265] pushcons 12 ............................. <"connection.info.id">
  [267] pusharglist 1 ........................... <"connection.info.id">
  [269] extcall 46 .............................. <getVariable("connection.info.id")>
  [271] pusharglist 1 ........................... <getVariable("connection.info.id")>
  [273] extcall 367 ............................. <connectionExists(getVariable("connection.info.id"))>
  [276] jmpifz [295] ............................ if connectionExists(getVariable("connection.info.id")) then
  [279] pushcons 12 ............................. <"connection.info.id">
  [281] pusharglist 1 ........................... <"connection.info.id">
  [283] extcall 46 .............................. <getVariable("connection.info.id")>
  [285] pusharglist 1 ........................... <getVariable("connection.info.id")>
  [287] extcall 251 ............................. <getConnection(getVariable("connection.info.id"))>
  [289] pushcons 13 ............................. <"FRIENDLIST_UPDATE">
  [291] pusharglistnoret 2 ...................... <getConnection(getVariable("connection.info.id")), "FRIENDLIST_UPDATE">
  [293] objcall 252 ............................. getConnection(getVariable("connection.info.id")).send("FRIENDLIST_UPDATE")
  [295] pop 1 ................................... end case
  [297] jmp [375]
  [300] peek 0
  [302] pushint8 39 ............................. <39>
  [304] eq
  [305] jmpifz [311] ............................ (case) 39:
  [308] jmp [375]
  [311] peek 0
  [313] pushint8 42 ............................. <42>
  [315] eq
  [316] jmpifz [347] ............................ (case) 42:
  [319] pop 1
  [321] pushsymb 374 ............................ <#alert>
  [324] pushsymb 381 ............................ <#Msg>
  [327] pushcons 14 ............................. <"console_concurrency_error">
  [329] pusharglist 1 ........................... <"console_concurrency_error">
  [331] extcall 42 .............................. <getText("console_concurrency_error")>
  [333] pusharglist 2 ........................... <[#Msg: getText("console_concurrency_error")]>
  [335] pushproplist ............................ <[#Msg: getText("console_concurrency_error")]>
  [336] pusharglist 2 ........................... <#alert, [#Msg: getText("console_concurrency_error")]>
  [338] extcall 126 ............................. <executeMessage(#alert, [#Msg: getText("console_concurrency_error")])>
  [340] pusharglistnoret 1 ...................... <executeMessage(#alert, [#Msg: getText("console_concurrency_error")])>
  [342] extcall 63 .............................. return executeMessage(#alert, [#Msg: getText("console_concurrency_error")])
  [344] jmp [375] ............................... (case) otherwise:
  [347] pop 1
  [349] getparam 0 .............................. <me>
  [351] pushcons 15 ............................. <"Friendlist error, failed message:">
  [353] getlocal 2 .............................. <tErrorCode>
  [355] joinpadstr .............................. <"Friendlist error, failed message:" && tErrorCode>
  [356] pushcons 16 ............................. <"Triggered by message:">
  [358] joinpadstr .............................. <"Friendlist error, failed message:" && tErrorCode && "Triggered by message:">
  [359] getlocal 1 .............................. <tClientMessageId>
  [361] joinpadstr .............................. <"Friendlist error, failed message:" && tErrorCode && "Triggered by message:" && tClientMessageId>
  [362] pushsymb 400 ............................ <#handleError>
  [365] pushsymb 124 ............................ <#major>
  [367] pusharglist 4 ........................... <me, "Friendlist error, failed message:" && tErrorCode && "Triggered by message:" && tClientMessageId, #handleError, #major>
  [369] extcall 123 ............................. <error(me, "Friendlist error, failed message:" && tErrorCode && "Triggered by message:" && tClientMessageId, #handleError, #major)>
  [371] pusharglistnoret 1 ...................... <error(me, "Friendlist error, failed message:" && tErrorCode && "Triggered by message:" && tClientMessageId, #handleError, #major)>
  [373] extcall 63 .............................. return error(me, "Friendlist error, failed message:" && tErrorCode && "Triggered by message:" && tClientMessageId, #handleError, #major)
  [375] pop 1 ................................... end case
  [377] pushint8 1 .............................. <1>
  [379] pusharglistnoret 1 ...................... <1>
  [381] extcall 63 .............................. return 1
  [383] ret
end

on handleFriendRequestList me, tMsg
  [  0] getparam 1 .............................. <tMsg>
  [  2] getobjprop 421 .......................... <tMsg.connection>
  [  5] setlocal 0 .............................. tConn = tMsg.connection
  [  7] getlocal 0 .............................. <tConn>
  [  9] pusharglist 1 ........................... <tConn>
  [ 11] objcall 422 ............................. <tConn.GetIntFrom()>
  [ 14] setlocal 1 .............................. tTotalFriendRequests = tConn.GetIntFrom()
  [ 16] getlocal 0 .............................. <tConn>
  [ 18] pusharglist 1 ........................... <tConn>
  [ 20] objcall 422 ............................. <tConn.GetIntFrom()>
  [ 23] setlocal 2 .............................. tFriendRequestCount = tConn.GetIntFrom()
  [ 25] pushint8 1 .............................. <1>
  [ 27] setlocal 3
  [ 29] getlocal 3
  [ 31] getlocal 2 .............................. <tFriendRequestCount>
  [ 33] lteq
  [ 34] jmpifz [ 69] ............................ repeat with tRequestNo = 1 to tFriendRequestCount
  [ 37] getparam 0 .............................. <me>
  [ 39] getparam 1 .............................. <tMsg>
  [ 41] pusharglist 2 ........................... <me, tMsg>
  [ 43] objcall 408 ............................. <me.parseFriendRequest(tMsg)>
  [ 46] setlocal 4 .............................. tRequest = me.parseFriendRequest(tMsg)
  [ 48] getparam 0 .............................. <me>
  [ 50] pusharglist 1 ........................... <me>
  [ 52] objcall 70 .............................. <me.getComponent()>
  [ 54] getlocal 4 .............................. <tRequest>
  [ 56] pusharglistnoret 2 ...................... <me.getComponent(), tRequest>
  [ 58] objcall 9 ............................... me.getComponent().addFriendRequest(tRequest)
  [ 60] pushint8 1
  [ 62] getlocal 3
  [ 64] add
  [ 65] setlocal 3
  [ 67] endrepeat [ 29]
  [ 69] getparam 0 .............................. <me>
  [ 71] pusharglist 1 ........................... <me>
  [ 73] objcall 338 ............................. <me.getInterface()>
  [ 76] pusharglistnoret 1 ...................... <me.getInterface()>
  [ 78] objcall 14 .............................. me.getInterface().updateCategoryCounts()
  [ 80] getparam 0 .............................. <me>
  [ 82] pusharglist 1 ........................... <me>
  [ 84] objcall 70 .............................. <me.getComponent()>
  [ 86] pusharglistnoret 1 ...................... <me.getComponent()>
  [ 88] objcall 304 ............................. me.getComponent().notifyFriendRequests()
  [ 91] ret
end

on handleFriendRequest me, tMsg
  [  0] getparam 0 .............................. <me>
  [  2] getparam 1 .............................. <tMsg>
  [  4] pusharglist 2 ........................... <me, tMsg>
  [  6] objcall 408 ............................. <me.parseFriendRequest(tMsg)>
  [  9] setlocal 0 .............................. tRequest = me.parseFriendRequest(tMsg)
  [ 11] getparam 0 .............................. <me>
  [ 13] pusharglist 1 ........................... <me>
  [ 15] objcall 70 .............................. <me.getComponent()>
  [ 17] getlocal 0 .............................. <tRequest>
  [ 19] pusharglistnoret 2 ...................... <me.getComponent(), tRequest>
  [ 21] objcall 9 ............................... me.getComponent().addFriendRequest(tRequest)
  [ 23] getparam 0 .............................. <me>
  [ 25] pusharglist 1 ........................... <me>
  [ 27] objcall 338 ............................. <me.getInterface()>
  [ 30] pusharglistnoret 1 ...................... <me.getInterface()>
  [ 32] objcall 14 .............................. me.getInterface().updateCategoryCounts()
  [ 34] getparam 0 .............................. <me>
  [ 36] pusharglist 1 ........................... <me>
  [ 38] objcall 70 .............................. <me.getComponent()>
  [ 40] pusharglistnoret 1 ...................... <me.getComponent()>
  [ 42] objcall 304 ............................. me.getComponent().notifyFriendRequests()
  [ 45] ret
end

on handleFriendRequestResult me, tMsg
  [  0] getparam 1 .............................. <tMsg>
  [  2] getobjprop 421 .......................... <tMsg.connection>
  [  5] setlocal 0 .............................. tConn = tMsg.connection
  [  7] getlocal 0 .............................. <tConn>
  [  9] pusharglist 1 ........................... <tConn>
  [ 11] objcall 422 ............................. <tConn.GetIntFrom()>
  [ 14] setlocal 1 .............................. tFailureCount = tConn.GetIntFrom()
  [ 16] pusharglist 0 ........................... <[:]>
  [ 18] pushproplist ............................ <[:]>
  [ 19] setlocal 2 .............................. tErrorList = [:]
  [ 21] pushint8 1 .............................. <1>
  [ 23] setlocal 3
  [ 25] getlocal 3
  [ 27] getlocal 1 .............................. <tFailureCount>
  [ 29] lteq
  [ 30] jmpifz [ 71] ............................ repeat with tItemNo = 1 to tFailureCount
  [ 33] getlocal 0 .............................. <tConn>
  [ 35] pusharglist 1 ........................... <tConn>
  [ 37] objcall 423 ............................. <tConn.GetStrFrom()>
  [ 40] setlocal 4 .............................. tSenderName = tConn.GetStrFrom()
  [ 42] getlocal 0 .............................. <tConn>
  [ 44] pusharglist 1 ........................... <tConn>
  [ 46] objcall 422 ............................. <tConn.GetIntFrom()>
  [ 49] setlocal 5 .............................. tErrorCode = tConn.GetIntFrom()
  [ 51] getlocal 2 .............................. <tErrorList>
  [ 53] getlocal 4 .............................. <tSenderName>
  [ 55] getlocal 5 .............................. <tErrorCode>
  [ 57] pusharglistnoret 3 ...................... <tErrorList, tSenderName, tErrorCode>
  [ 59] objcall 390 ............................. tErrorList.setaProp(tSenderName, tErrorCode)
  [ 62] pushint8 1
  [ 64] getlocal 3
  [ 66] add
  [ 67] setlocal 3
  [ 69] endrepeat [ 25]
  [ 71] getparam 0 .............................. <me>
  [ 73] pusharglist 1 ........................... <me>
  [ 75] objcall 70 .............................. <me.getComponent()>
  [ 77] getlocal 2 .............................. <tErrorList>
  [ 79] pusharglistnoret 2 ...................... <me.getComponent(), tErrorList>
  [ 81] objcall 312 ............................. me.getComponent().setFriendRequestResult(tErrorList)
  [ 84] getlocal 1 .............................. <tFailureCount>
  [ 86] pushint8 1 .............................. <1>
  [ 88] lt ...................................... <tFailureCount < 1>
  [ 89] jmpifz [ 98] ............................ if tFailureCount < 1 then
  [ 92] pushint8 1 .............................. <1>
  [ 94] pusharglistnoret 1 ...................... <1>
  [ 96] extcall 63 .............................. return 1
  [ 98] ret
end

on handleFollowFailed me, tMsg
  [  0] getparam 1 .............................. <tMsg>
  [  2] getobjprop 421 .......................... <tMsg.connection>
  [  5] setlocal 0 .............................. tConn = tMsg.connection
  [  7] getlocal 0 .............................. <tConn>
  [  9] pusharglist 1 ........................... <tConn>
  [ 11] objcall 422 ............................. <tConn.GetIntFrom()>
  [ 14] setlocal 1 .............................. tFailureType = tConn.GetIntFrom()
  [ 16] getlocal 1 .............................. <tFailureType>
  [ 18] peek 0 .................................. case tFailureType of
  [ 20] pushzero ................................ <0>
  [ 21] eq
  [ 22] jmpifz [ 32] ............................ (case) 0:
  [ 25] pushcons 17 ............................. <"console_follow_not_friend">
  [ 27] setlocal 2 .............................. tTextKey = "console_follow_not_friend"
  [ 29] jmp [ 84]
  [ 32] peek 0
  [ 34] pushint8 1 .............................. <1>
  [ 36] eq
  [ 37] jmpifz [ 47] ............................ (case) 1:
  [ 40] pushcons 18 ............................. <"console_follow_offline">
  [ 42] setlocal 2 .............................. tTextKey = "console_follow_offline"
  [ 44] jmp [ 84]
  [ 47] peek 0
  [ 49] pushint8 2 .............................. <2>
  [ 51] eq
  [ 52] jmpifz [ 62] ............................ (case) 2:
  [ 55] pushcons 19 ............................. <"console_follow_hotelview">
  [ 57] setlocal 2 .............................. tTextKey = "console_follow_hotelview"
  [ 59] jmp [ 84]
  [ 62] peek 0
  [ 64] pushint8 3 .............................. <3>
  [ 66] eq
  [ 67] jmpifz [ 77] ............................ (case) 3:
  [ 70] pushcons 20 ............................. <"console_follow_prevented">
  [ 72] setlocal 2 .............................. tTextKey = "console_follow_prevented"
  [ 74] jmp [ 84] ............................... (case) otherwise:
  [ 77] pop 1
  [ 79] pushzero ................................ <0>
  [ 80] pusharglistnoret 1 ...................... <0>
  [ 82] extcall 63 .............................. return 0
  [ 84] pop 1 ................................... end case
  [ 86] pushsymb 203 ............................ <#room>
  [ 88] pusharglist 1 ........................... <#room>
  [ 90] extcall 278 ............................. <threadExists(#room)>
  [ 93] jmpifz [129] ............................ if threadExists(#room) then
  [ 96] pushsymb 203 ............................ <#room>
  [ 98] pusharglist 1 ........................... <#room>
  [100] extcall 280 ............................. <getThread(#room)>
  [103] pusharglist 1 ........................... <getThread(#room)>
  [105] objcall 70 .............................. <getThread(#room).getComponent()>
  [107] pusharglist 1 ........................... <getThread(#room).getComponent()>
  [109] objcall 453 ............................. <getThread(#room).getComponent().getRoomID()>
  [112] setlocal 3 .............................. tRoomID = getThread(#room).getComponent().getRoomID()
  [114] getlocal 3 .............................. <tRoomID>
  [116] pushcons 21 ............................. <EMPTY>
  [118] eq ...................................... <tRoomID = EMPTY>
  [119] jmpifz [129] ............................ if tRoomID = EMPTY then
  [122] pushsymb 454 ............................ <#show_navigator>
  [125] pusharglistnoret 1 ...................... <#show_navigator>
  [127] extcall 126 ............................. executeMessage(#show_navigator)
  [129] pushsymb 374 ............................ <#alert>
  [132] pushsymb 381 ............................ <#Msg>
  [135] getlocal 2 .............................. <tTextKey>
  [137] pushsymb 115 ............................ <#id>
  [139] pushsymb 455 ............................ <#follow_failure_notice>
  [142] pusharglist 4 ........................... <[#Msg: tTextKey, #id: #follow_failure_notice]>
  [144] pushproplist ............................ <[#Msg: tTextKey, #id: #follow_failure_notice]>
  [145] pusharglistnoret 2 ...................... <#alert, [#Msg: tTextKey, #id: #follow_failure_notice]>
  [147] extcall 126 ............................. executeMessage(#alert, [#Msg: tTextKey, #id: #follow_failure_notice])
  [149] pushint8 1 .............................. <1>
  [151] pusharglistnoret 1 ...................... <1>
  [153] extcall 63 .............................. return 1
  [155] ret
end

on handleMailNotification me, tMsg
  [  0] getparam 1 .............................. <tMsg>
  [  2] getobjprop 421 .......................... <tMsg.connection>
  [  5] setlocal 0 .............................. tConn = tMsg.connection
  [  7] getlocal 0 .............................. <tConn>
  [  9] pusharglist 1 ........................... <tConn>
  [ 11] objcall 423 ............................. <tConn.GetStrFrom()>
  [ 14] setlocal 1 .............................. tUserID = tConn.GetStrFrom()
  [ 16] getparam 0 .............................. <me>
  [ 18] pusharglist 1 ........................... <me>
  [ 20] objcall 70 .............................. <me.getComponent()>
  [ 22] getlocal 1 .............................. <tUserID>
  [ 24] pusharglistnoret 2 ...................... <me.getComponent(), tUserID>
  [ 26] objcall 303 ............................. me.getComponent().newMailFrom(tUserID)
  [ 29] ret
end

on handleMailCountNotification me, tMsg
  [  0] getparam 1 .............................. <tMsg>
  [  2] getobjprop 421 .......................... <tMsg.connection>
  [  5] setlocal 0 .............................. tConn = tMsg.connection
  [  7] getlocal 0 .............................. <tConn>
  [  9] pusharglist 1 ........................... <tConn>
  [ 11] objcall 422 ............................. <tConn.GetIntFrom()>
  [ 14] setlocal 1 .............................. tUnreadMailCount = tConn.GetIntFrom()
  [ 16] getparam 0 .............................. <me>
  [ 18] pusharglist 1 ........................... <me>
  [ 20] objcall 70 .............................. <me.getComponent()>
  [ 22] getlocal 1 .............................. <tUnreadMailCount>
  [ 24] pusharglistnoret 2 ...................... <me.getComponent(), tUnreadMailCount>
  [ 26] objcall 302 ............................. me.getComponent().setUnreadMailCount(tUnreadMailCount)
  [ 29] ret
end

on handleHabboSearchResult me, tMsg
  [  0] getparam 1 .............................. <tMsg>
  [  2] getobjprop 421 .......................... <tMsg.connection>
  [  5] setlocal 0 .............................. tConn = tMsg.connection
  [  7] getlocal 0 .............................. <tConn>
  [  9] pusharglist 1 ........................... <tConn>
  [ 11] objcall 422 ............................. <tConn.GetIntFrom()>
  [ 14] setlocal 1 .............................. tResultFriendsCount = tConn.GetIntFrom()
  [ 16] pusharglist 0 ........................... <[]>
  [ 18] pushlist ................................ <[]>
  [ 19] setlocal 2 .............................. tResultsFriends = []
  [ 21] pushint8 1 .............................. <1>
  [ 23] setlocal 3
  [ 25] getlocal 3
  [ 27] getlocal 1 .............................. <tResultFriendsCount>
  [ 29] lteq
  [ 30] jmpifz [ 58] ............................ repeat with tRequestNo = 1 to tResultFriendsCount
  [ 33] getlocal 2 .............................. <tResultsFriends>
  [ 35] getparam 0 .............................. <me>
  [ 37] getparam 1 .............................. <tMsg>
  [ 39] pusharglist 2 ........................... <me, tMsg>
  [ 41] objcall 410 ............................. <me.parseHabboSearchResult(tMsg)>
  [ 44] pusharglistnoret 2 ...................... <tResultsFriends, me.parseHabboSearchResult(tMsg)>
  [ 46] objcall 376 ............................. tResultsFriends.append(me.parseHabboSearchResult(tMsg))
  [ 49] pushint8 1
  [ 51] getlocal 3
  [ 53] add
  [ 54] setlocal 3
  [ 56] endrepeat [ 25]
  [ 58] getlocal 0 .............................. <tConn>
  [ 60] pusharglist 1 ........................... <tConn>
  [ 62] objcall 422 ............................. <tConn.GetIntFrom()>
  [ 65] setlocal 4 .............................. tResultHabbosCount = tConn.GetIntFrom()
  [ 67] pusharglist 0 ........................... <[]>
  [ 69] pushlist ................................ <[]>
  [ 70] setlocal 5 .............................. tResultsHabbos = []
  [ 72] pushint8 1 .............................. <1>
  [ 74] setlocal 3
  [ 76] getlocal 3
  [ 78] getlocal 4 .............................. <tResultHabbosCount>
  [ 80] lteq
  [ 81] jmpifz [109] ............................ repeat with tRequestNo = 1 to tResultHabbosCount
  [ 84] getlocal 5 .............................. <tResultsHabbos>
  [ 86] getparam 0 .............................. <me>
  [ 88] getparam 1 .............................. <tMsg>
  [ 90] pusharglist 2 ........................... <me, tMsg>
  [ 92] objcall 410 ............................. <me.parseHabboSearchResult(tMsg)>
  [ 95] pusharglistnoret 2 ...................... <tResultsHabbos, me.parseHabboSearchResult(tMsg)>
  [ 97] objcall 376 ............................. tResultsHabbos.append(me.parseHabboSearchResult(tMsg))
  [100] pushint8 1
  [102] getlocal 3
  [104] add
  [105] setlocal 3
  [107] endrepeat [ 76]
  [109] getparam 0 .............................. <me>
  [111] pusharglist 1 ........................... <me>
  [113] objcall 70 .............................. <me.getComponent()>
  [115] getlocal 2 .............................. <tResultsFriends>
  [117] getlocal 5 .............................. <tResultsHabbos>
  [119] pusharglistnoret 3 ...................... <me.getComponent(), tResultsFriends, tResultsHabbos>
  [121] objcall 313 ............................. me.getComponent().setHabboSearchResults(tResultsFriends, tResultsHabbos)
  [124] getparam 0 .............................. <me>
  [126] pusharglist 1 ........................... <me>
  [128] objcall 338 ............................. <me.getInterface()>
  [131] pusharglistnoret 1 ...................... <me.getInterface()>
  [133] objcall 35 .............................. me.getInterface().showHabboSearchResults()
  [135] ret
end

on parseFriendRequest me, tMsg
  [  0] getparam 1 .............................. <tMsg>
  [  2] getobjprop 421 .......................... <tMsg.connection>
  [  5] setlocal 0 .............................. tConn = tMsg.connection
  [  7] getlocal 0 .............................. <tConn>
  [  9] pushzero ................................ <0>
  [ 10] eq ...................................... <tConn = 0>
  [ 11] jmpifz [ 19] ............................ if tConn = 0 then
  [ 14] pushzero ................................ <0>
  [ 15] pusharglistnoret 1 ...................... <0>
  [ 17] extcall 63 .............................. return 0
  [ 19] pusharglist 0 ........................... <[:]>
  [ 21] pushproplist ............................ <[:]>
  [ 22] setlocal 1 .............................. tdata = [:]
  [ 24] getlocal 1 .............................. <tdata>
  [ 26] pushsymb 115 ............................ <#id>
  [ 28] getlocal 0 .............................. <tConn>
  [ 30] pusharglist 1 ........................... <tConn>
  [ 32] objcall 422 ............................. <tConn.GetIntFrom()>
  [ 35] pusharglist 1 ........................... <tConn.GetIntFrom()>
  [ 37] extcall 160 ............................. <string(tConn.GetIntFrom())>
  [ 39] pusharglistnoret 3 ...................... <tdata, #id, string(tConn.GetIntFrom())>
  [ 41] objcall 165 ............................. tdata[#id] = string(tConn.GetIntFrom())
  [ 43] getlocal 1 .............................. <tdata>
  [ 45] pushsymb 125 ............................ <#name>
  [ 47] getlocal 0 .............................. <tConn>
  [ 49] pusharglist 1 ........................... <tConn>
  [ 51] objcall 423 ............................. <tConn.GetStrFrom()>
  [ 54] pusharglistnoret 3 ...................... <tdata, #name, tConn.GetStrFrom()>
  [ 56] objcall 165 ............................. tdata[#name] = tConn.GetStrFrom()
  [ 58] getlocal 1 .............................. <tdata>
  [ 60] pushsymb 462 ............................ <#userID>
  [ 63] getlocal 0 .............................. <tConn>
  [ 65] pusharglist 1 ........................... <tConn>
  [ 67] objcall 423 ............................. <tConn.GetStrFrom()>
  [ 70] pusharglistnoret 3 ...................... <tdata, #userID, tConn.GetStrFrom()>
  [ 72] objcall 165 ............................. tdata[#userID] = tConn.GetStrFrom()
  [ 74] getlocal 1 .............................. <tdata>
  [ 76] pushsymb 363 ............................ <#state>
  [ 79] pushsymb 463 ............................ <#pending>
  [ 82] pusharglistnoret 3 ...................... <tdata, #state, #pending>
  [ 84] objcall 165 ............................. tdata[#state] = #pending
  [ 86] getlocal 1 .............................. <tdata>
  [ 88] pusharglistnoret 1 ...................... <tdata>
  [ 90] extcall 63 .............................. return tdata
  [ 92] ret
end

on parseFriendData me, tMsg
  [  0] getparam 1 .............................. <tMsg>
  [  2] getobjprop 421 .......................... <tMsg.connection>
  [  5] setlocal 0 .............................. tConn = tMsg.connection
  [  7] getlocal 0 .............................. <tConn>
  [  9] pushzero ................................ <0>
  [ 10] eq ...................................... <tConn = 0>
  [ 11] jmpifz [ 19] ............................ if tConn = 0 then
  [ 14] pushzero ................................ <0>
  [ 15] pusharglistnoret 1 ...................... <0>
  [ 17] extcall 63 .............................. return 0
  [ 19] pusharglist 0 ........................... <[:]>
  [ 21] pushproplist ............................ <[:]>
  [ 22] setlocal 1 .............................. tFriend = [:]
  [ 24] getlocal 1 .............................. <tFriend>
  [ 26] pushsymb 115 ............................ <#id>
  [ 28] getlocal 0 .............................. <tConn>
  [ 30] pusharglist 1 ........................... <tConn>
  [ 32] objcall 422 ............................. <tConn.GetIntFrom()>
  [ 35] pusharglistnoret 3 ...................... <tFriend, #id, tConn.GetIntFrom()>
  [ 37] objcall 165 ............................. tFriend[#id] = tConn.GetIntFrom()
  [ 39] getlocal 1 .............................. <tFriend>
  [ 41] pushsymb 125 ............................ <#name>
  [ 43] getlocal 0 .............................. <tConn>
  [ 45] pusharglist 1 ........................... <tConn>
  [ 47] objcall 423 ............................. <tConn.GetStrFrom()>
  [ 50] pusharglistnoret 3 ...................... <tFriend, #name, tConn.GetStrFrom()>
  [ 52] objcall 165 ............................. tFriend[#name] = tConn.GetStrFrom()
  [ 54] getlocal 1 .............................. <tFriend>
  [ 56] pushsymb 434 ............................ <#sex>
  [ 59] getlocal 0 .............................. <tConn>
  [ 61] pusharglist 1 ........................... <tConn>
  [ 63] objcall 422 ............................. <tConn.GetIntFrom()>
  [ 66] pusharglistnoret 3 ...................... <tFriend, #sex, tConn.GetIntFrom()>
  [ 68] objcall 165 ............................. tFriend[#sex] = tConn.GetIntFrom()
  [ 70] getlocal 1 .............................. <tFriend>
  [ 72] pushsymb 435 ............................ <#online>
  [ 75] getlocal 0 .............................. <tConn>
  [ 77] pusharglist 1 ........................... <tConn>
  [ 79] objcall 422 ............................. <tConn.GetIntFrom()>
  [ 82] pusharglistnoret 3 ...................... <tFriend, #online, tConn.GetIntFrom()>
  [ 84] objcall 165 ............................. tFriend[#online] = tConn.GetIntFrom()
  [ 86] getlocal 1 .............................. <tFriend>
  [ 88] pushsymb 436 ............................ <#canfollow>
  [ 91] getlocal 0 .............................. <tConn>
  [ 93] pusharglist 1 ........................... <tConn>
  [ 95] objcall 422 ............................. <tConn.GetIntFrom()>
  [ 98] pusharglistnoret 3 ...................... <tFriend, #canfollow, tConn.GetIntFrom()>
  [100] objcall 165 ............................. tFriend[#canfollow] = tConn.GetIntFrom()
  [102] getlocal 1 .............................. <tFriend>
  [104] pushsymb 437 ............................ <#figure>
  [107] getlocal 0 .............................. <tConn>
  [109] pusharglist 1 ........................... <tConn>
  [111] objcall 423 ............................. <tConn.GetStrFrom()>
  [114] pusharglistnoret 3 ...................... <tFriend, #figure, tConn.GetStrFrom()>
  [116] objcall 165 ............................. tFriend[#figure] = tConn.GetStrFrom()
  [118] getlocal 1 .............................. <tFriend>
  [120] pushsymb 92 ............................. <#categoryId>
  [122] getparam 0 .............................. <me>
  [124] getlocal 0 .............................. <tConn>
  [126] pusharglist 1 ........................... <tConn>
  [128] objcall 422 ............................. <tConn.GetIntFrom()>
  [131] pusharglist 2 ........................... <me, tConn.GetIntFrom()>
  [133] objcall 395 ............................. <me.getSlotCatAlias(tConn.GetIntFrom())>
  [136] pusharglistnoret 3 ...................... <tFriend, #categoryId, me.getSlotCatAlias(tConn.GetIntFrom())>
  [138] objcall 165 ............................. tFriend[#categoryId] = me.getSlotCatAlias(tConn.GetIntFrom())
  [140] getlocal 1 .............................. <tFriend>
  [142] pushsymb 92 ............................. <#categoryId>
  [144] pusharglist 2 ........................... <tFriend, #categoryId>
  [146] objcall 93 .............................. <tFriend[#categoryId]>
  [148] pushzero ................................ <0>
  [149] lt ...................................... <tFriend[#categoryId] < 0>
  [150] jmpifz [163] ............................ if tFriend[#categoryId] < 0 then
  [153] getlocal 1 .............................. <tFriend>
  [155] pushsymb 92 ............................. <#categoryId>
  [157] pushcons 3 .............................. <"0">
  [159] pusharglistnoret 3 ...................... <tFriend, #categoryId, "0">
  [161] objcall 165 ............................. tFriend[#categoryId] = "0"
  [163] getlocal 1 .............................. <tFriend>
  [165] pushsymb 435 ............................ <#online>
  [168] pusharglist 2 ........................... <tFriend, #online>
  [170] objcall 93 .............................. <tFriend[#online]>
  [172] pushzero ................................ <0>
  [173] eq ...................................... <tFriend[#online] = 0>
  [174] jmpifz [187] ............................ if tFriend[#online] = 0 then
  [177] getlocal 1 .............................. <tFriend>
  [179] pushsymb 92 ............................. <#categoryId>
  [181] pushcons 4 .............................. <"-1">
  [183] pusharglistnoret 3 ...................... <tFriend, #categoryId, "-1">
  [185] objcall 165 ............................. tFriend[#categoryId] = "-1"
  [187] getlocal 1 .............................. <tFriend>
  [189] pushsymb 92 ............................. <#categoryId>
  [191] getlocal 1 .............................. <tFriend>
  [193] pushsymb 92 ............................. <#categoryId>
  [195] pusharglist 2 ........................... <tFriend, #categoryId>
  [197] objcall 93 .............................. <tFriend[#categoryId]>
  [199] pusharglist 1 ........................... <tFriend[#categoryId]>
  [201] extcall 160 ............................. <string(tFriend[#categoryId])>
  [203] pusharglistnoret 3 ...................... <tFriend, #categoryId, string(tFriend[#categoryId])>
  [205] objcall 165 ............................. tFriend[#categoryId] = string(tFriend[#categoryId])
  [207] getlocal 1 .............................. <tFriend>
  [209] pushsymb 438 ............................ <#mission>
  [212] getlocal 0 .............................. <tConn>
  [214] pusharglist 1 ........................... <tConn>
  [216] objcall 423 ............................. <tConn.GetStrFrom()>
  [219] pusharglistnoret 3 ...................... <tFriend, #mission, tConn.GetStrFrom()>
  [221] objcall 165 ............................. tFriend[#mission] = tConn.GetStrFrom()
  [223] getlocal 1 .............................. <tFriend>
  [225] pushsymb 439 ............................ <#lastAccess>
  [228] getlocal 0 .............................. <tConn>
  [230] pusharglist 1 ........................... <tConn>
  [232] objcall 423 ............................. <tConn.GetStrFrom()>
  [235] pusharglistnoret 3 ...................... <tFriend, #lastAccess, tConn.GetStrFrom()>
  [237] objcall 165 ............................. tFriend[#lastAccess] = tConn.GetStrFrom()
  [239] getlocal 1 .............................. <tFriend>
  [241] pusharglistnoret 1 ...................... <tFriend>
  [243] extcall 63 .............................. return tFriend
  [245] ret
end

on parseHabboSearchResult me, tMsg
  [  0] getparam 1 .............................. <tMsg>
  [  2] getobjprop 421 .......................... <tMsg.connection>
  [  5] setlocal 0 .............................. tConn = tMsg.connection
  [  7] getlocal 0 .............................. <tConn>
  [  9] pushzero ................................ <0>
  [ 10] eq ...................................... <tConn = 0>
  [ 11] jmpifz [ 19] ............................ if tConn = 0 then
  [ 14] pushzero ................................ <0>
  [ 15] pusharglistnoret 1 ...................... <0>
  [ 17] extcall 63 .............................. return 0
  [ 19] pusharglist 0 ........................... <[:]>
  [ 21] pushproplist ............................ <[:]>
  [ 22] setlocal 1 .............................. tdata = [:]
  [ 24] getlocal 1 .............................. <tdata>
  [ 26] pushsymb 115 ............................ <#id>
  [ 28] getlocal 0 .............................. <tConn>
  [ 30] pusharglist 1 ........................... <tConn>
  [ 32] objcall 422 ............................. <tConn.GetIntFrom()>
  [ 35] pusharglistnoret 3 ...................... <tdata, #id, tConn.GetIntFrom()>
  [ 37] objcall 165 ............................. tdata[#id] = tConn.GetIntFrom()
  [ 39] getlocal 1 .............................. <tdata>
  [ 41] pushsymb 125 ............................ <#name>
  [ 43] getlocal 0 .............................. <tConn>
  [ 45] pusharglist 1 ........................... <tConn>
  [ 47] objcall 423 ............................. <tConn.GetStrFrom()>
  [ 50] pusharglistnoret 3 ...................... <tdata, #name, tConn.GetStrFrom()>
  [ 52] objcall 165 ............................. tdata[#name] = tConn.GetStrFrom()
  [ 54] getlocal 1 .............................. <tdata>
  [ 56] pushsymb 438 ............................ <#mission>
  [ 59] getlocal 0 .............................. <tConn>
  [ 61] pusharglist 1 ........................... <tConn>
  [ 63] objcall 423 ............................. <tConn.GetStrFrom()>
  [ 66] pusharglistnoret 3 ...................... <tdata, #mission, tConn.GetStrFrom()>
  [ 68] objcall 165 ............................. tdata[#mission] = tConn.GetStrFrom()
  [ 70] getlocal 1 .............................. <tdata>
  [ 72] pushsymb 435 ............................ <#online>
  [ 75] getlocal 0 .............................. <tConn>
  [ 77] pusharglist 1 ........................... <tConn>
  [ 79] objcall 422 ............................. <tConn.GetIntFrom()>
  [ 82] pusharglistnoret 3 ...................... <tdata, #online, tConn.GetIntFrom()>
  [ 84] objcall 165 ............................. tdata[#online] = tConn.GetIntFrom()
  [ 86] getlocal 1 .............................. <tdata>
  [ 88] pushsymb 436 ............................ <#canfollow>
  [ 91] getlocal 0 .............................. <tConn>
  [ 93] pusharglist 1 ........................... <tConn>
  [ 95] objcall 422 ............................. <tConn.GetIntFrom()>
  [ 98] pusharglistnoret 3 ...................... <tdata, #canfollow, tConn.GetIntFrom()>
  [100] objcall 165 ............................. tdata[#canfollow] = tConn.GetIntFrom()
  [102] getlocal 1 .............................. <tdata>
  [104] pushsymb 464 ............................ <#roomname>
  [107] getlocal 0 .............................. <tConn>
  [109] pusharglist 1 ........................... <tConn>
  [111] objcall 423 ............................. <tConn.GetStrFrom()>
  [114] pusharglistnoret 3 ...................... <tdata, #roomname, tConn.GetStrFrom()>
  [116] objcall 165 ............................. tdata[#roomname] = tConn.GetStrFrom()
  [118] getlocal 1 .............................. <tdata>
  [120] pushsymb 434 ............................ <#sex>
  [123] getlocal 0 .............................. <tConn>
  [125] pusharglist 1 ........................... <tConn>
  [127] objcall 422 ............................. <tConn.GetIntFrom()>
  [130] pusharglistnoret 3 ...................... <tdata, #sex, tConn.GetIntFrom()>
  [132] objcall 165 ............................. tdata[#sex] = tConn.GetIntFrom()
  [134] getlocal 1 .............................. <tdata>
  [136] pushsymb 437 ............................ <#figure>
  [139] getlocal 0 .............................. <tConn>
  [141] pusharglist 1 ........................... <tConn>
  [143] objcall 423 ............................. <tConn.GetStrFrom()>
  [146] pusharglistnoret 3 ...................... <tdata, #figure, tConn.GetStrFrom()>
  [148] objcall 165 ............................. tdata[#figure] = tConn.GetStrFrom()
  [150] getlocal 1 .............................. <tdata>
  [152] pushsymb 439 ............................ <#lastAccess>
  [155] getlocal 0 .............................. <tConn>
  [157] pusharglist 1 ........................... <tConn>
  [159] objcall 423 ............................. <tConn.GetStrFrom()>
  [162] pusharglistnoret 3 ...................... <tdata, #lastAccess, tConn.GetStrFrom()>
  [164] objcall 165 ............................. tdata[#lastAccess] = tConn.GetStrFrom()
  [166] getlocal 1 .............................. <tdata>
  [168] pusharglistnoret 1 ...................... <tdata>
  [170] extcall 63 .............................. return tdata
  [172] ret
end

on regMsgList me, tBool
  [  0] pusharglist 0 ........................... <[:]>
  [  2] pushproplist ............................ <[:]>
  [  3] setlocal 0 .............................. tMsgs = [:]
  [  5] getlocal 0 .............................. <tMsgs>
  [  7] pushint8 3 .............................. <3>
  [  9] pushsymb 397 ............................ <#handleOk>
  [ 12] pusharglistnoret 3 ...................... <tMsgs, 3, #handleOk>
  [ 14] objcall 390 ............................. tMsgs.setaProp(3, #handleOk)
  [ 17] getlocal 0 .............................. <tMsgs>
  [ 19] pushint8 12 ............................. <12>
  [ 21] pushsymb 398 ............................ <#handleFriendListInit>
  [ 24] pusharglistnoret 3 ...................... <tMsgs, 12, #handleFriendListInit>
  [ 26] objcall 390 ............................. tMsgs.setaProp(12, #handleFriendListInit)
  [ 29] getlocal 0 .............................. <tMsgs>
  [ 31] pushint8 13 ............................. <13>
  [ 33] pushsymb 399 ............................ <#handleFriendListUpdate>
  [ 36] pusharglistnoret 3 ...................... <tMsgs, 13, #handleFriendListUpdate>
  [ 38] objcall 390 ............................. tMsgs.setaProp(13, #handleFriendListUpdate)
  [ 41] getlocal 0 .............................. <tMsgs>
  [ 43] pushint16 132 ........................... <132>
  [ 46] pushsymb 402 ............................ <#handleFriendRequest>
  [ 49] pusharglistnoret 3 ...................... <tMsgs, 132, #handleFriendRequest>
  [ 51] objcall 390 ............................. tMsgs.setaProp(132, #handleFriendRequest)
  [ 54] getlocal 0 .............................. <tMsgs>
  [ 56] pushint16 260 ........................... <260>
  [ 59] pushsymb 400 ............................ <#handleError>
  [ 62] pusharglistnoret 3 ...................... <tMsgs, 260, #handleError>
  [ 64] objcall 390 ............................. tMsgs.setaProp(260, #handleError)
  [ 67] getlocal 0 .............................. <tMsgs>
  [ 69] pushint16 314 ........................... <314>
  [ 72] pushsymb 401 ............................ <#handleFriendRequestList>
  [ 75] pusharglistnoret 3 ...................... <tMsgs, 314, #handleFriendRequestList>
  [ 77] objcall 390 ............................. tMsgs.setaProp(314, #handleFriendRequestList)
  [ 80] getlocal 0 .............................. <tMsgs>
  [ 82] pushint16 315 ........................... <315>
  [ 85] pushsymb 403 ............................ <#handleFriendRequestResult>
  [ 88] pusharglistnoret 3 ...................... <tMsgs, 315, #handleFriendRequestResult>
  [ 90] objcall 390 ............................. tMsgs.setaProp(315, #handleFriendRequestResult)
  [ 93] getlocal 0 .............................. <tMsgs>
  [ 95] pushint16 349 ........................... <349>
  [ 98] pushsymb 404 ............................ <#handleFollowFailed>
  [101] pusharglistnoret 3 ...................... <tMsgs, 349, #handleFollowFailed>
  [103] objcall 390 ............................. tMsgs.setaProp(349, #handleFollowFailed)
  [106] getlocal 0 .............................. <tMsgs>
  [108] pushint16 363 ........................... <363>
  [111] pushsymb 405 ............................ <#handleMailNotification>
  [114] pusharglistnoret 3 ...................... <tMsgs, 363, #handleMailNotification>
  [116] objcall 390 ............................. tMsgs.setaProp(363, #handleMailNotification)
  [119] getlocal 0 .............................. <tMsgs>
  [121] pushint16 364 ........................... <364>
  [124] pushsymb 406 ............................ <#handleMailCountNotification>
  [127] pusharglistnoret 3 ...................... <tMsgs, 364, #handleMailCountNotification>
  [129] objcall 390 ............................. tMsgs.setaProp(364, #handleMailCountNotification)
  [132] getlocal 0 .............................. <tMsgs>
  [134] pushint16 435 ........................... <435>
  [137] pushsymb 407 ............................ <#handleHabboSearchResult>
  [140] pusharglistnoret 3 ...................... <tMsgs, 435, #handleHabboSearchResult>
  [142] objcall 390 ............................. tMsgs.setaProp(435, #handleHabboSearchResult)
  [145] pusharglist 0 ........................... <[:]>
  [147] pushproplist ............................ <[:]>
  [148] setlocal 1 .............................. tCmds = [:]
  [150] getlocal 1 .............................. <tCmds>
  [152] pushcons 2 .............................. <"FRIENDLIST_INIT">
  [154] pushint8 12 ............................. <12>
  [156] pusharglistnoret 3 ...................... <tCmds, "FRIENDLIST_INIT", 12>
  [158] objcall 390 ............................. tCmds.setaProp("FRIENDLIST_INIT", 12)
  [161] getlocal 1 .............................. <tCmds>
  [163] pushcons 13 ............................. <"FRIENDLIST_UPDATE">
  [165] pushint8 15 ............................. <15>
  [167] pusharglistnoret 3 ...................... <tCmds, "FRIENDLIST_UPDATE", 15>
  [169] objcall 390 ............................. tCmds.setaProp("FRIENDLIST_UPDATE", 15)
  [172] getlocal 1 .............................. <tCmds>
  [174] pushcons 22 ............................. <"FRIENDLIST_GETOFFLINEFRIENDS">
  [176] pushint8 32 ............................. <32>
  [178] pusharglistnoret 3 ...................... <tCmds, "FRIENDLIST_GETOFFLINEFRIENDS", 32>
  [180] objcall 390 ............................. tCmds.setaProp("FRIENDLIST_GETOFFLINEFRIENDS", 32)
  [183] getlocal 1 .............................. <tCmds>
  [185] pushcons 23 ............................. <"FRIENDLIST_REMOVEFRIEND">
  [187] pushint8 40 ............................. <40>
  [189] pusharglistnoret 3 ...................... <tCmds, "FRIENDLIST_REMOVEFRIEND", 40>
  [191] objcall 390 ............................. tCmds.setaProp("FRIENDLIST_REMOVEFRIEND", 40)
  [194] getlocal 1 .............................. <tCmds>
  [196] pushcons 24 ............................. <"MESSENGER_HABBOSEARCH">
  [198] pushint8 41 ............................. <41>
  [200] pusharglistnoret 3 ...................... <tCmds, "MESSENGER_HABBOSEARCH", 41>
  [202] objcall 390 ............................. tCmds.setaProp("MESSENGER_HABBOSEARCH", 41)
  [205] getlocal 1 .............................. <tCmds>
  [207] pushcons 25 ............................. <"FRIENDLIST_ACCEPTFRIEND">
  [209] pushint8 37 ............................. <37>
  [211] pusharglistnoret 3 ...................... <tCmds, "FRIENDLIST_ACCEPTFRIEND", 37>
  [213] objcall 390 ............................. tCmds.setaProp("FRIENDLIST_ACCEPTFRIEND", 37)
  [216] getlocal 1 .............................. <tCmds>
  [218] pushcons 26 ............................. <"FRIENDLIST_DECLINEFRIEND">
  [220] pushint8 38 ............................. <38>
  [222] pusharglistnoret 3 ...................... <tCmds, "FRIENDLIST_DECLINEFRIEND", 38>
  [224] objcall 390 ............................. tCmds.setaProp("FRIENDLIST_DECLINEFRIEND", 38)
  [227] getlocal 1 .............................. <tCmds>
  [229] pushcons 27 ............................. <"FRIENDLIST_FRIENDREQUEST">
  [231] pushint8 39 ............................. <39>
  [233] pusharglistnoret 3 ...................... <tCmds, "FRIENDLIST_FRIENDREQUEST", 39>
  [235] objcall 390 ............................. tCmds.setaProp("FRIENDLIST_FRIENDREQUEST", 39)
  [238] getlocal 1 .............................. <tCmds>
  [240] pushcons 28 ............................. <"FRIENDLIST_GETFRIENDREQUESTS">
  [242] pushint16 233 ........................... <233>
  [245] pusharglistnoret 3 ...................... <tCmds, "FRIENDLIST_GETFRIENDREQUESTS", 233>
  [247] objcall 390 ............................. tCmds.setaProp("FRIENDLIST_GETFRIENDREQUESTS", 233)
  [250] getlocal 1 .............................. <tCmds>
  [252] pushcons 29 ............................. <"FOLLOW_FRIEND">
  [254] pushint16 262 ........................... <262>
  [257] pusharglistnoret 3 ...................... <tCmds, "FOLLOW_FRIEND", 262>
  [259] objcall 390 ............................. tCmds.setaProp("FOLLOW_FRIEND", 262)
  [262] getparam 1 .............................. <tBool>
  [264] jmpifz [308] ............................ if tBool then / else
  [267] pushcons 12 ............................. <"connection.info.id">
  [269] pusharglist 1 ........................... <"connection.info.id">
  [271] extcall 46 .............................. <getVariable("connection.info.id")>
  [273] getparam 0 .............................. <me>
  [275] pusharglist 1 ........................... <me>
  [277] objcall 57 .............................. <me.getID()>
  [279] getlocal 0 .............................. <tMsgs>
  [281] pusharglistnoret 3 ...................... <getVariable("connection.info.id"), me.getID(), tMsgs>
  [283] extcall 465 ............................. registerListener(getVariable("connection.info.id"), me.getID(), tMsgs)
  [286] pushcons 12 ............................. <"connection.info.id">
  [288] pusharglist 1 ........................... <"connection.info.id">
  [290] extcall 46 .............................. <getVariable("connection.info.id")>
  [292] getparam 0 .............................. <me>
  [294] pusharglist 1 ........................... <me>
  [296] objcall 57 .............................. <me.getID()>
  [298] getlocal 1 .............................. <tCmds>
  [300] pusharglistnoret 3 ...................... <getVariable("connection.info.id"), me.getID(), tCmds>
  [302] extcall 466 ............................. registerCommands(getVariable("connection.info.id"), me.getID(), tCmds)
  [305] jmp [346]
  [308] pushcons 12 ............................. <"connection.info.id">
  [310] pusharglist 1 ........................... <"connection.info.id">
  [312] extcall 46 .............................. <getVariable("connection.info.id")>
  [314] getparam 0 .............................. <me>
  [316] pusharglist 1 ........................... <me>
  [318] objcall 57 .............................. <me.getID()>
  [320] getlocal 0 .............................. <tMsgs>
  [322] pusharglistnoret 3 ...................... <getVariable("connection.info.id"), me.getID(), tMsgs>
  [324] extcall 467 ............................. unregisterListener(getVariable("connection.info.id"), me.getID(), tMsgs)
  [327] pushcons 12 ............................. <"connection.info.id">
  [329] pusharglist 1 ........................... <"connection.info.id">
  [331] extcall 46 .............................. <getVariable("connection.info.id")>
  [333] getparam 0 .............................. <me>
  [335] pusharglist 1 ........................... <me>
  [337] objcall 57 .............................. <me.getID()>
  [339] getlocal 1 .............................. <tCmds>
  [341] pusharglistnoret 3 ...................... <getVariable("connection.info.id"), me.getID(), tCmds>
  [343] extcall 468 ............................. unregisterCommands(getVariable("connection.info.id"), me.getID(), tCmds)
  [346] pushint8 1 .............................. <1>
  [348] pusharglistnoret 1 ...................... <1>
  [350] extcall 63 .............................. return 1
  [352] ret
end
